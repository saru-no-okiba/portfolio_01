(function(){var e={6103:function(e,t,r){"use strict";r(4114),r(6573),r(8100),r(7936),r(7467),r(4732),r(9577),t.byteLength=u,t.toByteArray=h,t.fromByteArray=g;for(var n=[],i=[],o="undefined"!==typeof Uint8Array?Uint8Array:Array,l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a=0,s=l.length;a<s;++a)n[a]=l[a],i[l.charCodeAt(a)]=a;function c(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=e.indexOf("=");-1===r&&(r=t);var n=r===t?0:4-r%4;return[r,n]}function u(e){var t=c(e),r=t[0],n=t[1];return 3*(r+n)/4-n}function p(e,t,r){return 3*(t+r)/4-r}function h(e){var t,r,n=c(e),l=n[0],a=n[1],s=new o(p(e,l,a)),u=0,h=a>0?l-4:l;for(r=0;r<h;r+=4)t=i[e.charCodeAt(r)]<<18|i[e.charCodeAt(r+1)]<<12|i[e.charCodeAt(r+2)]<<6|i[e.charCodeAt(r+3)],s[u++]=t>>16&255,s[u++]=t>>8&255,s[u++]=255&t;return 2===a&&(t=i[e.charCodeAt(r)]<<2|i[e.charCodeAt(r+1)]>>4,s[u++]=255&t),1===a&&(t=i[e.charCodeAt(r)]<<10|i[e.charCodeAt(r+1)]<<4|i[e.charCodeAt(r+2)]>>2,s[u++]=t>>8&255,s[u++]=255&t),s}function d(e){return n[e>>18&63]+n[e>>12&63]+n[e>>6&63]+n[63&e]}function f(e,t,r){for(var n,i=[],o=t;o<r;o+=3)n=(e[o]<<16&16711680)+(e[o+1]<<8&65280)+(255&e[o+2]),i.push(d(n));return i.join("")}function g(e){for(var t,r=e.length,i=r%3,o=[],l=16383,a=0,s=r-i;a<s;a+=l)o.push(f(e,a,a+l>s?s:a+l));return 1===i?(t=e[r-1],o.push(n[t>>2]+n[t<<4&63]+"==")):2===i&&(t=(e[r-2]<<8)+e[r-1],o.push(n[t>>10]+n[t>>4&63]+n[t<<2&63]+"=")),o.join("")}i["-".charCodeAt(0)]=62,i["_".charCodeAt(0)]=63},712:function(e,t,r){"use strict";
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */r(4114),r(6573),r(8100),r(7936),r(7467),r(4732),r(9577);var n=r(6103),i=r(9046),o="function"===typeof Symbol&&"function"===typeof Symbol["for"]?Symbol["for"]("nodejs.util.inspect.custom"):null;t.Buffer=c,t.SlowBuffer=w,t.INSPECT_MAX_BYTES=50;var l=2147483647;function a(){try{var e=new Uint8Array(1),t={foo:function(){return 42}};return Object.setPrototypeOf(t,Uint8Array.prototype),Object.setPrototypeOf(e,t),42===e.foo()}catch(r){return!1}}function s(e){if(e>l)throw new RangeError('The value "'+e+'" is invalid for option "size"');var t=new Uint8Array(e);return Object.setPrototypeOf(t,c.prototype),t}function c(e,t,r){if("number"===typeof e){if("string"===typeof t)throw new TypeError('The "string" argument must be of type string. Received type number');return d(e)}return u(e,t,r)}function u(e,t,r){if("string"===typeof e)return f(e,t);if(ArrayBuffer.isView(e))return m(e);if(null==e)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);if(K(e,ArrayBuffer)||e&&K(e.buffer,ArrayBuffer))return v(e,t,r);if("undefined"!==typeof SharedArrayBuffer&&(K(e,SharedArrayBuffer)||e&&K(e.buffer,SharedArrayBuffer)))return v(e,t,r);if("number"===typeof e)throw new TypeError('The "value" argument must not be of type number. Received type number');var n=e.valueOf&&e.valueOf();if(null!=n&&n!==e)return c.from(n,t,r);var i=y(e);if(i)return i;if("undefined"!==typeof Symbol&&null!=Symbol.toPrimitive&&"function"===typeof e[Symbol.toPrimitive])return c.from(e[Symbol.toPrimitive]("string"),t,r);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}function p(e){if("number"!==typeof e)throw new TypeError('"size" argument must be of type number');if(e<0)throw new RangeError('The value "'+e+'" is invalid for option "size"')}function h(e,t,r){return p(e),e<=0?s(e):void 0!==t?"string"===typeof r?s(e).fill(t,r):s(e).fill(t):s(e)}function d(e){return p(e),s(e<0?0:0|A(e))}function f(e,t){if("string"===typeof t&&""!==t||(t="utf8"),!c.isEncoding(t))throw new TypeError("Unknown encoding: "+t);var r=0|_(e,t),n=s(r),i=n.write(e,t);return i!==r&&(n=n.slice(0,i)),n}function g(e){for(var t=e.length<0?0:0|A(e.length),r=s(t),n=0;n<t;n+=1)r[n]=255&e[n];return r}function m(e){if(K(e,Uint8Array)){var t=new Uint8Array(e);return v(t.buffer,t.byteOffset,t.byteLength)}return g(e)}function v(e,t,r){if(t<0||e.byteLength<t)throw new RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(r||0))throw new RangeError('"length" is outside of buffer bounds');var n;return n=void 0===t&&void 0===r?new Uint8Array(e):void 0===r?new Uint8Array(e,t):new Uint8Array(e,t,r),Object.setPrototypeOf(n,c.prototype),n}function y(e){if(c.isBuffer(e)){var t=0|A(e.length),r=s(t);return 0===r.length||e.copy(r,0,0,t),r}return void 0!==e.length?"number"!==typeof e.length||Q(e.length)?s(0):g(e):"Buffer"===e.type&&Array.isArray(e.data)?g(e.data):void 0}function A(e){if(e>=l)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+l.toString(16)+" bytes");return 0|e}function w(e){return+e!=e&&(e=0),c.alloc(+e)}function _(e,t){if(c.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||K(e,ArrayBuffer))return e.byteLength;if("string"!==typeof e)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);var r=e.length,n=arguments.length>2&&!0===arguments[2];if(!n&&0===r)return 0;for(var i=!1;;)switch(t){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":return q(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return $(e).length;default:if(i)return n?-1:q(e).length;t=(""+t).toLowerCase(),i=!0}}function T(e,t,r){var n=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===r||r>this.length)&&(r=this.length),r<=0)return"";if(r>>>=0,t>>>=0,r<=t)return"";e||(e="utf8");while(1)switch(e){case"hex":return B(this,t,r);case"utf8":case"utf-8":return I(this,t,r);case"ascii":return F(this,t,r);case"latin1":case"binary":return k(this,t,r);case"base64":return O(this,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return M(this,t,r);default:if(n)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),n=!0}}function b(e,t,r){var n=e[t];e[t]=e[r],e[r]=n}function x(e,t,r,n,i){if(0===e.length)return-1;if("string"===typeof r?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),r=+r,Q(r)&&(r=i?0:e.length-1),r<0&&(r=e.length+r),r>=e.length){if(i)return-1;r=e.length-1}else if(r<0){if(!i)return-1;r=0}if("string"===typeof t&&(t=c.from(t,n)),c.isBuffer(t))return 0===t.length?-1:E(e,t,r,n,i);if("number"===typeof t)return t&=255,"function"===typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,r):Uint8Array.prototype.lastIndexOf.call(e,t,r):E(e,[t],r,n,i);throw new TypeError("val must be string, number or Buffer")}function E(e,t,r,n,i){var o,l=1,a=e.length,s=t.length;if(void 0!==n&&(n=String(n).toLowerCase(),"ucs2"===n||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(e.length<2||t.length<2)return-1;l=2,a/=2,s/=2,r/=2}function c(e,t){return 1===l?e[t]:e.readUInt16BE(t*l)}if(i){var u=-1;for(o=r;o<a;o++)if(c(e,o)===c(t,-1===u?0:o-u)){if(-1===u&&(u=o),o-u+1===s)return u*l}else-1!==u&&(o-=o-u),u=-1}else for(r+s>a&&(r=a-s),o=r;o>=0;o--){for(var p=!0,h=0;h<s;h++)if(c(e,o+h)!==c(t,h)){p=!1;break}if(p)return o}return-1}function S(e,t,r,n){r=Number(r)||0;var i=e.length-r;n?(n=Number(n),n>i&&(n=i)):n=i;var o=t.length;n>o/2&&(n=o/2);for(var l=0;l<n;++l){var a=parseInt(t.substr(2*l,2),16);if(Q(a))return l;e[r+l]=a}return l}function P(e,t,r,n){return Y(q(t,e.length-r),e,r,n)}function C(e,t,r,n){return Y(X(t),e,r,n)}function R(e,t,r,n){return Y($(t),e,r,n)}function D(e,t,r,n){return Y(Z(t,e.length-r),e,r,n)}function O(e,t,r){return 0===t&&r===e.length?n.fromByteArray(e):n.fromByteArray(e.slice(t,r))}function I(e,t,r){r=Math.min(e.length,r);var n=[],i=t;while(i<r){var o,l,a,s,c=e[i],u=null,p=c>239?4:c>223?3:c>191?2:1;if(i+p<=r)switch(p){case 1:c<128&&(u=c);break;case 2:o=e[i+1],128===(192&o)&&(s=(31&c)<<6|63&o,s>127&&(u=s));break;case 3:o=e[i+1],l=e[i+2],128===(192&o)&&128===(192&l)&&(s=(15&c)<<12|(63&o)<<6|63&l,s>2047&&(s<55296||s>57343)&&(u=s));break;case 4:o=e[i+1],l=e[i+2],a=e[i+3],128===(192&o)&&128===(192&l)&&128===(192&a)&&(s=(15&c)<<18|(63&o)<<12|(63&l)<<6|63&a,s>65535&&s<1114112&&(u=s))}null===u?(u=65533,p=1):u>65535&&(u-=65536,n.push(u>>>10&1023|55296),u=56320|1023&u),n.push(u),i+=p}return L(n)}t.kMaxLength=l,c.TYPED_ARRAY_SUPPORT=a(),c.TYPED_ARRAY_SUPPORT||"undefined"===typeof console||"function"!==typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(c.prototype,"parent",{enumerable:!0,get:function(){if(c.isBuffer(this))return this.buffer}}),Object.defineProperty(c.prototype,"offset",{enumerable:!0,get:function(){if(c.isBuffer(this))return this.byteOffset}}),c.poolSize=8192,c.from=function(e,t,r){return u(e,t,r)},Object.setPrototypeOf(c.prototype,Uint8Array.prototype),Object.setPrototypeOf(c,Uint8Array),c.alloc=function(e,t,r){return h(e,t,r)},c.allocUnsafe=function(e){return d(e)},c.allocUnsafeSlow=function(e){return d(e)},c.isBuffer=function(e){return null!=e&&!0===e._isBuffer&&e!==c.prototype},c.compare=function(e,t){if(K(e,Uint8Array)&&(e=c.from(e,e.offset,e.byteLength)),K(t,Uint8Array)&&(t=c.from(t,t.offset,t.byteLength)),!c.isBuffer(e)||!c.isBuffer(t))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;for(var r=e.length,n=t.length,i=0,o=Math.min(r,n);i<o;++i)if(e[i]!==t[i]){r=e[i],n=t[i];break}return r<n?-1:n<r?1:0},c.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},c.concat=function(e,t){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return c.alloc(0);var r;if(void 0===t)for(t=0,r=0;r<e.length;++r)t+=e[r].length;var n=c.allocUnsafe(t),i=0;for(r=0;r<e.length;++r){var o=e[r];if(K(o,Uint8Array))i+o.length>n.length?c.from(o).copy(n,i):Uint8Array.prototype.set.call(n,o,i);else{if(!c.isBuffer(o))throw new TypeError('"list" argument must be an Array of Buffers');o.copy(n,i)}i+=o.length}return n},c.byteLength=_,c.prototype._isBuffer=!0,c.prototype.swap16=function(){var e=this.length;if(e%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)b(this,t,t+1);return this},c.prototype.swap32=function(){var e=this.length;if(e%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)b(this,t,t+3),b(this,t+1,t+2);return this},c.prototype.swap64=function(){var e=this.length;if(e%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)b(this,t,t+7),b(this,t+1,t+6),b(this,t+2,t+5),b(this,t+3,t+4);return this},c.prototype.toString=function(){var e=this.length;return 0===e?"":0===arguments.length?I(this,0,e):T.apply(this,arguments)},c.prototype.toLocaleString=c.prototype.toString,c.prototype.equals=function(e){if(!c.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===c.compare(this,e)},c.prototype.inspect=function(){var e="",r=t.INSPECT_MAX_BYTES;return e=this.toString("hex",0,r).replace(/(.{2})/g,"$1 ").trim(),this.length>r&&(e+=" ... "),"<Buffer "+e+">"},o&&(c.prototype[o]=c.prototype.inspect),c.prototype.compare=function(e,t,r,n,i){if(K(e,Uint8Array)&&(e=c.from(e,e.offset,e.byteLength)),!c.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(void 0===t&&(t=0),void 0===r&&(r=e?e.length:0),void 0===n&&(n=0),void 0===i&&(i=this.length),t<0||r>e.length||n<0||i>this.length)throw new RangeError("out of range index");if(n>=i&&t>=r)return 0;if(n>=i)return-1;if(t>=r)return 1;if(t>>>=0,r>>>=0,n>>>=0,i>>>=0,this===e)return 0;for(var o=i-n,l=r-t,a=Math.min(o,l),s=this.slice(n,i),u=e.slice(t,r),p=0;p<a;++p)if(s[p]!==u[p]){o=s[p],l=u[p];break}return o<l?-1:l<o?1:0},c.prototype.includes=function(e,t,r){return-1!==this.indexOf(e,t,r)},c.prototype.indexOf=function(e,t,r){return x(this,e,t,r,!0)},c.prototype.lastIndexOf=function(e,t,r){return x(this,e,t,r,!1)},c.prototype.write=function(e,t,r,n){if(void 0===t)n="utf8",r=this.length,t=0;else if(void 0===r&&"string"===typeof t)n=t,r=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t>>>=0,isFinite(r)?(r>>>=0,void 0===n&&(n="utf8")):(n=r,r=void 0)}var i=this.length-t;if((void 0===r||r>i)&&(r=i),e.length>0&&(r<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var o=!1;;)switch(n){case"hex":return S(this,e,t,r);case"utf8":case"utf-8":return P(this,e,t,r);case"ascii":case"latin1":case"binary":return C(this,e,t,r);case"base64":return R(this,e,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return D(this,e,t,r);default:if(o)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),o=!0}},c.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var N=4096;function L(e){var t=e.length;if(t<=N)return String.fromCharCode.apply(String,e);var r="",n=0;while(n<t)r+=String.fromCharCode.apply(String,e.slice(n,n+=N));return r}function F(e,t,r){var n="";r=Math.min(e.length,r);for(var i=t;i<r;++i)n+=String.fromCharCode(127&e[i]);return n}function k(e,t,r){var n="";r=Math.min(e.length,r);for(var i=t;i<r;++i)n+=String.fromCharCode(e[i]);return n}function B(e,t,r){var n=e.length;(!t||t<0)&&(t=0),(!r||r<0||r>n)&&(r=n);for(var i="",o=t;o<r;++o)i+=J[e[o]];return i}function M(e,t,r){for(var n=e.slice(t,r),i="",o=0;o<n.length-1;o+=2)i+=String.fromCharCode(n[o]+256*n[o+1]);return i}function z(e,t,r){if(e%1!==0||e<0)throw new RangeError("offset is not uint");if(e+t>r)throw new RangeError("Trying to access beyond buffer length")}function j(e,t,r,n,i,o){if(!c.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<o)throw new RangeError('"value" argument is out of bounds');if(r+n>e.length)throw new RangeError("Index out of range")}function U(e,t,r,n,i,o){if(r+n>e.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function H(e,t,r,n,o){return t=+t,r>>>=0,o||U(e,t,r,4,34028234663852886e22,-34028234663852886e22),i.write(e,t,r,n,23,4),r+4}function V(e,t,r,n,o){return t=+t,r>>>=0,o||U(e,t,r,8,17976931348623157e292,-17976931348623157e292),i.write(e,t,r,n,52,8),r+8}c.prototype.slice=function(e,t){var r=this.length;e=~~e,t=void 0===t?r:~~t,e<0?(e+=r,e<0&&(e=0)):e>r&&(e=r),t<0?(t+=r,t<0&&(t=0)):t>r&&(t=r),t<e&&(t=e);var n=this.subarray(e,t);return Object.setPrototypeOf(n,c.prototype),n},c.prototype.readUintLE=c.prototype.readUIntLE=function(e,t,r){e>>>=0,t>>>=0,r||z(e,t,this.length);var n=this[e],i=1,o=0;while(++o<t&&(i*=256))n+=this[e+o]*i;return n},c.prototype.readUintBE=c.prototype.readUIntBE=function(e,t,r){e>>>=0,t>>>=0,r||z(e,t,this.length);var n=this[e+--t],i=1;while(t>0&&(i*=256))n+=this[e+--t]*i;return n},c.prototype.readUint8=c.prototype.readUInt8=function(e,t){return e>>>=0,t||z(e,1,this.length),this[e]},c.prototype.readUint16LE=c.prototype.readUInt16LE=function(e,t){return e>>>=0,t||z(e,2,this.length),this[e]|this[e+1]<<8},c.prototype.readUint16BE=c.prototype.readUInt16BE=function(e,t){return e>>>=0,t||z(e,2,this.length),this[e]<<8|this[e+1]},c.prototype.readUint32LE=c.prototype.readUInt32LE=function(e,t){return e>>>=0,t||z(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},c.prototype.readUint32BE=c.prototype.readUInt32BE=function(e,t){return e>>>=0,t||z(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},c.prototype.readIntLE=function(e,t,r){e>>>=0,t>>>=0,r||z(e,t,this.length);var n=this[e],i=1,o=0;while(++o<t&&(i*=256))n+=this[e+o]*i;return i*=128,n>=i&&(n-=Math.pow(2,8*t)),n},c.prototype.readIntBE=function(e,t,r){e>>>=0,t>>>=0,r||z(e,t,this.length);var n=t,i=1,o=this[e+--n];while(n>0&&(i*=256))o+=this[e+--n]*i;return i*=128,o>=i&&(o-=Math.pow(2,8*t)),o},c.prototype.readInt8=function(e,t){return e>>>=0,t||z(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},c.prototype.readInt16LE=function(e,t){e>>>=0,t||z(e,2,this.length);var r=this[e]|this[e+1]<<8;return 32768&r?4294901760|r:r},c.prototype.readInt16BE=function(e,t){e>>>=0,t||z(e,2,this.length);var r=this[e+1]|this[e]<<8;return 32768&r?4294901760|r:r},c.prototype.readInt32LE=function(e,t){return e>>>=0,t||z(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},c.prototype.readInt32BE=function(e,t){return e>>>=0,t||z(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},c.prototype.readFloatLE=function(e,t){return e>>>=0,t||z(e,4,this.length),i.read(this,e,!0,23,4)},c.prototype.readFloatBE=function(e,t){return e>>>=0,t||z(e,4,this.length),i.read(this,e,!1,23,4)},c.prototype.readDoubleLE=function(e,t){return e>>>=0,t||z(e,8,this.length),i.read(this,e,!0,52,8)},c.prototype.readDoubleBE=function(e,t){return e>>>=0,t||z(e,8,this.length),i.read(this,e,!1,52,8)},c.prototype.writeUintLE=c.prototype.writeUIntLE=function(e,t,r,n){if(e=+e,t>>>=0,r>>>=0,!n){var i=Math.pow(2,8*r)-1;j(this,e,t,r,i,0)}var o=1,l=0;this[t]=255&e;while(++l<r&&(o*=256))this[t+l]=e/o&255;return t+r},c.prototype.writeUintBE=c.prototype.writeUIntBE=function(e,t,r,n){if(e=+e,t>>>=0,r>>>=0,!n){var i=Math.pow(2,8*r)-1;j(this,e,t,r,i,0)}var o=r-1,l=1;this[t+o]=255&e;while(--o>=0&&(l*=256))this[t+o]=e/l&255;return t+r},c.prototype.writeUint8=c.prototype.writeUInt8=function(e,t,r){return e=+e,t>>>=0,r||j(this,e,t,1,255,0),this[t]=255&e,t+1},c.prototype.writeUint16LE=c.prototype.writeUInt16LE=function(e,t,r){return e=+e,t>>>=0,r||j(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},c.prototype.writeUint16BE=c.prototype.writeUInt16BE=function(e,t,r){return e=+e,t>>>=0,r||j(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},c.prototype.writeUint32LE=c.prototype.writeUInt32LE=function(e,t,r){return e=+e,t>>>=0,r||j(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},c.prototype.writeUint32BE=c.prototype.writeUInt32BE=function(e,t,r){return e=+e,t>>>=0,r||j(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},c.prototype.writeIntLE=function(e,t,r,n){if(e=+e,t>>>=0,!n){var i=Math.pow(2,8*r-1);j(this,e,t,r,i-1,-i)}var o=0,l=1,a=0;this[t]=255&e;while(++o<r&&(l*=256))e<0&&0===a&&0!==this[t+o-1]&&(a=1),this[t+o]=(e/l|0)-a&255;return t+r},c.prototype.writeIntBE=function(e,t,r,n){if(e=+e,t>>>=0,!n){var i=Math.pow(2,8*r-1);j(this,e,t,r,i-1,-i)}var o=r-1,l=1,a=0;this[t+o]=255&e;while(--o>=0&&(l*=256))e<0&&0===a&&0!==this[t+o+1]&&(a=1),this[t+o]=(e/l|0)-a&255;return t+r},c.prototype.writeInt8=function(e,t,r){return e=+e,t>>>=0,r||j(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},c.prototype.writeInt16LE=function(e,t,r){return e=+e,t>>>=0,r||j(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},c.prototype.writeInt16BE=function(e,t,r){return e=+e,t>>>=0,r||j(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},c.prototype.writeInt32LE=function(e,t,r){return e=+e,t>>>=0,r||j(this,e,t,4,2147483647,-2147483648),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},c.prototype.writeInt32BE=function(e,t,r){return e=+e,t>>>=0,r||j(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},c.prototype.writeFloatLE=function(e,t,r){return H(this,e,t,!0,r)},c.prototype.writeFloatBE=function(e,t,r){return H(this,e,t,!1,r)},c.prototype.writeDoubleLE=function(e,t,r){return V(this,e,t,!0,r)},c.prototype.writeDoubleBE=function(e,t,r){return V(this,e,t,!1,r)},c.prototype.copy=function(e,t,r,n){if(!c.isBuffer(e))throw new TypeError("argument should be a Buffer");if(r||(r=0),n||0===n||(n=this.length),t>=e.length&&(t=e.length),t||(t=0),n>0&&n<r&&(n=r),n===r)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),e.length-t<n-r&&(n=e.length-t+r);var i=n-r;return this===e&&"function"===typeof Uint8Array.prototype.copyWithin?this.copyWithin(t,r,n):Uint8Array.prototype.set.call(e,this.subarray(r,n),t),i},c.prototype.fill=function(e,t,r,n){if("string"===typeof e){if("string"===typeof t?(n=t,t=0,r=this.length):"string"===typeof r&&(n=r,r=this.length),void 0!==n&&"string"!==typeof n)throw new TypeError("encoding must be a string");if("string"===typeof n&&!c.isEncoding(n))throw new TypeError("Unknown encoding: "+n);if(1===e.length){var i=e.charCodeAt(0);("utf8"===n&&i<128||"latin1"===n)&&(e=i)}}else"number"===typeof e?e&=255:"boolean"===typeof e&&(e=Number(e));if(t<0||this.length<t||this.length<r)throw new RangeError("Out of range index");if(r<=t)return this;var o;if(t>>>=0,r=void 0===r?this.length:r>>>0,e||(e=0),"number"===typeof e)for(o=t;o<r;++o)this[o]=e;else{var l=c.isBuffer(e)?e:c.from(e,n),a=l.length;if(0===a)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(o=0;o<r-t;++o)this[o+t]=l[o%a]}return this};var W=/[^+/0-9A-Za-z-_]/g;function G(e){if(e=e.split("=")[0],e=e.trim().replace(W,""),e.length<2)return"";while(e.length%4!==0)e+="=";return e}function q(e,t){var r;t=t||1/0;for(var n=e.length,i=null,o=[],l=0;l<n;++l){if(r=e.charCodeAt(l),r>55295&&r<57344){if(!i){if(r>56319){(t-=3)>-1&&o.push(239,191,189);continue}if(l+1===n){(t-=3)>-1&&o.push(239,191,189);continue}i=r;continue}if(r<56320){(t-=3)>-1&&o.push(239,191,189),i=r;continue}r=65536+(i-55296<<10|r-56320)}else i&&(t-=3)>-1&&o.push(239,191,189);if(i=null,r<128){if((t-=1)<0)break;o.push(r)}else if(r<2048){if((t-=2)<0)break;o.push(r>>6|192,63&r|128)}else if(r<65536){if((t-=3)<0)break;o.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;o.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return o}function X(e){for(var t=[],r=0;r<e.length;++r)t.push(255&e.charCodeAt(r));return t}function Z(e,t){for(var r,n,i,o=[],l=0;l<e.length;++l){if((t-=2)<0)break;r=e.charCodeAt(l),n=r>>8,i=r%256,o.push(i),o.push(n)}return o}function $(e){return n.toByteArray(G(e))}function Y(e,t,r,n){for(var i=0;i<n;++i){if(i+r>=t.length||i>=e.length)break;t[i+r]=e[i]}return i}function K(e,t){return e instanceof t||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===t.name}function Q(e){return e!==e}var J=function(){for(var e="0123456789abcdef",t=new Array(256),r=0;r<16;++r)for(var n=16*r,i=0;i<16;++i)t[n+i]=e[r]+e[i];return t}()},9774:function(e,t,r){"use strict";r(4114);var n,i="object"===typeof Reflect?Reflect:null,o=i&&"function"===typeof i.apply?i.apply:function(e,t,r){return Function.prototype.apply.call(e,t,r)};function l(e){console&&console.warn&&console.warn(e)}n=i&&"function"===typeof i.ownKeys?i.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var a=Number.isNaN||function(e){return e!==e};function s(){s.init.call(this)}e.exports=s,e.exports.once=w,s.EventEmitter=s,s.prototype._events=void 0,s.prototype._eventsCount=0,s.prototype._maxListeners=void 0;var c=10;function u(e){if("function"!==typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function p(e){return void 0===e._maxListeners?s.defaultMaxListeners:e._maxListeners}function h(e,t,r,n){var i,o,a;if(u(r),o=e._events,void 0===o?(o=e._events=Object.create(null),e._eventsCount=0):(void 0!==o.newListener&&(e.emit("newListener",t,r.listener?r.listener:r),o=e._events),a=o[t]),void 0===a)a=o[t]=r,++e._eventsCount;else if("function"===typeof a?a=o[t]=n?[r,a]:[a,r]:n?a.unshift(r):a.push(r),i=p(e),i>0&&a.length>i&&!a.warned){a.warned=!0;var s=new Error("Possible EventEmitter memory leak detected. "+a.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");s.name="MaxListenersExceededWarning",s.emitter=e,s.type=t,s.count=a.length,l(s)}return e}function d(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function f(e,t,r){var n={fired:!1,wrapFn:void 0,target:e,type:t,listener:r},i=d.bind(n);return i.listener=r,n.wrapFn=i,i}function g(e,t,r){var n=e._events;if(void 0===n)return[];var i=n[t];return void 0===i?[]:"function"===typeof i?r?[i.listener||i]:[i]:r?A(i):v(i,i.length)}function m(e){var t=this._events;if(void 0!==t){var r=t[e];if("function"===typeof r)return 1;if(void 0!==r)return r.length}return 0}function v(e,t){for(var r=new Array(t),n=0;n<t;++n)r[n]=e[n];return r}function y(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}function A(e){for(var t=new Array(e.length),r=0;r<t.length;++r)t[r]=e[r].listener||e[r];return t}function w(e,t){return new Promise((function(r,n){function i(r){e.removeListener(t,o),n(r)}function o(){"function"===typeof e.removeListener&&e.removeListener("error",i),r([].slice.call(arguments))}T(e,t,o,{once:!0}),"error"!==t&&_(e,i,{once:!0})}))}function _(e,t,r){"function"===typeof e.on&&T(e,"error",t,r)}function T(e,t,r,n){if("function"===typeof e.on)n.once?e.once(t,r):e.on(t,r);else{if("function"!==typeof e.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e);e.addEventListener(t,(function i(o){n.once&&e.removeEventListener(t,i),r(o)}))}}Object.defineProperty(s,"defaultMaxListeners",{enumerable:!0,get:function(){return c},set:function(e){if("number"!==typeof e||e<0||a(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");c=e}}),s.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},s.prototype.setMaxListeners=function(e){if("number"!==typeof e||e<0||a(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},s.prototype.getMaxListeners=function(){return p(this)},s.prototype.emit=function(e){for(var t=[],r=1;r<arguments.length;r++)t.push(arguments[r]);var n="error"===e,i=this._events;if(void 0!==i)n=n&&void 0===i.error;else if(!n)return!1;if(n){var l;if(t.length>0&&(l=t[0]),l instanceof Error)throw l;var a=new Error("Unhandled error."+(l?" ("+l.message+")":""));throw a.context=l,a}var s=i[e];if(void 0===s)return!1;if("function"===typeof s)o(s,this,t);else{var c=s.length,u=v(s,c);for(r=0;r<c;++r)o(u[r],this,t)}return!0},s.prototype.addListener=function(e,t){return h(this,e,t,!1)},s.prototype.on=s.prototype.addListener,s.prototype.prependListener=function(e,t){return h(this,e,t,!0)},s.prototype.once=function(e,t){return u(t),this.on(e,f(this,e,t)),this},s.prototype.prependOnceListener=function(e,t){return u(t),this.prependListener(e,f(this,e,t)),this},s.prototype.removeListener=function(e,t){var r,n,i,o,l;if(u(t),n=this._events,void 0===n)return this;if(r=n[e],void 0===r)return this;if(r===t||r.listener===t)0===--this._eventsCount?this._events=Object.create(null):(delete n[e],n.removeListener&&this.emit("removeListener",e,r.listener||t));else if("function"!==typeof r){for(i=-1,o=r.length-1;o>=0;o--)if(r[o]===t||r[o].listener===t){l=r[o].listener,i=o;break}if(i<0)return this;0===i?r.shift():y(r,i),1===r.length&&(n[e]=r[0]),void 0!==n.removeListener&&this.emit("removeListener",e,l||t)}return this},s.prototype.off=s.prototype.removeListener,s.prototype.removeAllListeners=function(e){var t,r,n;if(r=this._events,void 0===r)return this;if(void 0===r.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==r[e]&&(0===--this._eventsCount?this._events=Object.create(null):delete r[e]),this;if(0===arguments.length){var i,o=Object.keys(r);for(n=0;n<o.length;++n)i=o[n],"removeListener"!==i&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(t=r[e],"function"===typeof t)this.removeListener(e,t);else if(void 0!==t)for(n=t.length-1;n>=0;n--)this.removeListener(e,t[n]);return this},s.prototype.listeners=function(e){return g(this,e,!0)},s.prototype.rawListeners=function(e){return g(this,e,!1)},s.listenerCount=function(e,t){return"function"===typeof e.listenerCount?e.listenerCount(t):m.call(e,t)},s.prototype.listenerCount=m,s.prototype.eventNames=function(){return this._eventsCount>0?n(this._events):[]}},9046:function(e,t){
/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */
t.read=function(e,t,r,n,i){var o,l,a=8*i-n-1,s=(1<<a)-1,c=s>>1,u=-7,p=r?i-1:0,h=r?-1:1,d=e[t+p];for(p+=h,o=d&(1<<-u)-1,d>>=-u,u+=a;u>0;o=256*o+e[t+p],p+=h,u-=8);for(l=o&(1<<-u)-1,o>>=-u,u+=n;u>0;l=256*l+e[t+p],p+=h,u-=8);if(0===o)o=1-c;else{if(o===s)return l?NaN:1/0*(d?-1:1);l+=Math.pow(2,n),o-=c}return(d?-1:1)*l*Math.pow(2,o-n)},t.write=function(e,t,r,n,i,o){var l,a,s,c=8*o-i-1,u=(1<<c)-1,p=u>>1,h=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,d=n?0:o-1,f=n?1:-1,g=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(a=isNaN(t)?1:0,l=u):(l=Math.floor(Math.log(t)/Math.LN2),t*(s=Math.pow(2,-l))<1&&(l--,s*=2),t+=l+p>=1?h/s:h*Math.pow(2,1-p),t*s>=2&&(l++,s/=2),l+p>=u?(a=0,l=u):l+p>=1?(a=(t*s-1)*Math.pow(2,i),l+=p):(a=t*Math.pow(2,p-1)*Math.pow(2,i),l=0));i>=8;e[r+d]=255&a,d+=f,a/=256,i-=8);for(l=l<<i|a,c+=i;c>0;e[r+d]=255&l,d+=f,l/=256,c-=8);e[r+d-f]|=128*g}},8626:function(e,t,r){var n;e=r.nmd(e),r(4114),r(6573),r(8100),r(7936),function(){var i,o="4.17.21",l=200,a="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",s="Expected a function",c="Invalid `variable` option passed into `_.template`",u="__lodash_hash_undefined__",p=500,h="__lodash_placeholder__",d=1,f=2,g=4,m=1,v=2,y=1,A=2,w=4,_=8,T=16,b=32,x=64,E=128,S=256,P=512,C=30,R="...",D=800,O=16,I=1,N=2,L=3,F=1/0,k=9007199254740991,B=17976931348623157e292,M=NaN,z=4294967295,j=z-1,U=z>>>1,H=[["ary",E],["bind",y],["bindKey",A],["curry",_],["curryRight",T],["flip",P],["partial",b],["partialRight",x],["rearg",S]],V="[object Arguments]",W="[object Array]",G="[object AsyncFunction]",q="[object Boolean]",X="[object Date]",Z="[object DOMException]",$="[object Error]",Y="[object Function]",K="[object GeneratorFunction]",Q="[object Map]",J="[object Number]",ee="[object Null]",te="[object Object]",re="[object Promise]",ne="[object Proxy]",ie="[object RegExp]",oe="[object Set]",le="[object String]",ae="[object Symbol]",se="[object Undefined]",ce="[object WeakMap]",ue="[object WeakSet]",pe="[object ArrayBuffer]",he="[object DataView]",de="[object Float32Array]",fe="[object Float64Array]",ge="[object Int8Array]",me="[object Int16Array]",ve="[object Int32Array]",ye="[object Uint8Array]",Ae="[object Uint8ClampedArray]",we="[object Uint16Array]",_e="[object Uint32Array]",Te=/\b__p \+= '';/g,be=/\b(__p \+=) '' \+/g,xe=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Ee=/&(?:amp|lt|gt|quot|#39);/g,Se=/[&<>"']/g,Pe=RegExp(Ee.source),Ce=RegExp(Se.source),Re=/<%-([\s\S]+?)%>/g,De=/<%([\s\S]+?)%>/g,Oe=/<%=([\s\S]+?)%>/g,Ie=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Ne=/^\w*$/,Le=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Fe=/[\\^$.*+?()[\]{}|]/g,ke=RegExp(Fe.source),Be=/^\s+/,Me=/\s/,ze=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,je=/\{\n\/\* \[wrapped with (.+)\] \*/,Ue=/,? & /,He=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Ve=/[()=,{}\[\]\/\s]/,We=/\\(\\)?/g,Ge=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,qe=/\w*$/,Xe=/^[-+]0x[0-9a-f]+$/i,Ze=/^0b[01]+$/i,$e=/^\[object .+?Constructor\]$/,Ye=/^0o[0-7]+$/i,Ke=/^(?:0|[1-9]\d*)$/,Qe=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Je=/($^)/,et=/['\n\r\u2028\u2029\\]/g,tt="\\ud800-\\udfff",rt="\\u0300-\\u036f",nt="\\ufe20-\\ufe2f",it="\\u20d0-\\u20ff",ot=rt+nt+it,lt="\\u2700-\\u27bf",at="a-z\\xdf-\\xf6\\xf8-\\xff",st="\\xac\\xb1\\xd7\\xf7",ct="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",ut="\\u2000-\\u206f",pt=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",ht="A-Z\\xc0-\\xd6\\xd8-\\xde",dt="\\ufe0e\\ufe0f",ft=st+ct+ut+pt,gt="['’]",mt="["+tt+"]",vt="["+ft+"]",yt="["+ot+"]",At="\\d+",wt="["+lt+"]",_t="["+at+"]",Tt="[^"+tt+ft+At+lt+at+ht+"]",bt="\\ud83c[\\udffb-\\udfff]",xt="(?:"+yt+"|"+bt+")",Et="[^"+tt+"]",St="(?:\\ud83c[\\udde6-\\uddff]){2}",Pt="[\\ud800-\\udbff][\\udc00-\\udfff]",Ct="["+ht+"]",Rt="\\u200d",Dt="(?:"+_t+"|"+Tt+")",Ot="(?:"+Ct+"|"+Tt+")",It="(?:"+gt+"(?:d|ll|m|re|s|t|ve))?",Nt="(?:"+gt+"(?:D|LL|M|RE|S|T|VE))?",Lt=xt+"?",Ft="["+dt+"]?",kt="(?:"+Rt+"(?:"+[Et,St,Pt].join("|")+")"+Ft+Lt+")*",Bt="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Mt="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",zt=Ft+Lt+kt,jt="(?:"+[wt,St,Pt].join("|")+")"+zt,Ut="(?:"+[Et+yt+"?",yt,St,Pt,mt].join("|")+")",Ht=RegExp(gt,"g"),Vt=RegExp(yt,"g"),Wt=RegExp(bt+"(?="+bt+")|"+Ut+zt,"g"),Gt=RegExp([Ct+"?"+_t+"+"+It+"(?="+[vt,Ct,"$"].join("|")+")",Ot+"+"+Nt+"(?="+[vt,Ct+Dt,"$"].join("|")+")",Ct+"?"+Dt+"+"+It,Ct+"+"+Nt,Mt,Bt,At,jt].join("|"),"g"),qt=RegExp("["+Rt+tt+ot+dt+"]"),Xt=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Zt=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],$t=-1,Yt={};Yt[de]=Yt[fe]=Yt[ge]=Yt[me]=Yt[ve]=Yt[ye]=Yt[Ae]=Yt[we]=Yt[_e]=!0,Yt[V]=Yt[W]=Yt[pe]=Yt[q]=Yt[he]=Yt[X]=Yt[$]=Yt[Y]=Yt[Q]=Yt[J]=Yt[te]=Yt[ie]=Yt[oe]=Yt[le]=Yt[ce]=!1;var Kt={};Kt[V]=Kt[W]=Kt[pe]=Kt[he]=Kt[q]=Kt[X]=Kt[de]=Kt[fe]=Kt[ge]=Kt[me]=Kt[ve]=Kt[Q]=Kt[J]=Kt[te]=Kt[ie]=Kt[oe]=Kt[le]=Kt[ae]=Kt[ye]=Kt[Ae]=Kt[we]=Kt[_e]=!0,Kt[$]=Kt[Y]=Kt[ce]=!1;var Qt={"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss","Ā":"A","Ă":"A","Ą":"A","ā":"a","ă":"a","ą":"a","Ć":"C","Ĉ":"C","Ċ":"C","Č":"C","ć":"c","ĉ":"c","ċ":"c","č":"c","Ď":"D","Đ":"D","ď":"d","đ":"d","Ē":"E","Ĕ":"E","Ė":"E","Ę":"E","Ě":"E","ē":"e","ĕ":"e","ė":"e","ę":"e","ě":"e","Ĝ":"G","Ğ":"G","Ġ":"G","Ģ":"G","ĝ":"g","ğ":"g","ġ":"g","ģ":"g","Ĥ":"H","Ħ":"H","ĥ":"h","ħ":"h","Ĩ":"I","Ī":"I","Ĭ":"I","Į":"I","İ":"I","ĩ":"i","ī":"i","ĭ":"i","į":"i","ı":"i","Ĵ":"J","ĵ":"j","Ķ":"K","ķ":"k","ĸ":"k","Ĺ":"L","Ļ":"L","Ľ":"L","Ŀ":"L","Ł":"L","ĺ":"l","ļ":"l","ľ":"l","ŀ":"l","ł":"l","Ń":"N","Ņ":"N","Ň":"N","Ŋ":"N","ń":"n","ņ":"n","ň":"n","ŋ":"n","Ō":"O","Ŏ":"O","Ő":"O","ō":"o","ŏ":"o","ő":"o","Ŕ":"R","Ŗ":"R","Ř":"R","ŕ":"r","ŗ":"r","ř":"r","Ś":"S","Ŝ":"S","Ş":"S","Š":"S","ś":"s","ŝ":"s","ş":"s","š":"s","Ţ":"T","Ť":"T","Ŧ":"T","ţ":"t","ť":"t","ŧ":"t","Ũ":"U","Ū":"U","Ŭ":"U","Ů":"U","Ű":"U","Ų":"U","ũ":"u","ū":"u","ŭ":"u","ů":"u","ű":"u","ų":"u","Ŵ":"W","ŵ":"w","Ŷ":"Y","ŷ":"y","Ÿ":"Y","Ź":"Z","Ż":"Z","Ž":"Z","ź":"z","ż":"z","ž":"z","Ĳ":"IJ","ĳ":"ij","Œ":"Oe","œ":"oe","ŉ":"'n","ſ":"s"},Jt={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},er={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},tr={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},rr=parseFloat,nr=parseInt,ir="object"==typeof r.g&&r.g&&r.g.Object===Object&&r.g,or="object"==typeof self&&self&&self.Object===Object&&self,lr=ir||or||Function("return this")(),ar=t&&!t.nodeType&&t,sr=ar&&e&&!e.nodeType&&e,cr=sr&&sr.exports===ar,ur=cr&&ir.process,pr=function(){try{var e=sr&&sr.require&&sr.require("util").types;return e||ur&&ur.binding&&ur.binding("util")}catch(t){}}(),hr=pr&&pr.isArrayBuffer,dr=pr&&pr.isDate,fr=pr&&pr.isMap,gr=pr&&pr.isRegExp,mr=pr&&pr.isSet,vr=pr&&pr.isTypedArray;function yr(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}function Ar(e,t,r,n){var i=-1,o=null==e?0:e.length;while(++i<o){var l=e[i];t(n,l,r(l),e)}return n}function wr(e,t){var r=-1,n=null==e?0:e.length;while(++r<n)if(!1===t(e[r],r,e))break;return e}function _r(e,t){var r=null==e?0:e.length;while(r--)if(!1===t(e[r],r,e))break;return e}function Tr(e,t){var r=-1,n=null==e?0:e.length;while(++r<n)if(!t(e[r],r,e))return!1;return!0}function br(e,t){var r=-1,n=null==e?0:e.length,i=0,o=[];while(++r<n){var l=e[r];t(l,r,e)&&(o[i++]=l)}return o}function xr(e,t){var r=null==e?0:e.length;return!!r&&kr(e,t,0)>-1}function Er(e,t,r){var n=-1,i=null==e?0:e.length;while(++n<i)if(r(t,e[n]))return!0;return!1}function Sr(e,t){var r=-1,n=null==e?0:e.length,i=Array(n);while(++r<n)i[r]=t(e[r],r,e);return i}function Pr(e,t){var r=-1,n=t.length,i=e.length;while(++r<n)e[i+r]=t[r];return e}function Cr(e,t,r,n){var i=-1,o=null==e?0:e.length;n&&o&&(r=e[++i]);while(++i<o)r=t(r,e[i],i,e);return r}function Rr(e,t,r,n){var i=null==e?0:e.length;n&&i&&(r=e[--i]);while(i--)r=t(r,e[i],i,e);return r}function Dr(e,t){var r=-1,n=null==e?0:e.length;while(++r<n)if(t(e[r],r,e))return!0;return!1}var Or=jr("length");function Ir(e){return e.split("")}function Nr(e){return e.match(He)||[]}function Lr(e,t,r){var n;return r(e,(function(e,r,i){if(t(e,r,i))return n=r,!1})),n}function Fr(e,t,r,n){var i=e.length,o=r+(n?1:-1);while(n?o--:++o<i)if(t(e[o],o,e))return o;return-1}function kr(e,t,r){return t===t?dn(e,t,r):Fr(e,Mr,r)}function Br(e,t,r,n){var i=r-1,o=e.length;while(++i<o)if(n(e[i],t))return i;return-1}function Mr(e){return e!==e}function zr(e,t){var r=null==e?0:e.length;return r?Wr(e,t)/r:M}function jr(e){return function(t){return null==t?i:t[e]}}function Ur(e){return function(t){return null==e?i:e[t]}}function Hr(e,t,r,n,i){return i(e,(function(e,i,o){r=n?(n=!1,e):t(r,e,i,o)})),r}function Vr(e,t){var r=e.length;e.sort(t);while(r--)e[r]=e[r].value;return e}function Wr(e,t){var r,n=-1,o=e.length;while(++n<o){var l=t(e[n]);l!==i&&(r=r===i?l:r+l)}return r}function Gr(e,t){var r=-1,n=Array(e);while(++r<e)n[r]=t(r);return n}function qr(e,t){return Sr(t,(function(t){return[t,e[t]]}))}function Xr(e){return e?e.slice(0,vn(e)+1).replace(Be,""):e}function Zr(e){return function(t){return e(t)}}function $r(e,t){return Sr(t,(function(t){return e[t]}))}function Yr(e,t){return e.has(t)}function Kr(e,t){var r=-1,n=e.length;while(++r<n&&kr(t,e[r],0)>-1);return r}function Qr(e,t){var r=e.length;while(r--&&kr(t,e[r],0)>-1);return r}function Jr(e,t){var r=e.length,n=0;while(r--)e[r]===t&&++n;return n}var en=Ur(Qt),tn=Ur(Jt);function rn(e){return"\\"+tr[e]}function nn(e,t){return null==e?i:e[t]}function on(e){return qt.test(e)}function ln(e){return Xt.test(e)}function an(e){var t,r=[];while(!(t=e.next()).done)r.push(t.value);return r}function sn(e){var t=-1,r=Array(e.size);return e.forEach((function(e,n){r[++t]=[n,e]})),r}function cn(e,t){return function(r){return e(t(r))}}function un(e,t){var r=-1,n=e.length,i=0,o=[];while(++r<n){var l=e[r];l!==t&&l!==h||(e[r]=h,o[i++]=r)}return o}function pn(e){var t=-1,r=Array(e.size);return e.forEach((function(e){r[++t]=e})),r}function hn(e){var t=-1,r=Array(e.size);return e.forEach((function(e){r[++t]=[e,e]})),r}function dn(e,t,r){var n=r-1,i=e.length;while(++n<i)if(e[n]===t)return n;return-1}function fn(e,t,r){var n=r+1;while(n--)if(e[n]===t)return n;return n}function gn(e){return on(e)?An(e):Or(e)}function mn(e){return on(e)?wn(e):Ir(e)}function vn(e){var t=e.length;while(t--&&Me.test(e.charAt(t)));return t}var yn=Ur(er);function An(e){var t=Wt.lastIndex=0;while(Wt.test(e))++t;return t}function wn(e){return e.match(Wt)||[]}function _n(e){return e.match(Gt)||[]}var Tn=function e(t){t=null==t?lr:bn.defaults(lr.Object(),t,bn.pick(lr,Zt));var r=t.Array,n=t.Date,Me=t.Error,He=t.Function,tt=t.Math,rt=t.Object,nt=t.RegExp,it=t.String,ot=t.TypeError,lt=r.prototype,at=He.prototype,st=rt.prototype,ct=t["__core-js_shared__"],ut=at.toString,pt=st.hasOwnProperty,ht=0,dt=function(){var e=/[^.]+$/.exec(ct&&ct.keys&&ct.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),ft=st.toString,gt=ut.call(rt),mt=lr._,vt=nt("^"+ut.call(pt).replace(Fe,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),yt=cr?t.Buffer:i,At=t.Symbol,wt=t.Uint8Array,_t=yt?yt.allocUnsafe:i,Tt=cn(rt.getPrototypeOf,rt),bt=rt.create,xt=st.propertyIsEnumerable,Et=lt.splice,St=At?At.isConcatSpreadable:i,Pt=At?At.iterator:i,Ct=At?At.toStringTag:i,Rt=function(){try{var e=Xl(rt,"defineProperty");return e({},"",{}),e}catch(t){}}(),Dt=t.clearTimeout!==lr.clearTimeout&&t.clearTimeout,Ot=n&&n.now!==lr.Date.now&&n.now,It=t.setTimeout!==lr.setTimeout&&t.setTimeout,Nt=tt.ceil,Lt=tt.floor,Ft=rt.getOwnPropertySymbols,kt=yt?yt.isBuffer:i,Bt=t.isFinite,Mt=lt.join,zt=cn(rt.keys,rt),jt=tt.max,Ut=tt.min,Wt=n.now,Gt=t.parseInt,qt=tt.random,Xt=lt.reverse,Qt=Xl(t,"DataView"),Jt=Xl(t,"Map"),er=Xl(t,"Promise"),tr=Xl(t,"Set"),ir=Xl(t,"WeakMap"),or=Xl(rt,"create"),ar=ir&&new ir,sr={},ur=Ia(Qt),pr=Ia(Jt),Or=Ia(er),Ir=Ia(tr),Ur=Ia(ir),dn=At?At.prototype:i,An=dn?dn.valueOf:i,wn=dn?dn.toString:i;function Tn(e){if(Eu(e)&&!su(e)&&!(e instanceof Pn)){if(e instanceof Sn)return e;if(pt.call(e,"__wrapped__"))return La(e)}return new Sn(e)}var xn=function(){function e(){}return function(t){if(!xu(t))return{};if(bt)return bt(t);e.prototype=t;var r=new e;return e.prototype=i,r}}();function En(){}function Sn(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=i}function Pn(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=z,this.__views__=[]}function Cn(){var e=new Pn(this.__wrapped__);return e.__actions__=il(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=il(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=il(this.__views__),e}function Rn(){if(this.__filtered__){var e=new Pn(this);e.__dir__=-1,e.__filtered__=!0}else e=this.clone(),e.__dir__*=-1;return e}function Dn(){var e=this.__wrapped__.value(),t=this.__dir__,r=su(e),n=t<0,i=r?e.length:0,o=Ql(0,i,this.__views__),l=o.start,a=o.end,s=a-l,c=n?a:l-1,u=this.__iteratees__,p=u.length,h=0,d=Ut(s,this.__takeCount__);if(!r||!n&&i==s&&d==s)return zo(e,this.__actions__);var f=[];e:while(s--&&h<d){c+=t;var g=-1,m=e[c];while(++g<p){var v=u[g],y=v.iteratee,A=v.type,w=y(m);if(A==N)m=w;else if(!w){if(A==I)continue e;break e}}f[h++]=m}return f}function On(e){var t=-1,r=null==e?0:e.length;this.clear();while(++t<r){var n=e[t];this.set(n[0],n[1])}}function In(){this.__data__=or?or(null):{},this.size=0}function Nn(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}function Ln(e){var t=this.__data__;if(or){var r=t[e];return r===u?i:r}return pt.call(t,e)?t[e]:i}function Fn(e){var t=this.__data__;return or?t[e]!==i:pt.call(t,e)}function kn(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=or&&t===i?u:t,this}function Bn(e){var t=-1,r=null==e?0:e.length;this.clear();while(++t<r){var n=e[t];this.set(n[0],n[1])}}function Mn(){this.__data__=[],this.size=0}function zn(e){var t=this.__data__,r=ui(t,e);if(r<0)return!1;var n=t.length-1;return r==n?t.pop():Et.call(t,r,1),--this.size,!0}function jn(e){var t=this.__data__,r=ui(t,e);return r<0?i:t[r][1]}function Un(e){return ui(this.__data__,e)>-1}function Hn(e,t){var r=this.__data__,n=ui(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this}function Vn(e){var t=-1,r=null==e?0:e.length;this.clear();while(++t<r){var n=e[t];this.set(n[0],n[1])}}function Wn(){this.size=0,this.__data__={hash:new On,map:new(Jt||Bn),string:new On}}function Gn(e){var t=Gl(this,e)["delete"](e);return this.size-=t?1:0,t}function qn(e){return Gl(this,e).get(e)}function Xn(e){return Gl(this,e).has(e)}function Zn(e,t){var r=Gl(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this}function $n(e){var t=-1,r=null==e?0:e.length;this.__data__=new Vn;while(++t<r)this.add(e[t])}function Yn(e){return this.__data__.set(e,u),this}function Kn(e){return this.__data__.has(e)}function Qn(e){var t=this.__data__=new Bn(e);this.size=t.size}function Jn(){this.__data__=new Bn,this.size=0}function ei(e){var t=this.__data__,r=t["delete"](e);return this.size=t.size,r}function ti(e){return this.__data__.get(e)}function ri(e){return this.__data__.has(e)}function ni(e,t){var r=this.__data__;if(r instanceof Bn){var n=r.__data__;if(!Jt||n.length<l-1)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new Vn(n)}return r.set(e,t),this.size=r.size,this}function ii(e,t){var r=su(e),n=!r&&au(e),i=!r&&!n&&du(e),o=!r&&!n&&!i&&ju(e),l=r||n||i||o,a=l?Gr(e.length,it):[],s=a.length;for(var c in e)!t&&!pt.call(e,c)||l&&("length"==c||i&&("offset"==c||"parent"==c)||o&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||la(c,s))||a.push(c);return a}function oi(e){var t=e.length;return t?e[yo(0,t-1)]:i}function li(e,t){return Ra(il(e),mi(t,0,e.length))}function ai(e){return Ra(il(e))}function si(e,t,r){(r!==i&&!iu(e[t],r)||r===i&&!(t in e))&&fi(e,t,r)}function ci(e,t,r){var n=e[t];pt.call(e,t)&&iu(n,r)&&(r!==i||t in e)||fi(e,t,r)}function ui(e,t){var r=e.length;while(r--)if(iu(e[r][0],t))return r;return-1}function pi(e,t,r,n){return Ti(e,(function(e,i,o){t(n,e,r(e),o)})),n}function hi(e,t){return e&&ol(t,Tp(t),e)}function di(e,t){return e&&ol(t,bp(t),e)}function fi(e,t,r){"__proto__"==t&&Rt?Rt(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}function gi(e,t){var n=-1,o=t.length,l=r(o),a=null==e;while(++n<o)l[n]=a?i:mp(e,t[n]);return l}function mi(e,t,r){return e===e&&(r!==i&&(e=e<=r?e:r),t!==i&&(e=e>=t?e:t)),e}function vi(e,t,r,n,o,l){var a,s=t&d,c=t&f,u=t&g;if(r&&(a=o?r(e,n,o,l):r(e)),a!==i)return a;if(!xu(e))return e;var p=su(e);if(p){if(a=ta(e),!s)return il(e,a)}else{var h=Kl(e),m=h==Y||h==K;if(du(e))return Zo(e,s);if(h==te||h==V||m&&!o){if(a=c||m?{}:ra(e),!s)return c?al(e,di(a,e)):ll(e,hi(a,e))}else{if(!Kt[h])return o?e:{};a=na(e,h,s)}}l||(l=new Qn);var v=l.get(e);if(v)return v;l.set(e,a),Bu(e)?e.forEach((function(n){a.add(vi(n,t,r,n,e,l))})):Su(e)&&e.forEach((function(n,i){a.set(i,vi(n,t,r,i,e,l))}));var y=u?c?jl:zl:c?bp:Tp,A=p?i:y(e);return wr(A||e,(function(n,i){A&&(i=n,n=e[i]),ci(a,i,vi(n,t,r,i,e,l))})),a}function yi(e){var t=Tp(e);return function(r){return Ai(r,e,t)}}function Ai(e,t,r){var n=r.length;if(null==e)return!n;e=rt(e);while(n--){var o=r[n],l=t[o],a=e[o];if(a===i&&!(o in e)||!l(a))return!1}return!0}function wi(e,t,r){if("function"!=typeof e)throw new ot(s);return Ea((function(){e.apply(i,r)}),t)}function _i(e,t,r,n){var i=-1,o=xr,a=!0,s=e.length,c=[],u=t.length;if(!s)return c;r&&(t=Sr(t,Zr(r))),n?(o=Er,a=!1):t.length>=l&&(o=Yr,a=!1,t=new $n(t));e:while(++i<s){var p=e[i],h=null==r?p:r(p);if(p=n||0!==p?p:0,a&&h===h){var d=u;while(d--)if(t[d]===h)continue e;c.push(p)}else o(t,h,n)||c.push(p)}return c}Tn.templateSettings={escape:Re,evaluate:De,interpolate:Oe,variable:"",imports:{_:Tn}},Tn.prototype=En.prototype,Tn.prototype.constructor=Tn,Sn.prototype=xn(En.prototype),Sn.prototype.constructor=Sn,Pn.prototype=xn(En.prototype),Pn.prototype.constructor=Pn,On.prototype.clear=In,On.prototype["delete"]=Nn,On.prototype.get=Ln,On.prototype.has=Fn,On.prototype.set=kn,Bn.prototype.clear=Mn,Bn.prototype["delete"]=zn,Bn.prototype.get=jn,Bn.prototype.has=Un,Bn.prototype.set=Hn,Vn.prototype.clear=Wn,Vn.prototype["delete"]=Gn,Vn.prototype.get=qn,Vn.prototype.has=Xn,Vn.prototype.set=Zn,$n.prototype.add=$n.prototype.push=Yn,$n.prototype.has=Kn,Qn.prototype.clear=Jn,Qn.prototype["delete"]=ei,Qn.prototype.get=ti,Qn.prototype.has=ri,Qn.prototype.set=ni;var Ti=ul(Oi),bi=ul(Ii,!0);function xi(e,t){var r=!0;return Ti(e,(function(e,n,i){return r=!!t(e,n,i),r})),r}function Ei(e,t,r){var n=-1,o=e.length;while(++n<o){var l=e[n],a=t(l);if(null!=a&&(s===i?a===a&&!zu(a):r(a,s)))var s=a,c=l}return c}function Si(e,t,r,n){var o=e.length;r=Zu(r),r<0&&(r=-r>o?0:o+r),n=n===i||n>o?o:Zu(n),n<0&&(n+=o),n=r>n?0:$u(n);while(r<n)e[r++]=t;return e}function Pi(e,t){var r=[];return Ti(e,(function(e,n,i){t(e,n,i)&&r.push(e)})),r}function Ci(e,t,r,n,i){var o=-1,l=e.length;r||(r=oa),i||(i=[]);while(++o<l){var a=e[o];t>0&&r(a)?t>1?Ci(a,t-1,r,n,i):Pr(i,a):n||(i[i.length]=a)}return i}var Ri=pl(),Di=pl(!0);function Oi(e,t){return e&&Ri(e,t,Tp)}function Ii(e,t){return e&&Di(e,t,Tp)}function Ni(e,t){return br(t,(function(t){return _u(e[t])}))}function Li(e,t){t=Wo(t,e);var r=0,n=t.length;while(null!=e&&r<n)e=e[Oa(t[r++])];return r&&r==n?e:i}function Fi(e,t,r){var n=t(e);return su(e)?n:Pr(n,r(e))}function ki(e){return null==e?e===i?se:ee:Ct&&Ct in rt(e)?Zl(e):Aa(e)}function Bi(e,t){return e>t}function Mi(e,t){return null!=e&&pt.call(e,t)}function zi(e,t){return null!=e&&t in rt(e)}function ji(e,t,r){return e>=Ut(t,r)&&e<jt(t,r)}function Ui(e,t,n){var o=n?Er:xr,l=e[0].length,a=e.length,s=a,c=r(a),u=1/0,p=[];while(s--){var h=e[s];s&&t&&(h=Sr(h,Zr(t))),u=Ut(h.length,u),c[s]=!n&&(t||l>=120&&h.length>=120)?new $n(s&&h):i}h=e[0];var d=-1,f=c[0];e:while(++d<l&&p.length<u){var g=h[d],m=t?t(g):g;if(g=n||0!==g?g:0,!(f?Yr(f,m):o(p,m,n))){s=a;while(--s){var v=c[s];if(!(v?Yr(v,m):o(e[s],m,n)))continue e}f&&f.push(m),p.push(g)}}return p}function Hi(e,t,r,n){return Oi(e,(function(e,i,o){t(n,r(e),i,o)})),n}function Vi(e,t,r){t=Wo(t,e),e=_a(e,t);var n=null==e?e:e[Oa(os(t))];return null==n?i:yr(n,e,r)}function Wi(e){return Eu(e)&&ki(e)==V}function Gi(e){return Eu(e)&&ki(e)==pe}function qi(e){return Eu(e)&&ki(e)==X}function Xi(e,t,r,n,i){return e===t||(null==e||null==t||!Eu(e)&&!Eu(t)?e!==e&&t!==t:Zi(e,t,r,n,Xi,i))}function Zi(e,t,r,n,i,o){var l=su(e),a=su(t),s=l?W:Kl(e),c=a?W:Kl(t);s=s==V?te:s,c=c==V?te:c;var u=s==te,p=c==te,h=s==c;if(h&&du(e)){if(!du(t))return!1;l=!0,u=!1}if(h&&!u)return o||(o=new Qn),l||ju(e)?Fl(e,t,r,n,i,o):kl(e,t,s,r,n,i,o);if(!(r&m)){var d=u&&pt.call(e,"__wrapped__"),f=p&&pt.call(t,"__wrapped__");if(d||f){var g=d?e.value():e,v=f?t.value():t;return o||(o=new Qn),i(g,v,r,n,o)}}return!!h&&(o||(o=new Qn),Bl(e,t,r,n,i,o))}function $i(e){return Eu(e)&&Kl(e)==Q}function Yi(e,t,r,n){var o=r.length,l=o,a=!n;if(null==e)return!l;e=rt(e);while(o--){var s=r[o];if(a&&s[2]?s[1]!==e[s[0]]:!(s[0]in e))return!1}while(++o<l){s=r[o];var c=s[0],u=e[c],p=s[1];if(a&&s[2]){if(u===i&&!(c in e))return!1}else{var h=new Qn;if(n)var d=n(u,p,c,e,t,h);if(!(d===i?Xi(p,u,m|v,n,h):d))return!1}}return!0}function Ki(e){if(!xu(e)||pa(e))return!1;var t=_u(e)?vt:$e;return t.test(Ia(e))}function Qi(e){return Eu(e)&&ki(e)==ie}function Ji(e){return Eu(e)&&Kl(e)==oe}function eo(e){return Eu(e)&&bu(e.length)&&!!Yt[ki(e)]}function to(e){return"function"==typeof e?e:null==e?Dh:"object"==typeof e?su(e)?ao(e[0],e[1]):lo(e):Vh(e)}function ro(e){if(!da(e))return zt(e);var t=[];for(var r in rt(e))pt.call(e,r)&&"constructor"!=r&&t.push(r);return t}function no(e){if(!xu(e))return ya(e);var t=da(e),r=[];for(var n in e)("constructor"!=n||!t&&pt.call(e,n))&&r.push(n);return r}function io(e,t){return e<t}function oo(e,t){var n=-1,i=uu(e)?r(e.length):[];return Ti(e,(function(e,r,o){i[++n]=t(e,r,o)})),i}function lo(e){var t=ql(e);return 1==t.length&&t[0][2]?ga(t[0][0],t[0][1]):function(r){return r===e||Yi(r,e,t)}}function ao(e,t){return sa(e)&&fa(t)?ga(Oa(e),t):function(r){var n=mp(r,e);return n===i&&n===t?yp(r,e):Xi(t,n,m|v)}}function so(e,t,r,n,o){e!==t&&Ri(t,(function(l,a){if(o||(o=new Qn),xu(l))co(e,t,a,r,so,n,o);else{var s=n?n(ba(e,a),l,a+"",e,t,o):i;s===i&&(s=l),si(e,a,s)}}),bp)}function co(e,t,r,n,o,l,a){var s=ba(e,r),c=ba(t,r),u=a.get(c);if(u)si(e,r,u);else{var p=l?l(s,c,r+"",e,t,a):i,h=p===i;if(h){var d=su(c),f=!d&&du(c),g=!d&&!f&&ju(c);p=c,d||f||g?su(s)?p=s:pu(s)?p=il(s):f?(h=!1,p=Zo(c,!0)):g?(h=!1,p=Jo(c,!0)):p=[]:Lu(c)||au(c)?(p=s,au(s)?p=Ku(s):xu(s)&&!_u(s)||(p=ra(c))):h=!1}h&&(a.set(c,p),o(p,c,n,l,a),a["delete"](c)),si(e,r,p)}}function uo(e,t){var r=e.length;if(r)return t+=t<0?r:0,la(t,r)?e[t]:i}function po(e,t,r){t=t.length?Sr(t,(function(e){return su(e)?function(t){return Li(t,1===e.length?e[0]:e)}:e})):[Dh];var n=-1;t=Sr(t,Zr(Wl()));var i=oo(e,(function(e,r,i){var o=Sr(t,(function(t){return t(e)}));return{criteria:o,index:++n,value:e}}));return Vr(i,(function(e,t){return tl(e,t,r)}))}function ho(e,t){return fo(e,t,(function(t,r){return yp(e,r)}))}function fo(e,t,r){var n=-1,i=t.length,o={};while(++n<i){var l=t[n],a=Li(e,l);r(a,l)&&xo(o,Wo(l,e),a)}return o}function go(e){return function(t){return Li(t,e)}}function mo(e,t,r,n){var i=n?Br:kr,o=-1,l=t.length,a=e;e===t&&(t=il(t)),r&&(a=Sr(e,Zr(r)));while(++o<l){var s=0,c=t[o],u=r?r(c):c;while((s=i(a,u,s,n))>-1)a!==e&&Et.call(a,s,1),Et.call(e,s,1)}return e}function vo(e,t){var r=e?t.length:0,n=r-1;while(r--){var i=t[r];if(r==n||i!==o){var o=i;la(i)?Et.call(e,i,1):ko(e,i)}}return e}function yo(e,t){return e+Lt(qt()*(t-e+1))}function Ao(e,t,n,i){var o=-1,l=jt(Nt((t-e)/(n||1)),0),a=r(l);while(l--)a[i?l:++o]=e,e+=n;return a}function wo(e,t){var r="";if(!e||t<1||t>k)return r;do{t%2&&(r+=e),t=Lt(t/2),t&&(e+=e)}while(t);return r}function _o(e,t){return Sa(wa(e,t,Dh),e+"")}function To(e){return oi(Up(e))}function bo(e,t){var r=Up(e);return Ra(r,mi(t,0,r.length))}function xo(e,t,r,n){if(!xu(e))return e;t=Wo(t,e);var o=-1,l=t.length,a=l-1,s=e;while(null!=s&&++o<l){var c=Oa(t[o]),u=r;if("__proto__"===c||"constructor"===c||"prototype"===c)return e;if(o!=a){var p=s[c];u=n?n(p,c,s):i,u===i&&(u=xu(p)?p:la(t[o+1])?[]:{})}ci(s,c,u),s=s[c]}return e}var Eo=ar?function(e,t){return ar.set(e,t),e}:Dh,So=Rt?function(e,t){return Rt(e,"toString",{configurable:!0,enumerable:!1,value:Sh(t),writable:!0})}:Dh;function Po(e){return Ra(Up(e))}function Co(e,t,n){var i=-1,o=e.length;t<0&&(t=-t>o?0:o+t),n=n>o?o:n,n<0&&(n+=o),o=t>n?0:n-t>>>0,t>>>=0;var l=r(o);while(++i<o)l[i]=e[i+t];return l}function Ro(e,t){var r;return Ti(e,(function(e,n,i){return r=t(e,n,i),!r})),!!r}function Do(e,t,r){var n=0,i=null==e?n:e.length;if("number"==typeof t&&t===t&&i<=U){while(n<i){var o=n+i>>>1,l=e[o];null!==l&&!zu(l)&&(r?l<=t:l<t)?n=o+1:i=o}return i}return Oo(e,t,Dh,r)}function Oo(e,t,r,n){var o=0,l=null==e?0:e.length;if(0===l)return 0;t=r(t);var a=t!==t,s=null===t,c=zu(t),u=t===i;while(o<l){var p=Lt((o+l)/2),h=r(e[p]),d=h!==i,f=null===h,g=h===h,m=zu(h);if(a)var v=n||g;else v=u?g&&(n||d):s?g&&d&&(n||!f):c?g&&d&&!f&&(n||!m):!f&&!m&&(n?h<=t:h<t);v?o=p+1:l=p}return Ut(l,j)}function Io(e,t){var r=-1,n=e.length,i=0,o=[];while(++r<n){var l=e[r],a=t?t(l):l;if(!r||!iu(a,s)){var s=a;o[i++]=0===l?0:l}}return o}function No(e){return"number"==typeof e?e:zu(e)?M:+e}function Lo(e){if("string"==typeof e)return e;if(su(e))return Sr(e,Lo)+"";if(zu(e))return wn?wn.call(e):"";var t=e+"";return"0"==t&&1/e==-F?"-0":t}function Fo(e,t,r){var n=-1,i=xr,o=e.length,a=!0,s=[],c=s;if(r)a=!1,i=Er;else if(o>=l){var u=t?null:Rl(e);if(u)return pn(u);a=!1,i=Yr,c=new $n}else c=t?[]:s;e:while(++n<o){var p=e[n],h=t?t(p):p;if(p=r||0!==p?p:0,a&&h===h){var d=c.length;while(d--)if(c[d]===h)continue e;t&&c.push(h),s.push(p)}else i(c,h,r)||(c!==s&&c.push(h),s.push(p))}return s}function ko(e,t){return t=Wo(t,e),e=_a(e,t),null==e||delete e[Oa(os(t))]}function Bo(e,t,r,n){return xo(e,t,r(Li(e,t)),n)}function Mo(e,t,r,n){var i=e.length,o=n?i:-1;while((n?o--:++o<i)&&t(e[o],o,e));return r?Co(e,n?0:o,n?o+1:i):Co(e,n?o+1:0,n?i:o)}function zo(e,t){var r=e;return r instanceof Pn&&(r=r.value()),Cr(t,(function(e,t){return t.func.apply(t.thisArg,Pr([e],t.args))}),r)}function jo(e,t,n){var i=e.length;if(i<2)return i?Fo(e[0]):[];var o=-1,l=r(i);while(++o<i){var a=e[o],s=-1;while(++s<i)s!=o&&(l[o]=_i(l[o]||a,e[s],t,n))}return Fo(Ci(l,1),t,n)}function Uo(e,t,r){var n=-1,o=e.length,l=t.length,a={};while(++n<o){var s=n<l?t[n]:i;r(a,e[n],s)}return a}function Ho(e){return pu(e)?e:[]}function Vo(e){return"function"==typeof e?e:Dh}function Wo(e,t){return su(e)?e:sa(e,t)?[e]:Da(Ju(e))}var Go=_o;function qo(e,t,r){var n=e.length;return r=r===i?n:r,!t&&r>=n?e:Co(e,t,r)}var Xo=Dt||function(e){return lr.clearTimeout(e)};function Zo(e,t){if(t)return e.slice();var r=e.length,n=_t?_t(r):new e.constructor(r);return e.copy(n),n}function $o(e){var t=new e.constructor(e.byteLength);return new wt(t).set(new wt(e)),t}function Yo(e,t){var r=t?$o(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.byteLength)}function Ko(e){var t=new e.constructor(e.source,qe.exec(e));return t.lastIndex=e.lastIndex,t}function Qo(e){return An?rt(An.call(e)):{}}function Jo(e,t){var r=t?$o(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.length)}function el(e,t){if(e!==t){var r=e!==i,n=null===e,o=e===e,l=zu(e),a=t!==i,s=null===t,c=t===t,u=zu(t);if(!s&&!u&&!l&&e>t||l&&a&&c&&!s&&!u||n&&a&&c||!r&&c||!o)return 1;if(!n&&!l&&!u&&e<t||u&&r&&o&&!n&&!l||s&&r&&o||!a&&o||!c)return-1}return 0}function tl(e,t,r){var n=-1,i=e.criteria,o=t.criteria,l=i.length,a=r.length;while(++n<l){var s=el(i[n],o[n]);if(s){if(n>=a)return s;var c=r[n];return s*("desc"==c?-1:1)}}return e.index-t.index}function rl(e,t,n,i){var o=-1,l=e.length,a=n.length,s=-1,c=t.length,u=jt(l-a,0),p=r(c+u),h=!i;while(++s<c)p[s]=t[s];while(++o<a)(h||o<l)&&(p[n[o]]=e[o]);while(u--)p[s++]=e[o++];return p}function nl(e,t,n,i){var o=-1,l=e.length,a=-1,s=n.length,c=-1,u=t.length,p=jt(l-s,0),h=r(p+u),d=!i;while(++o<p)h[o]=e[o];var f=o;while(++c<u)h[f+c]=t[c];while(++a<s)(d||o<l)&&(h[f+n[a]]=e[o++]);return h}function il(e,t){var n=-1,i=e.length;t||(t=r(i));while(++n<i)t[n]=e[n];return t}function ol(e,t,r,n){var o=!r;r||(r={});var l=-1,a=t.length;while(++l<a){var s=t[l],c=n?n(r[s],e[s],s,r,e):i;c===i&&(c=e[s]),o?fi(r,s,c):ci(r,s,c)}return r}function ll(e,t){return ol(e,$l(e),t)}function al(e,t){return ol(e,Yl(e),t)}function sl(e,t){return function(r,n){var i=su(r)?Ar:pi,o=t?t():{};return i(r,e,Wl(n,2),o)}}function cl(e){return _o((function(t,r){var n=-1,o=r.length,l=o>1?r[o-1]:i,a=o>2?r[2]:i;l=e.length>3&&"function"==typeof l?(o--,l):i,a&&aa(r[0],r[1],a)&&(l=o<3?i:l,o=1),t=rt(t);while(++n<o){var s=r[n];s&&e(t,s,n,l)}return t}))}function ul(e,t){return function(r,n){if(null==r)return r;if(!uu(r))return e(r,n);var i=r.length,o=t?i:-1,l=rt(r);while(t?o--:++o<i)if(!1===n(l[o],o,l))break;return r}}function pl(e){return function(t,r,n){var i=-1,o=rt(t),l=n(t),a=l.length;while(a--){var s=l[e?a:++i];if(!1===r(o[s],s,o))break}return t}}function hl(e,t,r){var n=t&y,i=gl(e);function o(){var t=this&&this!==lr&&this instanceof o?i:e;return t.apply(n?r:this,arguments)}return o}function dl(e){return function(t){t=Ju(t);var r=on(t)?mn(t):i,n=r?r[0]:t.charAt(0),o=r?qo(r,1).join(""):t.slice(1);return n[e]()+o}}function fl(e){return function(t){return Cr(_h(Zp(t).replace(Ht,"")),e,"")}}function gl(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var r=xn(e.prototype),n=e.apply(r,t);return xu(n)?n:r}}function ml(e,t,n){var o=gl(e);function l(){var a=arguments.length,s=r(a),c=a,u=Vl(l);while(c--)s[c]=arguments[c];var p=a<3&&s[0]!==u&&s[a-1]!==u?[]:un(s,u);if(a-=p.length,a<n)return Pl(e,t,Al,l.placeholder,i,s,p,i,i,n-a);var h=this&&this!==lr&&this instanceof l?o:e;return yr(h,this,s)}return l}function vl(e){return function(t,r,n){var o=rt(t);if(!uu(t)){var l=Wl(r,3);t=Tp(t),r=function(e){return l(o[e],e,o)}}var a=e(t,r,n);return a>-1?o[l?t[a]:a]:i}}function yl(e){return Ml((function(t){var r=t.length,n=r,o=Sn.prototype.thru;e&&t.reverse();while(n--){var l=t[n];if("function"!=typeof l)throw new ot(s);if(o&&!a&&"wrapper"==Hl(l))var a=new Sn([],!0)}n=a?n:r;while(++n<r){l=t[n];var c=Hl(l),u="wrapper"==c?Ul(l):i;a=u&&ua(u[0])&&u[1]==(E|_|b|S)&&!u[4].length&&1==u[9]?a[Hl(u[0])].apply(a,u[3]):1==l.length&&ua(l)?a[c]():a.thru(l)}return function(){var e=arguments,n=e[0];if(a&&1==e.length&&su(n))return a.plant(n).value();var i=0,o=r?t[i].apply(this,e):n;while(++i<r)o=t[i].call(this,o);return o}}))}function Al(e,t,n,o,l,a,s,c,u,p){var h=t&E,d=t&y,f=t&A,g=t&(_|T),m=t&P,v=f?i:gl(e);function w(){var i=arguments.length,y=r(i),A=i;while(A--)y[A]=arguments[A];if(g)var _=Vl(w),T=Jr(y,_);if(o&&(y=rl(y,o,l,g)),a&&(y=nl(y,a,s,g)),i-=T,g&&i<p){var b=un(y,_);return Pl(e,t,Al,w.placeholder,n,y,b,c,u,p-i)}var x=d?n:this,E=f?x[e]:e;return i=y.length,c?y=Ta(y,c):m&&i>1&&y.reverse(),h&&u<i&&(y.length=u),this&&this!==lr&&this instanceof w&&(E=v||gl(E)),E.apply(x,y)}return w}function wl(e,t){return function(r,n){return Hi(r,e,t(n),{})}}function _l(e,t){return function(r,n){var o;if(r===i&&n===i)return t;if(r!==i&&(o=r),n!==i){if(o===i)return n;"string"==typeof r||"string"==typeof n?(r=Lo(r),n=Lo(n)):(r=No(r),n=No(n)),o=e(r,n)}return o}}function Tl(e){return Ml((function(t){return t=Sr(t,Zr(Wl())),_o((function(r){var n=this;return e(t,(function(e){return yr(e,n,r)}))}))}))}function bl(e,t){t=t===i?" ":Lo(t);var r=t.length;if(r<2)return r?wo(t,e):t;var n=wo(t,Nt(e/gn(t)));return on(t)?qo(mn(n),0,e).join(""):n.slice(0,e)}function xl(e,t,n,i){var o=t&y,l=gl(e);function a(){var t=-1,s=arguments.length,c=-1,u=i.length,p=r(u+s),h=this&&this!==lr&&this instanceof a?l:e;while(++c<u)p[c]=i[c];while(s--)p[c++]=arguments[++t];return yr(h,o?n:this,p)}return a}function El(e){return function(t,r,n){return n&&"number"!=typeof n&&aa(t,r,n)&&(r=n=i),t=Xu(t),r===i?(r=t,t=0):r=Xu(r),n=n===i?t<r?1:-1:Xu(n),Ao(t,r,n,e)}}function Sl(e){return function(t,r){return"string"==typeof t&&"string"==typeof r||(t=Yu(t),r=Yu(r)),e(t,r)}}function Pl(e,t,r,n,o,l,a,s,c,u){var p=t&_,h=p?a:i,d=p?i:a,f=p?l:i,g=p?i:l;t|=p?b:x,t&=~(p?x:b),t&w||(t&=~(y|A));var m=[e,t,o,f,h,g,d,s,c,u],v=r.apply(i,m);return ua(e)&&xa(v,m),v.placeholder=n,Pa(v,e,t)}function Cl(e){var t=tt[e];return function(e,r){if(e=Yu(e),r=null==r?0:Ut(Zu(r),292),r&&Bt(e)){var n=(Ju(e)+"e").split("e"),i=t(n[0]+"e"+(+n[1]+r));return n=(Ju(i)+"e").split("e"),+(n[0]+"e"+(+n[1]-r))}return t(e)}}var Rl=tr&&1/pn(new tr([,-0]))[1]==F?function(e){return new tr(e)}:Mh;function Dl(e){return function(t){var r=Kl(t);return r==Q?sn(t):r==oe?hn(t):qr(t,e(t))}}function Ol(e,t,r,n,o,l,a,c){var u=t&A;if(!u&&"function"!=typeof e)throw new ot(s);var p=n?n.length:0;if(p||(t&=~(b|x),n=o=i),a=a===i?a:jt(Zu(a),0),c=c===i?c:Zu(c),p-=o?o.length:0,t&x){var h=n,d=o;n=o=i}var f=u?i:Ul(e),g=[e,t,r,n,o,h,d,l,a,c];if(f&&va(g,f),e=g[0],t=g[1],r=g[2],n=g[3],o=g[4],c=g[9]=g[9]===i?u?0:e.length:jt(g[9]-p,0),!c&&t&(_|T)&&(t&=~(_|T)),t&&t!=y)m=t==_||t==T?ml(e,t,c):t!=b&&t!=(y|b)||o.length?Al.apply(i,g):xl(e,t,r,n);else var m=hl(e,t,r);var v=f?Eo:xa;return Pa(v(m,g),e,t)}function Il(e,t,r,n){return e===i||iu(e,st[r])&&!pt.call(n,r)?t:e}function Nl(e,t,r,n,o,l){return xu(e)&&xu(t)&&(l.set(t,e),so(e,t,i,Nl,l),l["delete"](t)),e}function Ll(e){return Lu(e)?i:e}function Fl(e,t,r,n,o,l){var a=r&m,s=e.length,c=t.length;if(s!=c&&!(a&&c>s))return!1;var u=l.get(e),p=l.get(t);if(u&&p)return u==t&&p==e;var h=-1,d=!0,f=r&v?new $n:i;l.set(e,t),l.set(t,e);while(++h<s){var g=e[h],y=t[h];if(n)var A=a?n(y,g,h,t,e,l):n(g,y,h,e,t,l);if(A!==i){if(A)continue;d=!1;break}if(f){if(!Dr(t,(function(e,t){if(!Yr(f,t)&&(g===e||o(g,e,r,n,l)))return f.push(t)}))){d=!1;break}}else if(g!==y&&!o(g,y,r,n,l)){d=!1;break}}return l["delete"](e),l["delete"](t),d}function kl(e,t,r,n,i,o,l){switch(r){case he:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case pe:return!(e.byteLength!=t.byteLength||!o(new wt(e),new wt(t)));case q:case X:case J:return iu(+e,+t);case $:return e.name==t.name&&e.message==t.message;case ie:case le:return e==t+"";case Q:var a=sn;case oe:var s=n&m;if(a||(a=pn),e.size!=t.size&&!s)return!1;var c=l.get(e);if(c)return c==t;n|=v,l.set(e,t);var u=Fl(a(e),a(t),n,i,o,l);return l["delete"](e),u;case ae:if(An)return An.call(e)==An.call(t)}return!1}function Bl(e,t,r,n,o,l){var a=r&m,s=zl(e),c=s.length,u=zl(t),p=u.length;if(c!=p&&!a)return!1;var h=c;while(h--){var d=s[h];if(!(a?d in t:pt.call(t,d)))return!1}var f=l.get(e),g=l.get(t);if(f&&g)return f==t&&g==e;var v=!0;l.set(e,t),l.set(t,e);var y=a;while(++h<c){d=s[h];var A=e[d],w=t[d];if(n)var _=a?n(w,A,d,t,e,l):n(A,w,d,e,t,l);if(!(_===i?A===w||o(A,w,r,n,l):_)){v=!1;break}y||(y="constructor"==d)}if(v&&!y){var T=e.constructor,b=t.constructor;T==b||!("constructor"in e)||!("constructor"in t)||"function"==typeof T&&T instanceof T&&"function"==typeof b&&b instanceof b||(v=!1)}return l["delete"](e),l["delete"](t),v}function Ml(e){return Sa(wa(e,i,Za),e+"")}function zl(e){return Fi(e,Tp,$l)}function jl(e){return Fi(e,bp,Yl)}var Ul=ar?function(e){return ar.get(e)}:Mh;function Hl(e){var t=e.name+"",r=sr[t],n=pt.call(sr,t)?r.length:0;while(n--){var i=r[n],o=i.func;if(null==o||o==e)return i.name}return t}function Vl(e){var t=pt.call(Tn,"placeholder")?Tn:e;return t.placeholder}function Wl(){var e=Tn.iteratee||Oh;return e=e===Oh?to:e,arguments.length?e(arguments[0],arguments[1]):e}function Gl(e,t){var r=e.__data__;return ca(t)?r["string"==typeof t?"string":"hash"]:r.map}function ql(e){var t=Tp(e),r=t.length;while(r--){var n=t[r],i=e[n];t[r]=[n,i,fa(i)]}return t}function Xl(e,t){var r=nn(e,t);return Ki(r)?r:i}function Zl(e){var t=pt.call(e,Ct),r=e[Ct];try{e[Ct]=i;var n=!0}catch(l){}var o=ft.call(e);return n&&(t?e[Ct]=r:delete e[Ct]),o}var $l=Ft?function(e){return null==e?[]:(e=rt(e),br(Ft(e),(function(t){return xt.call(e,t)})))}:Xh,Yl=Ft?function(e){var t=[];while(e)Pr(t,$l(e)),e=Tt(e);return t}:Xh,Kl=ki;function Ql(e,t,r){var n=-1,i=r.length;while(++n<i){var o=r[n],l=o.size;switch(o.type){case"drop":e+=l;break;case"dropRight":t-=l;break;case"take":t=Ut(t,e+l);break;case"takeRight":e=jt(e,t-l);break}}return{start:e,end:t}}function Jl(e){var t=e.match(je);return t?t[1].split(Ue):[]}function ea(e,t,r){t=Wo(t,e);var n=-1,i=t.length,o=!1;while(++n<i){var l=Oa(t[n]);if(!(o=null!=e&&r(e,l)))break;e=e[l]}return o||++n!=i?o:(i=null==e?0:e.length,!!i&&bu(i)&&la(l,i)&&(su(e)||au(e)))}function ta(e){var t=e.length,r=new e.constructor(t);return t&&"string"==typeof e[0]&&pt.call(e,"index")&&(r.index=e.index,r.input=e.input),r}function ra(e){return"function"!=typeof e.constructor||da(e)?{}:xn(Tt(e))}function na(e,t,r){var n=e.constructor;switch(t){case pe:return $o(e);case q:case X:return new n(+e);case he:return Yo(e,r);case de:case fe:case ge:case me:case ve:case ye:case Ae:case we:case _e:return Jo(e,r);case Q:return new n;case J:case le:return new n(e);case ie:return Ko(e);case oe:return new n;case ae:return Qo(e)}}function ia(e,t){var r=t.length;if(!r)return e;var n=r-1;return t[n]=(r>1?"& ":"")+t[n],t=t.join(r>2?", ":" "),e.replace(ze,"{\n/* [wrapped with "+t+"] */\n")}function oa(e){return su(e)||au(e)||!!(St&&e&&e[St])}function la(e,t){var r=typeof e;return t=null==t?k:t,!!t&&("number"==r||"symbol"!=r&&Ke.test(e))&&e>-1&&e%1==0&&e<t}function aa(e,t,r){if(!xu(r))return!1;var n=typeof t;return!!("number"==n?uu(r)&&la(t,r.length):"string"==n&&t in r)&&iu(r[t],e)}function sa(e,t){if(su(e))return!1;var r=typeof e;return!("number"!=r&&"symbol"!=r&&"boolean"!=r&&null!=e&&!zu(e))||(Ne.test(e)||!Ie.test(e)||null!=t&&e in rt(t))}function ca(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}function ua(e){var t=Hl(e),r=Tn[t];if("function"!=typeof r||!(t in Pn.prototype))return!1;if(e===r)return!0;var n=Ul(r);return!!n&&e===n[0]}function pa(e){return!!dt&&dt in e}(Qt&&Kl(new Qt(new ArrayBuffer(1)))!=he||Jt&&Kl(new Jt)!=Q||er&&Kl(er.resolve())!=re||tr&&Kl(new tr)!=oe||ir&&Kl(new ir)!=ce)&&(Kl=function(e){var t=ki(e),r=t==te?e.constructor:i,n=r?Ia(r):"";if(n)switch(n){case ur:return he;case pr:return Q;case Or:return re;case Ir:return oe;case Ur:return ce}return t});var ha=ct?_u:Zh;function da(e){var t=e&&e.constructor,r="function"==typeof t&&t.prototype||st;return e===r}function fa(e){return e===e&&!xu(e)}function ga(e,t){return function(r){return null!=r&&(r[e]===t&&(t!==i||e in rt(r)))}}function ma(e){var t=jc(e,(function(e){return r.size===p&&r.clear(),e})),r=t.cache;return t}function va(e,t){var r=e[1],n=t[1],i=r|n,o=i<(y|A|E),l=n==E&&r==_||n==E&&r==S&&e[7].length<=t[8]||n==(E|S)&&t[7].length<=t[8]&&r==_;if(!o&&!l)return e;n&y&&(e[2]=t[2],i|=r&y?0:w);var a=t[3];if(a){var s=e[3];e[3]=s?rl(s,a,t[4]):a,e[4]=s?un(e[3],h):t[4]}return a=t[5],a&&(s=e[5],e[5]=s?nl(s,a,t[6]):a,e[6]=s?un(e[5],h):t[6]),a=t[7],a&&(e[7]=a),n&E&&(e[8]=null==e[8]?t[8]:Ut(e[8],t[8])),null==e[9]&&(e[9]=t[9]),e[0]=t[0],e[1]=i,e}function ya(e){var t=[];if(null!=e)for(var r in rt(e))t.push(r);return t}function Aa(e){return ft.call(e)}function wa(e,t,n){return t=jt(t===i?e.length-1:t,0),function(){var i=arguments,o=-1,l=jt(i.length-t,0),a=r(l);while(++o<l)a[o]=i[t+o];o=-1;var s=r(t+1);while(++o<t)s[o]=i[o];return s[t]=n(a),yr(e,this,s)}}function _a(e,t){return t.length<2?e:Li(e,Co(t,0,-1))}function Ta(e,t){var r=e.length,n=Ut(t.length,r),o=il(e);while(n--){var l=t[n];e[n]=la(l,r)?o[l]:i}return e}function ba(e,t){if(("constructor"!==t||"function"!==typeof e[t])&&"__proto__"!=t)return e[t]}var xa=Ca(Eo),Ea=It||function(e,t){return lr.setTimeout(e,t)},Sa=Ca(So);function Pa(e,t,r){var n=t+"";return Sa(e,ia(n,Na(Jl(n),r)))}function Ca(e){var t=0,r=0;return function(){var n=Wt(),o=O-(n-r);if(r=n,o>0){if(++t>=D)return arguments[0]}else t=0;return e.apply(i,arguments)}}function Ra(e,t){var r=-1,n=e.length,o=n-1;t=t===i?n:t;while(++r<t){var l=yo(r,o),a=e[l];e[l]=e[r],e[r]=a}return e.length=t,e}var Da=ma((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(Le,(function(e,r,n,i){t.push(n?i.replace(We,"$1"):r||e)})),t}));function Oa(e){if("string"==typeof e||zu(e))return e;var t=e+"";return"0"==t&&1/e==-F?"-0":t}function Ia(e){if(null!=e){try{return ut.call(e)}catch(t){}try{return e+""}catch(t){}}return""}function Na(e,t){return wr(H,(function(r){var n="_."+r[0];t&r[1]&&!xr(e,n)&&e.push(n)})),e.sort()}function La(e){if(e instanceof Pn)return e.clone();var t=new Sn(e.__wrapped__,e.__chain__);return t.__actions__=il(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}function Fa(e,t,n){t=(n?aa(e,t,n):t===i)?1:jt(Zu(t),0);var o=null==e?0:e.length;if(!o||t<1)return[];var l=0,a=0,s=r(Nt(o/t));while(l<o)s[a++]=Co(e,l,l+=t);return s}function ka(e){var t=-1,r=null==e?0:e.length,n=0,i=[];while(++t<r){var o=e[t];o&&(i[n++]=o)}return i}function Ba(){var e=arguments.length;if(!e)return[];var t=r(e-1),n=arguments[0],i=e;while(i--)t[i-1]=arguments[i];return Pr(su(n)?il(n):[n],Ci(t,1))}var Ma=_o((function(e,t){return pu(e)?_i(e,Ci(t,1,pu,!0)):[]})),za=_o((function(e,t){var r=os(t);return pu(r)&&(r=i),pu(e)?_i(e,Ci(t,1,pu,!0),Wl(r,2)):[]})),ja=_o((function(e,t){var r=os(t);return pu(r)&&(r=i),pu(e)?_i(e,Ci(t,1,pu,!0),i,r):[]}));function Ua(e,t,r){var n=null==e?0:e.length;return n?(t=r||t===i?1:Zu(t),Co(e,t<0?0:t,n)):[]}function Ha(e,t,r){var n=null==e?0:e.length;return n?(t=r||t===i?1:Zu(t),t=n-t,Co(e,0,t<0?0:t)):[]}function Va(e,t){return e&&e.length?Mo(e,Wl(t,3),!0,!0):[]}function Wa(e,t){return e&&e.length?Mo(e,Wl(t,3),!0):[]}function Ga(e,t,r,n){var i=null==e?0:e.length;return i?(r&&"number"!=typeof r&&aa(e,t,r)&&(r=0,n=i),Si(e,t,r,n)):[]}function qa(e,t,r){var n=null==e?0:e.length;if(!n)return-1;var i=null==r?0:Zu(r);return i<0&&(i=jt(n+i,0)),Fr(e,Wl(t,3),i)}function Xa(e,t,r){var n=null==e?0:e.length;if(!n)return-1;var o=n-1;return r!==i&&(o=Zu(r),o=r<0?jt(n+o,0):Ut(o,n-1)),Fr(e,Wl(t,3),o,!0)}function Za(e){var t=null==e?0:e.length;return t?Ci(e,1):[]}function $a(e){var t=null==e?0:e.length;return t?Ci(e,F):[]}function Ya(e,t){var r=null==e?0:e.length;return r?(t=t===i?1:Zu(t),Ci(e,t)):[]}function Ka(e){var t=-1,r=null==e?0:e.length,n={};while(++t<r){var i=e[t];n[i[0]]=i[1]}return n}function Qa(e){return e&&e.length?e[0]:i}function Ja(e,t,r){var n=null==e?0:e.length;if(!n)return-1;var i=null==r?0:Zu(r);return i<0&&(i=jt(n+i,0)),kr(e,t,i)}function es(e){var t=null==e?0:e.length;return t?Co(e,0,-1):[]}var ts=_o((function(e){var t=Sr(e,Ho);return t.length&&t[0]===e[0]?Ui(t):[]})),rs=_o((function(e){var t=os(e),r=Sr(e,Ho);return t===os(r)?t=i:r.pop(),r.length&&r[0]===e[0]?Ui(r,Wl(t,2)):[]})),ns=_o((function(e){var t=os(e),r=Sr(e,Ho);return t="function"==typeof t?t:i,t&&r.pop(),r.length&&r[0]===e[0]?Ui(r,i,t):[]}));function is(e,t){return null==e?"":Mt.call(e,t)}function os(e){var t=null==e?0:e.length;return t?e[t-1]:i}function ls(e,t,r){var n=null==e?0:e.length;if(!n)return-1;var o=n;return r!==i&&(o=Zu(r),o=o<0?jt(n+o,0):Ut(o,n-1)),t===t?fn(e,t,o):Fr(e,Mr,o,!0)}function as(e,t){return e&&e.length?uo(e,Zu(t)):i}var ss=_o(cs);function cs(e,t){return e&&e.length&&t&&t.length?mo(e,t):e}function us(e,t,r){return e&&e.length&&t&&t.length?mo(e,t,Wl(r,2)):e}function ps(e,t,r){return e&&e.length&&t&&t.length?mo(e,t,i,r):e}var hs=Ml((function(e,t){var r=null==e?0:e.length,n=gi(e,t);return vo(e,Sr(t,(function(e){return la(e,r)?+e:e})).sort(el)),n}));function ds(e,t){var r=[];if(!e||!e.length)return r;var n=-1,i=[],o=e.length;t=Wl(t,3);while(++n<o){var l=e[n];t(l,n,e)&&(r.push(l),i.push(n))}return vo(e,i),r}function fs(e){return null==e?e:Xt.call(e)}function gs(e,t,r){var n=null==e?0:e.length;return n?(r&&"number"!=typeof r&&aa(e,t,r)?(t=0,r=n):(t=null==t?0:Zu(t),r=r===i?n:Zu(r)),Co(e,t,r)):[]}function ms(e,t){return Do(e,t)}function vs(e,t,r){return Oo(e,t,Wl(r,2))}function ys(e,t){var r=null==e?0:e.length;if(r){var n=Do(e,t);if(n<r&&iu(e[n],t))return n}return-1}function As(e,t){return Do(e,t,!0)}function ws(e,t,r){return Oo(e,t,Wl(r,2),!0)}function _s(e,t){var r=null==e?0:e.length;if(r){var n=Do(e,t,!0)-1;if(iu(e[n],t))return n}return-1}function Ts(e){return e&&e.length?Io(e):[]}function bs(e,t){return e&&e.length?Io(e,Wl(t,2)):[]}function xs(e){var t=null==e?0:e.length;return t?Co(e,1,t):[]}function Es(e,t,r){return e&&e.length?(t=r||t===i?1:Zu(t),Co(e,0,t<0?0:t)):[]}function Ss(e,t,r){var n=null==e?0:e.length;return n?(t=r||t===i?1:Zu(t),t=n-t,Co(e,t<0?0:t,n)):[]}function Ps(e,t){return e&&e.length?Mo(e,Wl(t,3),!1,!0):[]}function Cs(e,t){return e&&e.length?Mo(e,Wl(t,3)):[]}var Rs=_o((function(e){return Fo(Ci(e,1,pu,!0))})),Ds=_o((function(e){var t=os(e);return pu(t)&&(t=i),Fo(Ci(e,1,pu,!0),Wl(t,2))})),Os=_o((function(e){var t=os(e);return t="function"==typeof t?t:i,Fo(Ci(e,1,pu,!0),i,t)}));function Is(e){return e&&e.length?Fo(e):[]}function Ns(e,t){return e&&e.length?Fo(e,Wl(t,2)):[]}function Ls(e,t){return t="function"==typeof t?t:i,e&&e.length?Fo(e,i,t):[]}function Fs(e){if(!e||!e.length)return[];var t=0;return e=br(e,(function(e){if(pu(e))return t=jt(e.length,t),!0})),Gr(t,(function(t){return Sr(e,jr(t))}))}function ks(e,t){if(!e||!e.length)return[];var r=Fs(e);return null==t?r:Sr(r,(function(e){return yr(t,i,e)}))}var Bs=_o((function(e,t){return pu(e)?_i(e,t):[]})),Ms=_o((function(e){return jo(br(e,pu))})),zs=_o((function(e){var t=os(e);return pu(t)&&(t=i),jo(br(e,pu),Wl(t,2))})),js=_o((function(e){var t=os(e);return t="function"==typeof t?t:i,jo(br(e,pu),i,t)})),Us=_o(Fs);function Hs(e,t){return Uo(e||[],t||[],ci)}function Vs(e,t){return Uo(e||[],t||[],xo)}var Ws=_o((function(e){var t=e.length,r=t>1?e[t-1]:i;return r="function"==typeof r?(e.pop(),r):i,ks(e,r)}));function Gs(e){var t=Tn(e);return t.__chain__=!0,t}function qs(e,t){return t(e),e}function Xs(e,t){return t(e)}var Zs=Ml((function(e){var t=e.length,r=t?e[0]:0,n=this.__wrapped__,o=function(t){return gi(t,e)};return!(t>1||this.__actions__.length)&&n instanceof Pn&&la(r)?(n=n.slice(r,+r+(t?1:0)),n.__actions__.push({func:Xs,args:[o],thisArg:i}),new Sn(n,this.__chain__).thru((function(e){return t&&!e.length&&e.push(i),e}))):this.thru(o)}));function $s(){return Gs(this)}function Ys(){return new Sn(this.value(),this.__chain__)}function Ks(){this.__values__===i&&(this.__values__=qu(this.value()));var e=this.__index__>=this.__values__.length,t=e?i:this.__values__[this.__index__++];return{done:e,value:t}}function Qs(){return this}function Js(e){var t,r=this;while(r instanceof En){var n=La(r);n.__index__=0,n.__values__=i,t?o.__wrapped__=n:t=n;var o=n;r=r.__wrapped__}return o.__wrapped__=e,t}function ec(){var e=this.__wrapped__;if(e instanceof Pn){var t=e;return this.__actions__.length&&(t=new Pn(this)),t=t.reverse(),t.__actions__.push({func:Xs,args:[fs],thisArg:i}),new Sn(t,this.__chain__)}return this.thru(fs)}function tc(){return zo(this.__wrapped__,this.__actions__)}var rc=sl((function(e,t,r){pt.call(e,r)?++e[r]:fi(e,r,1)}));function nc(e,t,r){var n=su(e)?Tr:xi;return r&&aa(e,t,r)&&(t=i),n(e,Wl(t,3))}function ic(e,t){var r=su(e)?br:Pi;return r(e,Wl(t,3))}var oc=vl(qa),lc=vl(Xa);function ac(e,t){return Ci(mc(e,t),1)}function sc(e,t){return Ci(mc(e,t),F)}function cc(e,t,r){return r=r===i?1:Zu(r),Ci(mc(e,t),r)}function uc(e,t){var r=su(e)?wr:Ti;return r(e,Wl(t,3))}function pc(e,t){var r=su(e)?_r:bi;return r(e,Wl(t,3))}var hc=sl((function(e,t,r){pt.call(e,r)?e[r].push(t):fi(e,r,[t])}));function dc(e,t,r,n){e=uu(e)?e:Up(e),r=r&&!n?Zu(r):0;var i=e.length;return r<0&&(r=jt(i+r,0)),Mu(e)?r<=i&&e.indexOf(t,r)>-1:!!i&&kr(e,t,r)>-1}var fc=_o((function(e,t,n){var i=-1,o="function"==typeof t,l=uu(e)?r(e.length):[];return Ti(e,(function(e){l[++i]=o?yr(t,e,n):Vi(e,t,n)})),l})),gc=sl((function(e,t,r){fi(e,r,t)}));function mc(e,t){var r=su(e)?Sr:oo;return r(e,Wl(t,3))}function vc(e,t,r,n){return null==e?[]:(su(t)||(t=null==t?[]:[t]),r=n?i:r,su(r)||(r=null==r?[]:[r]),po(e,t,r))}var yc=sl((function(e,t,r){e[r?0:1].push(t)}),(function(){return[[],[]]}));function Ac(e,t,r){var n=su(e)?Cr:Hr,i=arguments.length<3;return n(e,Wl(t,4),r,i,Ti)}function wc(e,t,r){var n=su(e)?Rr:Hr,i=arguments.length<3;return n(e,Wl(t,4),r,i,bi)}function _c(e,t){var r=su(e)?br:Pi;return r(e,Uc(Wl(t,3)))}function Tc(e){var t=su(e)?oi:To;return t(e)}function bc(e,t,r){t=(r?aa(e,t,r):t===i)?1:Zu(t);var n=su(e)?li:bo;return n(e,t)}function xc(e){var t=su(e)?ai:Po;return t(e)}function Ec(e){if(null==e)return 0;if(uu(e))return Mu(e)?gn(e):e.length;var t=Kl(e);return t==Q||t==oe?e.size:ro(e).length}function Sc(e,t,r){var n=su(e)?Dr:Ro;return r&&aa(e,t,r)&&(t=i),n(e,Wl(t,3))}var Pc=_o((function(e,t){if(null==e)return[];var r=t.length;return r>1&&aa(e,t[0],t[1])?t=[]:r>2&&aa(t[0],t[1],t[2])&&(t=[t[0]]),po(e,Ci(t,1),[])})),Cc=Ot||function(){return lr.Date.now()};function Rc(e,t){if("function"!=typeof t)throw new ot(s);return e=Zu(e),function(){if(--e<1)return t.apply(this,arguments)}}function Dc(e,t,r){return t=r?i:t,t=e&&null==t?e.length:t,Ol(e,E,i,i,i,i,t)}function Oc(e,t){var r;if("function"!=typeof t)throw new ot(s);return e=Zu(e),function(){return--e>0&&(r=t.apply(this,arguments)),e<=1&&(t=i),r}}var Ic=_o((function(e,t,r){var n=y;if(r.length){var i=un(r,Vl(Ic));n|=b}return Ol(e,n,t,r,i)})),Nc=_o((function(e,t,r){var n=y|A;if(r.length){var i=un(r,Vl(Nc));n|=b}return Ol(t,n,e,r,i)}));function Lc(e,t,r){t=r?i:t;var n=Ol(e,_,i,i,i,i,i,t);return n.placeholder=Lc.placeholder,n}function Fc(e,t,r){t=r?i:t;var n=Ol(e,T,i,i,i,i,i,t);return n.placeholder=Fc.placeholder,n}function kc(e,t,r){var n,o,l,a,c,u,p=0,h=!1,d=!1,f=!0;if("function"!=typeof e)throw new ot(s);function g(t){var r=n,l=o;return n=o=i,p=t,a=e.apply(l,r),a}function m(e){return p=e,c=Ea(A,t),h?g(e):a}function v(e){var r=e-u,n=e-p,i=t-r;return d?Ut(i,l-n):i}function y(e){var r=e-u,n=e-p;return u===i||r>=t||r<0||d&&n>=l}function A(){var e=Cc();if(y(e))return w(e);c=Ea(A,v(e))}function w(e){return c=i,f&&n?g(e):(n=o=i,a)}function _(){c!==i&&Xo(c),p=0,n=u=o=c=i}function T(){return c===i?a:w(Cc())}function b(){var e=Cc(),r=y(e);if(n=arguments,o=this,u=e,r){if(c===i)return m(u);if(d)return Xo(c),c=Ea(A,t),g(u)}return c===i&&(c=Ea(A,t)),a}return t=Yu(t)||0,xu(r)&&(h=!!r.leading,d="maxWait"in r,l=d?jt(Yu(r.maxWait)||0,t):l,f="trailing"in r?!!r.trailing:f),b.cancel=_,b.flush=T,b}var Bc=_o((function(e,t){return wi(e,1,t)})),Mc=_o((function(e,t,r){return wi(e,Yu(t)||0,r)}));function zc(e){return Ol(e,P)}function jc(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new ot(s);var r=function(){var n=arguments,i=t?t.apply(this,n):n[0],o=r.cache;if(o.has(i))return o.get(i);var l=e.apply(this,n);return r.cache=o.set(i,l)||o,l};return r.cache=new(jc.Cache||Vn),r}function Uc(e){if("function"!=typeof e)throw new ot(s);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}function Hc(e){return Oc(2,e)}jc.Cache=Vn;var Vc=Go((function(e,t){t=1==t.length&&su(t[0])?Sr(t[0],Zr(Wl())):Sr(Ci(t,1),Zr(Wl()));var r=t.length;return _o((function(n){var i=-1,o=Ut(n.length,r);while(++i<o)n[i]=t[i].call(this,n[i]);return yr(e,this,n)}))})),Wc=_o((function(e,t){var r=un(t,Vl(Wc));return Ol(e,b,i,t,r)})),Gc=_o((function(e,t){var r=un(t,Vl(Gc));return Ol(e,x,i,t,r)})),qc=Ml((function(e,t){return Ol(e,S,i,i,i,t)}));function Xc(e,t){if("function"!=typeof e)throw new ot(s);return t=t===i?t:Zu(t),_o(e,t)}function Zc(e,t){if("function"!=typeof e)throw new ot(s);return t=null==t?0:jt(Zu(t),0),_o((function(r){var n=r[t],i=qo(r,0,t);return n&&Pr(i,n),yr(e,this,i)}))}function $c(e,t,r){var n=!0,i=!0;if("function"!=typeof e)throw new ot(s);return xu(r)&&(n="leading"in r?!!r.leading:n,i="trailing"in r?!!r.trailing:i),kc(e,t,{leading:n,maxWait:t,trailing:i})}function Yc(e){return Dc(e,1)}function Kc(e,t){return Wc(Vo(t),e)}function Qc(){if(!arguments.length)return[];var e=arguments[0];return su(e)?e:[e]}function Jc(e){return vi(e,g)}function eu(e,t){return t="function"==typeof t?t:i,vi(e,g,t)}function tu(e){return vi(e,d|g)}function ru(e,t){return t="function"==typeof t?t:i,vi(e,d|g,t)}function nu(e,t){return null==t||Ai(e,t,Tp(t))}function iu(e,t){return e===t||e!==e&&t!==t}var ou=Sl(Bi),lu=Sl((function(e,t){return e>=t})),au=Wi(function(){return arguments}())?Wi:function(e){return Eu(e)&&pt.call(e,"callee")&&!xt.call(e,"callee")},su=r.isArray,cu=hr?Zr(hr):Gi;function uu(e){return null!=e&&bu(e.length)&&!_u(e)}function pu(e){return Eu(e)&&uu(e)}function hu(e){return!0===e||!1===e||Eu(e)&&ki(e)==q}var du=kt||Zh,fu=dr?Zr(dr):qi;function gu(e){return Eu(e)&&1===e.nodeType&&!Lu(e)}function mu(e){if(null==e)return!0;if(uu(e)&&(su(e)||"string"==typeof e||"function"==typeof e.splice||du(e)||ju(e)||au(e)))return!e.length;var t=Kl(e);if(t==Q||t==oe)return!e.size;if(da(e))return!ro(e).length;for(var r in e)if(pt.call(e,r))return!1;return!0}function vu(e,t){return Xi(e,t)}function yu(e,t,r){r="function"==typeof r?r:i;var n=r?r(e,t):i;return n===i?Xi(e,t,i,r):!!n}function Au(e){if(!Eu(e))return!1;var t=ki(e);return t==$||t==Z||"string"==typeof e.message&&"string"==typeof e.name&&!Lu(e)}function wu(e){return"number"==typeof e&&Bt(e)}function _u(e){if(!xu(e))return!1;var t=ki(e);return t==Y||t==K||t==G||t==ne}function Tu(e){return"number"==typeof e&&e==Zu(e)}function bu(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=k}function xu(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function Eu(e){return null!=e&&"object"==typeof e}var Su=fr?Zr(fr):$i;function Pu(e,t){return e===t||Yi(e,t,ql(t))}function Cu(e,t,r){return r="function"==typeof r?r:i,Yi(e,t,ql(t),r)}function Ru(e){return Nu(e)&&e!=+e}function Du(e){if(ha(e))throw new Me(a);return Ki(e)}function Ou(e){return null===e}function Iu(e){return null==e}function Nu(e){return"number"==typeof e||Eu(e)&&ki(e)==J}function Lu(e){if(!Eu(e)||ki(e)!=te)return!1;var t=Tt(e);if(null===t)return!0;var r=pt.call(t,"constructor")&&t.constructor;return"function"==typeof r&&r instanceof r&&ut.call(r)==gt}var Fu=gr?Zr(gr):Qi;function ku(e){return Tu(e)&&e>=-k&&e<=k}var Bu=mr?Zr(mr):Ji;function Mu(e){return"string"==typeof e||!su(e)&&Eu(e)&&ki(e)==le}function zu(e){return"symbol"==typeof e||Eu(e)&&ki(e)==ae}var ju=vr?Zr(vr):eo;function Uu(e){return e===i}function Hu(e){return Eu(e)&&Kl(e)==ce}function Vu(e){return Eu(e)&&ki(e)==ue}var Wu=Sl(io),Gu=Sl((function(e,t){return e<=t}));function qu(e){if(!e)return[];if(uu(e))return Mu(e)?mn(e):il(e);if(Pt&&e[Pt])return an(e[Pt]());var t=Kl(e),r=t==Q?sn:t==oe?pn:Up;return r(e)}function Xu(e){if(!e)return 0===e?e:0;if(e=Yu(e),e===F||e===-F){var t=e<0?-1:1;return t*B}return e===e?e:0}function Zu(e){var t=Xu(e),r=t%1;return t===t?r?t-r:t:0}function $u(e){return e?mi(Zu(e),0,z):0}function Yu(e){if("number"==typeof e)return e;if(zu(e))return M;if(xu(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=xu(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=Xr(e);var r=Ze.test(e);return r||Ye.test(e)?nr(e.slice(2),r?2:8):Xe.test(e)?M:+e}function Ku(e){return ol(e,bp(e))}function Qu(e){return e?mi(Zu(e),-k,k):0===e?e:0}function Ju(e){return null==e?"":Lo(e)}var ep=cl((function(e,t){if(da(t)||uu(t))ol(t,Tp(t),e);else for(var r in t)pt.call(t,r)&&ci(e,r,t[r])})),tp=cl((function(e,t){ol(t,bp(t),e)})),rp=cl((function(e,t,r,n){ol(t,bp(t),e,n)})),np=cl((function(e,t,r,n){ol(t,Tp(t),e,n)})),ip=Ml(gi);function op(e,t){var r=xn(e);return null==t?r:hi(r,t)}var lp=_o((function(e,t){e=rt(e);var r=-1,n=t.length,o=n>2?t[2]:i;o&&aa(t[0],t[1],o)&&(n=1);while(++r<n){var l=t[r],a=bp(l),s=-1,c=a.length;while(++s<c){var u=a[s],p=e[u];(p===i||iu(p,st[u])&&!pt.call(e,u))&&(e[u]=l[u])}}return e})),ap=_o((function(e){return e.push(i,Nl),yr(Pp,i,e)}));function sp(e,t){return Lr(e,Wl(t,3),Oi)}function cp(e,t){return Lr(e,Wl(t,3),Ii)}function up(e,t){return null==e?e:Ri(e,Wl(t,3),bp)}function pp(e,t){return null==e?e:Di(e,Wl(t,3),bp)}function hp(e,t){return e&&Oi(e,Wl(t,3))}function dp(e,t){return e&&Ii(e,Wl(t,3))}function fp(e){return null==e?[]:Ni(e,Tp(e))}function gp(e){return null==e?[]:Ni(e,bp(e))}function mp(e,t,r){var n=null==e?i:Li(e,t);return n===i?r:n}function vp(e,t){return null!=e&&ea(e,t,Mi)}function yp(e,t){return null!=e&&ea(e,t,zi)}var Ap=wl((function(e,t,r){null!=t&&"function"!=typeof t.toString&&(t=ft.call(t)),e[t]=r}),Sh(Dh)),wp=wl((function(e,t,r){null!=t&&"function"!=typeof t.toString&&(t=ft.call(t)),pt.call(e,t)?e[t].push(r):e[t]=[r]}),Wl),_p=_o(Vi);function Tp(e){return uu(e)?ii(e):ro(e)}function bp(e){return uu(e)?ii(e,!0):no(e)}function xp(e,t){var r={};return t=Wl(t,3),Oi(e,(function(e,n,i){fi(r,t(e,n,i),e)})),r}function Ep(e,t){var r={};return t=Wl(t,3),Oi(e,(function(e,n,i){fi(r,n,t(e,n,i))})),r}var Sp=cl((function(e,t,r){so(e,t,r)})),Pp=cl((function(e,t,r,n){so(e,t,r,n)})),Cp=Ml((function(e,t){var r={};if(null==e)return r;var n=!1;t=Sr(t,(function(t){return t=Wo(t,e),n||(n=t.length>1),t})),ol(e,jl(e),r),n&&(r=vi(r,d|f|g,Ll));var i=t.length;while(i--)ko(r,t[i]);return r}));function Rp(e,t){return Op(e,Uc(Wl(t)))}var Dp=Ml((function(e,t){return null==e?{}:ho(e,t)}));function Op(e,t){if(null==e)return{};var r=Sr(jl(e),(function(e){return[e]}));return t=Wl(t),fo(e,r,(function(e,r){return t(e,r[0])}))}function Ip(e,t,r){t=Wo(t,e);var n=-1,o=t.length;o||(o=1,e=i);while(++n<o){var l=null==e?i:e[Oa(t[n])];l===i&&(n=o,l=r),e=_u(l)?l.call(e):l}return e}function Np(e,t,r){return null==e?e:xo(e,t,r)}function Lp(e,t,r,n){return n="function"==typeof n?n:i,null==e?e:xo(e,t,r,n)}var Fp=Dl(Tp),kp=Dl(bp);function Bp(e,t,r){var n=su(e),i=n||du(e)||ju(e);if(t=Wl(t,4),null==r){var o=e&&e.constructor;r=i?n?new o:[]:xu(e)&&_u(o)?xn(Tt(e)):{}}return(i?wr:Oi)(e,(function(e,n,i){return t(r,e,n,i)})),r}function Mp(e,t){return null==e||ko(e,t)}function zp(e,t,r){return null==e?e:Bo(e,t,Vo(r))}function jp(e,t,r,n){return n="function"==typeof n?n:i,null==e?e:Bo(e,t,Vo(r),n)}function Up(e){return null==e?[]:$r(e,Tp(e))}function Hp(e){return null==e?[]:$r(e,bp(e))}function Vp(e,t,r){return r===i&&(r=t,t=i),r!==i&&(r=Yu(r),r=r===r?r:0),t!==i&&(t=Yu(t),t=t===t?t:0),mi(Yu(e),t,r)}function Wp(e,t,r){return t=Xu(t),r===i?(r=t,t=0):r=Xu(r),e=Yu(e),ji(e,t,r)}function Gp(e,t,r){if(r&&"boolean"!=typeof r&&aa(e,t,r)&&(t=r=i),r===i&&("boolean"==typeof t?(r=t,t=i):"boolean"==typeof e&&(r=e,e=i)),e===i&&t===i?(e=0,t=1):(e=Xu(e),t===i?(t=e,e=0):t=Xu(t)),e>t){var n=e;e=t,t=n}if(r||e%1||t%1){var o=qt();return Ut(e+o*(t-e+rr("1e-"+((o+"").length-1))),t)}return yo(e,t)}var qp=fl((function(e,t,r){return t=t.toLowerCase(),e+(r?Xp(t):t)}));function Xp(e){return wh(Ju(e).toLowerCase())}function Zp(e){return e=Ju(e),e&&e.replace(Qe,en).replace(Vt,"")}function $p(e,t,r){e=Ju(e),t=Lo(t);var n=e.length;r=r===i?n:mi(Zu(r),0,n);var o=r;return r-=t.length,r>=0&&e.slice(r,o)==t}function Yp(e){return e=Ju(e),e&&Ce.test(e)?e.replace(Se,tn):e}function Kp(e){return e=Ju(e),e&&ke.test(e)?e.replace(Fe,"\\$&"):e}var Qp=fl((function(e,t,r){return e+(r?"-":"")+t.toLowerCase()})),Jp=fl((function(e,t,r){return e+(r?" ":"")+t.toLowerCase()})),eh=dl("toLowerCase");function th(e,t,r){e=Ju(e),t=Zu(t);var n=t?gn(e):0;if(!t||n>=t)return e;var i=(t-n)/2;return bl(Lt(i),r)+e+bl(Nt(i),r)}function rh(e,t,r){e=Ju(e),t=Zu(t);var n=t?gn(e):0;return t&&n<t?e+bl(t-n,r):e}function nh(e,t,r){e=Ju(e),t=Zu(t);var n=t?gn(e):0;return t&&n<t?bl(t-n,r)+e:e}function ih(e,t,r){return r||null==t?t=0:t&&(t=+t),Gt(Ju(e).replace(Be,""),t||0)}function oh(e,t,r){return t=(r?aa(e,t,r):t===i)?1:Zu(t),wo(Ju(e),t)}function lh(){var e=arguments,t=Ju(e[0]);return e.length<3?t:t.replace(e[1],e[2])}var ah=fl((function(e,t,r){return e+(r?"_":"")+t.toLowerCase()}));function sh(e,t,r){return r&&"number"!=typeof r&&aa(e,t,r)&&(t=r=i),r=r===i?z:r>>>0,r?(e=Ju(e),e&&("string"==typeof t||null!=t&&!Fu(t))&&(t=Lo(t),!t&&on(e))?qo(mn(e),0,r):e.split(t,r)):[]}var ch=fl((function(e,t,r){return e+(r?" ":"")+wh(t)}));function uh(e,t,r){return e=Ju(e),r=null==r?0:mi(Zu(r),0,e.length),t=Lo(t),e.slice(r,r+t.length)==t}function ph(e,t,r){var n=Tn.templateSettings;r&&aa(e,t,r)&&(t=i),e=Ju(e),t=rp({},t,n,Il);var o,l,a=rp({},t.imports,n.imports,Il),s=Tp(a),u=$r(a,s),p=0,h=t.interpolate||Je,d="__p += '",f=nt((t.escape||Je).source+"|"+h.source+"|"+(h===Oe?Ge:Je).source+"|"+(t.evaluate||Je).source+"|$","g"),g="//# sourceURL="+(pt.call(t,"sourceURL")?(t.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++$t+"]")+"\n";e.replace(f,(function(t,r,n,i,a,s){return n||(n=i),d+=e.slice(p,s).replace(et,rn),r&&(o=!0,d+="' +\n__e("+r+") +\n'"),a&&(l=!0,d+="';\n"+a+";\n__p += '"),n&&(d+="' +\n((__t = ("+n+")) == null ? '' : __t) +\n'"),p=s+t.length,t})),d+="';\n";var m=pt.call(t,"variable")&&t.variable;if(m){if(Ve.test(m))throw new Me(c)}else d="with (obj) {\n"+d+"\n}\n";d=(l?d.replace(Te,""):d).replace(be,"$1").replace(xe,"$1;"),d="function("+(m||"obj")+") {\n"+(m?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(o?", __e = _.escape":"")+(l?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+d+"return __p\n}";var v=Th((function(){return He(s,g+"return "+d).apply(i,u)}));if(v.source=d,Au(v))throw v;return v}function hh(e){return Ju(e).toLowerCase()}function dh(e){return Ju(e).toUpperCase()}function fh(e,t,r){if(e=Ju(e),e&&(r||t===i))return Xr(e);if(!e||!(t=Lo(t)))return e;var n=mn(e),o=mn(t),l=Kr(n,o),a=Qr(n,o)+1;return qo(n,l,a).join("")}function gh(e,t,r){if(e=Ju(e),e&&(r||t===i))return e.slice(0,vn(e)+1);if(!e||!(t=Lo(t)))return e;var n=mn(e),o=Qr(n,mn(t))+1;return qo(n,0,o).join("")}function mh(e,t,r){if(e=Ju(e),e&&(r||t===i))return e.replace(Be,"");if(!e||!(t=Lo(t)))return e;var n=mn(e),o=Kr(n,mn(t));return qo(n,o).join("")}function vh(e,t){var r=C,n=R;if(xu(t)){var o="separator"in t?t.separator:o;r="length"in t?Zu(t.length):r,n="omission"in t?Lo(t.omission):n}e=Ju(e);var l=e.length;if(on(e)){var a=mn(e);l=a.length}if(r>=l)return e;var s=r-gn(n);if(s<1)return n;var c=a?qo(a,0,s).join(""):e.slice(0,s);if(o===i)return c+n;if(a&&(s+=c.length-s),Fu(o)){if(e.slice(s).search(o)){var u,p=c;o.global||(o=nt(o.source,Ju(qe.exec(o))+"g")),o.lastIndex=0;while(u=o.exec(p))var h=u.index;c=c.slice(0,h===i?s:h)}}else if(e.indexOf(Lo(o),s)!=s){var d=c.lastIndexOf(o);d>-1&&(c=c.slice(0,d))}return c+n}function yh(e){return e=Ju(e),e&&Pe.test(e)?e.replace(Ee,yn):e}var Ah=fl((function(e,t,r){return e+(r?" ":"")+t.toUpperCase()})),wh=dl("toUpperCase");function _h(e,t,r){return e=Ju(e),t=r?i:t,t===i?ln(e)?_n(e):Nr(e):e.match(t)||[]}var Th=_o((function(e,t){try{return yr(e,i,t)}catch(r){return Au(r)?r:new Me(r)}})),bh=Ml((function(e,t){return wr(t,(function(t){t=Oa(t),fi(e,t,Ic(e[t],e))})),e}));function xh(e){var t=null==e?0:e.length,r=Wl();return e=t?Sr(e,(function(e){if("function"!=typeof e[1])throw new ot(s);return[r(e[0]),e[1]]})):[],_o((function(r){var n=-1;while(++n<t){var i=e[n];if(yr(i[0],this,r))return yr(i[1],this,r)}}))}function Eh(e){return yi(vi(e,d))}function Sh(e){return function(){return e}}function Ph(e,t){return null==e||e!==e?t:e}var Ch=yl(),Rh=yl(!0);function Dh(e){return e}function Oh(e){return to("function"==typeof e?e:vi(e,d))}function Ih(e){return lo(vi(e,d))}function Nh(e,t){return ao(e,vi(t,d))}var Lh=_o((function(e,t){return function(r){return Vi(r,e,t)}})),Fh=_o((function(e,t){return function(r){return Vi(e,r,t)}}));function kh(e,t,r){var n=Tp(t),i=Ni(t,n);null!=r||xu(t)&&(i.length||!n.length)||(r=t,t=e,e=this,i=Ni(t,Tp(t)));var o=!(xu(r)&&"chain"in r)||!!r.chain,l=_u(e);return wr(i,(function(r){var n=t[r];e[r]=n,l&&(e.prototype[r]=function(){var t=this.__chain__;if(o||t){var r=e(this.__wrapped__),i=r.__actions__=il(this.__actions__);return i.push({func:n,args:arguments,thisArg:e}),r.__chain__=t,r}return n.apply(e,Pr([this.value()],arguments))})})),e}function Bh(){return lr._===this&&(lr._=mt),this}function Mh(){}function zh(e){return e=Zu(e),_o((function(t){return uo(t,e)}))}var jh=Tl(Sr),Uh=Tl(Tr),Hh=Tl(Dr);function Vh(e){return sa(e)?jr(Oa(e)):go(e)}function Wh(e){return function(t){return null==e?i:Li(e,t)}}var Gh=El(),qh=El(!0);function Xh(){return[]}function Zh(){return!1}function $h(){return{}}function Yh(){return""}function Kh(){return!0}function Qh(e,t){if(e=Zu(e),e<1||e>k)return[];var r=z,n=Ut(e,z);t=Wl(t),e-=z;var i=Gr(n,t);while(++r<e)t(r);return i}function Jh(e){return su(e)?Sr(e,Oa):zu(e)?[e]:il(Da(Ju(e)))}function ed(e){var t=++ht;return Ju(e)+t}var td=_l((function(e,t){return e+t}),0),rd=Cl("ceil"),nd=_l((function(e,t){return e/t}),1),id=Cl("floor");function od(e){return e&&e.length?Ei(e,Dh,Bi):i}function ld(e,t){return e&&e.length?Ei(e,Wl(t,2),Bi):i}function ad(e){return zr(e,Dh)}function sd(e,t){return zr(e,Wl(t,2))}function cd(e){return e&&e.length?Ei(e,Dh,io):i}function ud(e,t){return e&&e.length?Ei(e,Wl(t,2),io):i}var pd=_l((function(e,t){return e*t}),1),hd=Cl("round"),dd=_l((function(e,t){return e-t}),0);function fd(e){return e&&e.length?Wr(e,Dh):0}function gd(e,t){return e&&e.length?Wr(e,Wl(t,2)):0}return Tn.after=Rc,Tn.ary=Dc,Tn.assign=ep,Tn.assignIn=tp,Tn.assignInWith=rp,Tn.assignWith=np,Tn.at=ip,Tn.before=Oc,Tn.bind=Ic,Tn.bindAll=bh,Tn.bindKey=Nc,Tn.castArray=Qc,Tn.chain=Gs,Tn.chunk=Fa,Tn.compact=ka,Tn.concat=Ba,Tn.cond=xh,Tn.conforms=Eh,Tn.constant=Sh,Tn.countBy=rc,Tn.create=op,Tn.curry=Lc,Tn.curryRight=Fc,Tn.debounce=kc,Tn.defaults=lp,Tn.defaultsDeep=ap,Tn.defer=Bc,Tn.delay=Mc,Tn.difference=Ma,Tn.differenceBy=za,Tn.differenceWith=ja,Tn.drop=Ua,Tn.dropRight=Ha,Tn.dropRightWhile=Va,Tn.dropWhile=Wa,Tn.fill=Ga,Tn.filter=ic,Tn.flatMap=ac,Tn.flatMapDeep=sc,Tn.flatMapDepth=cc,Tn.flatten=Za,Tn.flattenDeep=$a,Tn.flattenDepth=Ya,Tn.flip=zc,Tn.flow=Ch,Tn.flowRight=Rh,Tn.fromPairs=Ka,Tn.functions=fp,Tn.functionsIn=gp,Tn.groupBy=hc,Tn.initial=es,Tn.intersection=ts,Tn.intersectionBy=rs,Tn.intersectionWith=ns,Tn.invert=Ap,Tn.invertBy=wp,Tn.invokeMap=fc,Tn.iteratee=Oh,Tn.keyBy=gc,Tn.keys=Tp,Tn.keysIn=bp,Tn.map=mc,Tn.mapKeys=xp,Tn.mapValues=Ep,Tn.matches=Ih,Tn.matchesProperty=Nh,Tn.memoize=jc,Tn.merge=Sp,Tn.mergeWith=Pp,Tn.method=Lh,Tn.methodOf=Fh,Tn.mixin=kh,Tn.negate=Uc,Tn.nthArg=zh,Tn.omit=Cp,Tn.omitBy=Rp,Tn.once=Hc,Tn.orderBy=vc,Tn.over=jh,Tn.overArgs=Vc,Tn.overEvery=Uh,Tn.overSome=Hh,Tn.partial=Wc,Tn.partialRight=Gc,Tn.partition=yc,Tn.pick=Dp,Tn.pickBy=Op,Tn.property=Vh,Tn.propertyOf=Wh,Tn.pull=ss,Tn.pullAll=cs,Tn.pullAllBy=us,Tn.pullAllWith=ps,Tn.pullAt=hs,Tn.range=Gh,Tn.rangeRight=qh,Tn.rearg=qc,Tn.reject=_c,Tn.remove=ds,Tn.rest=Xc,Tn.reverse=fs,Tn.sampleSize=bc,Tn.set=Np,Tn.setWith=Lp,Tn.shuffle=xc,Tn.slice=gs,Tn.sortBy=Pc,Tn.sortedUniq=Ts,Tn.sortedUniqBy=bs,Tn.split=sh,Tn.spread=Zc,Tn.tail=xs,Tn.take=Es,Tn.takeRight=Ss,Tn.takeRightWhile=Ps,Tn.takeWhile=Cs,Tn.tap=qs,Tn.throttle=$c,Tn.thru=Xs,Tn.toArray=qu,Tn.toPairs=Fp,Tn.toPairsIn=kp,Tn.toPath=Jh,Tn.toPlainObject=Ku,Tn.transform=Bp,Tn.unary=Yc,Tn.union=Rs,Tn.unionBy=Ds,Tn.unionWith=Os,Tn.uniq=Is,Tn.uniqBy=Ns,Tn.uniqWith=Ls,Tn.unset=Mp,Tn.unzip=Fs,Tn.unzipWith=ks,Tn.update=zp,Tn.updateWith=jp,Tn.values=Up,Tn.valuesIn=Hp,Tn.without=Bs,Tn.words=_h,Tn.wrap=Kc,Tn.xor=Ms,Tn.xorBy=zs,Tn.xorWith=js,Tn.zip=Us,Tn.zipObject=Hs,Tn.zipObjectDeep=Vs,Tn.zipWith=Ws,Tn.entries=Fp,Tn.entriesIn=kp,Tn.extend=tp,Tn.extendWith=rp,kh(Tn,Tn),Tn.add=td,Tn.attempt=Th,Tn.camelCase=qp,Tn.capitalize=Xp,Tn.ceil=rd,Tn.clamp=Vp,Tn.clone=Jc,Tn.cloneDeep=tu,Tn.cloneDeepWith=ru,Tn.cloneWith=eu,Tn.conformsTo=nu,Tn.deburr=Zp,Tn.defaultTo=Ph,Tn.divide=nd,Tn.endsWith=$p,Tn.eq=iu,Tn.escape=Yp,Tn.escapeRegExp=Kp,Tn.every=nc,Tn.find=oc,Tn.findIndex=qa,Tn.findKey=sp,Tn.findLast=lc,Tn.findLastIndex=Xa,Tn.findLastKey=cp,Tn.floor=id,Tn.forEach=uc,Tn.forEachRight=pc,Tn.forIn=up,Tn.forInRight=pp,Tn.forOwn=hp,Tn.forOwnRight=dp,Tn.get=mp,Tn.gt=ou,Tn.gte=lu,Tn.has=vp,Tn.hasIn=yp,Tn.head=Qa,Tn.identity=Dh,Tn.includes=dc,Tn.indexOf=Ja,Tn.inRange=Wp,Tn.invoke=_p,Tn.isArguments=au,Tn.isArray=su,Tn.isArrayBuffer=cu,Tn.isArrayLike=uu,Tn.isArrayLikeObject=pu,Tn.isBoolean=hu,Tn.isBuffer=du,Tn.isDate=fu,Tn.isElement=gu,Tn.isEmpty=mu,Tn.isEqual=vu,Tn.isEqualWith=yu,Tn.isError=Au,Tn.isFinite=wu,Tn.isFunction=_u,Tn.isInteger=Tu,Tn.isLength=bu,Tn.isMap=Su,Tn.isMatch=Pu,Tn.isMatchWith=Cu,Tn.isNaN=Ru,Tn.isNative=Du,Tn.isNil=Iu,Tn.isNull=Ou,Tn.isNumber=Nu,Tn.isObject=xu,Tn.isObjectLike=Eu,Tn.isPlainObject=Lu,Tn.isRegExp=Fu,Tn.isSafeInteger=ku,Tn.isSet=Bu,Tn.isString=Mu,Tn.isSymbol=zu,Tn.isTypedArray=ju,Tn.isUndefined=Uu,Tn.isWeakMap=Hu,Tn.isWeakSet=Vu,Tn.join=is,Tn.kebabCase=Qp,Tn.last=os,Tn.lastIndexOf=ls,Tn.lowerCase=Jp,Tn.lowerFirst=eh,Tn.lt=Wu,Tn.lte=Gu,Tn.max=od,Tn.maxBy=ld,Tn.mean=ad,Tn.meanBy=sd,Tn.min=cd,Tn.minBy=ud,Tn.stubArray=Xh,Tn.stubFalse=Zh,Tn.stubObject=$h,Tn.stubString=Yh,Tn.stubTrue=Kh,Tn.multiply=pd,Tn.nth=as,Tn.noConflict=Bh,Tn.noop=Mh,Tn.now=Cc,Tn.pad=th,Tn.padEnd=rh,Tn.padStart=nh,Tn.parseInt=ih,Tn.random=Gp,Tn.reduce=Ac,Tn.reduceRight=wc,Tn.repeat=oh,Tn.replace=lh,Tn.result=Ip,Tn.round=hd,Tn.runInContext=e,Tn.sample=Tc,Tn.size=Ec,Tn.snakeCase=ah,Tn.some=Sc,Tn.sortedIndex=ms,Tn.sortedIndexBy=vs,Tn.sortedIndexOf=ys,Tn.sortedLastIndex=As,Tn.sortedLastIndexBy=ws,Tn.sortedLastIndexOf=_s,Tn.startCase=ch,Tn.startsWith=uh,Tn.subtract=dd,Tn.sum=fd,Tn.sumBy=gd,Tn.template=ph,Tn.times=Qh,Tn.toFinite=Xu,Tn.toInteger=Zu,Tn.toLength=$u,Tn.toLower=hh,Tn.toNumber=Yu,Tn.toSafeInteger=Qu,Tn.toString=Ju,Tn.toUpper=dh,Tn.trim=fh,Tn.trimEnd=gh,Tn.trimStart=mh,Tn.truncate=vh,Tn.unescape=yh,Tn.uniqueId=ed,Tn.upperCase=Ah,Tn.upperFirst=wh,Tn.each=uc,Tn.eachRight=pc,Tn.first=Qa,kh(Tn,function(){var e={};return Oi(Tn,(function(t,r){pt.call(Tn.prototype,r)||(e[r]=t)})),e}(),{chain:!1}),Tn.VERSION=o,wr(["bind","bindKey","curry","curryRight","partial","partialRight"],(function(e){Tn[e].placeholder=Tn})),wr(["drop","take"],(function(e,t){Pn.prototype[e]=function(r){r=r===i?1:jt(Zu(r),0);var n=this.__filtered__&&!t?new Pn(this):this.clone();return n.__filtered__?n.__takeCount__=Ut(r,n.__takeCount__):n.__views__.push({size:Ut(r,z),type:e+(n.__dir__<0?"Right":"")}),n},Pn.prototype[e+"Right"]=function(t){return this.reverse()[e](t).reverse()}})),wr(["filter","map","takeWhile"],(function(e,t){var r=t+1,n=r==I||r==L;Pn.prototype[e]=function(e){var t=this.clone();return t.__iteratees__.push({iteratee:Wl(e,3),type:r}),t.__filtered__=t.__filtered__||n,t}})),wr(["head","last"],(function(e,t){var r="take"+(t?"Right":"");Pn.prototype[e]=function(){return this[r](1).value()[0]}})),wr(["initial","tail"],(function(e,t){var r="drop"+(t?"":"Right");Pn.prototype[e]=function(){return this.__filtered__?new Pn(this):this[r](1)}})),Pn.prototype.compact=function(){return this.filter(Dh)},Pn.prototype.find=function(e){return this.filter(e).head()},Pn.prototype.findLast=function(e){return this.reverse().find(e)},Pn.prototype.invokeMap=_o((function(e,t){return"function"==typeof e?new Pn(this):this.map((function(r){return Vi(r,e,t)}))})),Pn.prototype.reject=function(e){return this.filter(Uc(Wl(e)))},Pn.prototype.slice=function(e,t){e=Zu(e);var r=this;return r.__filtered__&&(e>0||t<0)?new Pn(r):(e<0?r=r.takeRight(-e):e&&(r=r.drop(e)),t!==i&&(t=Zu(t),r=t<0?r.dropRight(-t):r.take(t-e)),r)},Pn.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},Pn.prototype.toArray=function(){return this.take(z)},Oi(Pn.prototype,(function(e,t){var r=/^(?:filter|find|map|reject)|While$/.test(t),n=/^(?:head|last)$/.test(t),o=Tn[n?"take"+("last"==t?"Right":""):t],l=n||/^find/.test(t);o&&(Tn.prototype[t]=function(){var t=this.__wrapped__,a=n?[1]:arguments,s=t instanceof Pn,c=a[0],u=s||su(t),p=function(e){var t=o.apply(Tn,Pr([e],a));return n&&h?t[0]:t};u&&r&&"function"==typeof c&&1!=c.length&&(s=u=!1);var h=this.__chain__,d=!!this.__actions__.length,f=l&&!h,g=s&&!d;if(!l&&u){t=g?t:new Pn(this);var m=e.apply(t,a);return m.__actions__.push({func:Xs,args:[p],thisArg:i}),new Sn(m,h)}return f&&g?e.apply(this,a):(m=this.thru(p),f?n?m.value()[0]:m.value():m)})})),wr(["pop","push","shift","sort","splice","unshift"],(function(e){var t=lt[e],r=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",n=/^(?:pop|shift)$/.test(e);Tn.prototype[e]=function(){var e=arguments;if(n&&!this.__chain__){var i=this.value();return t.apply(su(i)?i:[],e)}return this[r]((function(r){return t.apply(su(r)?r:[],e)}))}})),Oi(Pn.prototype,(function(e,t){var r=Tn[t];if(r){var n=r.name+"";pt.call(sr,n)||(sr[n]=[]),sr[n].push({name:t,func:r})}})),sr[Al(i,A).name]=[{name:"wrapper",func:i}],Pn.prototype.clone=Cn,Pn.prototype.reverse=Rn,Pn.prototype.value=Dn,Tn.prototype.at=Zs,Tn.prototype.chain=$s,Tn.prototype.commit=Ys,Tn.prototype.next=Ks,Tn.prototype.plant=Js,Tn.prototype.reverse=ec,Tn.prototype.toJSON=Tn.prototype.valueOf=Tn.prototype.value=tc,Tn.prototype.first=Tn.prototype.head,Pt&&(Tn.prototype[Pt]=Qs),Tn},bn=Tn();lr._=bn,n=function(){return bn}.call(t,r,t,e),n===i||(e.exports=n)}.call(this)},7934:function(e,t,r){var n,i,o;//! openseadragon 5.0.0
//! Built on 2024-08-14
//! Git commit: v5.0.0-0-f28b7fc1
//! http://openseadragon.github.io
//! License: http://openseadragon.github.io/license/
function l(e){return new l.Viewer(e)}r(4114),r(6573),r(8100),r(7936),r(7467),r(4732),r(9577),r(4603),r(7566),r(8721),function(e){e.version={versionStr:"5.0.0",major:parseInt("5",10),minor:parseInt("0",10),revision:parseInt("0",10)};var t={"[object Boolean]":"boolean","[object Number]":"number","[object String]":"string","[object Function]":"function","[object AsyncFunction]":"function","[object Promise]":"promise","[object Array]":"array","[object Date]":"date","[object RegExp]":"regexp","[object Object]":"object"},r=Object.prototype.toString,n=Object.prototype.hasOwnProperty;e.isFunction=function(t){return"function"===e.type(t)},e.isArray=Array.isArray||function(t){return"array"===e.type(t)},e.isWindow=function(e){return e&&"object"===typeof e&&"setInterval"in e},e.type=function(e){return null===e||void 0===e?String(e):t[r.call(e)]||"object"},e.isPlainObject=function(t){if(!t||"object"!==l.type(t)||t.nodeType||e.isWindow(t))return!1;if(t.constructor&&!n.call(t,"constructor")&&!n.call(t.constructor.prototype,"isPrototypeOf"))return!1;var r;for(var i in t)r=i;return void 0===r||n.call(t,r)},e.isEmptyObject=function(e){for(var t in e)return!1;return!0},e.freezeObject=function(t){return Object.freeze?e.freezeObject=Object.freeze:e.freezeObject=function(e){return e},e.freezeObject(t)},e.supportsCanvas=function(){var t=document.createElement("canvas");return!(!e.isFunction(t.getContext)||!t.getContext("2d"))}(),e.isCanvasTainted=function(e){var t=!1;try{e.getContext("2d").getImageData(0,0,1,1)}catch(r){t=!0}return t},e.supportsAddEventListener=function(){return!(!document.documentElement.addEventListener||!document.addEventListener)}(),e.supportsRemoveEventListener=function(){return!(!document.documentElement.removeEventListener||!document.removeEventListener)}(),e.supportsEventListenerOptions=function(){var t=0;if(e.supportsAddEventListener)try{var r={get capture(){return t++,!1},get once(){return t++,!1},get passive(){return t++,!1}};window.addEventListener("test",null,r),window.removeEventListener("test",null,r)}catch(n){t=0}return t>=3}(),e.getCurrentPixelDensityRatio=function(){if(e.supportsCanvas){var t=document.createElement("canvas").getContext("2d"),r=window.devicePixelRatio||1,n=t.webkitBackingStorePixelRatio||t.mozBackingStorePixelRatio||t.msBackingStorePixelRatio||t.oBackingStorePixelRatio||t.backingStorePixelRatio||1;return Math.max(r,1)/n}return 1},e.pixelDensityRatio=e.getCurrentPixelDensityRatio()}(l),function(e){e.extend=function(){var t,r,n,i,o,a,s=arguments[0]||{},c=arguments.length,u=!1,p=1;for("boolean"===typeof s&&(u=s,s=arguments[1]||{},p=2),"object"===typeof s||l.isFunction(s)||(s={}),c===p&&(s=this,--p);p<c;p++)if(t=arguments[p],null!==t||void 0!==t)for(r in t){var h=Object.getOwnPropertyDescriptor(t,r);void 0!==h?h.get||h.set?Object.defineProperty(s,r,h):(i=h.value,s!==i&&(u&&i&&(l.isPlainObject(i)||(o=l.isArray(i)))?(n=s[r],o?(o=!1,a=n&&l.isArray(n)?n:[]):a=n&&l.isPlainObject(n)?n:{},s[r]=l.extend(u,a,i)):void 0!==i&&(s[r]=i))):e.console.warn('Could not copy inherited property "'+r+'".')}return s};var t=function(){if("object"!==typeof navigator)return!1;var e=navigator.userAgent;return"string"===typeof e&&(-1!==e.indexOf("iPhone")||-1!==e.indexOf("iPad")||-1!==e.indexOf("iPod"))};e.extend(e,{DEFAULT_SETTINGS:{xmlPath:null,tileSources:null,tileHost:null,initialPage:0,crossOriginPolicy:!1,ajaxWithCredentials:!1,loadTilesWithAjax:!1,ajaxHeaders:{},splitHashDataForPost:!1,panHorizontal:!0,panVertical:!0,constrainDuringPan:!1,wrapHorizontal:!1,wrapVertical:!1,visibilityRatio:.5,minPixelRatio:.5,defaultZoomLevel:0,minZoomLevel:null,maxZoomLevel:null,homeFillsViewer:!1,clickTimeThreshold:300,clickDistThreshold:5,dblClickTimeThreshold:300,dblClickDistThreshold:20,springStiffness:6.5,animationTime:1.2,gestureSettingsMouse:{dragToPan:!0,scrollToZoom:!0,clickToZoom:!0,dblClickToZoom:!1,dblClickDragToZoom:!1,pinchToZoom:!1,zoomToRefPoint:!0,flickEnabled:!1,flickMinSpeed:120,flickMomentum:.25,pinchRotate:!1},gestureSettingsTouch:{dragToPan:!0,scrollToZoom:!1,clickToZoom:!1,dblClickToZoom:!0,dblClickDragToZoom:!0,pinchToZoom:!0,zoomToRefPoint:!0,flickEnabled:!0,flickMinSpeed:120,flickMomentum:.25,pinchRotate:!1},gestureSettingsPen:{dragToPan:!0,scrollToZoom:!1,clickToZoom:!0,dblClickToZoom:!1,dblClickDragToZoom:!1,pinchToZoom:!1,zoomToRefPoint:!0,flickEnabled:!1,flickMinSpeed:120,flickMomentum:.25,pinchRotate:!1},gestureSettingsUnknown:{dragToPan:!0,scrollToZoom:!1,clickToZoom:!1,dblClickToZoom:!0,dblClickDragToZoom:!1,pinchToZoom:!0,zoomToRefPoint:!0,flickEnabled:!0,flickMinSpeed:120,flickMomentum:.25,pinchRotate:!1},zoomPerClick:2,zoomPerScroll:1.2,zoomPerDblClickDrag:1.2,zoomPerSecond:1,blendTime:0,alwaysBlend:!1,autoHideControls:!0,immediateRender:!1,minZoomImageRatio:.9,maxZoomPixelRatio:1.1,smoothTileEdgesMinZoom:1.1,iOSDevice:t(),pixelsPerWheelLine:40,pixelsPerArrowPress:40,autoResize:!0,preserveImageSizeOnResize:!1,minScrollDeltaTime:50,rotationIncrement:90,maxTilesPerFrame:1,showSequenceControl:!0,sequenceControlAnchor:null,preserveViewport:!1,preserveOverlays:!1,navPrevNextWrap:!1,showNavigationControl:!0,navigationControlAnchor:null,showZoomControl:!0,showHomeControl:!0,showFullPageControl:!0,showRotationControl:!1,showFlipControl:!1,controlsFadeDelay:2e3,controlsFadeLength:1500,mouseNavEnabled:!0,showNavigator:!1,navigatorElement:null,navigatorId:null,navigatorPosition:null,navigatorSizeRatio:.2,navigatorMaintainSizeRatio:!1,navigatorTop:null,navigatorLeft:null,navigatorHeight:null,navigatorWidth:null,navigatorAutoResize:!0,navigatorAutoFade:!0,navigatorRotate:!0,navigatorBackground:"#000",navigatorOpacity:.8,navigatorBorderColor:"#555",navigatorDisplayRegionColor:"#900",degrees:0,flipped:!1,overlayPreserveContentDirection:!0,opacity:1,compositeOperation:null,drawer:["webgl","canvas","html"],drawerOptions:{webgl:{},canvas:{},html:{},custom:{}},preload:!1,imageSmoothingEnabled:!0,placeholderFillStyle:null,subPixelRoundingForTransparency:null,showReferenceStrip:!1,referenceStripScroll:"horizontal",referenceStripElement:null,referenceStripHeight:null,referenceStripWidth:null,referenceStripPosition:"BOTTOM_LEFT",referenceStripSizeRatio:.2,collectionRows:3,collectionColumns:0,collectionLayout:"horizontal",collectionMode:!1,collectionTileSize:800,collectionTileMargin:80,imageLoaderLimit:0,maxImageCacheCount:200,timeout:3e4,tileRetryMax:0,tileRetryDelay:2500,prefixUrl:"/images/",navImages:{zoomIn:{REST:"zoomin_rest.png",GROUP:"zoomin_grouphover.png",HOVER:"zoomin_hover.png",DOWN:"zoomin_pressed.png"},zoomOut:{REST:"zoomout_rest.png",GROUP:"zoomout_grouphover.png",HOVER:"zoomout_hover.png",DOWN:"zoomout_pressed.png"},home:{REST:"home_rest.png",GROUP:"home_grouphover.png",HOVER:"home_hover.png",DOWN:"home_pressed.png"},fullpage:{REST:"fullpage_rest.png",GROUP:"fullpage_grouphover.png",HOVER:"fullpage_hover.png",DOWN:"fullpage_pressed.png"},rotateleft:{REST:"rotateleft_rest.png",GROUP:"rotateleft_grouphover.png",HOVER:"rotateleft_hover.png",DOWN:"rotateleft_pressed.png"},rotateright:{REST:"rotateright_rest.png",GROUP:"rotateright_grouphover.png",HOVER:"rotateright_hover.png",DOWN:"rotateright_pressed.png"},flip:{REST:"flip_rest.png",GROUP:"flip_grouphover.png",HOVER:"flip_hover.png",DOWN:"flip_pressed.png"},previous:{REST:"previous_rest.png",GROUP:"previous_grouphover.png",HOVER:"previous_hover.png",DOWN:"previous_pressed.png"},next:{REST:"next_rest.png",GROUP:"next_grouphover.png",HOVER:"next_hover.png",DOWN:"next_pressed.png"}},debugMode:!1,debugGridColor:["#437AB2","#1B9E77","#D95F02","#7570B3","#E7298A","#66A61E","#E6AB02","#A6761D","#666666"],silenceMultiImageWarnings:!1},delegate:function(e,t){return function(){var r=arguments;return void 0===r&&(r=[]),t.apply(e,r)}},BROWSERS:{UNKNOWN:0,IE:1,FIREFOX:2,SAFARI:3,CHROME:4,OPERA:5,EDGE:6,CHROMEEDGE:7},SUBPIXEL_ROUNDING_OCCURRENCES:{NEVER:0,ONLY_AT_REST:1,ALWAYS:2},_viewers:new Map,getViewer:function(t){return e._viewers.get(this.getElement(t))},getElement:function(e){return"string"===typeof e&&(e=document.getElementById(e)),e},getElementPosition:function(t){var r,n,i=new e.Point;t=e.getElement(t),r="fixed"===e.getElementStyle(t).position,n=o(t,r);while(n)i.x+=t.offsetLeft,i.y+=t.offsetTop,r&&(i=i.plus(e.getPageScroll())),t=n,r="fixed"===e.getElementStyle(t).position,n=o(t,r);return i},getElementOffset:function(t){t=e.getElement(t);var r,n,i=t&&t.ownerDocument,o={top:0,left:0};return i?(r=i.documentElement,"undefined"!==typeof t.getBoundingClientRect&&(o=t.getBoundingClientRect()),n=i===i.window?i:9===i.nodeType&&(i.defaultView||i.parentWindow),new e.Point(o.left+(n.pageXOffset||r.scrollLeft)-(r.clientLeft||0),o.top+(n.pageYOffset||r.scrollTop)-(r.clientTop||0))):new e.Point},getElementSize:function(t){return t=e.getElement(t),new e.Point(t.clientWidth,t.clientHeight)},getElementStyle:document.documentElement.currentStyle?function(t){return t=e.getElement(t),t.currentStyle}:function(t){return t=e.getElement(t),window.getComputedStyle(t,"")},getCssPropertyWithVendorPrefix:function(t){var r={};return e.getCssPropertyWithVendorPrefix=function(t){if(void 0!==r[t])return r[t];var n=document.createElement("div").style,i=null;if(void 0!==n[t])i=t;else for(var o=["Webkit","Moz","MS","O","webkit","moz","ms","o"],l=e.capitalizeFirstLetter(t),a=0;a<o.length;a++){var s=o[a]+l;if(void 0!==n[s]){i=s;break}}return r[t]=i,i},e.getCssPropertyWithVendorPrefix(t)},capitalizeFirstLetter:function(e){return e.charAt(0).toUpperCase()+e.slice(1)},positiveModulo:function(e,t){var r=e%t;return r<0&&(r+=t),r},pointInElement:function(t,r){t=e.getElement(t);var n=e.getElementOffset(t),i=e.getElementSize(t);return r.x>=n.x&&r.x<n.x+i.x&&r.y<n.y+i.y&&r.y>=n.y},getMousePosition:function(t){if("number"===typeof t.pageX)e.getMousePosition=function(t){var r=new e.Point;return r.x=t.pageX,r.y=t.pageY,r};else{if("number"!==typeof t.clientX)throw new Error("Unknown event mouse position, no known technique.");e.getMousePosition=function(t){var r=new e.Point;return r.x=t.clientX+document.body.scrollLeft+document.documentElement.scrollLeft,r.y=t.clientY+document.body.scrollTop+document.documentElement.scrollTop,r}}return e.getMousePosition(t)},getPageScroll:function(){var t=document.documentElement||{},r=document.body||{};if("number"===typeof window.pageXOffset)e.getPageScroll=function(){return new e.Point(window.pageXOffset,window.pageYOffset)};else if(r.scrollLeft||r.scrollTop)e.getPageScroll=function(){return new e.Point(document.body.scrollLeft,document.body.scrollTop)};else{if(!t.scrollLeft&&!t.scrollTop)return new e.Point(0,0);e.getPageScroll=function(){return new e.Point(document.documentElement.scrollLeft,document.documentElement.scrollTop)}}return e.getPageScroll()},setPageScroll:function(t){if("undefined"!==typeof window.scrollTo)e.setPageScroll=function(e){window.scrollTo(e.x,e.y)};else{var r=e.getPageScroll();if(r.x===t.x&&r.y===t.y)return;document.body.scrollLeft=t.x,document.body.scrollTop=t.y;var n=e.getPageScroll();if(n.x!==r.x&&n.y!==r.y)return void(e.setPageScroll=function(e){document.body.scrollLeft=e.x,document.body.scrollTop=e.y});if(document.documentElement.scrollLeft=t.x,document.documentElement.scrollTop=t.y,n=e.getPageScroll(),n.x!==r.x&&n.y!==r.y)return void(e.setPageScroll=function(e){document.documentElement.scrollLeft=e.x,document.documentElement.scrollTop=e.y});e.setPageScroll=function(e){}}e.setPageScroll(t)},getWindowSize:function(){var t=document.documentElement||{},r=document.body||{};if("number"===typeof window.innerWidth)e.getWindowSize=function(){return new e.Point(window.innerWidth,window.innerHeight)};else if(t.clientWidth||t.clientHeight)e.getWindowSize=function(){return new e.Point(document.documentElement.clientWidth,document.documentElement.clientHeight)};else{if(!r.clientWidth&&!r.clientHeight)throw new Error("Unknown window size, no known technique.");e.getWindowSize=function(){return new e.Point(document.body.clientWidth,document.body.clientHeight)}}return e.getWindowSize()},makeCenteredNode:function(t){t=e.getElement(t);var r=[e.makeNeutralElement("div"),e.makeNeutralElement("div"),e.makeNeutralElement("div")];return e.extend(r[0].style,{display:"table",height:"100%",width:"100%"}),e.extend(r[1].style,{display:"table-row"}),e.extend(r[2].style,{display:"table-cell",verticalAlign:"middle",textAlign:"center"}),r[0].appendChild(r[1]),r[1].appendChild(r[2]),r[2].appendChild(t),r[0]},makeNeutralElement:function(e){var t=document.createElement(e),r=t.style;return r.background="transparent none",r.border="none",r.margin="0px",r.padding="0px",r.position="static",t},now:function(){return Date.now?e.now=Date.now:e.now=function(){return(new Date).getTime()},e.now()},makeTransparentImage:function(t){var r=e.makeNeutralElement("img");return r.src=t,r},setElementOpacity:function(t,r,n){var i,o;t=e.getElement(t),n&&!e.Browser.alpha&&(r=Math.round(r)),e.Browser.opacity?t.style.opacity=r<1?r:"":r<1?(i=Math.round(100*r),o="alpha(opacity="+i+")",t.style.filter=o):t.style.filter=""},setElementTouchActionNone:function(t){t=e.getElement(t),"undefined"!==typeof t.style.touchAction?t.style.touchAction="none":"undefined"!==typeof t.style.msTouchAction&&(t.style.msTouchAction="none")},setElementPointerEvents:function(t,r){t=e.getElement(t),"undefined"!==typeof t.style&&"undefined"!==typeof t.style.pointerEvents&&(t.style.pointerEvents=r)},setElementPointerEventsNone:function(t){e.setElementPointerEvents(t,"none")},addClass:function(t,r){t=e.getElement(t),t.className?-1===(" "+t.className+" ").indexOf(" "+r+" ")&&(t.className+=" "+r):t.className=r},indexOf:function(e,t,r){return Array.prototype.indexOf?this.indexOf=function(e,t,r){return e.indexOf(t,r)}:this.indexOf=function(e,t,r){var n,i,o=r||0;if(!e)throw new TypeError;if(i=e.length,0===i||o>=i)return-1;for(o<0&&(o=i-Math.abs(o)),n=o;n<i;n++)if(e[n]===t)return n;return-1},this.indexOf(e,t,r)},removeClass:function(t,r){var n,i,o=[];for(t=e.getElement(t),n=t.className.split(/\s+/),i=0;i<n.length;i++)n[i]&&n[i]!==r&&o.push(n[i]);t.className=o.join(" ")},normalizeEventListenerOptions:function(t){var r;return r="undefined"!==typeof t?"boolean"===typeof t?e.supportsEventListenerOptions?{capture:t}:t:e.supportsEventListenerOptions?t:"undefined"!==typeof t.capture&&t.capture:!!e.supportsEventListenerOptions&&{capture:!1},r},addEvent:function(){if(e.supportsAddEventListener)return function(t,r,n,i){i=e.normalizeEventListenerOptions(i),t=e.getElement(t),t.addEventListener(r,n,i)};if(document.documentElement.attachEvent&&document.attachEvent)return function(t,r,n){t=e.getElement(t),t.attachEvent("on"+r,n)};throw new Error("No known event model.")}(),removeEvent:function(){if(e.supportsRemoveEventListener)return function(t,r,n,i){i=e.normalizeEventListenerOptions(i),t=e.getElement(t),t.removeEventListener(r,n,i)};if(document.documentElement.detachEvent&&document.detachEvent)return function(t,r,n){t=e.getElement(t),t.detachEvent("on"+r,n)};throw new Error("No known event model.")}(),cancelEvent:function(e){e.preventDefault()},eventIsCanceled:function(e){return e.defaultPrevented},stopEvent:function(e){e.stopPropagation()},createCallback:function(e,t){console.error("The createCallback function is deprecated and will be removed in future versions. Please use alternativeFunction instead.");var r,n=[];for(r=2;r<arguments.length;r++)n.push(arguments[r]);return function(){var r,i=n.concat([]);for(r=0;r<arguments.length;r++)i.push(arguments[r]);return t.apply(e,i)}},getUrlParameter:function(e){var t=i[e];return t||null},getUrlProtocol:function(e){var t=e.match(/^([a-z]+:)\/\//i);return null===t?window.location.protocol:t[1].toLowerCase()},createAjaxRequest:function(){if(window.XMLHttpRequest)return e.createAjaxRequest=function(){return new XMLHttpRequest},new XMLHttpRequest;throw new Error("Browser doesn't support XMLHttpRequest.")},makeAjaxRequest:function(t,r,n){var i,o,l,a;e.isPlainObject(t)&&(r=t.success,n=t.error,i=t.withCredentials,o=t.headers,l=t.responseType||null,a=t.postData||null,t=t.url);var s=e.getUrlProtocol(t),c=e.createAjaxRequest();if(!e.isFunction(r))throw new Error("makeAjaxRequest requires a success callback");c.onreadystatechange=function(){4===c.readyState&&(c.onreadystatechange=function(){},c.status>=200&&c.status<300||0===c.status&&"http:"!==s&&"https:"!==s?r(c):e.isFunction(n)?n(c):e.console.error("AJAX request returned %d: %s",c.status,t))};var u=a?"POST":"GET";try{if(c.open(u,t,!0),l&&(c.responseType=l),o)for(var p in o)Object.prototype.hasOwnProperty.call(o,p)&&o[p]&&c.setRequestHeader(p,o[p]);i&&(c.withCredentials=!0),c.send(a)}catch(h){e.console.error("%s while making AJAX request: %s",h.name,h.message),c.onreadystatechange=function(){},e.isFunction(n)&&n(c,h)}return c},jsonp:function(t){var r,n=t.url,i=document.head||document.getElementsByTagName("head")[0]||document.documentElement,o=t.callbackName||"openseadragon"+e.now(),l=window[o],a="$1"+o+"$2",s=t.param||"callback",c=t.callback;n=n.replace(/(=)\?(&|$)|\?\?/i,a),n+=(/\?/.test(n)?"&":"?")+s+"="+o,window[o]=function(t){if(l)window[o]=l;else try{delete window[o]}catch(r){}c&&e.isFunction(c)&&c(t)},r=document.createElement("script"),void 0===t.async&&!1===t.async||(r.async="async"),t.scriptCharset&&(r.charset=t.scriptCharset),r.src=n,r.onload=r.onreadystatechange=function(e,t){(t||!r.readyState||/loaded|complete/.test(r.readyState))&&(r.onload=r.onreadystatechange=null,i&&r.parentNode&&i.removeChild(r),r=void 0)},i.insertBefore(r,i.firstChild)},createFromDZI:function(){throw"OpenSeadragon.createFromDZI is deprecated, use Viewer.open."},parseXml:function(t){if(!window.DOMParser)throw new Error("Browser doesn't support XML DOM.");return e.parseXml=function(e){var t,r=null;return t=new DOMParser,r=t.parseFromString(e,"text/xml"),r},e.parseXml(t)},parseJSON:function(t){return e.parseJSON=window.JSON.parse,e.parseJSON(t)},imageFormatSupported:function(e){return e=e||"",!!n[e.toLowerCase()]},setImageFormatsSupported:function(t){e.extend(n,t)}});var r=function(e){};e.console=window.console||{log:r,debug:r,info:r,warn:r,error:r,assert:r},e.Browser={vendor:e.BROWSERS.UNKNOWN,version:0,alpha:!0};var n={avif:!0,bmp:!1,jpeg:!0,jpg:!0,png:!0,tif:!1,wdp:!1,webp:!0},i={};function o(e,t){return t&&e!==document.body?document.body:e.offsetParent}(function(){var t,r=navigator.appVersion,n=navigator.userAgent;switch(navigator.appName){case"Microsoft Internet Explorer":window.attachEvent&&window.ActiveXObject&&(e.Browser.vendor=e.BROWSERS.IE,e.Browser.version=parseFloat(n.substring(n.indexOf("MSIE")+5,n.indexOf(";",n.indexOf("MSIE")))));break;case"Netscape":window.addEventListener&&(n.indexOf("Edge")>=0?(e.Browser.vendor=e.BROWSERS.EDGE,e.Browser.version=parseFloat(n.substring(n.indexOf("Edge")+5))):n.indexOf("Edg")>=0?(e.Browser.vendor=e.BROWSERS.CHROMEEDGE,e.Browser.version=parseFloat(n.substring(n.indexOf("Edg")+4))):n.indexOf("Firefox")>=0?(e.Browser.vendor=e.BROWSERS.FIREFOX,e.Browser.version=parseFloat(n.substring(n.indexOf("Firefox")+8))):n.indexOf("Safari")>=0?(e.Browser.vendor=n.indexOf("Chrome")>=0?e.BROWSERS.CHROME:e.BROWSERS.SAFARI,e.Browser.version=parseFloat(n.substring(n.substring(0,n.indexOf("Safari")).lastIndexOf("/")+1,n.indexOf("Safari")))):(t=new RegExp("Trident/.*rv:([0-9]{1,}[.0-9]{0,})"),null!==t.exec(n)&&(e.Browser.vendor=e.BROWSERS.IE,e.Browser.version=parseFloat(RegExp.$1))));break;case"Opera":e.Browser.vendor=e.BROWSERS.OPERA,e.Browser.version=parseFloat(r);break}var o,l,a,s=window.location.search.substring(1),c=s.split("&");for(a=0;a<c.length;a++)if(o=c[a],l=o.indexOf("="),l>0){var u=o.substring(0,l),p=o.substring(l+1);try{i[u]=decodeURIComponent(p)}catch(h){e.console.error("Ignoring malformed URL parameter: %s=%s",u,p)}}e.Browser.alpha=!(e.Browser.vendor===e.BROWSERS.CHROME&&e.Browser.version<2),e.Browser.opacity=!0,e.Browser.vendor===e.BROWSERS.IE&&e.console.error("Internet Explorer is not supported by OpenSeadragon")})(),function(t){var r=t.requestAnimationFrame||t.mozRequestAnimationFrame||t.webkitRequestAnimationFrame||t.msRequestAnimationFrame,n=t.cancelAnimationFrame||t.mozCancelAnimationFrame||t.webkitCancelAnimationFrame||t.msCancelAnimationFrame;if(r&&n)e.requestAnimationFrame=function(){return r.apply(t,arguments)},e.cancelAnimationFrame=function(){return n.apply(t,arguments)};else{var i,o=[],l=[],a=0;e.requestAnimationFrame=function(t){return o.push([++a,t]),i||(i=setInterval((function(){if(o.length){var t=e.now(),r=l;l=o,o=r;while(l.length)l.shift()[1](t)}else clearInterval(i),i=void 0}),20)),a},e.cancelAnimationFrame=function(e){var t,r;for(t=0,r=o.length;t<r;t+=1)if(o[t][0]===e)return void o.splice(t,1);for(t=0,r=l.length;t<r;t+=1)if(l[t][0]===e)return void l.splice(t,1)}}}(window)}(l),function(r,l){i=[],n=l,o="function"===typeof n?n.apply(t,i):n,void 0===o||(e.exports=o)}(0,(function(){return l})),function(e){class t{constructor(e){e||(e=[0,0,0,0,0,0,0,0,0]),this.values=e}static makeIdentity(){return new t([1,0,0,0,1,0,0,0,1])}static makeTranslation(e,r){return new t([1,0,0,0,1,0,e,r,1])}static makeRotation(e){var r=Math.cos(e),n=Math.sin(e);return new t([r,-n,0,n,r,0,0,0,1])}static makeScaling(e,r){return new t([e,0,0,0,r,0,0,0,1])}multiply(e){let r=this.values,n=e.values;var i=r[0],o=r[1],l=r[2],a=r[3],s=r[4],c=r[5],u=r[6],p=r[7],h=r[8],d=n[0],f=n[1],g=n[2],m=n[3],v=n[4],y=n[5],A=n[6],w=n[7],_=n[8];return new t([d*i+f*a+g*u,d*o+f*s+g*p,d*l+f*c+g*h,m*i+v*a+y*u,m*o+v*s+y*p,m*l+v*c+y*h,A*i+w*a+_*u,A*o+w*s+_*p,A*l+w*c+_*h])}}e.Mat3=t}(l),function(e){var t={supportsFullScreen:!1,isFullScreen:function(){return!1},getFullScreenElement:function(){return null},requestFullScreen:function(){},exitFullScreen:function(){},cancelFullScreen:function(){},fullScreenEventName:"",fullScreenErrorEventName:""};document.exitFullscreen?(t.supportsFullScreen=!0,t.getFullScreenElement=function(){return document.fullscreenElement},t.requestFullScreen=function(t){return t.requestFullscreen().catch((function(t){e.console.error("Fullscreen request failed: ",t)}))},t.exitFullScreen=function(){document.exitFullscreen().catch((function(t){e.console.error("Error while exiting fullscreen: ",t)}))},t.fullScreenEventName="fullscreenchange",t.fullScreenErrorEventName="fullscreenerror"):document.msExitFullscreen?(t.supportsFullScreen=!0,t.getFullScreenElement=function(){return document.msFullscreenElement},t.requestFullScreen=function(e){return e.msRequestFullscreen()},t.exitFullScreen=function(){document.msExitFullscreen()},t.fullScreenEventName="MSFullscreenChange",t.fullScreenErrorEventName="MSFullscreenError"):document.webkitExitFullscreen?(t.supportsFullScreen=!0,t.getFullScreenElement=function(){return document.webkitFullscreenElement},t.requestFullScreen=function(e){return e.webkitRequestFullscreen()},t.exitFullScreen=function(){document.webkitExitFullscreen()},t.fullScreenEventName="webkitfullscreenchange",t.fullScreenErrorEventName="webkitfullscreenerror"):document.webkitCancelFullScreen?(t.supportsFullScreen=!0,t.getFullScreenElement=function(){return document.webkitCurrentFullScreenElement},t.requestFullScreen=function(e){return e.webkitRequestFullScreen()},t.exitFullScreen=function(){document.webkitCancelFullScreen()},t.fullScreenEventName="webkitfullscreenchange",t.fullScreenErrorEventName="webkitfullscreenerror"):document.mozCancelFullScreen&&(t.supportsFullScreen=!0,t.getFullScreenElement=function(){return document.mozFullScreenElement},t.requestFullScreen=function(e){return e.mozRequestFullScreen()},t.exitFullScreen=function(){document.mozCancelFullScreen()},t.fullScreenEventName="mozfullscreenchange",t.fullScreenErrorEventName="mozfullscreenerror"),t.isFullScreen=function(){return null!==t.getFullScreenElement()},t.cancelFullScreen=function(){e.console.error("cancelFullScreen is deprecated. Use exitFullScreen instead."),t.exitFullScreen()},e.extend(e,t)}(l),function(e){e.EventSource=function(){this.events={},this._rejectedEventList={}},e.EventSource.prototype={addOnceHandler:function(e,t,r,n,i){var o=this;n=n||1;var l=0,a=function(r){return l++,l===n&&o.removeHandler(e,a),t(r)};return this.addHandler(e,a,r,i)},addHandler:function(t,r,n,i){if(Object.prototype.hasOwnProperty.call(this._rejectedEventList,t))return e.console.error(`Error adding handler for ${t}. ${this._rejectedEventList[t]}`),!1;var o=this.events[t];if(o||(this.events[t]=o=[]),r&&e.isFunction(r)){var l=o.length,a={handler:r,userData:n||null,priority:i||0};o[l]=a;while(l>0&&o[l-1].priority<o[l].priority)o[l]=o[l-1],o[l-1]=a,l--}return!0},removeHandler:function(t,r){var n,i=this.events[t],o=[];if(i&&e.isArray(i)){for(n=0;n<i.length;n++)i[n].handler!==r&&o.push(i[n]);this.events[t]=o}},numberOfHandlers:function(e){var t=this.events[e];return t?t.length:0},removeAllHandlers:function(e){if(e)this.events[e]=[];else for(var t in this.events)this.events[t]=[]},getHandler:function(e){var t=this.events[e];return t&&t.length?(t=1===t.length?[t[0]]:Array.apply(null,t),function(e,r){var n,i=t.length;for(n=0;n<i;n++)t[n]&&(r.eventSource=e,r.userData=t[n].userData,t[n].handler(r))}):null},raiseEvent:function(t,r){if(Object.prototype.hasOwnProperty.call(this._rejectedEventList,t))return e.console.error(`Error adding handler for ${t}. ${this._rejectedEventList[t]}`),!1;var n=this.getHandler(t);return n&&n(this,r||{}),!0},rejectEventHandler(e,t=""){this._rejectedEventList[e]=t},allowEventHandler(e){delete this._rejectedEventList[e]}}}(l),function(e){var t=[],r={};e.MouseTracker=function(n){t.push(this);var i=arguments;e.isPlainObject(n)||(n={element:i[0],clickTimeThreshold:i[1],clickDistThreshold:i[2]}),this.hash=Math.random(),this.element=e.getElement(n.element),this.clickTimeThreshold=n.clickTimeThreshold||e.DEFAULT_SETTINGS.clickTimeThreshold,this.clickDistThreshold=n.clickDistThreshold||e.DEFAULT_SETTINGS.clickDistThreshold,this.dblClickTimeThreshold=n.dblClickTimeThreshold||e.DEFAULT_SETTINGS.dblClickTimeThreshold,this.dblClickDistThreshold=n.dblClickDistThreshold||e.DEFAULT_SETTINGS.dblClickDistThreshold,this.userData=n.userData||null,this.stopDelay=n.stopDelay||50,this.preProcessEventHandler=n.preProcessEventHandler||null,this.contextMenuHandler=n.contextMenuHandler||null,this.enterHandler=n.enterHandler||null,this.leaveHandler=n.leaveHandler||null,this.exitHandler=n.exitHandler||null,this.overHandler=n.overHandler||null,this.outHandler=n.outHandler||null,this.pressHandler=n.pressHandler||null,this.nonPrimaryPressHandler=n.nonPrimaryPressHandler||null,this.releaseHandler=n.releaseHandler||null,this.nonPrimaryReleaseHandler=n.nonPrimaryReleaseHandler||null,this.moveHandler=n.moveHandler||null,this.scrollHandler=n.scrollHandler||null,this.clickHandler=n.clickHandler||null,this.dblClickHandler=n.dblClickHandler||null,this.dragHandler=n.dragHandler||null,this.dragEndHandler=n.dragEndHandler||null,this.pinchHandler=n.pinchHandler||null,this.stopHandler=n.stopHandler||null,this.keyDownHandler=n.keyDownHandler||null,this.keyUpHandler=n.keyUpHandler||null,this.keyHandler=n.keyHandler||null,this.focusHandler=n.focusHandler||null,this.blurHandler=n.blurHandler||null;var o=this;r[this.hash]={click:function(e){y(o,e)},dblclick:function(e){A(o,e)},keydown:function(e){w(o,e)},keyup:function(e){_(o,e)},keypress:function(e){T(o,e)},focus:function(e){b(o,e)},blur:function(e){x(o,e)},contextmenu:function(e){E(o,e)},wheel:function(e){S(o,e)},mousewheel:function(e){P(o,e)},DOMMouseScroll:function(e){P(o,e)},MozMousePixelScroll:function(e){P(o,e)},losecapture:function(e){R(o,e)},mouseenter:function(e){M(o,e)},mouseleave:function(e){z(o,e)},mouseover:function(e){j(o,e)},mouseout:function(e){U(o,e)},mousedown:function(e){H(o,e)},mouseup:function(e){V(o,e)},mousemove:function(e){q(o,e)},touchstart:function(e){D(o,e)},touchend:function(e){O(o,e)},touchmove:function(e){I(o,e)},touchcancel:function(e){N(o,e)},gesturestart:function(e){L(o,e)},gesturechange:function(e){F(o,e)},gotpointercapture:function(e){k(o,e)},lostpointercapture:function(e){B(o,e)},pointerenter:function(e){M(o,e)},pointerleave:function(e){z(o,e)},pointerover:function(e){j(o,e)},pointerout:function(e){U(o,e)},pointerdown:function(e){H(o,e)},pointerup:function(e){V(o,e)},pointermove:function(e){q(o,e)},pointercancel:function(e){$(o,e)},pointerupcaptured:function(e){W(o,e)},pointermovecaptured:function(e){X(o,e)},tracking:!1,activePointersLists:[],lastClickPos:null,dblClickTimeOut:null,pinchGPoints:[],lastPinchDist:0,currentPinchDist:0,lastPinchCenter:null,currentPinchCenter:null,sentDragEvent:!1},this.hasGestureHandlers=!!(this.pressHandler||this.nonPrimaryPressHandler||this.releaseHandler||this.nonPrimaryReleaseHandler||this.clickHandler||this.dblClickHandler||this.dragHandler||this.dragEndHandler||this.pinchHandler),this.hasScrollHandler=!!this.scrollHandler,e.MouseTracker.havePointerEvents&&e.setElementPointerEvents(this.element,"auto"),this.exitHandler&&e.console.error("MouseTracker.exitHandler is deprecated. Use MouseTracker.leaveHandler instead."),n.startDisabled||this.setTracking(!0)},e.MouseTracker.prototype={destroy:function(){var e;for(a(this),this.element=null,e=0;e<t.length;e++)if(t[e]===this){t.splice(e,1);break}r[this.hash]=null,delete r[this.hash]},isTracking:function(){return r[this.hash].tracking},setTracking:function(e){return e?l(this):a(this),this},getActivePointersListByType:function(t){var n,i,o=r[this.hash],l=o?o.activePointersLists.length:0;for(n=0;n<l;n++)if(o.activePointersLists[n].type===t)return o.activePointersLists[n];return i=new e.MouseTracker.GesturePointList(t),o&&o.activePointersLists.push(i),i},getActivePointerCount:function(){var e,t=r[this.hash],n=t.activePointersLists.length,i=0;for(e=0;e<n;e++)i+=t.activePointersLists[e].getLength();return i},preProcessEventHandler:function(){},contextMenuHandler:function(){},enterHandler:function(){},leaveHandler:function(){},exitHandler:function(){},overHandler:function(){},outHandler:function(){},pressHandler:function(){},nonPrimaryPressHandler:function(){},releaseHandler:function(){},nonPrimaryReleaseHandler:function(){},moveHandler:function(){},scrollHandler:function(){},clickHandler:function(){},dblClickHandler:function(){},dragHandler:function(){},dragEndHandler:function(){},pinchHandler:function(){},stopHandler:function(){},keyDownHandler:function(){},keyUpHandler:function(){},keyHandler:function(){},focusHandler:function(){},blurHandler:function(){}};var n=function(){try{return window.self!==window.top}catch(e){return!0}}();function i(e){try{return e.addEventListener&&e.removeEventListener}catch(t){return!1}}function o(e){var t,n,i,o,l,a=r[e.hash],s=a.activePointersLists.length;for(t=0;t<s;t++)if(i=a.activePointersLists[t],i.getLength()>0){for(l=[],o=i.asArray(),n=0;n<o.length;n++)l.push(o[n]);for(n=0;n<l.length;n++)K(e,i,l[n])}for(t=0;t<s;t++)a.activePointersLists.pop();a.sentDragEvent=!1}function l(t){var n,i,l=r[t.hash];if(!l.tracking){for(i=0;i<e.MouseTracker.subscribeEvents.length;i++)n=e.MouseTracker.subscribeEvents[i],e.addEvent(t.element,n,l[n],n===e.MouseTracker.wheelEventName&&{passive:!1,capture:!1});o(t),l.tracking=!0}}function a(t){var n,i,l=r[t.hash];if(l.tracking){for(i=0;i<e.MouseTracker.subscribeEvents.length;i++)n=e.MouseTracker.subscribeEvents[i],e.removeEvent(t.element,n,l[n],!1);o(t),l.tracking=!1}}function s(e,t){var n=r[e.hash];if("pointerevent"===t)return{upName:"pointerup",upHandler:n.pointerupcaptured,moveName:"pointermove",moveHandler:n.pointermovecaptured};if("mouse"===t)return{upName:"pointerup",upHandler:n.pointerupcaptured,moveName:"pointermove",moveHandler:n.pointermovecaptured};if("touch"===t)return{upName:"touchend",upHandler:n.touchendcaptured,moveName:"touchmove",moveHandler:n.touchmovecaptured};throw new Error("MouseTracker.getCaptureEventParams: Unknown pointer type.")}function c(t,r){var o;if(e.MouseTracker.havePointerCapture)if(e.MouseTracker.havePointerEvents)try{t.element.setPointerCapture(r.id)}catch(l){return void e.console.warn("setPointerCapture() called on invalid pointer ID")}else t.element.setCapture(!0);else o=s(t,e.MouseTracker.havePointerEvents?"pointerevent":r.type),n&&i(window.top)&&e.addEvent(window.top,o.upName,o.upHandler,!0),e.addEvent(e.MouseTracker.captureElement,o.upName,o.upHandler,!0),e.addEvent(e.MouseTracker.captureElement,o.moveName,o.moveHandler,!0);ee(t,r,!0)}function u(t,r){var o,l,a;if(e.MouseTracker.havePointerCapture)if(e.MouseTracker.havePointerEvents){if(l=t.getActivePointersListByType(r.type),a=l.getById(r.id),!a||!a.captured)return;try{t.element.releasePointerCapture(r.id)}catch(c){}}else t.element.releaseCapture();else o=s(t,e.MouseTracker.havePointerEvents?"pointerevent":r.type),n&&i(window.top)&&e.removeEvent(window.top,o.upName,o.upHandler,!0),e.removeEvent(e.MouseTracker.captureElement,o.moveName,o.moveHandler,!0),e.removeEvent(e.MouseTracker.captureElement,o.upName,o.upHandler,!0);ee(t,r,!1)}function p(t){return e.MouseTracker.havePointerEvents?t.pointerId:e.MouseTracker.mousePointerId}function h(t){return e.MouseTracker.havePointerEvents&&t.pointerType?t.pointerType:"mouse"}function d(t){return!e.MouseTracker.havePointerEvents||t.isPrimary}function f(t){return e.getMousePosition(t)}function g(e,t){return m(f(e),t)}function m(t,r){var n=e.getElementOffset(r);return t.minus(n)}function v(t,r){return new e.Point((t.x+r.x)/2,(t.y+r.y)/2)}function y(t,r){var n={originalEvent:r,eventType:"click",pointerType:"mouse",isEmulated:!1};J(t,n),n.preventDefault&&!n.defaultPrevented&&e.cancelEvent(r),n.stopPropagation&&e.stopEvent(r)}function A(t,r){var n={originalEvent:r,eventType:"dblclick",pointerType:"mouse",isEmulated:!1};J(t,n),n.preventDefault&&!n.defaultPrevented&&e.cancelEvent(r),n.stopPropagation&&e.stopEvent(r)}function w(t,r){var n=null,i={originalEvent:r,eventType:"keydown",pointerType:"",isEmulated:!1};J(t,i),!t.keyDownHandler||i.preventGesture||i.defaultPrevented||(n={eventSource:t,keyCode:r.keyCode?r.keyCode:r.charCode,ctrl:r.ctrlKey,shift:r.shiftKey,alt:r.altKey,meta:r.metaKey,originalEvent:r,preventDefault:i.preventDefault||i.defaultPrevented,userData:t.userData},t.keyDownHandler(n)),(n&&n.preventDefault||i.preventDefault&&!i.defaultPrevented)&&e.cancelEvent(r),i.stopPropagation&&e.stopEvent(r)}function _(t,r){var n=null,i={originalEvent:r,eventType:"keyup",pointerType:"",isEmulated:!1};J(t,i),!t.keyUpHandler||i.preventGesture||i.defaultPrevented||(n={eventSource:t,keyCode:r.keyCode?r.keyCode:r.charCode,ctrl:r.ctrlKey,shift:r.shiftKey,alt:r.altKey,meta:r.metaKey,originalEvent:r,preventDefault:i.preventDefault||i.defaultPrevented,userData:t.userData},t.keyUpHandler(n)),(n&&n.preventDefault||i.preventDefault&&!i.defaultPrevented)&&e.cancelEvent(r),i.stopPropagation&&e.stopEvent(r)}function T(t,r){var n=null,i={originalEvent:r,eventType:"keypress",pointerType:"",isEmulated:!1};J(t,i),!t.keyHandler||i.preventGesture||i.defaultPrevented||(n={eventSource:t,keyCode:r.keyCode?r.keyCode:r.charCode,ctrl:r.ctrlKey,shift:r.shiftKey,alt:r.altKey,meta:r.metaKey,originalEvent:r,preventDefault:i.preventDefault||i.defaultPrevented,userData:t.userData},t.keyHandler(n)),(n&&n.preventDefault||i.preventDefault&&!i.defaultPrevented)&&e.cancelEvent(r),i.stopPropagation&&e.stopEvent(r)}function b(e,t){var r={originalEvent:t,eventType:"focus",pointerType:"",isEmulated:!1};J(e,r),e.focusHandler&&!r.preventGesture&&e.focusHandler({eventSource:e,originalEvent:t,userData:e.userData})}function x(e,t){var r={originalEvent:t,eventType:"blur",pointerType:"",isEmulated:!1};J(e,r),e.blurHandler&&!r.preventGesture&&e.blurHandler({eventSource:e,originalEvent:t,userData:e.userData})}function E(t,r){var n=null,i={originalEvent:r,eventType:"contextmenu",pointerType:"mouse",isEmulated:!1};J(t,i),!t.contextMenuHandler||i.preventGesture||i.defaultPrevented||(n={eventSource:t,position:m(f(r),t.element),originalEvent:i.originalEvent,preventDefault:i.preventDefault||i.defaultPrevented,userData:t.userData},t.contextMenuHandler(n)),(n&&n.preventDefault||i.preventDefault&&!i.defaultPrevented)&&e.cancelEvent(r),i.stopPropagation&&e.stopEvent(r)}function S(e,t){C(e,t,t)}function P(t,r){var n={target:r.target||r.srcElement,type:"wheel",shiftKey:r.shiftKey||!1,clientX:r.clientX,clientY:r.clientY,pageX:r.pageX?r.pageX:r.clientX,pageY:r.pageY?r.pageY:r.clientY,deltaMode:"MozMousePixelScroll"===r.type?0:1,deltaX:0,deltaZ:0};"mousewheel"===e.MouseTracker.wheelEventName?n.deltaY=-r.wheelDelta/e.DEFAULT_SETTINGS.pixelsPerWheelLine:n.deltaY=r.detail,C(t,n,r)}function C(t,r,n){var i,o=0,l=null;o=r.deltaY?r.deltaY<0?1:-1:0,i={originalEvent:r,eventType:"wheel",pointerType:"mouse",isEmulated:r!==n},J(t,i),!t.scrollHandler||i.preventGesture||i.defaultPrevented||(l={eventSource:t,pointerType:"mouse",position:g(r,t.element),scroll:o,shift:r.shiftKey,isTouchEvent:!1,originalEvent:n,preventDefault:i.preventDefault||i.defaultPrevented,userData:t.userData},t.scrollHandler(l)),i.stopPropagation&&e.stopEvent(n),(l&&l.preventDefault||i.preventDefault&&!i.defaultPrevented)&&e.cancelEvent(n)}function R(t,r){var n={id:e.MouseTracker.mousePointerId,type:"mouse"},i={originalEvent:r,eventType:"lostpointercapture",pointerType:"mouse",isEmulated:!1};J(t,i),r.target===t.element&&ee(t,n,!1),i.stopPropagation&&e.stopEvent(r)}function D(t,r){var n,i,o,l=r.changedTouches.length,a=t.getActivePointersListByType("touch");n=e.now(),a.getLength()>r.touches.length-l&&e.console.warn("Tracked touch contact count doesn't match event.touches.length");var s={originalEvent:r,eventType:"pointerdown",pointerType:"touch",isEmulated:!1};for(J(t,s),i=0;i<l;i++)o={id:r.changedTouches[i].identifier,type:"touch",isPrimary:0===a.getLength(),currentPos:f(r.changedTouches[i]),currentTime:n},te(t,s,o),oe(t,s,o,0),ee(t,o,!0);s.preventDefault&&!s.defaultPrevented&&e.cancelEvent(r),s.stopPropagation&&e.stopEvent(r)}function O(t,r){var n,i,o,l=r.changedTouches.length;n=e.now();var a={originalEvent:r,eventType:"pointerup",pointerType:"touch",isEmulated:!1};for(J(t,a),i=0;i<l;i++)o={id:r.changedTouches[i].identifier,type:"touch",currentPos:f(r.changedTouches[i]),currentTime:n},le(t,a,o,0),ee(t,o,!1),re(t,a,o);a.preventDefault&&!a.defaultPrevented&&e.cancelEvent(r),a.stopPropagation&&e.stopEvent(r)}function I(t,r){var n,i,o,l=r.changedTouches.length;n=e.now();var a={originalEvent:r,eventType:"pointermove",pointerType:"touch",isEmulated:!1};for(J(t,a),i=0;i<l;i++)o={id:r.changedTouches[i].identifier,type:"touch",currentPos:f(r.changedTouches[i]),currentTime:n},ae(t,a,o);a.preventDefault&&!a.defaultPrevented&&e.cancelEvent(r),a.stopPropagation&&e.stopEvent(r)}function N(t,r){var n,i,o=r.changedTouches.length,l={originalEvent:r,eventType:"pointercancel",pointerType:"touch",isEmulated:!1};for(J(t,l),n=0;n<o;n++)i={id:r.changedTouches[n].identifier,type:"touch"},se(t,l,i);l.stopPropagation&&e.stopEvent(r)}function L(t,r){return e.eventIsCanceled(r)||r.preventDefault(),!1}function F(t,r){return e.eventIsCanceled(r)||r.preventDefault(),!1}function k(t,r){var n={originalEvent:r,eventType:"gotpointercapture",pointerType:h(r),isEmulated:!1};J(t,n),r.target===t.element&&ee(t,{id:r.pointerId,type:h(r)},!0),n.stopPropagation&&e.stopEvent(r)}function B(t,r){var n={originalEvent:r,eventType:"lostpointercapture",pointerType:h(r),isEmulated:!1};J(t,n),r.target===t.element&&ee(t,{id:r.pointerId,type:h(r)},!1),n.stopPropagation&&e.stopEvent(r)}function M(t,r){var n={id:p(r),type:h(r),isPrimary:d(r),currentPos:f(r),currentTime:e.now()},i={originalEvent:r,eventType:"pointerenter",pointerType:n.type,isEmulated:!1};J(t,i),te(t,i,n)}function z(t,r){var n={id:p(r),type:h(r),isPrimary:d(r),currentPos:f(r),currentTime:e.now()},i={originalEvent:r,eventType:"pointerleave",pointerType:n.type,isEmulated:!1};J(t,i),re(t,i,n)}function j(t,r){var n={id:p(r),type:h(r),isPrimary:d(r),currentPos:f(r),currentTime:e.now()},i={originalEvent:r,eventType:"pointerover",pointerType:n.type,isEmulated:!1};J(t,i),ne(t,i,n),i.preventDefault&&!i.defaultPrevented&&e.cancelEvent(r),i.stopPropagation&&e.stopEvent(r)}function U(t,r){var n={id:p(r),type:h(r),isPrimary:d(r),currentPos:f(r),currentTime:e.now()},i={originalEvent:r,eventType:"pointerout",pointerType:n.type,isEmulated:!1};J(t,i),ie(t,i,n),i.preventDefault&&!i.defaultPrevented&&e.cancelEvent(r),i.stopPropagation&&e.stopEvent(r)}function H(t,r){var n={id:p(r),type:h(r),isPrimary:d(r),currentPos:f(r),currentTime:e.now()},i=e.MouseTracker.havePointerEvents&&"touch"===n.type,o={originalEvent:r,eventType:"pointerdown",pointerType:n.type,isEmulated:!1};J(t,o),oe(t,o,n,r.button),o.preventDefault&&!o.defaultPrevented&&e.cancelEvent(r),o.stopPropagation&&e.stopEvent(r),o.shouldCapture&&(i?ee(t,n,!0):c(t,n))}function V(e,t){G(e,t)}function W(t,r){var n=t.getActivePointersListByType(h(r));n.getById(r.pointerId)&&G(t,r),e.stopEvent(r)}function G(t,r){var n;n={id:p(r),type:h(r),isPrimary:d(r),currentPos:f(r),currentTime:e.now()};var i={originalEvent:r,eventType:"pointerup",pointerType:n.type,isEmulated:!1};J(t,i),le(t,i,n,r.button),i.preventDefault&&!i.defaultPrevented&&e.cancelEvent(r),i.stopPropagation&&e.stopEvent(r),i.shouldReleaseCapture&&(r.target===t.element?u(t,n):ee(t,n,!1))}function q(e,t){Z(e,t)}function X(t,r){var n=t.getActivePointersListByType(h(r));n.getById(r.pointerId)&&Z(t,r),e.stopEvent(r)}function Z(t,r){var n={id:p(r),type:h(r),isPrimary:d(r),currentPos:f(r),currentTime:e.now()},i={originalEvent:r,eventType:"pointermove",pointerType:n.type,isEmulated:!1};J(t,i),ae(t,i,n),i.preventDefault&&!i.defaultPrevented&&e.cancelEvent(r),i.stopPropagation&&e.stopEvent(r)}function $(t,r){var n={id:r.pointerId,type:h(r)},i={originalEvent:r,eventType:"pointercancel",pointerType:n.type,isEmulated:!1};J(t,i),se(t,i,n),i.stopPropagation&&e.stopEvent(r)}function Y(e,t){return t.speed=0,t.direction=0,t.contactPos=t.currentPos,t.contactTime=t.currentTime,t.lastPos=t.currentPos,t.lastTime=t.currentTime,e.add(t)}function K(t,r,n){var i,o=r.getById(n.id);return o?(o.captured&&(e.console.warn("stopTrackingPointer() called on captured pointer"),u(t,o)),r.removeContact(),i=r.removeById(n.id)):i=r.getLength(),i}function Q(e,t){switch(t.eventType){case"pointermove":t.isStoppable=!0,t.isCancelable=!0,t.preventDefault=!1,t.preventGesture=!e.hasGestureHandlers,t.stopPropagation=!1;break;case"pointerover":case"pointerout":case"contextmenu":case"keydown":case"keyup":case"keypress":t.isStoppable=!0,t.isCancelable=!0,t.preventDefault=!1,t.preventGesture=!1,t.stopPropagation=!1;break;case"pointerdown":t.isStoppable=!0,t.isCancelable=!0,t.preventDefault=!1,t.preventGesture=!e.hasGestureHandlers,t.stopPropagation=!1;break;case"pointerup":t.isStoppable=!0,t.isCancelable=!0,t.preventDefault=!1,t.preventGesture=!e.hasGestureHandlers,t.stopPropagation=!1;break;case"wheel":t.isStoppable=!0,t.isCancelable=!0,t.preventDefault=!1,t.preventGesture=!e.hasScrollHandler,t.stopPropagation=!1;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":t.isStoppable=!0,t.isCancelable=!1,t.preventDefault=!1,t.preventGesture=!1,t.stopPropagation=!1;break;case"click":t.isStoppable=!0,t.isCancelable=!0,t.preventDefault=!!e.clickHandler,t.preventGesture=!1,t.stopPropagation=!1;break;case"dblclick":t.isStoppable=!0,t.isCancelable=!0,t.preventDefault=!!e.dblClickHandler,t.preventGesture=!1,t.stopPropagation=!1;break;case"focus":case"blur":case"pointerenter":case"pointerleave":default:t.isStoppable=!1,t.isCancelable=!1,t.preventDefault=!1,t.preventGesture=!1,t.stopPropagation=!1;break}}function J(t,r){r.eventSource=t,r.eventPhase=r.originalEvent&&"undefined"!==typeof r.originalEvent.eventPhase?r.originalEvent.eventPhase:0,r.defaultPrevented=e.eventIsCanceled(r.originalEvent),r.shouldCapture=!1,r.shouldReleaseCapture=!1,r.userData=t.userData,Q(t,r),t.preProcessEventHandler&&t.preProcessEventHandler(r)}function ee(t,r,n){var i=t.getActivePointersListByType(r.type),o=i.getById(r.id);o?n&&!o.captured?(o.captured=!0,i.captureCount++):!n&&o.captured&&(o.captured=!1,i.captureCount--,i.captureCount<0&&(i.captureCount=0,e.console.warn("updatePointerCaptured() - pointsList.captureCount went negative"))):e.console.warn("updatePointerCaptured() called on untracked pointer")}function te(e,t,r){var n,i=e.getActivePointersListByType(r.type);n=i.getById(r.id),n?(n.insideElement=!0,n.lastPos=n.currentPos,n.lastTime=n.currentTime,n.currentPos=r.currentPos,n.currentTime=r.currentTime,r=n):(r.captured=!1,r.insideElementPressed=!1,r.insideElement=!0,Y(i,r)),e.enterHandler&&e.enterHandler({eventSource:e,pointerType:r.type,position:m(r.currentPos,e.element),buttons:i.buttons,pointers:e.getActivePointerCount(),insideElementPressed:r.insideElementPressed,buttonDownAny:0!==i.buttons,isTouchEvent:"touch"===r.type,originalEvent:t.originalEvent,userData:e.userData})}function re(e,t,r){var n,i,o=e.getActivePointersListByType(r.type);n=o.getById(r.id),n?(n.captured?(n.insideElement=!1,n.lastPos=n.currentPos,n.lastTime=n.currentTime,n.currentPos=r.currentPos,n.currentTime=r.currentTime):K(e,o,n),r=n):(r.captured=!1,r.insideElementPressed=!1),(e.leaveHandler||e.exitHandler)&&(i={eventSource:e,pointerType:r.type,position:r.currentPos&&m(r.currentPos,e.element),buttons:o.buttons,pointers:e.getActivePointerCount(),insideElementPressed:r.insideElementPressed,buttonDownAny:0!==o.buttons,isTouchEvent:"touch"===r.type,originalEvent:t.originalEvent,userData:e.userData},e.leaveHandler&&e.leaveHandler(i),e.exitHandler&&e.exitHandler(i))}function ne(e,t,r){var n,i;n=e.getActivePointersListByType(r.type),i=n.getById(r.id),i?r=i:(r.captured=!1,r.insideElementPressed=!1),e.overHandler&&e.overHandler({eventSource:e,pointerType:r.type,position:m(r.currentPos,e.element),buttons:n.buttons,pointers:e.getActivePointerCount(),insideElementPressed:r.insideElementPressed,buttonDownAny:0!==n.buttons,isTouchEvent:"touch"===r.type,originalEvent:t.originalEvent,userData:e.userData})}function ie(e,t,r){var n,i;n=e.getActivePointersListByType(r.type),i=n.getById(r.id),i?r=i:(r.captured=!1,r.insideElementPressed=!1),e.outHandler&&e.outHandler({eventSource:e,pointerType:r.type,position:r.currentPos&&m(r.currentPos,e.element),buttons:n.buttons,pointers:e.getActivePointerCount(),insideElementPressed:r.insideElementPressed,buttonDownAny:0!==n.buttons,isTouchEvent:"touch"===r.type,originalEvent:t.originalEvent,userData:e.userData})}function oe(t,n,i,o){var l,a=r[t.hash],s=t.getActivePointersListByType(i.type);if("undefined"!==typeof n.originalEvent.buttons?s.buttons=n.originalEvent.buttons:0===o?s.buttons|=1:1===o?s.buttons|=4:2===o?s.buttons|=2:3===o?s.buttons|=8:4===o?s.buttons|=16:5===o&&(s.buttons|=32),0!==o)return n.shouldCapture=!1,n.shouldReleaseCapture=!1,void(!t.nonPrimaryPressHandler||n.preventGesture||n.defaultPrevented||(n.preventDefault=!0,t.nonPrimaryPressHandler({eventSource:t,pointerType:i.type,position:m(i.currentPos,t.element),button:o,buttons:s.buttons,isTouchEvent:"touch"===i.type,originalEvent:n.originalEvent,userData:t.userData})));l=s.getById(i.id),l?(l.insideElementPressed=!0,l.insideElement=!0,l.originalTarget=n.originalEvent.target,l.contactPos=i.currentPos,l.contactTime=i.currentTime,l.lastPos=l.currentPos,l.lastTime=l.currentTime,l.currentPos=i.currentPos,l.currentTime=i.currentTime,i=l):(i.captured=!1,i.insideElementPressed=!0,i.insideElement=!0,i.originalTarget=n.originalEvent.target,Y(s,i)),s.addContact(),n.preventGesture||n.defaultPrevented?(n.shouldCapture=!1,n.shouldReleaseCapture=!1):(n.shouldCapture=!0,n.shouldReleaseCapture=!1,n.preventDefault=!0,(t.dragHandler||t.dragEndHandler||t.pinchHandler)&&e.MouseTracker.gesturePointVelocityTracker.addPoint(t,i),1===s.contacts?t.pressHandler&&!n.preventGesture&&t.pressHandler({eventSource:t,pointerType:i.type,position:m(i.contactPos,t.element),buttons:s.buttons,isTouchEvent:"touch"===i.type,originalEvent:n.originalEvent,userData:t.userData}):2===s.contacts&&t.pinchHandler&&"touch"===i.type&&(a.pinchGPoints=s.asArray(),a.lastPinchDist=a.currentPinchDist=a.pinchGPoints[0].currentPos.distanceTo(a.pinchGPoints[1].currentPos),a.lastPinchCenter=a.currentPinchCenter=v(a.pinchGPoints[0].currentPos,a.pinchGPoints[1].currentPos)))}function le(t,n,i,o){var l,a,s,c,u=r[t.hash],p=t.getActivePointersListByType(i.type),h=!1;if("undefined"!==typeof n.originalEvent.buttons?p.buttons=n.originalEvent.buttons:0===o?p.buttons^=-2:1===o?p.buttons^=-5:2===o?p.buttons^=-3:3===o?p.buttons^=-9:4===o?p.buttons^=-17:5===o&&(p.buttons^=-33),n.shouldCapture=!1,0!==o)return n.shouldReleaseCapture=!1,void(!t.nonPrimaryReleaseHandler||n.preventGesture||n.defaultPrevented||(n.preventDefault=!0,t.nonPrimaryReleaseHandler({eventSource:t,pointerType:i.type,position:m(i.currentPos,t.element),button:o,buttons:p.buttons,isTouchEvent:"touch"===i.type,originalEvent:n.originalEvent,userData:t.userData})));s=p.getById(i.id),s?(p.removeContact(),s.captured&&(h=!0),s.lastPos=s.currentPos,s.lastTime=s.currentTime,s.currentPos=i.currentPos,s.currentTime=i.currentTime,s.insideElement||K(t,p,s),l=s.currentPos,a=s.currentTime):(i.captured=!1,i.insideElementPressed=!1,i.insideElement=!0,Y(p,i),s=i),n.preventGesture||n.defaultPrevented||(h?(n.shouldReleaseCapture=!0,n.preventDefault=!0,(t.dragHandler||t.dragEndHandler||t.pinchHandler)&&e.MouseTracker.gesturePointVelocityTracker.removePoint(t,s),0===p.contacts?(t.releaseHandler&&l&&t.releaseHandler({eventSource:t,pointerType:s.type,position:m(l,t.element),buttons:p.buttons,insideElementPressed:s.insideElementPressed,insideElementReleased:s.insideElement,isTouchEvent:"touch"===s.type,originalEvent:n.originalEvent,userData:t.userData}),t.dragEndHandler&&u.sentDragEvent&&t.dragEndHandler({eventSource:t,pointerType:s.type,position:m(s.currentPos,t.element),speed:s.speed,direction:s.direction,shift:n.originalEvent.shiftKey,isTouchEvent:"touch"===s.type,originalEvent:n.originalEvent,userData:t.userData}),u.sentDragEvent=!1,(t.clickHandler||t.dblClickHandler)&&s.insideElement&&(c=a-s.contactTime<=t.clickTimeThreshold&&s.contactPos.distanceTo(l)<=t.clickDistThreshold,t.clickHandler&&t.clickHandler({eventSource:t,pointerType:s.type,position:m(s.currentPos,t.element),quick:c,shift:n.originalEvent.shiftKey,isTouchEvent:"touch"===s.type,originalEvent:n.originalEvent,originalTarget:s.originalTarget,userData:t.userData}),t.dblClickHandler&&c&&(p.clicks++,1===p.clicks?(u.lastClickPos=l,u.dblClickTimeOut=setTimeout((function(){p.clicks=0}),t.dblClickTimeThreshold)):2===p.clicks&&(clearTimeout(u.dblClickTimeOut),p.clicks=0,u.lastClickPos.distanceTo(l)<=t.dblClickDistThreshold&&t.dblClickHandler({eventSource:t,pointerType:s.type,position:m(s.currentPos,t.element),shift:n.originalEvent.shiftKey,isTouchEvent:"touch"===s.type,originalEvent:n.originalEvent,userData:t.userData}),u.lastClickPos=null)))):2===p.contacts&&t.pinchHandler&&"touch"===s.type&&(u.pinchGPoints=p.asArray(),u.lastPinchDist=u.currentPinchDist=u.pinchGPoints[0].currentPos.distanceTo(u.pinchGPoints[1].currentPos),u.lastPinchCenter=u.currentPinchCenter=v(u.pinchGPoints[0].currentPos,u.pinchGPoints[1].currentPos))):(n.shouldReleaseCapture=!1,t.releaseHandler&&l&&(t.releaseHandler({eventSource:t,pointerType:s.type,position:m(l,t.element),buttons:p.buttons,insideElementPressed:s.insideElementPressed,insideElementReleased:s.insideElement,isTouchEvent:"touch"===s.type,originalEvent:n.originalEvent,userData:t.userData}),n.preventDefault=!0)))}function ae(e,t,n){var i,o,l,a=r[e.hash],s=e.getActivePointersListByType(n.type);"undefined"!==typeof t.originalEvent.buttons&&(s.buttons=t.originalEvent.buttons),i=s.getById(n.id),i&&(i.lastPos=i.currentPos,i.lastTime=i.currentTime,i.currentPos=n.currentPos,i.currentTime=n.currentTime,t.shouldCapture=!1,t.shouldReleaseCapture=!1,e.stopHandler&&"mouse"===n.type&&(clearTimeout(e.stopTimeOut),e.stopTimeOut=setTimeout((function(){ce(e,t.originalEvent,n.type)}),e.stopDelay)),0===s.contacts?e.moveHandler&&e.moveHandler({eventSource:e,pointerType:n.type,position:m(n.currentPos,e.element),buttons:s.buttons,isTouchEvent:"touch"===n.type,originalEvent:t.originalEvent,userData:e.userData}):1===s.contacts?(e.moveHandler&&(i=s.asArray()[0],e.moveHandler({eventSource:e,pointerType:i.type,position:m(i.currentPos,e.element),buttons:s.buttons,isTouchEvent:"touch"===i.type,originalEvent:t.originalEvent,userData:e.userData})),!e.dragHandler||t.preventGesture||t.defaultPrevented||(i=s.asArray()[0],l=i.currentPos.minus(i.lastPos),e.dragHandler({eventSource:e,pointerType:i.type,position:m(i.currentPos,e.element),buttons:s.buttons,delta:l,speed:i.speed,direction:i.direction,shift:t.originalEvent.shiftKey,isTouchEvent:"touch"===i.type,originalEvent:t.originalEvent,userData:e.userData}),t.preventDefault=!0,a.sentDragEvent=!0)):2===s.contacts&&(e.moveHandler&&(o=s.asArray(),e.moveHandler({eventSource:e,pointerType:o[0].type,position:m(v(o[0].currentPos,o[1].currentPos),e.element),buttons:s.buttons,isTouchEvent:"touch"===o[0].type,originalEvent:t.originalEvent,userData:e.userData})),!e.pinchHandler||"touch"!==n.type||t.preventGesture||t.defaultPrevented||(l=a.pinchGPoints[0].currentPos.distanceTo(a.pinchGPoints[1].currentPos),l!==a.currentPinchDist&&(a.lastPinchDist=a.currentPinchDist,a.currentPinchDist=l,a.lastPinchCenter=a.currentPinchCenter,a.currentPinchCenter=v(a.pinchGPoints[0].currentPos,a.pinchGPoints[1].currentPos),e.pinchHandler({eventSource:e,pointerType:"touch",gesturePoints:a.pinchGPoints,lastCenter:m(a.lastPinchCenter,e.element),center:m(a.currentPinchCenter,e.element),lastDistance:a.lastPinchDist,distance:a.currentPinchDist,shift:t.originalEvent.shiftKey,originalEvent:t.originalEvent,userData:e.userData}),t.preventDefault=!0))))}function se(e,t,r){var n,i=e.getActivePointersListByType(r.type);n=i.getById(r.id),n&&K(e,i,n)}function ce(e,t,r){e.stopHandler&&e.stopHandler({eventSource:e,pointerType:r,position:g(t,e.element),buttons:e.getActivePointersListByType(r).buttons,isTouchEvent:"touch"===r,originalEvent:t,userData:e.userData})}e.MouseTracker.gesturePointVelocityTracker=function(){var t=[],r=0,n=0,i=function(e,t){return e.hash.toString()+t.type+t.id.toString()},o=function(){var r,i,o,l,a,s,c=t.length,u=e.now();for(l=u-n,n=u,r=0;r<c;r++)i=t[r],o=i.gPoint,o.direction=Math.atan2(o.currentPos.y-i.lastPos.y,o.currentPos.x-i.lastPos.x),a=i.lastPos.distanceTo(o.currentPos),i.lastPos=o.currentPos,s=1e3*a/(l+1),o.speed=.75*s+.25*o.speed},l=function(l,a){var s=i(l,a);t.push({guid:s,gPoint:a,lastPos:a.currentPos}),1===t.length&&(n=e.now(),r=window.setInterval(o,50))},a=function(e,n){var o,l=i(e,n),a=t.length;for(o=0;o<a;o++)if(t[o].guid===l){t.splice(o,1),a--,0===a&&window.clearInterval(r);break}};return{addPoint:l,removePoint:a}}(),e.MouseTracker.captureElement=document,e.MouseTracker.wheelEventName="onwheel"in document.createElement("div")?"wheel":void 0!==document.onmousewheel?"mousewheel":"DOMMouseScroll",e.MouseTracker.subscribeEvents=["click","dblclick","keydown","keyup","keypress","focus","blur","contextmenu",e.MouseTracker.wheelEventName],"DOMMouseScroll"===e.MouseTracker.wheelEventName&&e.MouseTracker.subscribeEvents.push("MozMousePixelScroll"),window.PointerEvent?(e.MouseTracker.havePointerEvents=!0,e.MouseTracker.subscribeEvents.push("pointerenter","pointerleave","pointerover","pointerout","pointerdown","pointerup","pointermove","pointercancel"),e.MouseTracker.havePointerCapture=function(){var t=document.createElement("div");return e.isFunction(t.setPointerCapture)&&e.isFunction(t.releasePointerCapture)}(),e.MouseTracker.havePointerCapture&&e.MouseTracker.subscribeEvents.push("gotpointercapture","lostpointercapture")):(e.MouseTracker.havePointerEvents=!1,e.MouseTracker.subscribeEvents.push("mouseenter","mouseleave","mouseover","mouseout","mousedown","mouseup","mousemove"),e.MouseTracker.mousePointerId="legacy-mouse",e.MouseTracker.havePointerCapture=function(){var t=document.createElement("div");return e.isFunction(t.setCapture)&&e.isFunction(t.releaseCapture)}(),e.MouseTracker.havePointerCapture&&e.MouseTracker.subscribeEvents.push("losecapture"),"ontouchstart"in window&&e.MouseTracker.subscribeEvents.push("touchstart","touchend","touchmove","touchcancel"),"ongesturestart"in window&&e.MouseTracker.subscribeEvents.push("gesturestart","gesturechange")),e.MouseTracker.GesturePointList=function(e){this._gPoints=[],this.type=e,this.buttons=0,this.contacts=0,this.clicks=0,this.captureCount=0},e.MouseTracker.GesturePointList.prototype={getLength:function(){return this._gPoints.length},asArray:function(){return this._gPoints},add:function(e){return this._gPoints.push(e)},removeById:function(e){var t,r=this._gPoints.length;for(t=0;t<r;t++)if(this._gPoints[t].id===e){this._gPoints.splice(t,1);break}return this._gPoints.length},getByIndex:function(e){return e<this._gPoints.length?this._gPoints[e]:null},getById:function(e){var t,r=this._gPoints.length;for(t=0;t<r;t++)if(this._gPoints[t].id===e)return this._gPoints[t];return null},getPrimary:function(e){var t,r=this._gPoints.length;for(t=0;t<r;t++)if(this._gPoints[t].isPrimary)return this._gPoints[t];return null},addContact:function(){++this.contacts,this.contacts>1&&("mouse"===this.type||"pen"===this.type)&&(e.console.warn("GesturePointList.addContact() Implausible contacts value"),this.contacts=1)},removeContact:function(){--this.contacts,this.contacts<0&&(this.contacts=0)}}}(l),function(e){e.ControlAnchor={NONE:0,TOP_LEFT:1,TOP_RIGHT:2,BOTTOM_RIGHT:3,BOTTOM_LEFT:4,ABSOLUTE:5},e.Control=function(t,r,n){var i=t.parentNode;"number"===typeof r&&(e.console.error("Passing an anchor directly into the OpenSeadragon.Control constructor is deprecated; please use an options object instead.  Support for this deprecated variant is scheduled for removal in December 2013"),r={anchor:r}),r.attachToViewer="undefined"===typeof r.attachToViewer||r.attachToViewer,this.autoFade="undefined"===typeof r.autoFade||r.autoFade,this.element=t,this.anchor=r.anchor,this.container=n,this.anchor===e.ControlAnchor.ABSOLUTE?(this.wrapper=e.makeNeutralElement("div"),this.wrapper.style.position="absolute",this.wrapper.style.top="number"===typeof r.top?r.top+"px":r.top,this.wrapper.style.left="number"===typeof r.left?r.left+"px":r.left,this.wrapper.style.height="number"===typeof r.height?r.height+"px":r.height,this.wrapper.style.width="number"===typeof r.width?r.width+"px":r.width,this.wrapper.style.margin="0px",this.wrapper.style.padding="0px",this.element.style.position="relative",this.element.style.top="0px",this.element.style.left="0px",this.element.style.height="100%",this.element.style.width="100%"):(this.wrapper=e.makeNeutralElement("div"),this.wrapper.style.display="inline-block",this.anchor===e.ControlAnchor.NONE&&(this.wrapper.style.width=this.wrapper.style.height="100%")),this.wrapper.appendChild(this.element),r.attachToViewer?this.anchor===e.ControlAnchor.TOP_RIGHT||this.anchor===e.ControlAnchor.BOTTOM_RIGHT?this.container.insertBefore(this.wrapper,this.container.firstChild):this.container.appendChild(this.wrapper):i.appendChild(this.wrapper)},e.Control.prototype={destroy:function(){this.wrapper.removeChild(this.element),this.anchor!==e.ControlAnchor.NONE&&this.container.removeChild(this.wrapper)},isVisible:function(){return"none"!==this.wrapper.style.display},setVisible:function(t){this.wrapper.style.display=t?this.anchor===e.ControlAnchor.ABSOLUTE?"block":"inline-block":"none"},setOpacity:function(t){e.setElementOpacity(this.wrapper,t,!0)}}}(l),function(e){function t(e,t){var r,n=e.controls;for(r=n.length-1;r>=0;r--)if(n[r].element===t)return r;return-1}e.ControlDock=function(t){var r,n,i=["topleft","topright","bottomright","bottomleft"];for(e.extend(!0,this,{id:"controldock-"+e.now()+"-"+Math.floor(1e6*Math.random()),container:e.makeNeutralElement("div"),controls:[]},t),this.container.onsubmit=function(){return!1},this.element&&(this.element=e.getElement(this.element),this.element.appendChild(this.container),"static"===e.getElementStyle(this.element).position&&(this.element.style.position="relative"),this.container.style.width="100%",this.container.style.height="100%"),n=0;n<i.length;n++)r=i[n],this.controls[r]=e.makeNeutralElement("div"),this.controls[r].style.position="absolute",r.match("left")&&(this.controls[r].style.left="0px"),r.match("right")&&(this.controls[r].style.right="0px"),r.match("top")&&(this.controls[r].style.top="0px"),r.match("bottom")&&(this.controls[r].style.bottom="0px");this.container.appendChild(this.controls.topleft),this.container.appendChild(this.controls.topright),this.container.appendChild(this.controls.bottomright),this.container.appendChild(this.controls.bottomleft)},e.ControlDock.prototype={addControl:function(r,n){r=e.getElement(r);var i=null;if(!(t(this,r)>=0)){switch(n.anchor){case e.ControlAnchor.TOP_RIGHT:i=this.controls.topright,r.style.position="relative",r.style.paddingRight="0px",r.style.paddingTop="0px";break;case e.ControlAnchor.BOTTOM_RIGHT:i=this.controls.bottomright,r.style.position="relative",r.style.paddingRight="0px",r.style.paddingBottom="0px";break;case e.ControlAnchor.BOTTOM_LEFT:i=this.controls.bottomleft,r.style.position="relative",r.style.paddingLeft="0px",r.style.paddingBottom="0px";break;case e.ControlAnchor.TOP_LEFT:i=this.controls.topleft,r.style.position="relative",r.style.paddingLeft="0px",r.style.paddingTop="0px";break;case e.ControlAnchor.ABSOLUTE:i=this.container,r.style.margin="0px",r.style.padding="0px";break;default:case e.ControlAnchor.NONE:i=this.container,r.style.margin="0px",r.style.padding="0px";break}this.controls.push(new e.Control(r,n,i)),r.style.display="inline-block"}},removeControl:function(r){r=e.getElement(r);var n=t(this,r);return n>=0&&(this.controls[n].destroy(),this.controls.splice(n,1)),this},clearControls:function(){while(this.controls.length>0)this.controls.pop().destroy();return this},areControlsEnabled:function(){var e;for(e=this.controls.length-1;e>=0;e--)if(this.controls[e].isVisible())return!0;return!1},setControlsEnabled:function(e){var t;for(t=this.controls.length-1;t>=0;t--)this.controls[t].setVisible(e);return this}}}(l),function(e){e.Placement=e.freezeObject({CENTER:0,TOP_LEFT:1,TOP:2,TOP_RIGHT:3,RIGHT:4,BOTTOM_RIGHT:5,BOTTOM:6,BOTTOM_LEFT:7,LEFT:8,properties:{0:{isLeft:!1,isHorizontallyCentered:!0,isRight:!1,isTop:!1,isVerticallyCentered:!0,isBottom:!1},1:{isLeft:!0,isHorizontallyCentered:!1,isRight:!1,isTop:!0,isVerticallyCentered:!1,isBottom:!1},2:{isLeft:!1,isHorizontallyCentered:!0,isRight:!1,isTop:!0,isVerticallyCentered:!1,isBottom:!1},3:{isLeft:!1,isHorizontallyCentered:!1,isRight:!0,isTop:!0,isVerticallyCentered:!1,isBottom:!1},4:{isLeft:!1,isHorizontallyCentered:!1,isRight:!0,isTop:!1,isVerticallyCentered:!0,isBottom:!1},5:{isLeft:!1,isHorizontallyCentered:!1,isRight:!0,isTop:!1,isVerticallyCentered:!1,isBottom:!0},6:{isLeft:!1,isHorizontallyCentered:!0,isRight:!1,isTop:!1,isVerticallyCentered:!1,isBottom:!0},7:{isLeft:!0,isHorizontallyCentered:!1,isRight:!1,isTop:!1,isVerticallyCentered:!1,isBottom:!0},8:{isLeft:!0,isHorizontallyCentered:!1,isRight:!1,isTop:!1,isVerticallyCentered:!0,isBottom:!1}}})}(l),function(e){var t={},r=1;function n(t){return t=e.getElement(t),new e.Point(0===t.clientWidth?1:t.clientWidth,0===t.clientHeight?1:t.clientHeight)}function i(t,r,n,i,o){var l=t;if("string"===e.type(r))if(r.match(/^\s*<.*>\s*$/))r=e.parseXml(r);else if(r.match(/^\s*[{[].*[}\]]\s*$/))try{var a=e.parseJSON(r);r=a}catch(c){}function s(e,t){e.ready?i(e):(e.addHandler("ready",(function(){i(e)})),e.addHandler("open-failed",(function(e){o({message:e.message,source:t})})))}setTimeout((function(){if("string"===e.type(r))r=new e.TileSource({url:r,crossOriginPolicy:void 0!==n.crossOriginPolicy?n.crossOriginPolicy:t.crossOriginPolicy,ajaxWithCredentials:t.ajaxWithCredentials,ajaxHeaders:n.ajaxHeaders?n.ajaxHeaders:t.ajaxHeaders,splitHashDataForPost:t.splitHashDataForPost,success:function(e){i(e.tileSource)}}),r.addHandler("open-failed",(function(e){o(e)}));else if(e.isPlainObject(r)||r.nodeType)if(void 0!==r.crossOriginPolicy||void 0===n.crossOriginPolicy&&void 0===t.crossOriginPolicy||(r.crossOriginPolicy=void 0!==n.crossOriginPolicy?n.crossOriginPolicy:t.crossOriginPolicy),void 0===r.ajaxWithCredentials&&(r.ajaxWithCredentials=t.ajaxWithCredentials),e.isFunction(r.getTileUrl)){var a=new e.TileSource(r);a.getTileUrl=r.getTileUrl,i(a)}else{var c=e.TileSource.determineType(l,r);if(!c)return void o({message:"Unable to load TileSource",source:r});var u=c.prototype.configure.apply(l,[r]);s(new c(u),r)}else s(r,r)}))}function o(t,r){if(r instanceof e.Overlay)return r;var n=null;if(r.element)n=e.getElement(r.element);else{var i=r.id?r.id:"openseadragon-overlay-"+Math.floor(1e7*Math.random());n=e.getElement(r.id),n||(n=document.createElement("a"),n.href="#/overlay/"+i),n.id=i,e.addClass(n,r.className?r.className:"openseadragon-overlay")}var o=r.location,l=r.width,a=r.height;if(!o){var s=r.x,c=r.y;if(void 0!==r.px){var u=t.viewport.imageToViewportRectangle(new e.Rect(r.px,r.py,l||0,a||0));s=u.x,c=u.y,l=void 0!==l?u.width:void 0,a=void 0!==a?u.height:void 0}o=new e.Point(s,c)}var p=r.placement;return p&&"string"===e.type(p)&&(p=e.Placement[r.placement.toUpperCase()]),new e.Overlay({element:n,location:o,placement:p,onDraw:r.onDraw,checkResize:r.checkResize,width:l,height:a,rotationMode:r.rotationMode})}function a(e,t){var r;for(r=e.length-1;r>=0;r--)if(e[r].element===t)return r;return-1}function s(t,r){return e.requestAnimationFrame((function(){r(t)}))}function c(t){e.requestAnimationFrame((function(){p(t)}))}function u(t){t.autoHideControls&&(t.controlsShouldFade=!0,t.controlsFadeBeginTime=e.now()+t.controlsFadeDelay,window.setTimeout((function(){c(t)}),t.controlsFadeDelay))}function p(t){var r,n,i,o;if(t.controlsShouldFade){for(r=e.now(),n=r-t.controlsFadeBeginTime,i=1-n/t.controlsFadeLength,i=Math.min(1,i),i=Math.max(0,i),o=t.controls.length-1;o>=0;o--)t.controls[o].autoFade&&t.controls[o].setOpacity(i);i>0&&c(t)}}function h(e){var t;for(e.controlsShouldFade=!1,t=e.controls.length-1;t>=0;t--)e.controls[t].setOpacity(1)}function d(){h(this)}function f(){u(this)}function g(e){var t={tracker:e.eventSource,position:e.position,originalEvent:e.originalEvent,preventDefault:e.preventDefault};this.raiseEvent("canvas-contextmenu",t),e.preventDefault=t.preventDefault}function m(t){var r={originalEvent:t.originalEvent,preventDefaultAction:!1,preventVerticalPan:t.preventVerticalPan||!this.panVertical,preventHorizontalPan:t.preventHorizontalPan||!this.panHorizontal};if(this.raiseEvent("canvas-key",r),r.preventDefaultAction||t.ctrl||t.alt||t.meta)t.preventDefault=!1;else switch(t.keyCode){case 38:r.preventVerticalPan||(t.shift?this.viewport.zoomBy(1.1):this.viewport.panBy(this.viewport.deltaPointsFromPixels(new e.Point(0,-this.pixelsPerArrowPress))),this.viewport.applyConstraints()),t.preventDefault=!0;break;case 40:r.preventVerticalPan||(t.shift?this.viewport.zoomBy(.9):this.viewport.panBy(this.viewport.deltaPointsFromPixels(new e.Point(0,this.pixelsPerArrowPress))),this.viewport.applyConstraints()),t.preventDefault=!0;break;case 37:r.preventHorizontalPan||(this.viewport.panBy(this.viewport.deltaPointsFromPixels(new e.Point(-this.pixelsPerArrowPress,0))),this.viewport.applyConstraints()),t.preventDefault=!0;break;case 39:r.preventHorizontalPan||(this.viewport.panBy(this.viewport.deltaPointsFromPixels(new e.Point(this.pixelsPerArrowPress,0))),this.viewport.applyConstraints()),t.preventDefault=!0;break;case 187:this.viewport.zoomBy(1.1),this.viewport.applyConstraints(),t.preventDefault=!0;break;case 189:this.viewport.zoomBy(.9),this.viewport.applyConstraints(),t.preventDefault=!0;break;case 48:this.viewport.goHome(),this.viewport.applyConstraints(),t.preventDefault=!0;break;case 87:r.preventVerticalPan||(t.shift?this.viewport.zoomBy(1.1):this.viewport.panBy(this.viewport.deltaPointsFromPixels(new e.Point(0,-40))),this.viewport.applyConstraints()),t.preventDefault=!0;break;case 83:r.preventVerticalPan||(t.shift?this.viewport.zoomBy(.9):this.viewport.panBy(this.viewport.deltaPointsFromPixels(new e.Point(0,40))),this.viewport.applyConstraints()),t.preventDefault=!0;break;case 65:r.preventHorizontalPan||(this.viewport.panBy(this.viewport.deltaPointsFromPixels(new e.Point(-40,0))),this.viewport.applyConstraints()),t.preventDefault=!0;break;case 68:r.preventHorizontalPan||(this.viewport.panBy(this.viewport.deltaPointsFromPixels(new e.Point(40,0))),this.viewport.applyConstraints()),t.preventDefault=!0;break;case 82:t.shift?this.viewport.flipped?this.viewport.setRotation(this.viewport.getRotation()+this.rotationIncrement):this.viewport.setRotation(this.viewport.getRotation()-this.rotationIncrement):this.viewport.flipped?this.viewport.setRotation(this.viewport.getRotation()-this.rotationIncrement):this.viewport.setRotation(this.viewport.getRotation()+this.rotationIncrement),this.viewport.applyConstraints(),t.preventDefault=!0;break;case 70:this.viewport.toggleFlip(),t.preventDefault=!0;break;case 74:this.goToPreviousPage();break;case 75:this.goToNextPage();break;default:t.preventDefault=!1;break}}function v(e){var t={originalEvent:e.originalEvent};this.raiseEvent("canvas-key-press",t)}function y(r){var n,i=document.activeElement===this.canvas;i||this.canvas.focus(),this.viewport.flipped&&(r.position.x=this.viewport.getContainerSize().x-r.position.x);var o={tracker:r.eventSource,position:r.position,quick:r.quick,shift:r.shift,originalEvent:r.originalEvent,originalTarget:r.originalTarget,preventDefaultAction:!1};this.raiseEvent("canvas-click",o),!o.preventDefaultAction&&this.viewport&&r.quick&&(n=this.gestureSettingsByDeviceType(r.pointerType),!0===n.clickToZoom&&(this.viewport.zoomBy(r.shift?1/this.zoomPerClick:this.zoomPerClick,n.zoomToRefPoint?this.viewport.pointFromPixel(r.position,!0):null),this.viewport.applyConstraints()),n.dblClickDragToZoom&&(!0===t[this.hash].draggingToZoom?(t[this.hash].lastClickTime=null,t[this.hash].draggingToZoom=!1):t[this.hash].lastClickTime=e.now()))}function A(e){var t,r={tracker:e.eventSource,position:e.position,shift:e.shift,originalEvent:e.originalEvent,preventDefaultAction:!1};this.raiseEvent("canvas-double-click",r),!r.preventDefaultAction&&this.viewport&&(t=this.gestureSettingsByDeviceType(e.pointerType),t.dblClickToZoom&&(this.viewport.zoomBy(e.shift?1/this.zoomPerClick:this.zoomPerClick,t.zoomToRefPoint?this.viewport.pointFromPixel(e.position,!0):null),this.viewport.applyConstraints()))}function w(e){var r,n={tracker:e.eventSource,pointerType:e.pointerType,position:e.position,delta:e.delta,speed:e.speed,direction:e.direction,shift:e.shift,originalEvent:e.originalEvent,preventDefaultAction:!1};if(this.raiseEvent("canvas-drag",n),r=this.gestureSettingsByDeviceType(e.pointerType),!n.preventDefaultAction&&this.viewport)if(r.dblClickDragToZoom&&t[this.hash].draggingToZoom){var i=Math.pow(this.zoomPerDblClickDrag,e.delta.y/50);this.viewport.zoomBy(i)}else if(r.dragToPan&&!t[this.hash].draggingToZoom){if(this.panHorizontal||(e.delta.x=0),this.panVertical||(e.delta.y=0),this.viewport.flipped&&(e.delta.x=-e.delta.x),this.constrainDuringPan){var o=this.viewport.deltaPointsFromPixels(e.delta.negate());this.viewport.centerSpringX.target.value+=o.x,this.viewport.centerSpringY.target.value+=o.y;var l=this.viewport.getConstrainedBounds();this.viewport.centerSpringX.target.value-=o.x,this.viewport.centerSpringY.target.value-=o.y,l.xConstrained&&(e.delta.x=0),l.yConstrained&&(e.delta.y=0)}this.viewport.panBy(this.viewport.deltaPointsFromPixels(e.delta.negate()),r.flickEnabled&&!this.constrainDuringPan)}}function _(r){var n,i={tracker:r.eventSource,pointerType:r.pointerType,position:r.position,speed:r.speed,direction:r.direction,shift:r.shift,originalEvent:r.originalEvent,preventDefaultAction:!1};if(this.raiseEvent("canvas-drag-end",i),n=this.gestureSettingsByDeviceType(r.pointerType),!i.preventDefaultAction&&this.viewport){if(!t[this.hash].draggingToZoom&&n.dragToPan&&n.flickEnabled&&r.speed>=n.flickMinSpeed){var o=0;this.panHorizontal&&(o=n.flickMomentum*r.speed*Math.cos(r.direction));var l=0;this.panVertical&&(l=n.flickMomentum*r.speed*Math.sin(r.direction));var a=this.viewport.pixelFromPoint(this.viewport.getCenter(!0)),s=this.viewport.pointFromPixel(new e.Point(a.x-o,a.y-l));this.viewport.panTo(s,!1)}this.viewport.applyConstraints()}n.dblClickDragToZoom&&!0===t[this.hash].draggingToZoom&&(t[this.hash].draggingToZoom=!1)}function T(e){this.raiseEvent("canvas-enter",{tracker:e.eventSource,pointerType:e.pointerType,position:e.position,buttons:e.buttons,pointers:e.pointers,insideElementPressed:e.insideElementPressed,buttonDownAny:e.buttonDownAny,originalEvent:e.originalEvent})}function b(e){this.raiseEvent("canvas-exit",{tracker:e.eventSource,pointerType:e.pointerType,position:e.position,buttons:e.buttons,pointers:e.pointers,insideElementPressed:e.insideElementPressed,buttonDownAny:e.buttonDownAny,originalEvent:e.originalEvent})}function x(r){var n;if(this.raiseEvent("canvas-press",{tracker:r.eventSource,pointerType:r.pointerType,position:r.position,insideElementPressed:r.insideElementPressed,insideElementReleased:r.insideElementReleased,originalEvent:r.originalEvent}),n=this.gestureSettingsByDeviceType(r.pointerType),n.dblClickDragToZoom){var i=t[this.hash].lastClickTime,o=e.now();if(null===i)return;o-i<this.dblClickTimeThreshold&&(t[this.hash].draggingToZoom=!0),t[this.hash].lastClickTime=null}}function E(e){this.raiseEvent("canvas-release",{tracker:e.eventSource,pointerType:e.pointerType,position:e.position,insideElementPressed:e.insideElementPressed,insideElementReleased:e.insideElementReleased,originalEvent:e.originalEvent})}function S(e){this.raiseEvent("canvas-nonprimary-press",{tracker:e.eventSource,position:e.position,pointerType:e.pointerType,button:e.button,buttons:e.buttons,originalEvent:e.originalEvent})}function P(e){this.raiseEvent("canvas-nonprimary-release",{tracker:e.eventSource,position:e.position,pointerType:e.pointerType,button:e.button,buttons:e.buttons,originalEvent:e.originalEvent})}function C(e){var t,r,n,i,o={tracker:e.eventSource,pointerType:e.pointerType,gesturePoints:e.gesturePoints,lastCenter:e.lastCenter,center:e.center,lastDistance:e.lastDistance,distance:e.distance,shift:e.shift,originalEvent:e.originalEvent,preventDefaultPanAction:!1,preventDefaultZoomAction:!1,preventDefaultRotateAction:!1};if(this.raiseEvent("canvas-pinch",o),this.viewport&&(t=this.gestureSettingsByDeviceType(e.pointerType),!t.pinchToZoom||o.preventDefaultPanAction&&o.preventDefaultZoomAction||(r=this.viewport.pointFromPixel(e.center,!0),t.zoomToRefPoint&&!o.preventDefaultPanAction&&(n=this.viewport.pointFromPixel(e.lastCenter,!0),i=n.minus(r),this.panHorizontal||(i.x=0),this.panVertical||(i.y=0),this.viewport.panBy(i,!0)),o.preventDefaultZoomAction||this.viewport.zoomBy(e.distance/e.lastDistance,r,!0),this.viewport.applyConstraints()),t.pinchRotate&&!o.preventDefaultRotateAction)){var l=Math.atan2(e.gesturePoints[0].currentPos.y-e.gesturePoints[1].currentPos.y,e.gesturePoints[0].currentPos.x-e.gesturePoints[1].currentPos.x),a=Math.atan2(e.gesturePoints[0].lastPos.y-e.gesturePoints[1].lastPos.y,e.gesturePoints[0].lastPos.x-e.gesturePoints[1].lastPos.x);r=this.viewport.pointFromPixel(e.center,!0),this.viewport.rotateTo(this.viewport.getRotation(!0)+(l-a)*(180/Math.PI),r,!0)}}function R(e){this.raiseEvent("canvas-focus",{tracker:e.eventSource,originalEvent:e.originalEvent})}function D(e){this.raiseEvent("canvas-blur",{tracker:e.eventSource,originalEvent:e.originalEvent})}function O(t){var r,n,i,o,l;o=e.now(),l=o-this._lastScrollTime,l>this.minScrollDeltaTime?(this._lastScrollTime=o,r={tracker:t.eventSource,position:t.position,scroll:t.scroll,shift:t.shift,originalEvent:t.originalEvent,preventDefaultAction:!1,preventDefault:!0},this.raiseEvent("canvas-scroll",r),!r.preventDefaultAction&&this.viewport&&(this.viewport.flipped&&(t.position.x=this.viewport.getContainerSize().x-t.position.x),n=this.gestureSettingsByDeviceType(t.pointerType),n.scrollToZoom&&(i=Math.pow(this.zoomPerScroll,t.scroll),this.viewport.zoomBy(i,n.zoomToRefPoint?this.viewport.pointFromPixel(t.position,!0):null),this.viewport.applyConstraints())),t.preventDefault=r.preventDefault):t.preventDefault=!0}function I(e){t[this.hash].mouseInside=!0,h(this),this.raiseEvent("container-enter",{tracker:e.eventSource,pointerType:e.pointerType,position:e.position,buttons:e.buttons,pointers:e.pointers,insideElementPressed:e.insideElementPressed,buttonDownAny:e.buttonDownAny,originalEvent:e.originalEvent})}function N(e){e.pointers<1&&(t[this.hash].mouseInside=!1,t[this.hash].animating||u(this)),this.raiseEvent("container-exit",{tracker:e.eventSource,pointerType:e.pointerType,position:e.position,buttons:e.buttons,pointers:e.pointers,insideElementPressed:e.insideElementPressed,buttonDownAny:e.buttonDownAny,originalEvent:e.originalEvent})}function L(e){k(e),e.isOpen()?e._updateRequestId=s(e,L):e._updateRequestId=!1}function F(r,n){var i,o=r.viewport,l=o.getZoom(),a=o.getCenter();if(o.resize(n,r.preserveImageSizeOnResize),o.panTo(a,!0),r.preserveImageSizeOnResize)i=t[r.hash].prevContainerSize.x/n.x;else{var s=new e.Point(0,0),c=new e.Point(t[r.hash].prevContainerSize.x,t[r.hash].prevContainerSize.y).distanceTo(s),u=new e.Point(n.x,n.y).distanceTo(s);i=u/c*t[r.hash].prevContainerSize.x/n.x}o.zoomTo(l*i,null,!0),t[r.hash].prevContainerSize=n,t[r.hash].forceRedraw=!0,t[r.hash].needsResize=!1,t[r.hash].forceResize=!1}function k(e){if(!e._opening&&t[e.hash]){if(e.autoResize||t[e.hash].forceResize){var r;if(e._autoResizePolling){r=n(e.container);var i=t[e.hash].prevContainerSize;r.equals(i)||(t[e.hash].needsResize=!0)}t[e.hash].needsResize&&F(e,r||n(e.container))}var o=e.viewport.update(),l=e.world.update(o)||o;o&&e.raiseEvent("viewport-change"),e.referenceStrip&&(l=e.referenceStrip.update(e.viewport)||l);var a=t[e.hash].animating;!a&&l&&(e.raiseEvent("animation-start"),h(e));var s=a&&!l;s&&(t[e.hash].animating=!1),(l||s||t[e.hash].forceRedraw||e.world.needsDraw())&&(B(e),e._drawOverlays(),e.navigator&&e.navigator.update(e.viewport),t[e.hash].forceRedraw=!1,l&&e.raiseEvent("animation")),s&&(e.raiseEvent("animation-finish"),t[e.hash].mouseInside||u(e)),t[e.hash].animating=l}}function B(e){e.imageLoader.clear(),e.world.draw(),e.raiseEvent("update-viewport",{})}function M(e,t){return e?e+t:t}function z(){t[this.hash].lastZoomTime=e.now(),t[this.hash].zoomFactor=this.zoomPerSecond,t[this.hash].zooming=!0,H(this)}function j(){t[this.hash].lastZoomTime=e.now(),t[this.hash].zoomFactor=1/this.zoomPerSecond,t[this.hash].zooming=!0,H(this)}function U(){t[this.hash].zooming=!1}function H(t){e.requestAnimationFrame(e.delegate(t,V))}function V(){var r,n,i;t[this.hash].zooming&&this.viewport&&(r=e.now(),n=r-t[this.hash].lastZoomTime,i=Math.pow(t[this.hash].zoomFactor,n/1e3),this.viewport.zoomBy(i),this.viewport.applyConstraints(),t[this.hash].lastZoomTime=r,H(this))}function W(){this.viewport&&(t[this.hash].zooming=!1,this.viewport.zoomBy(this.zoomPerClick/1),this.viewport.applyConstraints())}function G(){this.viewport&&(t[this.hash].zooming=!1,this.viewport.zoomBy(1/this.zoomPerClick),this.viewport.applyConstraints())}function q(){this.buttonGroup&&(this.buttonGroup.emulateEnter(),this.buttonGroup.emulateLeave())}function X(){this.viewport&&this.viewport.goHome()}function Z(){this.isFullPage()&&!e.isFullScreen()?this.setFullPage(!1):this.setFullScreen(!this.isFullPage()),this.buttonGroup&&this.buttonGroup.emulateLeave(),this.fullPageButton.element.focus(),this.viewport&&this.viewport.applyConstraints()}function $(){if(this.viewport){var e=this.viewport.getRotation();this.viewport.flipped?e+=this.rotationIncrement:e-=this.rotationIncrement,this.viewport.setRotation(e)}}function Y(){if(this.viewport){var e=this.viewport.getRotation();this.viewport.flipped?e-=this.rotationIncrement:e+=this.rotationIncrement,this.viewport.setRotation(e)}}function K(){this.viewport.toggleFlip()}e.Viewer=function(i){var o,l=arguments,a=this;e.isPlainObject(i)||(i={id:l[0],xmlPath:l.length>1?l[1]:void 0,prefixUrl:l.length>2?l[2]:void 0,controls:l.length>3?l[3]:void 0,overlays:l.length>4?l[4]:void 0}),i.config&&(e.extend(!0,i,i.config),delete i.config);let c=["useCanvas"];if(i.drawerOptions=Object.assign({},c.reduce(((e,t)=>(e[t]=i[t],delete i[t],e)),{}),i.drawerOptions),e.extend(!0,this,{id:i.id,hash:i.hash||r++,initialPage:0,element:null,container:null,canvas:null,overlays:[],overlaysContainer:null,previousBody:[],customControls:[],source:null,drawer:null,world:null,viewport:null,navigator:null,collectionViewport:null,collectionDrawer:null,navImages:null,buttonGroup:null,profiler:null},e.DEFAULT_SETTINGS,i),"undefined"===typeof this.hash)throw new Error("A hash must be defined, either by specifying options.id or options.hash.");"undefined"!==typeof t[this.hash]&&e.console.warn("Hash "+this.hash+" has already been used."),t[this.hash]={fsBoundsDelta:new e.Point(1,1),prevContainerSize:null,animating:!1,forceRedraw:!1,needsResize:!1,forceResize:!1,mouseInside:!1,group:null,zooming:!1,zoomFactor:null,lastZoomTime:null,fullPage:!1,onfullscreenchange:null,lastClickTime:null,draggingToZoom:!1},this._sequenceIndex=0,this._firstOpen=!0,this._updateRequestId=null,this._loadQueue=[],this.currentOverlays=[],this._updatePixelDensityRatioBind=null,this._lastScrollTime=e.now(),e.EventSource.call(this),this.addHandler("open-failed",(function(t){var r=e.getString("Errors.OpenFailed",t.eventSource,t.message);a._showMessage(r)})),e.ControlDock.call(this,i),this.xmlPath&&(this.tileSources=[this.xmlPath]),this.element=this.element||document.getElementById(this.id),this.canvas=e.makeNeutralElement("div"),this.canvas.className="openseadragon-canvas",function(e){e.width="100%",e.height="100%",e.overflow="hidden",e.position="absolute",e.top="0px",e.left="0px"}(this.canvas.style),e.setElementTouchActionNone(this.canvas),""!==i.tabIndex&&(this.canvas.tabIndex=void 0===i.tabIndex?0:i.tabIndex),this.container.className="openseadragon-container",function(e){e.width="100%",e.height="100%",e.position="relative",e.overflow="hidden",e.left="0px",e.top="0px",e.textAlign="left"}(this.container.style),e.setElementTouchActionNone(this.container),this.container.insertBefore(this.canvas,this.container.firstChild),this.element.appendChild(this.container),this.bodyWidth=document.body.style.width,this.bodyHeight=document.body.style.height,this.bodyOverflow=document.body.style.overflow,this.docOverflow=document.documentElement.style.overflow,this.innerTracker=new e.MouseTracker({userData:"Viewer.innerTracker",element:this.canvas,startDisabled:!this.mouseNavEnabled,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,dblClickTimeThreshold:this.dblClickTimeThreshold,dblClickDistThreshold:this.dblClickDistThreshold,contextMenuHandler:e.delegate(this,g),keyDownHandler:e.delegate(this,m),keyHandler:e.delegate(this,v),clickHandler:e.delegate(this,y),dblClickHandler:e.delegate(this,A),dragHandler:e.delegate(this,w),dragEndHandler:e.delegate(this,_),enterHandler:e.delegate(this,T),leaveHandler:e.delegate(this,b),pressHandler:e.delegate(this,x),releaseHandler:e.delegate(this,E),nonPrimaryPressHandler:e.delegate(this,S),nonPrimaryReleaseHandler:e.delegate(this,P),scrollHandler:e.delegate(this,O),pinchHandler:e.delegate(this,C),focusHandler:e.delegate(this,R),blurHandler:e.delegate(this,D)}),this.outerTracker=new e.MouseTracker({userData:"Viewer.outerTracker",element:this.container,startDisabled:!this.mouseNavEnabled,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,dblClickTimeThreshold:this.dblClickTimeThreshold,dblClickDistThreshold:this.dblClickDistThreshold,enterHandler:e.delegate(this,I),leaveHandler:e.delegate(this,N)}),this.toolbar&&(this.toolbar=new e.ControlDock({element:this.toolbar})),this.bindStandardControls(),t[this.hash].prevContainerSize=n(this.container),window.ResizeObserver?(this._autoResizePolling=!1,this._resizeObserver=new ResizeObserver((function(){t[a.hash].needsResize=!0})),this._resizeObserver.observe(this.container,{})):this._autoResizePolling=!0,this.world=new e.World({viewer:this}),this.world.addHandler("add-item",(function(e){a.source=a.world.getItemAt(0).source,t[a.hash].forceRedraw=!0,a._updateRequestId||(a._updateRequestId=s(a,L))})),this.world.addHandler("remove-item",(function(e){a.world.getItemCount()?a.source=a.world.getItemAt(0).source:a.source=null,t[a.hash].forceRedraw=!0})),this.world.addHandler("metrics-change",(function(e){a.viewport&&a.viewport._setContentBounds(a.world.getHomeBounds(),a.world.getContentFactor())})),this.world.addHandler("item-index-change",(function(e){a.source=a.world.getItemAt(0).source})),this.viewport=new e.Viewport({containerSize:t[this.hash].prevContainerSize,springStiffness:this.springStiffness,animationTime:this.animationTime,minZoomImageRatio:this.minZoomImageRatio,maxZoomPixelRatio:this.maxZoomPixelRatio,visibilityRatio:this.visibilityRatio,wrapHorizontal:this.wrapHorizontal,wrapVertical:this.wrapVertical,defaultZoomLevel:this.defaultZoomLevel,minZoomLevel:this.minZoomLevel,maxZoomLevel:this.maxZoomLevel,viewer:this,degrees:this.degrees,flipped:this.flipped,overlayPreserveContentDirection:this.overlayPreserveContentDirection,navigatorRotate:this.navigatorRotate,homeFillsViewer:this.homeFillsViewer,margins:this.viewportMargins,silenceMultiImageWarnings:this.silenceMultiImageWarnings}),this.viewport._setContentBounds(this.world.getHomeBounds(),this.world.getContentFactor()),this.imageLoader=new e.ImageLoader({jobLimit:this.imageLoaderLimit,timeout:i.timeout,tileRetryMax:this.tileRetryMax,tileRetryDelay:this.tileRetryDelay}),this.tileCache=new e.TileCache({maxImageCacheCount:this.maxImageCacheCount}),Object.prototype.hasOwnProperty.call(this.drawerOptions,"useCanvas")&&(e.console.error('useCanvas is deprecated, use the "drawer" option to indicate preferred drawer(s)'),this.drawerOptions.useCanvas||(this.drawer=e.HTMLDrawer),delete this.drawerOptions.useCanvas);let p=Array.isArray(this.drawer)?this.drawer:[this.drawer];0===p.length&&(p=[e.DEFAULT_SETTINGS.drawer].flat(),e.console.warn("No valid drawers were selected. Using the default value.")),this.drawer=null;for(const e of p){let t=this.requestDrawer(e,{mainDrawer:!0,redrawImmediately:!1});if(t)break}if(!this.drawer)throw e.console.error("No drawer could be created!"),"Error with creating the selected drawer(s)";for(this.drawer.setImageSmoothingEnabled(this.imageSmoothingEnabled),this.overlaysContainer=e.makeNeutralElement("div"),this.canvas.appendChild(this.overlaysContainer),this.drawer.canRotate()||(this.rotateLeft&&(o=this.buttonGroup.buttons.indexOf(this.rotateLeft),this.buttonGroup.buttons.splice(o,1),this.buttonGroup.element.removeChild(this.rotateLeft.element)),this.rotateRight&&(o=this.buttonGroup.buttons.indexOf(this.rotateRight),this.buttonGroup.buttons.splice(o,1),this.buttonGroup.element.removeChild(this.rotateRight.element))),this._addUpdatePixelDensityRatioEvent(),this.showNavigator&&(this.navigator=new e.Navigator({element:this.navigatorElement,id:this.navigatorId,position:this.navigatorPosition,sizeRatio:this.navigatorSizeRatio,maintainSizeRatio:this.navigatorMaintainSizeRatio,top:this.navigatorTop,left:this.navigatorLeft,width:this.navigatorWidth,height:this.navigatorHeight,autoResize:this.navigatorAutoResize,autoFade:this.navigatorAutoFade,prefixUrl:this.prefixUrl,viewer:this,navigatorRotate:this.navigatorRotate,background:this.navigatorBackground,opacity:this.navigatorOpacity,borderColor:this.navigatorBorderColor,displayRegionColor:this.navigatorDisplayRegionColor,crossOriginPolicy:this.crossOriginPolicy,animationTime:this.animationTime,drawer:this.drawer.getType(),loadTilesWithAjax:this.loadTilesWithAjax,ajaxHeaders:this.ajaxHeaders,ajaxWithCredentials:this.ajaxWithCredentials})),this.sequenceMode&&this.bindSequenceControls(),this.tileSources&&this.open(this.tileSources),o=0;o<this.customControls.length;o++)this.addControl(this.customControls[o].id,{anchor:this.customControls[o].anchor});e.requestAnimationFrame((function(){u(a)})),e._viewers.set(this.element,this)},e.extend(e.Viewer.prototype,e.EventSource.prototype,e.ControlDock.prototype,{isOpen:function(){return!!this.world.getItemCount()},openDzi:function(t){return e.console.error("[Viewer.openDzi] this function is deprecated; use Viewer.open() instead."),this.open(t)},openTileSource:function(t){return e.console.error("[Viewer.openTileSource] this function is deprecated; use Viewer.open() instead."),this.open(t)},get buttons(){return e.console.warn("Viewer.buttons is deprecated; Please use Viewer.buttonGroup"),this.buttonGroup},open:function(t,r){var n=this;if(this.close(),!t)return this;if(this.sequenceMode&&e.isArray(t))return this.referenceStrip&&(this.referenceStrip.destroy(),this.referenceStrip=null),"undefined"===typeof r||isNaN(r)||(this.initialPage=r),this.tileSources=t,this._sequenceIndex=Math.max(0,Math.min(this.tileSources.length-1,this.initialPage)),this.tileSources.length&&(this.open(this.tileSources[this._sequenceIndex]),this.showReferenceStrip&&this.addReferenceStrip()),this._updateSequenceButtons(this._sequenceIndex),this;if(e.isArray(t)||(t=[t]),!t.length)return this;this._opening=!0;for(var i,l=t.length,a=0,s=0,c=function(){if(a+s===l)if(a){!n._firstOpen&&n.preserveViewport||(n.viewport.goHome(!0),n.viewport.update()),n._firstOpen=!1;var e=t[0];if(e.tileSource&&(e=e.tileSource),n.overlays&&!n.preserveOverlays)for(var r=0;r<n.overlays.length;r++)n.currentOverlays[r]=o(n,n.overlays[r]);n._drawOverlays(),n._opening=!1,n.raiseEvent("open",{source:e})}else n._opening=!1,n.raiseEvent("open-failed",i)},u=function(t){e.isPlainObject(t)&&t.tileSource||(t={tileSource:t}),void 0!==t.index&&(e.console.error("[Viewer.open] setting indexes here is not supported; use addTiledImage instead"),delete t.index),void 0===t.collectionImmediately&&(t.collectionImmediately=!0);var r=t.success;t.success=function(e){if(a++,t.tileSource.overlays)for(var i=0;i<t.tileSource.overlays.length;i++)n.addOverlay(t.tileSource.overlays[i]);r&&r(e),c()};var o=t.error;t.error=function(e){s++,i||(i=e),o&&o(e),c()},n.addTiledImage(t)},p=0;p<t.length;p++)u(t[p]);return this},close:function(){return t[this.hash]?(this._opening=!1,this.navigator&&this.navigator.close(),this.preserveOverlays||(this.clearOverlays(),this.overlaysContainer.innerHTML=""),t[this.hash].animating=!1,this.world.removeAll(),this.imageLoader.clear(),this.raiseEvent("close"),this):this},destroy:function(){if(t[this.hash]){if(this.raiseEvent("before-destroy"),this._removeUpdatePixelDensityRatioEvent(),this.close(),this.clearOverlays(),this.overlaysContainer.innerHTML="",this._resizeObserver&&this._resizeObserver.disconnect(),this.referenceStrip&&(this.referenceStrip.destroy(),this.referenceStrip=null),null!==this._updateRequestId&&(e.cancelAnimationFrame(this._updateRequestId),this._updateRequestId=null),this.drawer&&this.drawer.destroy(),this.navigator&&(this.navigator.destroy(),t[this.navigator.hash]=null,delete t[this.navigator.hash],this.navigator=null),this.buttonGroup)this.buttonGroup.destroy();else if(this.customButtons)while(this.customButtons.length)this.customButtons.pop().destroy();if(this.paging&&this.paging.destroy(),this.element)while(this.element.firstChild)this.element.removeChild(this.element.firstChild);this.container.onsubmit=null,this.clearControls(),this.innerTracker&&this.innerTracker.destroy(),this.outerTracker&&this.outerTracker.destroy(),t[this.hash]=null,delete t[this.hash],this.canvas=null,this.container=null,e._viewers.delete(this.element),this.element=null,this.raiseEvent("destroy"),this.removeAllHandlers()}},requestDrawer(t,r){const n={mainDrawer:!0,redrawImmediately:!0,drawerOptions:null};r=e.extend(!0,n,r);const i=r.mainDrawer,o=r.redrawImmediately,l=r.drawerOptions,a=this.drawer;let s=null;if(t&&t.prototype instanceof e.DrawerBase?(s=t,t="custom"):"string"===typeof t&&(s=e.determineDrawer(t)),s||e.console.warn("Unsupported drawer! Drawer must be an existing string type, or a class that extends OpenSeadragon.DrawerBase."),s&&s.isSupported()){a&&i&&a.destroy();const e=new s({viewer:this,viewport:this.viewport,element:this.canvas,debugGridColor:this.debugGridColor,options:l||this.drawerOptions[t]});return i&&(this.drawer=e,o&&this.forceRedraw()),e}return!1},isMouseNavEnabled:function(){return this.innerTracker.isTracking()},setMouseNavEnabled:function(e){return this.innerTracker.setTracking(e),this.outerTracker.setTracking(e),this.raiseEvent("mouse-enabled",{enabled:e}),this},areControlsEnabled:function(){var e,t=this.controls.length;for(e=0;e<this.controls.length;e++)t=t&&this.controls[e].isVisible();return t},setControlsEnabled:function(e){return e?h(this):u(this),this.raiseEvent("controls-enabled",{enabled:e}),this},setDebugMode:function(e){for(var t=0;t<this.world.getItemCount();t++)this.world.getItemAt(t).debugMode=e;this.debugMode=e,this.forceRedraw()},setAjaxHeaders:function(t,r){if(null===t&&(t={}),e.isPlainObject(t)){if(void 0===r&&(r=!0),this.ajaxHeaders=t,r){for(var n=0;n<this.world.getItemCount();n++)this.world.getItemAt(n)._updateAjaxHeaders(!0);if(this.navigator&&this.navigator.setAjaxHeaders(this.ajaxHeaders,!0),this.referenceStrip&&this.referenceStrip.miniViewers)for(var i in this.referenceStrip.miniViewers)this.referenceStrip.miniViewers[i].setAjaxHeaders(this.ajaxHeaders,!0)}}else console.error("[Viewer.setAjaxHeaders] Ignoring invalid headers, must be a plain object")},addButton:function(e){this.buttonGroup.addButton(e)},isFullPage:function(){return t[this.hash]&&t[this.hash].fullPage},setFullPage:function(r){var n,i,o=document.body,l=o.style,a=document.documentElement.style,s=this;if(r===this.isFullPage())return this;var c={fullPage:r,preventDefaultAction:!1};if(this.raiseEvent("pre-full-page",c),c.preventDefaultAction)return this;if(r&&this.element){for(this.elementSize=e.getElementSize(this.element),this.pageScroll=e.getPageScroll(),this.elementMargin=this.element.style.margin,this.element.style.margin="0",this.elementPadding=this.element.style.padding,this.element.style.padding="0",this.bodyMargin=l.margin,this.docMargin=a.margin,l.margin="0",a.margin="0",this.bodyPadding=l.padding,this.docPadding=a.padding,l.padding="0",a.padding="0",this.bodyWidth=l.width,this.docWidth=a.width,l.width="100%",a.width="100%",this.bodyHeight=l.height,this.docHeight=a.height,l.height="100%",a.height="100%",this.bodyDisplay=l.display,l.display="block",this.previousBody=[],t[this.hash].prevElementParent=this.element.parentNode,t[this.hash].prevNextSibling=this.element.nextSibling,t[this.hash].prevElementWidth=this.element.style.width,t[this.hash].prevElementHeight=this.element.style.height,n=o.childNodes.length,i=0;i<n;i++)this.previousBody.push(o.childNodes[0]),o.removeChild(o.childNodes[0]);this.toolbar&&this.toolbar.element&&(this.toolbar.parentNode=this.toolbar.element.parentNode,this.toolbar.nextSibling=this.toolbar.element.nextSibling,o.appendChild(this.toolbar.element),e.addClass(this.toolbar.element,"fullpage")),e.addClass(this.element,"fullpage"),o.appendChild(this.element),this.element.style.height="100vh",this.element.style.width="100vw",this.toolbar&&this.toolbar.element&&(this.element.style.height=e.getElementSize(this.element).y-e.getElementSize(this.toolbar.element).y+"px"),t[this.hash].fullPage=!0,e.delegate(this,I)({})}else{for(this.element.style.margin=this.elementMargin,this.element.style.padding=this.elementPadding,l.margin=this.bodyMargin,a.margin=this.docMargin,l.padding=this.bodyPadding,a.padding=this.docPadding,l.width=this.bodyWidth,a.width=this.docWidth,l.height=this.bodyHeight,a.height=this.docHeight,l.display=this.bodyDisplay,o.removeChild(this.element),n=this.previousBody.length,i=0;i<n;i++)o.appendChild(this.previousBody.shift());e.removeClass(this.element,"fullpage"),t[this.hash].prevElementParent.insertBefore(this.element,t[this.hash].prevNextSibling),this.toolbar&&this.toolbar.element&&(o.removeChild(this.toolbar.element),e.removeClass(this.toolbar.element,"fullpage"),this.toolbar.parentNode.insertBefore(this.toolbar.element,this.toolbar.nextSibling),delete this.toolbar.parentNode,delete this.toolbar.nextSibling),this.element.style.width=t[this.hash].prevElementWidth,this.element.style.height=t[this.hash].prevElementHeight;var u=0,p=function(){e.setPageScroll(s.pageScroll);var t=e.getPageScroll();u++,u<10&&(t.x!==s.pageScroll.x||t.y!==s.pageScroll.y)&&e.requestAnimationFrame(p)};e.requestAnimationFrame(p),t[this.hash].fullPage=!1,e.delegate(this,N)({})}return this.navigator&&this.viewport&&this.navigator.update(this.viewport),this.raiseEvent("full-page",{fullPage:r}),this},setFullScreen:function(t){var r=this;if(!e.supportsFullScreen)return this.setFullPage(t);if(e.isFullScreen()===t)return this;var n={fullScreen:t,preventDefaultAction:!1};if(this.raiseEvent("pre-full-screen",n),n.preventDefaultAction)return this;if(t){if(this.setFullPage(!0),!this.isFullPage())return this;this.fullPageStyleWidth=this.element.style.width,this.fullPageStyleHeight=this.element.style.height,this.element.style.width="100%",this.element.style.height="100%";var i=function(){var t=e.isFullScreen();t||(e.removeEvent(document,e.fullScreenEventName,i),e.removeEvent(document,e.fullScreenErrorEventName,i),r.setFullPage(!1),r.isFullPage()&&(r.element.style.width=r.fullPageStyleWidth,r.element.style.height=r.fullPageStyleHeight)),r.navigator&&r.viewport&&setTimeout((function(){r.navigator.update(r.viewport)})),r.raiseEvent("full-screen",{fullScreen:t})};e.addEvent(document,e.fullScreenEventName,i),e.addEvent(document,e.fullScreenErrorEventName,i),e.requestFullScreen(document.body)}else e.exitFullScreen();return this},isVisible:function(){return"hidden"!==this.container.style.visibility},isFullScreen:function(){return e.isFullScreen()&&this.isFullPage()},setVisible:function(e){return this.container.style.visibility=e?"":"hidden",this.raiseEvent("visible",{visible:e}),this},addTiledImage:function(t){e.console.assert(t,"[Viewer.addTiledImage] options is required"),e.console.assert(t.tileSource,"[Viewer.addTiledImage] options.tileSource is required"),e.console.assert(!t.replace||t.index>-1&&t.index<this.world.getItemCount(),"[Viewer.addTiledImage] if options.replace is used, options.index must be a valid index in Viewer.world");var r=this;t.replace&&(t.replaceItem=r.world.getItemAt(t.index)),this._hideMessage(),void 0===t.placeholderFillStyle&&(t.placeholderFillStyle=this.placeholderFillStyle),void 0===t.opacity&&(t.opacity=this.opacity),void 0===t.preload&&(t.preload=this.preload),void 0===t.compositeOperation&&(t.compositeOperation=this.compositeOperation),void 0===t.crossOriginPolicy&&(t.crossOriginPolicy=void 0!==t.tileSource.crossOriginPolicy?t.tileSource.crossOriginPolicy:this.crossOriginPolicy),void 0===t.ajaxWithCredentials&&(t.ajaxWithCredentials=this.ajaxWithCredentials),void 0===t.loadTilesWithAjax&&(t.loadTilesWithAjax=this.loadTilesWithAjax),e.isPlainObject(t.ajaxHeaders)||(t.ajaxHeaders={});var n={options:t};function o(e){for(var i=0;i<r._loadQueue.length;i++)if(r._loadQueue[i]===n){r._loadQueue.splice(i,1);break}0===r._loadQueue.length&&l(n),r.raiseEvent("add-item-failed",e),t.error&&t.error(e)}function l(e){r.collectionMode&&(r.world.arrange({immediately:e.options.collectionImmediately,rows:r.collectionRows,columns:r.collectionColumns,layout:r.collectionLayout,tileSize:r.collectionTileSize,tileMargin:r.collectionTileMargin}),r.world.setAutoRefigureSizes(!0))}function a(){var t,n,i;while(r._loadQueue.length){if(t=r._loadQueue[0],!t.tileSource)break;if(r._loadQueue.splice(0,1),t.options.replace){var o=r.world.getIndexOfItem(t.options.replaceItem);-1!==o&&(t.options.index=o),r.world.removeItem(t.options.replaceItem)}n=new e.TiledImage({viewer:r,source:t.tileSource,viewport:r.viewport,drawer:r.drawer,tileCache:r.tileCache,imageLoader:r.imageLoader,x:t.options.x,y:t.options.y,width:t.options.width,height:t.options.height,fitBounds:t.options.fitBounds,fitBoundsPlacement:t.options.fitBoundsPlacement,clip:t.options.clip,placeholderFillStyle:t.options.placeholderFillStyle,opacity:t.options.opacity,preload:t.options.preload,degrees:t.options.degrees,flipped:t.options.flipped,compositeOperation:t.options.compositeOperation,springStiffness:r.springStiffness,animationTime:r.animationTime,minZoomImageRatio:r.minZoomImageRatio,wrapHorizontal:r.wrapHorizontal,wrapVertical:r.wrapVertical,maxTilesPerFrame:r.maxTilesPerFrame,immediateRender:r.immediateRender,blendTime:r.blendTime,alwaysBlend:r.alwaysBlend,minPixelRatio:r.minPixelRatio,smoothTileEdgesMinZoom:r.smoothTileEdgesMinZoom,iOSDevice:r.iOSDevice,crossOriginPolicy:t.options.crossOriginPolicy,ajaxWithCredentials:t.options.ajaxWithCredentials,loadTilesWithAjax:t.options.loadTilesWithAjax,ajaxHeaders:t.options.ajaxHeaders,debugMode:r.debugMode,subPixelRoundingForTransparency:r.subPixelRoundingForTransparency}),r.collectionMode&&r.world.setAutoRefigureSizes(!1),r.navigator&&(i=e.extend({},t.options,{replace:!1,originalTiledImage:n,tileSource:t.tileSource}),r.navigator.addTiledImage(i)),r.world.addItem(n,{index:t.options.index}),0===r._loadQueue.length&&l(t),1!==r.world.getItemCount()||r.preserveViewport||r.viewport.goHome(!0),t.options.success&&t.options.success({item:n})}}e.isArray(t.tileSource)?setTimeout((function(){o({message:"[Viewer.addTiledImage] Sequences can not be added; add them one at a time instead.",source:t.tileSource,options:t})})):(this._loadQueue.push(n),i(this,t.tileSource,t,(function(e){n.tileSource=e,a()}),(function(e){e.options=t,o(e),a()})))},addSimpleImage:function(t){e.console.assert(t,"[Viewer.addSimpleImage] options is required"),e.console.assert(t.url,"[Viewer.addSimpleImage] options.url is required");var r=e.extend({},t,{tileSource:{type:"image",url:t.url}});delete r.url,this.addTiledImage(r)},addLayer:function(t){var r=this;e.console.error("[Viewer.addLayer] this function is deprecated; use Viewer.addTiledImage() instead.");var n=e.extend({},t,{success:function(e){r.raiseEvent("add-layer",{options:t,drawer:e.item})},error:function(e){r.raiseEvent("add-layer-failed",e)}});return this.addTiledImage(n),this},getLayerAtLevel:function(t){return e.console.error("[Viewer.getLayerAtLevel] this function is deprecated; use World.getItemAt() instead."),this.world.getItemAt(t)},getLevelOfLayer:function(t){return e.console.error("[Viewer.getLevelOfLayer] this function is deprecated; use World.getIndexOfItem() instead."),this.world.getIndexOfItem(t)},getLayersCount:function(){return e.console.error("[Viewer.getLayersCount] this function is deprecated; use World.getItemCount() instead."),this.world.getItemCount()},setLayerLevel:function(t,r){return e.console.error("[Viewer.setLayerLevel] this function is deprecated; use World.setItemIndex() instead."),this.world.setItemIndex(t,r)},removeLayer:function(t){return e.console.error("[Viewer.removeLayer] this function is deprecated; use World.removeItem() instead."),this.world.removeItem(t)},forceRedraw:function(){return t[this.hash].forceRedraw=!0,this},forceResize:function(){t[this.hash].needsResize=!0,t[this.hash].forceResize=!0},bindSequenceControls:function(){var t=e.delegate(this,d),r=e.delegate(this,f),n=e.delegate(this,this.goToNextPage),i=e.delegate(this,this.goToPreviousPage),o=this.navImages,l=!0;return this.showSequenceControl&&((this.previousButton||this.nextButton)&&(l=!1),this.previousButton=new e.Button({element:this.previousButton?e.getElement(this.previousButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:e.getString("Tooltips.PreviousPage"),srcRest:M(this.prefixUrl,o.previous.REST),srcGroup:M(this.prefixUrl,o.previous.GROUP),srcHover:M(this.prefixUrl,o.previous.HOVER),srcDown:M(this.prefixUrl,o.previous.DOWN),onRelease:i,onFocus:t,onBlur:r}),this.nextButton=new e.Button({element:this.nextButton?e.getElement(this.nextButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:e.getString("Tooltips.NextPage"),srcRest:M(this.prefixUrl,o.next.REST),srcGroup:M(this.prefixUrl,o.next.GROUP),srcHover:M(this.prefixUrl,o.next.HOVER),srcDown:M(this.prefixUrl,o.next.DOWN),onRelease:n,onFocus:t,onBlur:r}),this.navPrevNextWrap||this.previousButton.disable(),this.tileSources&&this.tileSources.length||this.nextButton.disable(),l&&(this.paging=new e.ButtonGroup({buttons:[this.previousButton,this.nextButton],clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold}),this.pagingControl=this.paging.element,this.toolbar?this.toolbar.addControl(this.pagingControl,{anchor:e.ControlAnchor.BOTTOM_RIGHT}):this.addControl(this.pagingControl,{anchor:this.sequenceControlAnchor||e.ControlAnchor.TOP_LEFT}))),this},bindStandardControls:function(){var t=e.delegate(this,z),r=e.delegate(this,U),n=e.delegate(this,W),i=e.delegate(this,j),o=e.delegate(this,G),l=e.delegate(this,X),a=e.delegate(this,Z),s=e.delegate(this,$),c=e.delegate(this,Y),u=e.delegate(this,K),p=e.delegate(this,d),h=e.delegate(this,f),g=this.navImages,m=[],v=!0;return this.showNavigationControl&&((this.zoomInButton||this.zoomOutButton||this.homeButton||this.fullPageButton||this.rotateLeftButton||this.rotateRightButton||this.flipButton)&&(v=!1),this.showZoomControl&&(m.push(this.zoomInButton=new e.Button({element:this.zoomInButton?e.getElement(this.zoomInButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:e.getString("Tooltips.ZoomIn"),srcRest:M(this.prefixUrl,g.zoomIn.REST),srcGroup:M(this.prefixUrl,g.zoomIn.GROUP),srcHover:M(this.prefixUrl,g.zoomIn.HOVER),srcDown:M(this.prefixUrl,g.zoomIn.DOWN),onPress:t,onRelease:r,onClick:n,onEnter:t,onExit:r,onFocus:p,onBlur:h})),m.push(this.zoomOutButton=new e.Button({element:this.zoomOutButton?e.getElement(this.zoomOutButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:e.getString("Tooltips.ZoomOut"),srcRest:M(this.prefixUrl,g.zoomOut.REST),srcGroup:M(this.prefixUrl,g.zoomOut.GROUP),srcHover:M(this.prefixUrl,g.zoomOut.HOVER),srcDown:M(this.prefixUrl,g.zoomOut.DOWN),onPress:i,onRelease:r,onClick:o,onEnter:i,onExit:r,onFocus:p,onBlur:h}))),this.showHomeControl&&m.push(this.homeButton=new e.Button({element:this.homeButton?e.getElement(this.homeButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:e.getString("Tooltips.Home"),srcRest:M(this.prefixUrl,g.home.REST),srcGroup:M(this.prefixUrl,g.home.GROUP),srcHover:M(this.prefixUrl,g.home.HOVER),srcDown:M(this.prefixUrl,g.home.DOWN),onRelease:l,onFocus:p,onBlur:h})),this.showFullPageControl&&m.push(this.fullPageButton=new e.Button({element:this.fullPageButton?e.getElement(this.fullPageButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:e.getString("Tooltips.FullPage"),srcRest:M(this.prefixUrl,g.fullpage.REST),srcGroup:M(this.prefixUrl,g.fullpage.GROUP),srcHover:M(this.prefixUrl,g.fullpage.HOVER),srcDown:M(this.prefixUrl,g.fullpage.DOWN),onRelease:a,onFocus:p,onBlur:h})),this.showRotationControl&&(m.push(this.rotateLeftButton=new e.Button({element:this.rotateLeftButton?e.getElement(this.rotateLeftButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:e.getString("Tooltips.RotateLeft"),srcRest:M(this.prefixUrl,g.rotateleft.REST),srcGroup:M(this.prefixUrl,g.rotateleft.GROUP),srcHover:M(this.prefixUrl,g.rotateleft.HOVER),srcDown:M(this.prefixUrl,g.rotateleft.DOWN),onRelease:s,onFocus:p,onBlur:h})),m.push(this.rotateRightButton=new e.Button({element:this.rotateRightButton?e.getElement(this.rotateRightButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:e.getString("Tooltips.RotateRight"),srcRest:M(this.prefixUrl,g.rotateright.REST),srcGroup:M(this.prefixUrl,g.rotateright.GROUP),srcHover:M(this.prefixUrl,g.rotateright.HOVER),srcDown:M(this.prefixUrl,g.rotateright.DOWN),onRelease:c,onFocus:p,onBlur:h}))),this.showFlipControl&&m.push(this.flipButton=new e.Button({element:this.flipButton?e.getElement(this.flipButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:e.getString("Tooltips.Flip"),srcRest:M(this.prefixUrl,g.flip.REST),srcGroup:M(this.prefixUrl,g.flip.GROUP),srcHover:M(this.prefixUrl,g.flip.HOVER),srcDown:M(this.prefixUrl,g.flip.DOWN),onRelease:u,onFocus:p,onBlur:h})),v?(this.buttonGroup=new e.ButtonGroup({buttons:m,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold}),this.navControl=this.buttonGroup.element,this.addHandler("open",e.delegate(this,q)),this.toolbar?this.toolbar.addControl(this.navControl,{anchor:this.navigationControlAnchor||e.ControlAnchor.TOP_LEFT}):this.addControl(this.navControl,{anchor:this.navigationControlAnchor||e.ControlAnchor.TOP_LEFT})):this.customButtons=m),this},currentPage:function(){return this._sequenceIndex},goToPage:function(e){return this.tileSources&&e>=0&&e<this.tileSources.length&&(this._sequenceIndex=e,this._updateSequenceButtons(e),this.open(this.tileSources[e]),this.referenceStrip&&this.referenceStrip.setFocus(e),this.raiseEvent("page",{page:e})),this},addOverlay:function(t,r,n,i){var l;if(l=e.isPlainObject(t)?t:{element:t,location:r,placement:n,onDraw:i},t=e.getElement(l.element),a(this.currentOverlays,t)>=0)return this;var s=o(this,l);return this.currentOverlays.push(s),s.drawHTML(this.overlaysContainer,this.viewport),this.raiseEvent("add-overlay",{element:t,location:l.location,placement:l.placement}),this},updateOverlay:function(r,n,i){var o;return r=e.getElement(r),o=a(this.currentOverlays,r),o>=0&&(this.currentOverlays[o].update(n,i),t[this.hash].forceRedraw=!0,this.raiseEvent("update-overlay",{element:r,location:n,placement:i})),this},removeOverlay:function(r){var n;return r=e.getElement(r),n=a(this.currentOverlays,r),n>=0&&(this.currentOverlays[n].destroy(),this.currentOverlays.splice(n,1),t[this.hash].forceRedraw=!0,this.raiseEvent("remove-overlay",{element:r})),this},clearOverlays:function(){while(this.currentOverlays.length>0)this.currentOverlays.pop().destroy();return t[this.hash].forceRedraw=!0,this.raiseEvent("clear-overlay",{}),this},getOverlayById:function(t){var r;return t=e.getElement(t),r=a(this.currentOverlays,t),r>=0?this.currentOverlays[r]:null},_updateSequenceButtons:function(e){this.nextButton&&(this.tileSources&&this.tileSources.length-1!==e?this.nextButton.enable():this.navPrevNextWrap||this.nextButton.disable()),this.previousButton&&(e>0?this.previousButton.enable():this.navPrevNextWrap||this.previousButton.disable())},_showMessage:function(t){this._hideMessage();var r=e.makeNeutralElement("div");r.appendChild(document.createTextNode(t)),this.messageDiv=e.makeCenteredNode(r),e.addClass(this.messageDiv,"openseadragon-message"),this.container.appendChild(this.messageDiv)},_hideMessage:function(){var e=this.messageDiv;e&&(e.parentNode.removeChild(e),delete this.messageDiv)},gestureSettingsByDeviceType:function(e){switch(e){case"mouse":return this.gestureSettingsMouse;case"touch":return this.gestureSettingsTouch;case"pen":return this.gestureSettingsPen;default:return this.gestureSettingsUnknown}},_drawOverlays:function(){var e,t=this.currentOverlays.length;for(e=0;e<t;e++)this.currentOverlays[e].drawHTML(this.overlaysContainer,this.viewport)},_cancelPendingImages:function(){this._loadQueue=[]},removeReferenceStrip:function(){this.showReferenceStrip=!1,this.referenceStrip&&(this.referenceStrip.destroy(),this.referenceStrip=null)},addReferenceStrip:function(){if(this.showReferenceStrip=!0,this.sequenceMode){if(this.referenceStrip)return;this.tileSources.length&&this.tileSources.length>1&&(this.referenceStrip=new e.ReferenceStrip({id:this.referenceStripElement,position:this.referenceStripPosition,sizeRatio:this.referenceStripSizeRatio,scroll:this.referenceStripScroll,height:this.referenceStripHeight,width:this.referenceStripWidth,tileSources:this.tileSources,prefixUrl:this.prefixUrl,viewer:this}),this.referenceStrip.setFocus(this._sequenceIndex))}else e.console.warn('Attempting to display a reference strip while "sequenceMode" is off.')},_addUpdatePixelDensityRatioEvent:function(){this._updatePixelDensityRatioBind=this._updatePixelDensityRatio.bind(this),e.addEvent(window,"resize",this._updatePixelDensityRatioBind)},_removeUpdatePixelDensityRatioEvent:function(){e.removeEvent(window,"resize",this._updatePixelDensityRatioBind)},_updatePixelDensityRatio:function(){var t=e.pixelDensityRatio,r=e.getCurrentPixelDensityRatio();t!==r&&(e.pixelDensityRatio=r,this.world.resetItems(),this.forceRedraw())},goToPreviousPage:function(){var e=this._sequenceIndex-1;this.navPrevNextWrap&&e<0&&(e+=this.tileSources.length),this.goToPage(e)},goToNextPage:function(){var e=this._sequenceIndex+1;this.navPrevNextWrap&&e>=this.tileSources.length&&(e=0),this.goToPage(e)},isAnimating:function(){return t[this.hash].animating}}),e.determineDrawer=function(t){for(let r in l){const n=l[r],i=n.prototype;if(i&&i instanceof l.DrawerBase&&e.isFunction(i.getType)&&i.getType.call(n)===t)return n}return null}}(l),function(e){function t(e){var t={tracker:e.eventSource,position:e.position,quick:e.quick,shift:e.shift,originalEvent:e.originalEvent,preventDefaultAction:!1};if(this.viewer.raiseEvent("navigator-click",t),!t.preventDefaultAction&&e.quick&&this.viewer.viewport&&(this.panVertical||this.panHorizontal)){this.viewer.viewport.flipped&&(e.position.x=this.viewport.getContainerSize().x-e.position.x);var r=this.viewport.pointFromPixel(e.position);this.panVertical?this.panHorizontal||(r.x=this.viewer.viewport.getCenter(!0).x):r.y=this.viewer.viewport.getCenter(!0).y,this.viewer.viewport.panTo(r),this.viewer.viewport.applyConstraints()}}function r(e){var t={tracker:e.eventSource,position:e.position,delta:e.delta,speed:e.speed,direction:e.direction,shift:e.shift,originalEvent:e.originalEvent,preventDefaultAction:!1};this.viewer.raiseEvent("navigator-drag",t),!t.preventDefaultAction&&this.viewer.viewport&&(this.panHorizontal||(e.delta.x=0),this.panVertical||(e.delta.y=0),this.viewer.viewport.flipped&&(e.delta.x=-e.delta.x),this.viewer.viewport.panBy(this.viewport.deltaPointsFromPixels(e.delta)),this.viewer.constrainDuringPan&&this.viewer.viewport.applyConstraints())}function n(e){e.insideElementPressed&&this.viewer.viewport&&this.viewer.viewport.applyConstraints()}function i(e){var t={tracker:e.eventSource,position:e.position,scroll:e.scroll,shift:e.shift,originalEvent:e.originalEvent,preventDefault:e.preventDefault};this.viewer.raiseEvent("navigator-scroll",t),e.preventDefault=t.preventDefault}function o(e,t){l(e,"rotate("+t+"deg)")}function l(e,t){e.style.webkitTransform=t,e.style.mozTransform=t,e.style.msTransform=t,e.style.oTransform=t,e.style.transform=t}e.Navigator=function(l){var a,s,c=l.viewer,u=this;function p(e,t){o(u.displayRegionContainer,e),o(u.displayRegion,-e),u.viewport.setRotation(e,t)}if(l.element||l.id?(l.element?(l.id&&e.console.warn("Given option.id for Navigator was ignored since option.element was provided and is being used instead."),l.element.id?l.id=l.element.id:l.id="navigator-"+e.now(),this.element=l.element):this.element=document.getElementById(l.id),l.controlOptions={anchor:e.ControlAnchor.NONE,attachToViewer:!1,autoFade:!1}):(l.id="navigator-"+e.now(),this.element=e.makeNeutralElement("div"),l.controlOptions={anchor:e.ControlAnchor.TOP_RIGHT,attachToViewer:!0,autoFade:l.autoFade},l.position&&("BOTTOM_RIGHT"===l.position?l.controlOptions.anchor=e.ControlAnchor.BOTTOM_RIGHT:"BOTTOM_LEFT"===l.position?l.controlOptions.anchor=e.ControlAnchor.BOTTOM_LEFT:"TOP_RIGHT"===l.position?l.controlOptions.anchor=e.ControlAnchor.TOP_RIGHT:"TOP_LEFT"===l.position?l.controlOptions.anchor=e.ControlAnchor.TOP_LEFT:"ABSOLUTE"===l.position&&(l.controlOptions.anchor=e.ControlAnchor.ABSOLUTE,l.controlOptions.top=l.top,l.controlOptions.left=l.left,l.controlOptions.height=l.height,l.controlOptions.width=l.width))),this.element.id=l.id,this.element.className+=" navigator",l=e.extend(!0,{sizeRatio:e.DEFAULT_SETTINGS.navigatorSizeRatio},l,{element:this.element,tabIndex:-1,showNavigator:!1,mouseNavEnabled:!1,showNavigationControl:!1,showSequenceControl:!1,immediateRender:!0,blendTime:0,animationTime:l.animationTime,autoResize:!1,minZoomImageRatio:1,background:l.background,opacity:l.opacity,borderColor:l.borderColor,displayRegionColor:l.displayRegionColor}),l.minPixelRatio=this.minPixelRatio=c.minPixelRatio,e.setElementTouchActionNone(this.element),this.borderWidth=2,this.fudge=new e.Point(1,1),this.totalBorderWidths=new e.Point(2*this.borderWidth,2*this.borderWidth).minus(this.fudge),l.controlOptions.anchor!==e.ControlAnchor.NONE&&function(e,t){e.margin="0px",e.border=t+"px solid "+l.borderColor,e.padding="0px",e.background=l.background,e.opacity=l.opacity,e.overflow="hidden"}(this.element.style,this.borderWidth),this.displayRegion=e.makeNeutralElement("div"),this.displayRegion.id=this.element.id+"-displayregion",this.displayRegion.className="displayregion",function(e,t){e.position="relative",e.top="0px",e.left="0px",e.fontSize="0px",e.overflow="hidden",e.border=t+"px solid "+l.displayRegionColor,e.margin="0px",e.padding="0px",e.background="transparent",e["float"]="left",e.cssFloat="left",e.zIndex=999999999,e.cursor="default",e.boxSizing="content-box"}(this.displayRegion.style,this.borderWidth),e.setElementPointerEventsNone(this.displayRegion),e.setElementTouchActionNone(this.displayRegion),this.displayRegionContainer=e.makeNeutralElement("div"),this.displayRegionContainer.id=this.element.id+"-displayregioncontainer",this.displayRegionContainer.className="displayregioncontainer",this.displayRegionContainer.style.width="100%",this.displayRegionContainer.style.height="100%",e.setElementPointerEventsNone(this.displayRegionContainer),e.setElementTouchActionNone(this.displayRegionContainer),c.addControl(this.element,l.controlOptions),this._resizeWithViewer=l.controlOptions.anchor!==e.ControlAnchor.ABSOLUTE&&l.controlOptions.anchor!==e.ControlAnchor.NONE,l.width&&l.height?(this.setWidth(l.width),this.setHeight(l.height)):this._resizeWithViewer&&(a=e.getElementSize(c.element),this.element.style.height=Math.round(a.y*l.sizeRatio)+"px",this.element.style.width=Math.round(a.x*l.sizeRatio)+"px",this.oldViewerSize=a,s=e.getElementSize(this.element),this.elementArea=s.x*s.y),this.oldContainerSize=new e.Point(0,0),e.Viewer.apply(this,[l]),this.displayRegionContainer.appendChild(this.displayRegion),this.element.getElementsByTagName("div")[0].appendChild(this.displayRegionContainer),l.navigatorRotate){var h=l.viewer.viewport?l.viewer.viewport.getRotation():l.viewer.degrees||0;p(h,!0),l.viewer.addHandler("rotate",(function(e){p(e.degrees,e.immediately)}))}this.innerTracker.destroy(),this.innerTracker=new e.MouseTracker({userData:"Navigator.innerTracker",element:this.element,dragHandler:e.delegate(this,r),clickHandler:e.delegate(this,t),releaseHandler:e.delegate(this,n),scrollHandler:e.delegate(this,i),preProcessEventHandler:function(e){"wheel"===e.eventType&&(e.preventDefault=!0)}}),this.outerTracker.userData="Navigator.outerTracker",e.setElementPointerEventsNone(this.canvas),e.setElementPointerEventsNone(this.container),this.addHandler("reset-size",(function(){u.viewport&&u.viewport.goHome(!0)})),c.world.addHandler("item-index-change",(function(e){window.setTimeout((function(){var t=u.world.getItemAt(e.previousIndex);u.world.setItemIndex(t,e.newIndex)}),1)})),c.world.addHandler("remove-item",(function(e){var t=e.item,r=u._getMatchingItem(t);r&&u.world.removeItem(r)})),this.update(c.viewport)},e.extend(e.Navigator.prototype,e.EventSource.prototype,e.Viewer.prototype,{updateSize:function(){if(this.viewport){var t=new e.Point(0===this.container.clientWidth?1:this.container.clientWidth,0===this.container.clientHeight?1:this.container.clientHeight);t.equals(this.oldContainerSize)||(this.viewport.resize(t,!0),this.viewport.goHome(!0),this.oldContainerSize=t,this.world.update(),this.world.draw(),this.update(this.viewer.viewport))}},setWidth:function(e){this.width=e,this.element.style.width="number"===typeof e?e+"px":e,this._resizeWithViewer=!1,this.updateSize()},setHeight:function(e){this.height=e,this.element.style.height="number"===typeof e?e+"px":e,this._resizeWithViewer=!1,this.updateSize()},setFlip:function(e){return this.viewport.setFlip(e),this.setDisplayTransform(this.viewer.viewport.getFlip()?"scale(-1,1)":"scale(1,1)"),this},setDisplayTransform:function(e){l(this.displayRegion,e),l(this.canvas,e),l(this.element,e)},update:function(t){var r,n,i,l,a,s;if(t||(t=this.viewer.viewport),r=e.getElementSize(this.viewer.element),this._resizeWithViewer&&r.x&&r.y&&!r.equals(this.oldViewerSize)&&(this.oldViewerSize=r,this.maintainSizeRatio||!this.elementArea?(n=r.x*this.sizeRatio,i=r.y*this.sizeRatio):(n=Math.sqrt(this.elementArea*(r.x/r.y)),i=this.elementArea/n),this.element.style.width=Math.round(n)+"px",this.element.style.height=Math.round(i)+"px",this.elementArea||(this.elementArea=n*i),this.updateSize()),t&&this.viewport){if(l=t.getBoundsNoRotate(!0),a=this.viewport.pixelFromPointNoRotate(l.getTopLeft(),!1),s=this.viewport.pixelFromPointNoRotate(l.getBottomRight(),!1).minus(this.totalBorderWidths),!this.navigatorRotate){var c=t.getRotation(!0);o(this.displayRegion,-c)}var u=this.displayRegion.style;u.display=this.world.getItemCount()?"block":"none",u.top=a.y.toFixed(2)+"px",u.left=a.x.toFixed(2)+"px";var p=s.x-a.x,h=s.y-a.y;u.width=Math.round(Math.max(p,0))+"px",u.height=Math.round(Math.max(h,0))+"px"}},addTiledImage:function(t){var r=this,n=t.originalTiledImage;delete t.original;var i=e.extend({},t,{success:function(e){var t=e.item;function i(){r._matchBounds(t,n)}function o(){r._matchOpacity(t,n)}function l(){r._matchCompositeOperation(t,n)}t._originalForNavigator=n,r._matchBounds(t,n,!0),r._matchOpacity(t,n),r._matchCompositeOperation(t,n),n.addHandler("bounds-change",i),n.addHandler("clip-change",i),n.addHandler("opacity-change",o),n.addHandler("composite-operation-change",l)}});return e.Viewer.prototype.addTiledImage.apply(this,[i])},destroy:function(){return e.Viewer.prototype.destroy.apply(this)},_getMatchingItem:function(e){for(var t,r=this.world.getItemCount(),n=0;n<r;n++)if(t=this.world.getItemAt(n),t._originalForNavigator===e)return t;return null},_matchBounds:function(e,t,r){var n=t.getBoundsNoRotate();e.setPosition(n.getTopLeft(),r),e.setWidth(n.width,r),e.setRotation(t.getRotation(),r),e.setClip(t.getClip()),e.setFlip(t.getFlip())},_matchOpacity:function(e,t){e.setOpacity(t.opacity)},_matchCompositeOperation:function(e,t){e.setCompositeOperation(t.compositeOperation)}})}(l),function(e){var t={Errors:{Dzc:"Sorry, we don't support Deep Zoom Collections!",Dzi:"Hmm, this doesn't appear to be a valid Deep Zoom Image.",Xml:"Hmm, this doesn't appear to be a valid Deep Zoom Image.",ImageFormat:"Sorry, we don't support {0}-based Deep Zoom Images.",Security:"It looks like a security restriction stopped us from loading this Deep Zoom Image.",Status:"This space unintentionally left blank ({0} {1}).",OpenFailed:"Unable to open {0}: {1}"},Tooltips:{FullPage:"Toggle full page",Home:"Go home",ZoomIn:"Zoom in",ZoomOut:"Zoom out",NextPage:"Next page",PreviousPage:"Previous page",RotateLeft:"Rotate left",RotateRight:"Rotate right",Flip:"Flip Horizontally"}};e.extend(e,{getString:function(r){var n,i=r.split("."),o=null,l=arguments,a=t;for(n=0;n<i.length-1;n++)a=a[i[n]]||{};return o=a[i[n]],"string"!==typeof o&&(e.console.error("Untranslated source string:",r),o=""),o.replace(/\{\d+\}/g,(function(e){var t=parseInt(e.match(/\d+/),10)+1;return t<l.length?l[t]:""}))},setString:function(e,r){var n,i=e.split("."),o=t;for(n=0;n<i.length-1;n++)o[i[n]]||(o[i[n]]={}),o=o[i[n]];o[i[n]]=r}})}(l),function(e){e.Point=function(e,t){this.x="number"===typeof e?e:0,this.y="number"===typeof t?t:0},e.Point.prototype={clone:function(){return new e.Point(this.x,this.y)},plus:function(t){return new e.Point(this.x+t.x,this.y+t.y)},minus:function(t){return new e.Point(this.x-t.x,this.y-t.y)},times:function(t){return new e.Point(this.x*t,this.y*t)},divide:function(t){return new e.Point(this.x/t,this.y/t)},negate:function(){return new e.Point(-this.x,-this.y)},distanceTo:function(e){return Math.sqrt(Math.pow(this.x-e.x,2)+Math.pow(this.y-e.y,2))},squaredDistanceTo:function(e){return Math.pow(this.x-e.x,2)+Math.pow(this.y-e.y,2)},apply:function(t){return new e.Point(t(this.x),t(this.y))},equals:function(t){return t instanceof e.Point&&this.x===t.x&&this.y===t.y},rotate:function(t,r){var n,i;if(r=r||new e.Point(0,0),t%90===0){var o=e.positiveModulo(t,360);switch(o){case 0:n=1,i=0;break;case 90:n=0,i=1;break;case 180:n=-1,i=0;break;case 270:n=0,i=-1;break}}else{var l=t*Math.PI/180;n=Math.cos(l),i=Math.sin(l)}var a=n*(this.x-r.x)-i*(this.y-r.y)+r.x,s=i*(this.x-r.x)+n*(this.y-r.y)+r.y;return new e.Point(a,s)},toString:function(){return"("+Math.round(100*this.x)/100+","+Math.round(100*this.y)/100+")"}}}(l),function(e){function t(t){var r,n,i=t.responseText,o=t.status;if(!t)throw new Error(e.getString("Errors.Security"));if(200!==t.status&&0!==t.status)throw o=t.status,r=404===o?"Not Found":t.statusText,new Error(e.getString("Errors.Status",o,r));if(i.match(/^\s*<.*/))try{n=t.responseXML&&t.responseXML.documentElement?t.responseXML:e.parseXml(i)}catch(l){n=t.responseText}else if(i.match(/\s*[{[].*/))try{n=e.parseJSON(i)}catch(l){n=i}else n=i;return n}e.TileSource=function(t,r,n,i,o,l){var a,s,c=this,u=arguments;if(a=e.isPlainObject(t)?t:{width:u[0],height:u[1],tileSize:u[2],tileOverlap:u[3],minLevel:u[4],maxLevel:u[5]},e.EventSource.call(this),e.extend(!0,this,a),!this.success)for(s=0;s<arguments.length;s++)if(e.isFunction(arguments[s])){this.success=arguments[s];break}this.success&&this.addHandler("ready",(function(e){c.success(e)})),"string"===e.type(arguments[0])&&(this.url=arguments[0]),this.url?(this.aspectRatio=1,this.dimensions=new e.Point(10,10),this._tileWidth=0,this._tileHeight=0,this.tileOverlap=0,this.minLevel=0,this.maxLevel=0,this.ready=!1,this.getImageInfo(this.url)):(this.ready=!0,this.aspectRatio=a.width&&a.height?a.width/a.height:1,this.dimensions=new e.Point(a.width,a.height),this.tileSize?(this._tileWidth=this._tileHeight=this.tileSize,delete this.tileSize):(this.tileWidth?(this._tileWidth=this.tileWidth,delete this.tileWidth):this._tileWidth=0,this.tileHeight?(this._tileHeight=this.tileHeight,delete this.tileHeight):this._tileHeight=0),this.tileOverlap=a.tileOverlap?a.tileOverlap:0,this.minLevel=a.minLevel?a.minLevel:0,this.maxLevel=void 0!==a.maxLevel&&null!==a.maxLevel?a.maxLevel:a.width&&a.height?Math.ceil(Math.log(Math.max(a.width,a.height))/Math.log(2)):0,this.success&&e.isFunction(this.success)&&this.success(this))},e.TileSource.prototype={getTileSize:function(t){return e.console.error("[TileSource.getTileSize] is deprecated. Use TileSource.getTileWidth() and TileSource.getTileHeight() instead"),this._tileWidth},getTileWidth:function(e){return this._tileWidth?this._tileWidth:this.getTileSize(e)},getTileHeight:function(e){return this._tileHeight?this._tileHeight:this.getTileSize(e)},setMaxLevel:function(e){this.maxLevel=e,this._memoizeLevelScale()},getLevelScale:function(e){return this._memoizeLevelScale(),this.getLevelScale(e)},_memoizeLevelScale:function(){var e,t={};for(e=0;e<=this.maxLevel;e++)t[e]=1/Math.pow(2,this.maxLevel-e);this.getLevelScale=function(e){return t[e]}},getNumTiles:function(t){var r=this.getLevelScale(t),n=Math.ceil(r*this.dimensions.x/this.getTileWidth(t)),i=Math.ceil(r*this.dimensions.y/this.getTileHeight(t));return new e.Point(n,i)},getPixelRatio:function(t){var r=this.dimensions.times(this.getLevelScale(t)),n=1/r.x*e.pixelDensityRatio,i=1/r.y*e.pixelDensityRatio;return new e.Point(n,i)},getClosestLevel:function(){var e,t;for(e=this.minLevel+1;e<=this.maxLevel;e++)if(t=this.getNumTiles(e),t.x>1||t.y>1)break;return e-1},getTileAtPoint:function(t,r){var n=r.x>=0&&r.x<=1&&r.y>=0&&r.y<=1/this.aspectRatio;e.console.assert(n,"[TileSource.getTileAtPoint] must be called with a valid point.");var i=this.dimensions.x*this.getLevelScale(t),o=r.x*i,l=r.y*i,a=Math.floor(o/this.getTileWidth(t)),s=Math.floor(l/this.getTileHeight(t));r.x>=1&&(a=this.getNumTiles(t).x-1);var c=1e-15;return r.y>=1/this.aspectRatio-c&&(s=this.getNumTiles(t).y-1),new e.Point(a,s)},getTileBounds:function(t,r,n,i){var o=this.dimensions.times(this.getLevelScale(t)),l=this.getTileWidth(t),a=this.getTileHeight(t),s=0===r?0:l*r-this.tileOverlap,c=0===n?0:a*n-this.tileOverlap,u=l+(0===r?1:2)*this.tileOverlap,p=a+(0===n?1:2)*this.tileOverlap,h=1/o.x;return u=Math.min(u,o.x-s),p=Math.min(p,o.y-c),i?new e.Rect(0,0,u,p):new e.Rect(s*h,c*h,u*h,p*h)},getImageInfo:function(r){var n,i,o,l,a,s,c,u=this;r&&(a=r.split("/"),s=a[a.length-1],c=s.lastIndexOf("."),c>-1&&(a[a.length-1]=s.slice(0,c)));var p=null;if(this.splitHashDataForPost){var h=r.indexOf("#");-1!==h&&(p=r.substring(h+1),r=r.substr(0,h))}i=function(t){"string"===typeof t&&(t=e.parseXml(t));var n=e.TileSource.determineType(u,t,r);n?(l=n.prototype.configure.apply(u,[t,r,p]),void 0===l.ajaxWithCredentials&&(l.ajaxWithCredentials=u.ajaxWithCredentials),o=new n(l),u.ready=!0,u.raiseEvent("ready",{tileSource:o})):u.raiseEvent("open-failed",{message:"Unable to load TileSource",source:r})},r.match(/\.js$/)?(n=r.split("/").pop().replace(".js",""),e.jsonp({url:r,async:!1,callbackName:n,callback:i})):e.makeAjaxRequest({url:r,postData:p,withCredentials:this.ajaxWithCredentials,headers:this.ajaxHeaders,success:function(e){var r=t(e);i(r)},error:function(t,n){var i;try{i="HTTP "+t.status+" attempting to load TileSource: "+r}catch(l){var o;o="undefined"!==typeof n&&n.toString?n.toString():"Unknown error",i=o+" attempting to load TileSource: "+r}e.console.error(i),u.raiseEvent("open-failed",{message:i,source:r,postData:p})}})},supports:function(e,t){return!1},configure:function(e,t,r){throw new Error("Method not implemented.")},getTileUrl:function(e,t,r){throw new Error("Method not implemented.")},getTilePostData:function(e,t,r){return null},getTileAjaxHeaders:function(e,t,r){return{}},getTileHashKey:function(e,t,r,n,i,o){function l(e){return i?e+"+"+JSON.stringify(i):e}return l("string"!==typeof n?e+"/"+t+"_"+r:n)},tileExists:function(e,t,r){var n=this.getNumTiles(e);return e>=this.minLevel&&e<=this.maxLevel&&t>=0&&r>=0&&t<n.x&&r<n.y},hasTransparency:function(e,t,r,n){return!!e||t.match(".png")},downloadTileStart:function(t){var r=t.userData,n=new Image;r.image=n,r.request=null;var i=function(e){n?(n.onload=n.onerror=n.onabort=null,t.finish(e?null:n,r.request,e)):t.finish(null,r.request,"Image load failed: undefined Image instance.")};n.onload=function(){i()},n.onabort=n.onerror=function(){i("Image load aborted.")},t.loadWithAjax?r.request=e.makeAjaxRequest({url:t.src,withCredentials:t.ajaxWithCredentials,headers:t.ajaxHeaders,responseType:"arraybuffer",postData:t.postData,success:function(e){var t;try{t=new window.Blob([e.response])}catch(l){var r=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder;if("TypeError"===l.name&&r){var o=new r;o.append(e.response),t=o.getBlob()}}0===t.size?i("Empty image response."):n.src=(window.URL||window.webkitURL).createObjectURL(t)},error:function(e){i("Image load aborted - XHR error")}}):(!1!==t.crossOriginPolicy&&(n.crossOrigin=t.crossOriginPolicy),n.src=t.src)},downloadTileAbort:function(e){e.userData.request&&e.userData.request.abort();var t=e.userData.image;e.userData.image&&(t.onload=t.onerror=t.onabort=null)},createTileCache:function(e,t,r){e._data=t},destroyTileCache:function(e){e._data=null,e._renderedContext=null},getTileCacheData:function(e){return e._data},getTileCacheDataAsImage:function(e){return e._data},getTileCacheDataAsContext2D:function(e){if(!e._renderedContext){var t=document.createElement("canvas");t.width=e._data.width,t.height=e._data.height,e._renderedContext=t.getContext("2d"),e._renderedContext.drawImage(e._data,0,0),e._data=null}return e._renderedContext}},e.extend(!0,e.TileSource.prototype,e.EventSource.prototype),e.TileSource.determineType=function(t,r,n){var i;for(i in l)if(i.match(/.+TileSource$/)&&e.isFunction(l[i])&&e.isFunction(l[i].prototype.supports)&&l[i].prototype.supports.call(t,r,n))return l[i];return e.console.error("No TileSource was able to open %s %s",n,r),null}}(l),function(e){function t(t,n){if(!n||!n.documentElement)throw new Error(e.getString("Errors.Xml"));var i,o,l,a,s,c=n.documentElement,u=c.localName||c.tagName,p=n.documentElement.namespaceURI,h=null,d=[];if("Image"===u)try{if(a=c.getElementsByTagName("Size")[0],void 0===a&&(a=c.getElementsByTagNameNS(p,"Size")[0]),h={Image:{xmlns:"http://schemas.microsoft.com/deepzoom/2008",Url:c.getAttribute("Url"),Format:c.getAttribute("Format"),DisplayRect:null,Overlap:parseInt(c.getAttribute("Overlap"),10),TileSize:parseInt(c.getAttribute("TileSize"),10),Size:{Height:parseInt(a.getAttribute("Height"),10),Width:parseInt(a.getAttribute("Width"),10)}}},!e.imageFormatSupported(h.Image.Format))throw new Error(e.getString("Errors.ImageFormat",h.Image.Format.toUpperCase()));for(i=c.getElementsByTagName("DisplayRect"),void 0===i&&(i=c.getElementsByTagNameNS(p,"DisplayRect")[0]),s=0;s<i.length;s++)o=i[s],l=o.getElementsByTagName("Rect")[0],void 0===l&&(l=o.getElementsByTagNameNS(p,"Rect")[0]),d.push({Rect:{X:parseInt(l.getAttribute("X"),10),Y:parseInt(l.getAttribute("Y"),10),Width:parseInt(l.getAttribute("Width"),10),Height:parseInt(l.getAttribute("Height"),10),MinLevel:parseInt(o.getAttribute("MinLevel"),10),MaxLevel:parseInt(o.getAttribute("MaxLevel"),10)}});return d.length&&(h.Image.DisplayRect=d),r(t,h)}catch(m){throw m instanceof Error?m:new Error(e.getString("Errors.Dzi"))}else{if("Collection"===u)throw new Error(e.getString("Errors.Dzc"));if("Error"===u){var f=c.getElementsByTagName("Message")[0],g=f.firstChild.nodeValue;throw new Error(g)}}throw new Error(e.getString("Errors.Dzi"))}function r(t,r){var n,i,o=r.Image,l=o.Url,a=o.Format,s=o.Size,c=o.DisplayRect||[],u=parseInt(s.Width,10),p=parseInt(s.Height,10),h=parseInt(o.TileSize,10),d=parseInt(o.Overlap,10),f=[];for(i=0;i<c.length;i++)n=c[i].Rect,f.push(new e.DisplayRect(parseInt(n.X,10),parseInt(n.Y,10),parseInt(n.Width,10),parseInt(n.Height,10),parseInt(n.MinLevel,10),parseInt(n.MaxLevel,10)));return e.extend(!0,{width:u,height:p,tileSize:h,tileOverlap:d,minLevel:null,maxLevel:null,tilesUrl:l,fileFormat:a,displayRects:f},r)}e.DziTileSource=function(t,r,n,i,o,l,a,s,c){var u,p,h,d;if(d=e.isPlainObject(t)?t:{width:arguments[0],height:arguments[1],tileSize:arguments[2],tileOverlap:arguments[3],tilesUrl:arguments[4],fileFormat:arguments[5],displayRects:arguments[6],minLevel:arguments[7],maxLevel:arguments[8]},this._levelRects={},this.tilesUrl=d.tilesUrl,this.fileFormat=d.fileFormat,this.displayRects=d.displayRects,this.displayRects)for(u=this.displayRects.length-1;u>=0;u--)for(p=this.displayRects[u],h=p.minLevel;h<=p.maxLevel;h++)this._levelRects[h]||(this._levelRects[h]=[]),this._levelRects[h].push(p);e.TileSource.apply(this,[d])},e.extend(e.DziTileSource.prototype,e.TileSource.prototype,{supports:function(e,t){var r;return e.Image?r=e.Image.xmlns:e.documentElement&&("Image"!==e.documentElement.localName&&"Image"!==e.documentElement.tagName||(r=e.documentElement.namespaceURI)),r=(r||"").toLowerCase(),-1!==r.indexOf("schemas.microsoft.com/deepzoom/2008")||-1!==r.indexOf("schemas.microsoft.com/deepzoom/2009")},configure:function(n,i,o){var l;return l=e.isPlainObject(n)?r(this,n):t(this,n),i&&!l.tilesUrl&&(l.tilesUrl=i.replace(/([^/]+?)(\.(dzi|xml|js)?(\?[^/]*)?)?\/?$/,"$1_files/"),-1!==i.search(/\.(dzi|xml|js)\?/)?l.queryParams=i.match(/\?.*/):l.queryParams=""),l},getTileUrl:function(e,t,r){return[this.tilesUrl,e,"/",t,"_",r,".",this.fileFormat,this.queryParams].join("")},tileExists:function(e,t,r){var n,i,o,l,a,s,c,u=this._levelRects[e];if(this.minLevel&&e<this.minLevel||this.maxLevel&&e>this.maxLevel)return!1;if(!u||!u.length)return!0;for(c=u.length-1;c>=0;c--)if(n=u[c],!(e<n.minLevel||e>n.maxLevel)&&(i=this.getLevelScale(e),o=n.x*i,l=n.y*i,a=o+n.width*i,s=l+n.height*i,o=Math.floor(o/this._tileWidth),l=Math.floor(l/this._tileWidth),a=Math.ceil(a/this._tileWidth),s=Math.ceil(s/this._tileWidth),o<=t&&t<a&&l<=r&&r<s))return!0;return!1}})}(l),function(e){function t(e){var t=["http://library.stanford.edu/iiif/image-api/compliance.html#level0","http://library.stanford.edu/iiif/image-api/1.1/compliance.html#level0","http://iiif.io/api/image/2/level0.json","level0","https://iiif.io/api/image/3/level0.json"],r=Array.isArray(e.profile)?e.profile[0]:e.profile,n=-1!==t.indexOf(r),i=!1;return 2===e.version&&e.profile.length>1&&e.profile[1].supports&&(i=-1!==e.profile[1].supports.indexOf("sizeByW")),3===e.version&&e.extraFeatures&&(i=-1!==e.extraFeatures.indexOf("sizeByWh")),!n||i}function r(e){for(var t=[],r=0;r<e.sizes.length;r++)t.push({url:e._id+"/full/"+e.sizes[r].width+","+(3===e.version?e.sizes[r].height:"")+"/0/default."+e.tileFormat,width:e.sizes[r].width,height:e.sizes[r].height});return t.sort((function(e,t){return e.width-t.width}))}function n(t){if(!t||!t.documentElement)throw new Error(e.getString("Errors.Xml"));var r=t.documentElement,n=r.tagName,o=null;if("info"===n)try{return o={},i(r,o),o}catch(l){throw l instanceof Error?l:new Error(e.getString("Errors.IIIF"))}throw new Error(e.getString("Errors.IIIF"))}function i(t,r,n){var o,l;if(3===t.nodeType&&n)l=t.nodeValue.trim(),l.match(/^\d*$/)&&(l=Number(l)),r[n]?(e.isArray(r[n])||(r[n]=[r[n]]),r[n].push(l)):r[n]=l;else if(1===t.nodeType)for(o=0;o<t.childNodes.length;o++)i(t.childNodes[o],r,t.nodeName)}e.IIIFTileSource=function(n){if(e.extend(!0,this,n),this._id=this["@id"]||this["id"]||this["identifier"]||null,!(this.height&&this.width&&this._id))throw new Error("IIIF required parameters (width, height, or id) not provided.");if(n.tileSizePerScaleFactor={},this.tileFormat=this.tileFormat||"jpg",this.version=n.version,this.tile_width&&this.tile_height)n.tileWidth=this.tile_width,n.tileHeight=this.tile_height;else if(this.tile_width)n.tileSize=this.tile_width;else if(this.tile_height)n.tileSize=this.tile_height;else if(this.tiles)if(1===this.tiles.length)n.tileWidth=this.tiles[0].width,n.tileHeight=this.tiles[0].height||this.tiles[0].width,this.scale_factors=this.tiles[0].scaleFactors;else{this.scale_factors=[];for(var i=0;i<this.tiles.length;i++)for(var o=0;o<this.tiles[i].scaleFactors.length;o++){var l=this.tiles[i].scaleFactors[o];this.scale_factors.push(l),n.tileSizePerScaleFactor[l]={width:this.tiles[i].width,height:this.tiles[i].height||this.tiles[i].width}}}else if(t(n)){for(var a=Math.min(this.height,this.width),s=[256,512,1024],c=[],u=0;u<s.length;u++)s[u]<=a&&c.push(s[u]);c.length>0?n.tileSize=Math.max.apply(null,c):n.tileSize=a}else this.sizes&&this.sizes.length>0?(this.emulateLegacyImagePyramid=!0,n.levels=r(this),e.extend(!0,n,{width:n.levels[n.levels.length-1].width,height:n.levels[n.levels.length-1].height,tileSize:Math.max(n.height,n.width),tileOverlap:0,minLevel:0,maxLevel:n.levels.length-1}),this.levels=n.levels):e.console.error("Nothing in the info.json to construct image pyramids from");if(!n.maxLevel&&!this.emulateLegacyImagePyramid)if(this.scale_factors){var p=Math.max.apply(null,this.scale_factors);n.maxLevel=Math.round(Math.log(p)*Math.LOG2E)}else n.maxLevel=Number(Math.round(Math.log(Math.max(this.width,this.height),2)));if(this.sizes){var h=this.sizes.length;h!==n.maxLevel&&h!==n.maxLevel+1||(this.levelSizes=this.sizes.slice().sort(((e,t)=>e.width-t.width)),h===n.maxLevel&&this.levelSizes.push({width:this.width,height:this.height}))}e.TileSource.apply(this,[n])},e.extend(e.IIIFTileSource.prototype,e.TileSource.prototype,{supports:function(e,t){return!(!e.protocol||"http://iiif.io/api/image"!==e.protocol)||(!(!e["@context"]||"http://library.stanford.edu/iiif/image-api/1.1/context.json"!==e["@context"]&&"http://iiif.io/api/image/1/context.json"!==e["@context"])||(!(!e.profile||0!==e.profile.indexOf("http://library.stanford.edu/iiif/image-api/compliance.html"))||(!!(e.identifier&&e.width&&e.height)||!(!e.documentElement||"info"!==e.documentElement.tagName||"http://library.stanford.edu/iiif/image-api/ns/"!==e.documentElement.namespaceURI))))},configure:function(t,r,i){if(e.isPlainObject(t)){if(t["@context"]){var o=t["@context"];if(Array.isArray(o))for(var a=0;a<o.length;a++)if("string"===typeof o[a]&&(/^http:\/\/iiif\.io\/api\/image\/[1-3]\/context\.json$/.test(o[a])||"http://library.stanford.edu/iiif/image-api/1.1/context.json"===o[a])){o=o[a];break}switch(o){case"http://iiif.io/api/image/1/context.json":case"http://library.stanford.edu/iiif/image-api/1.1/context.json":t.version=1;break;case"http://iiif.io/api/image/2/context.json":t.version=2;break;case"http://iiif.io/api/image/3/context.json":t.version=3;break;default:e.console.error("Data has a @context property which contains no known IIIF context URI.")}}else t["@context"]="http://iiif.io/api/image/1.0/context.json",t["@id"]=r.replace("/info.json",""),t.version=1;if(t.preferredFormats)for(var s=0;s<t.preferredFormats.length;s++)if(l.imageFormatSupported(t.preferredFormats[s])){t.tileFormat=t.preferredFormats[s];break}return t}var c=n(t);return c["@context"]="http://iiif.io/api/image/1.0/context.json",c["@id"]=r.replace("/info.xml",""),c.version=1,c},getTileWidth:function(t){if(this.emulateLegacyImagePyramid)return e.TileSource.prototype.getTileWidth.call(this,t);var r=Math.pow(2,this.maxLevel-t);return this.tileSizePerScaleFactor&&this.tileSizePerScaleFactor[r]?this.tileSizePerScaleFactor[r].width:this._tileWidth},getTileHeight:function(t){if(this.emulateLegacyImagePyramid)return e.TileSource.prototype.getTileHeight.call(this,t);var r=Math.pow(2,this.maxLevel-t);return this.tileSizePerScaleFactor&&this.tileSizePerScaleFactor[r]?this.tileSizePerScaleFactor[r].height:this._tileHeight},getLevelScale:function(t){if(this.emulateLegacyImagePyramid){var r=NaN;return this.levels.length>0&&t>=this.minLevel&&t<=this.maxLevel&&(r=this.levels[t].width/this.levels[this.maxLevel].width),r}return e.TileSource.prototype.getLevelScale.call(this,t)},getNumTiles:function(t){if(this.emulateLegacyImagePyramid){var r=this.getLevelScale(t);return r?new e.Point(1,1):new e.Point(0,0)}if(this.levelSizes){var n=this.levelSizes[t],i=Math.ceil(n.width/this.getTileWidth(t)),o=Math.ceil(n.height/this.getTileHeight(t));return new e.Point(i,o)}return e.TileSource.prototype.getNumTiles.call(this,t)},getTileAtPoint:function(t,r){if(this.emulateLegacyImagePyramid)return new e.Point(0,0);if(this.levelSizes){var n=r.x>=0&&r.x<=1&&r.y>=0&&r.y<=1/this.aspectRatio;e.console.assert(n,"[TileSource.getTileAtPoint] must be called with a valid point.");var i=this.levelSizes[t].width,o=r.x*i,l=r.y*i,a=Math.floor(o/this.getTileWidth(t)),s=Math.floor(l/this.getTileHeight(t));r.x>=1&&(a=this.getNumTiles(t).x-1);var c=1e-15;return r.y>=1/this.aspectRatio-c&&(s=this.getNumTiles(t).y-1),new e.Point(a,s)}return e.TileSource.prototype.getTileAtPoint.call(this,t,r)},getTileUrl:function(e,t,r){if(this.emulateLegacyImagePyramid){var n=null;return this.levels.length>0&&e>=this.minLevel&&e<=this.maxLevel&&(n=this.levels[e].url),n}var i,o,l,a,s,c,u,p,h,d,f,g,m,v,y,A,w="0",_=Math.pow(.5,this.maxLevel-e);return this.levelSizes?(i=this.levelSizes[e].width,o=this.levelSizes[e].height):(i=Math.ceil(this.width*_),o=Math.ceil(this.height*_)),l=this.getTileWidth(e),a=this.getTileHeight(e),s=Math.round(l/_),c=Math.round(a/_),y=1===this.version?"native."+this.tileFormat:"default."+this.tileFormat,i<l&&o<a?(g=2===this.version&&i===this.width?"full":3===this.version&&i===this.width&&o===this.height?"max":3===this.version?i+","+o:i+",",u="full"):(p=t*s,h=r*c,d=Math.min(s,this.width-p),f=Math.min(c,this.height-h),u=0===t&&0===r&&d===this.width&&f===this.height?"full":[p,h,d,f].join(","),m=Math.min(l,i-t*l),v=Math.min(a,o-r*a),g=2===this.version&&m===this.width?"full":3===this.version&&m===this.width&&v===this.height?"max":3===this.version?m+","+v:m+","),A=[this._id,u,g,w,y].join("/"),A},__testonly__:{canBeTiled:t,constructLevels:r}})}(l),function(e){e.OsmTileSource=function(t,r,n,i,o){var l;l=e.isPlainObject(t)?t:{width:arguments[0],height:arguments[1],tileSize:arguments[2],tileOverlap:arguments[3],tilesUrl:arguments[4]},l.width&&l.height||(l.width=65572864,l.height=65572864),l.tileSize||(l.tileSize=256,l.tileOverlap=0),l.tilesUrl||(l.tilesUrl="http://tile.openstreetmap.org/"),l.minLevel=8,e.TileSource.apply(this,[l])},e.extend(e.OsmTileSource.prototype,e.TileSource.prototype,{supports:function(e,t){return e.type&&"openstreetmaps"===e.type},configure:function(e,t,r){return e},getTileUrl:function(e,t,r){return this.tilesUrl+(e-8)+"/"+t+"/"+r+".png"}})}(l),function(e){e.TmsTileSource=function(t,r,n,i,o){var l;l=e.isPlainObject(t)?t:{width:arguments[0],height:arguments[1],tileSize:arguments[2],tileOverlap:arguments[3],tilesUrl:arguments[4]};var a,s=256*Math.ceil(l.width/256),c=256*Math.ceil(l.height/256);a=s>c?s/256:c/256,l.maxLevel=Math.ceil(Math.log(a)/Math.log(2))-1,l.tileSize=256,l.width=s,l.height=c,e.TileSource.apply(this,[l])},e.extend(e.TmsTileSource.prototype,e.TileSource.prototype,{supports:function(e,t){return e.type&&"tiledmapservice"===e.type},configure:function(e,t,r){return e},getTileUrl:function(e,t,r){var n=this.getNumTiles(e).y-1;return this.tilesUrl+e+"/"+t+"/"+(n-r)+".png"}})}(l),function(e){e.ZoomifyTileSource=function(e){"undefined"===typeof e.tileSize&&(e.tileSize=256),"undefined"===typeof e.fileFormat&&(e.fileFormat="jpg",this.fileFormat=e.fileFormat);var t={x:e.width,y:e.height};e.imageSizes=[{x:e.width,y:e.height}],e.gridSize=[this._getGridSize(e.width,e.height,e.tileSize)];while(parseInt(t.x,10)>e.tileSize||parseInt(t.y,10)>e.tileSize)t.x=Math.floor(t.x/2),t.y=Math.floor(t.y/2),e.imageSizes.push({x:t.x,y:t.y}),e.gridSize.push(this._getGridSize(t.x,t.y,e.tileSize));e.imageSizes.reverse(),e.gridSize.reverse(),e.minLevel=0,e.maxLevel=e.gridSize.length-1,l.TileSource.apply(this,[e])},e.extend(e.ZoomifyTileSource.prototype,e.TileSource.prototype,{_getGridSize:function(e,t,r){return{x:Math.ceil(e/r),y:Math.ceil(t/r)}},_calculateAbsoluteTileNumber:function(e,t,r){for(var n=0,i={},o=0;o<e;o++)i=this.gridSize[o],n+=i.x*i.y;return i=this.gridSize[e],n+=i.x*r+t,n},supports:function(e,t){return e.type&&"zoomifytileservice"===e.type},configure:function(e,t,r){return e},getTileUrl:function(e,t,r){var n=0,i=this._calculateAbsoluteTileNumber(e,t,r);return n=Math.floor(i/256),this.tilesUrl+"TileGroup"+n+"/"+e+"-"+t+"-"+r+"."+this.fileFormat}})}(l),function(e){function t(t){var r,n,i=[];for(n=0;n<t.length;n++)r=t[n],r.height&&r.width&&r.url?i.push({url:r.url,width:Number(r.width),height:Number(r.height)}):e.console.error("Unsupported image format: %s",r.url?r.url:"<no URL>");return i.sort((function(e,t){return e.height-t.height}))}function r(t,r){if(!r||!r.documentElement)throw new Error(e.getString("Errors.Xml"));var i,o,l=r.documentElement,a=l.tagName,s=null,c=[];if("image"===a)try{for(s={type:l.getAttribute("type"),levels:[]},c=l.getElementsByTagName("level"),o=0;o<c.length;o++)i=c[o],s.levels.push({url:i.getAttribute("url"),width:parseInt(i.getAttribute("width"),10),height:parseInt(i.getAttribute("height"),10)});return n(t,s)}catch(u){throw u instanceof Error?u:new Error("Unknown error parsing Legacy Image Pyramid XML.")}else{if("collection"===a)throw new Error("Legacy Image Pyramid Collections not yet supported.");if("error"===a)throw new Error("Error: "+r)}throw new Error("Unknown element "+a)}function n(e,t){return t.levels}e.LegacyTileSource=function(r){var n,i,o;e.isArray(r)&&(n={type:"legacy-image-pyramid",levels:r}),n.levels=t(n.levels),n.levels.length>0?(i=n.levels[n.levels.length-1].width,o=n.levels[n.levels.length-1].height):(i=0,o=0,e.console.error("No supported image formats found")),e.extend(!0,n,{width:i,height:o,tileSize:Math.max(o,i),tileOverlap:0,minLevel:0,maxLevel:n.levels.length>0?n.levels.length-1:0}),e.TileSource.apply(this,[n]),this.levels=n.levels},e.extend(e.LegacyTileSource.prototype,e.TileSource.prototype,{supports:function(e,t){return e.type&&"legacy-image-pyramid"===e.type||e.documentElement&&"legacy-image-pyramid"===e.documentElement.getAttribute("type")},configure:function(t,i,o){var l;return l=e.isPlainObject(t)?n(this,t):r(this,t),l},getLevelScale:function(e){var t=NaN;return this.levels.length>0&&e>=this.minLevel&&e<=this.maxLevel&&(t=this.levels[e].width/this.levels[this.maxLevel].width),t},getNumTiles:function(t){var r=this.getLevelScale(t);return r?new e.Point(1,1):new e.Point(0,0)},getTileUrl:function(e,t,r){var n=null;return this.levels.length>0&&e>=this.minLevel&&e<=this.maxLevel&&(n=this.levels[e].url),n}})}(l),function(e){e.ImageTileSource=function(t){t=e.extend({buildPyramid:!0,crossOriginPolicy:!1,ajaxWithCredentials:!1},t),e.TileSource.apply(this,[t])},e.extend(e.ImageTileSource.prototype,e.TileSource.prototype,{supports:function(e,t){return e.type&&"image"===e.type},configure:function(e,t,r){return e},getImageInfo:function(t){var r=this._image=new Image,n=this;this.crossOriginPolicy&&(r.crossOrigin=this.crossOriginPolicy),this.ajaxWithCredentials&&(r.useCredentials=this.ajaxWithCredentials),e.addEvent(r,"load",(function(){n.width=r.naturalWidth,n.height=r.naturalHeight,n.aspectRatio=n.width/n.height,n.dimensions=new e.Point(n.width,n.height),n._tileWidth=n.width,n._tileHeight=n.height,n.tileOverlap=0,n.minLevel=0,n.levels=n._buildLevels(),n.maxLevel=n.levels.length-1,n.ready=!0,n.raiseEvent("ready",{tileSource:n})})),e.addEvent(r,"error",(function(){n.raiseEvent("open-failed",{message:"Error loading image at "+t,source:t})})),r.src=t},getLevelScale:function(e){var t=NaN;return e>=this.minLevel&&e<=this.maxLevel&&(t=this.levels[e].width/this.levels[this.maxLevel].width),t},getNumTiles:function(t){var r=this.getLevelScale(t);return r?new e.Point(1,1):new e.Point(0,0)},getTileUrl:function(e,t,r){var n=null;return e>=this.minLevel&&e<=this.maxLevel&&(n=this.levels[e].url),n},getContext2D:function(e,t,r){var n=null;return e>=this.minLevel&&e<=this.maxLevel&&(n=this.levels[e].context2D),n},destroy:function(e){this._freeupCanvasMemory(e)},_buildLevels:function(){var t=[{url:this._image.src,width:this._image.naturalWidth,height:this._image.naturalHeight}];if(!this.buildPyramid||!e.supportsCanvas)return delete this._image,t;var r=this._image.naturalWidth,n=this._image.naturalHeight,i=document.createElement("canvas"),o=i.getContext("2d");if(i.width=r,i.height=n,o.drawImage(this._image,0,0,r,n),t[0].context2D=o,delete this._image,e.isCanvasTainted(i))return t;while(r>=2&&n>=2){r=Math.floor(r/2),n=Math.floor(n/2);var l=document.createElement("canvas"),a=l.getContext("2d");l.width=r,l.height=n,a.drawImage(i,0,0,r,n),t.splice(0,0,{context2D:a,width:r,height:n}),i=l,o=a}return t},_freeupCanvasMemory:function(e){for(var t=0;t<this.levels.length;t++)this.levels[t].context2D&&(this.levels[t].context2D.canvas.height=0,this.levels[t].context2D.canvas.width=0,e&&e.raiseEvent("image-unloaded",{context2D:this.levels[t].context2D}))}})}(l),function(e){e.TileSourceCollection=function(t,r,n,i){e.console.error("TileSourceCollection is deprecated; use World instead")}}(l),function(e){function t(t){e.requestAnimationFrame((function(){r(t)}))}function r(r){var n,i,o;r.shouldFade&&(n=e.now(),i=n-r.fadeBeginTime,o=1-i/r.fadeLength,o=Math.min(1,o),o=Math.max(0,o),r.imgGroup&&e.setElementOpacity(r.imgGroup,o,!0),o>0&&t(r))}function n(r){r.shouldFade=!0,r.fadeBeginTime=e.now()+r.fadeDelay,window.setTimeout((function(){t(r)}),r.fadeDelay)}function i(t){t.shouldFade=!1,t.imgGroup&&e.setElementOpacity(t.imgGroup,1,!0)}function o(t,r){t.element.disabled||(r>=e.ButtonState.GROUP&&t.currentState===e.ButtonState.REST&&(i(t),t.currentState=e.ButtonState.GROUP),r>=e.ButtonState.HOVER&&t.currentState===e.ButtonState.GROUP&&(t.imgHover&&(t.imgHover.style.visibility=""),t.currentState=e.ButtonState.HOVER),r>=e.ButtonState.DOWN&&t.currentState===e.ButtonState.HOVER&&(t.imgDown&&(t.imgDown.style.visibility=""),t.currentState=e.ButtonState.DOWN))}function l(t,r){t.element.disabled||(r<=e.ButtonState.HOVER&&t.currentState===e.ButtonState.DOWN&&(t.imgDown&&(t.imgDown.style.visibility="hidden"),t.currentState=e.ButtonState.HOVER),r<=e.ButtonState.GROUP&&t.currentState===e.ButtonState.HOVER&&(t.imgHover&&(t.imgHover.style.visibility="hidden"),t.currentState=e.ButtonState.GROUP),r<=e.ButtonState.REST&&t.currentState===e.ButtonState.GROUP&&(n(t),t.currentState=e.ButtonState.REST))}e.ButtonState={REST:0,GROUP:1,HOVER:2,DOWN:3},e.Button=function(t){var r=this;e.EventSource.call(this),e.extend(!0,this,{tooltip:null,srcRest:null,srcGroup:null,srcHover:null,srcDown:null,clickTimeThreshold:e.DEFAULT_SETTINGS.clickTimeThreshold,clickDistThreshold:e.DEFAULT_SETTINGS.clickDistThreshold,fadeDelay:0,fadeLength:2e3,onPress:null,onRelease:null,onClick:null,onEnter:null,onExit:null,onFocus:null,onBlur:null,userData:null},t),this.element=t.element||e.makeNeutralElement("div"),t.element||(this.imgRest=e.makeTransparentImage(this.srcRest),this.imgGroup=e.makeTransparentImage(this.srcGroup),this.imgHover=e.makeTransparentImage(this.srcHover),this.imgDown=e.makeTransparentImage(this.srcDown),this.imgRest.alt=this.imgGroup.alt=this.imgHover.alt=this.imgDown.alt=this.tooltip,e.setElementPointerEventsNone(this.imgRest),e.setElementPointerEventsNone(this.imgGroup),e.setElementPointerEventsNone(this.imgHover),e.setElementPointerEventsNone(this.imgDown),this.element.style.position="relative",e.setElementTouchActionNone(this.element),this.imgGroup.style.position=this.imgHover.style.position=this.imgDown.style.position="absolute",this.imgGroup.style.top=this.imgHover.style.top=this.imgDown.style.top="0px",this.imgGroup.style.left=this.imgHover.style.left=this.imgDown.style.left="0px",this.imgHover.style.visibility=this.imgDown.style.visibility="hidden",this.element.appendChild(this.imgRest),this.element.appendChild(this.imgGroup),this.element.appendChild(this.imgHover),this.element.appendChild(this.imgDown)),this.addHandler("press",this.onPress),this.addHandler("release",this.onRelease),this.addHandler("click",this.onClick),this.addHandler("enter",this.onEnter),this.addHandler("exit",this.onExit),this.addHandler("focus",this.onFocus),this.addHandler("blur",this.onBlur),this.currentState=e.ButtonState.GROUP,this.fadeBeginTime=null,this.shouldFade=!1,this.element.style.display="inline-block",this.element.style.position="relative",this.element.title=this.tooltip,this.tracker=new e.MouseTracker({userData:"Button.tracker",element:this.element,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,enterHandler:function(t){t.insideElementPressed?(o(r,e.ButtonState.DOWN),r.raiseEvent("enter",{originalEvent:t.originalEvent})):t.buttonDownAny||o(r,e.ButtonState.HOVER)},focusHandler:function(e){r.tracker.enterHandler(e),r.raiseEvent("focus",{originalEvent:e.originalEvent})},leaveHandler:function(t){l(r,e.ButtonState.GROUP),t.insideElementPressed&&r.raiseEvent("exit",{originalEvent:t.originalEvent})},blurHandler:function(e){r.tracker.leaveHandler(e),r.raiseEvent("blur",{originalEvent:e.originalEvent})},pressHandler:function(t){o(r,e.ButtonState.DOWN),r.raiseEvent("press",{originalEvent:t.originalEvent})},releaseHandler:function(t){t.insideElementPressed&&t.insideElementReleased?(l(r,e.ButtonState.HOVER),r.raiseEvent("release",{originalEvent:t.originalEvent})):t.insideElementPressed?l(r,e.ButtonState.GROUP):o(r,e.ButtonState.HOVER)},clickHandler:function(e){e.quick&&r.raiseEvent("click",{originalEvent:e.originalEvent})},keyHandler:function(e){13===e.keyCode?(r.raiseEvent("click",{originalEvent:e.originalEvent}),r.raiseEvent("release",{originalEvent:e.originalEvent}),e.preventDefault=!0):e.preventDefault=!1}}),l(this,e.ButtonState.REST)},e.extend(e.Button.prototype,e.EventSource.prototype,{notifyGroupEnter:function(){o(this,e.ButtonState.GROUP)},notifyGroupExit:function(){l(this,e.ButtonState.REST)},disable:function(){this.notifyGroupExit(),this.element.disabled=!0,this.tracker.setTracking(!1),e.setElementOpacity(this.element,.2,!0)},enable:function(){this.element.disabled=!1,this.tracker.setTracking(!0),e.setElementOpacity(this.element,1,!0),this.notifyGroupEnter()},destroy:function(){this.imgRest&&(this.element.removeChild(this.imgRest),this.imgRest=null),this.imgGroup&&(this.element.removeChild(this.imgGroup),this.imgGroup=null),this.imgHover&&(this.element.removeChild(this.imgHover),this.imgHover=null),this.imgDown&&(this.element.removeChild(this.imgDown),this.imgDown=null),this.removeAllHandlers(),this.tracker.destroy(),this.element=null}})}(l),function(e){e.ButtonGroup=function(t){e.extend(!0,this,{buttons:[],clickTimeThreshold:e.DEFAULT_SETTINGS.clickTimeThreshold,clickDistThreshold:e.DEFAULT_SETTINGS.clickDistThreshold,labelText:""},t);var r,n=this.buttons.concat([]),i=this;if(this.element=t.element||e.makeNeutralElement("div"),!t.group)for(this.element.style.display="inline-block",r=0;r<n.length;r++)this.element.appendChild(n[r].element);e.setElementTouchActionNone(this.element),this.tracker=new e.MouseTracker({userData:"ButtonGroup.tracker",element:this.element,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,enterHandler:function(e){var t;for(t=0;t<i.buttons.length;t++)i.buttons[t].notifyGroupEnter()},leaveHandler:function(e){var t;if(!e.insideElementPressed)for(t=0;t<i.buttons.length;t++)i.buttons[t].notifyGroupExit()}})},e.ButtonGroup.prototype={addButton:function(e){this.buttons.push(e),this.element.appendChild(e.element)},emulateEnter:function(){this.tracker.enterHandler({eventSource:this.tracker})},emulateLeave:function(){this.tracker.leaveHandler({eventSource:this.tracker})},destroy:function(){while(this.buttons.length){var e=this.buttons.pop();this.element.removeChild(e.element),e.destroy()}this.tracker.destroy(),this.element=null}}}(l),function(e){e.Rect=function(t,r,n,i,o){var l,a;this.x="number"===typeof t?t:0,this.y="number"===typeof r?r:0,this.width="number"===typeof n?n:0,this.height="number"===typeof i?i:0,this.degrees="number"===typeof o?o:0,this.degrees=e.positiveModulo(this.degrees,360),this.degrees>=270?(l=this.getTopRight(),this.x=l.x,this.y=l.y,a=this.height,this.height=this.width,this.width=a,this.degrees-=270):this.degrees>=180?(l=this.getBottomRight(),this.x=l.x,this.y=l.y,this.degrees-=180):this.degrees>=90&&(l=this.getBottomLeft(),this.x=l.x,this.y=l.y,a=this.height,this.height=this.width,this.width=a,this.degrees-=90)},e.Rect.fromSummits=function(t,r,n){var i=t.distanceTo(r),o=t.distanceTo(n),l=r.minus(t),a=Math.atan(l.y/l.x);return l.x<0?a+=Math.PI:l.y<0&&(a+=2*Math.PI),new e.Rect(t.x,t.y,i,o,a/Math.PI*180)},e.Rect.prototype={clone:function(){return new e.Rect(this.x,this.y,this.width,this.height,this.degrees)},getAspectRatio:function(){return this.width/this.height},getTopLeft:function(){return new e.Point(this.x,this.y)},getBottomRight:function(){return new e.Point(this.x+this.width,this.y+this.height).rotate(this.degrees,this.getTopLeft())},getTopRight:function(){return new e.Point(this.x+this.width,this.y).rotate(this.degrees,this.getTopLeft())},getBottomLeft:function(){return new e.Point(this.x,this.y+this.height).rotate(this.degrees,this.getTopLeft())},getCenter:function(){return new e.Point(this.x+this.width/2,this.y+this.height/2).rotate(this.degrees,this.getTopLeft())},getSize:function(){return new e.Point(this.width,this.height)},equals:function(t){return t instanceof e.Rect&&this.x===t.x&&this.y===t.y&&this.width===t.width&&this.height===t.height&&this.degrees===t.degrees},times:function(t){return new e.Rect(this.x*t,this.y*t,this.width*t,this.height*t,this.degrees)},translate:function(t){return new e.Rect(this.x+t.x,this.y+t.y,this.width,this.height,this.degrees)},union:function(t){var r=this.getBoundingBox(),n=t.getBoundingBox(),i=Math.min(r.x,n.x),o=Math.min(r.y,n.y),l=Math.max(r.x+r.width,n.x+n.width),a=Math.max(r.y+r.height,n.y+n.height);return new e.Rect(i,o,l-i,a-o)},intersection:function(t){var r=1e-10,n=[],i=this.getTopLeft();t.containsPoint(i,r)&&n.push(i);var o=this.getTopRight();t.containsPoint(o,r)&&n.push(o);var l=this.getBottomLeft();t.containsPoint(l,r)&&n.push(l);var a=this.getBottomRight();t.containsPoint(a,r)&&n.push(a);var s=t.getTopLeft();this.containsPoint(s,r)&&n.push(s);var c=t.getTopRight();this.containsPoint(c,r)&&n.push(c);var u=t.getBottomLeft();this.containsPoint(u,r)&&n.push(u);var p=t.getBottomRight();this.containsPoint(p,r)&&n.push(p);for(var h=this._getSegments(),d=t._getSegments(),f=0;f<h.length;f++)for(var g=h[f],m=0;m<d.length;m++){var v=d[m],y=A(g[0],g[1],v[0],v[1]);y&&n.push(y)}function A(t,n,i,o){var l=n.minus(t),a=o.minus(i),s=-a.x*l.y+l.x*a.y;if(0===s)return null;var c=(l.x*(t.y-i.y)-l.y*(t.x-i.x))/s,u=(a.x*(t.y-i.y)-a.y*(t.x-i.x))/s;return-r<=c&&c<=1-r&&-r<=u&&u<=1-r?new e.Point(t.x+u*l.x,t.y+u*l.y):null}if(0===n.length)return null;for(var w=n[0].x,_=n[0].x,T=n[0].y,b=n[0].y,x=1;x<n.length;x++){var E=n[x];E.x<w&&(w=E.x),E.x>_&&(_=E.x),E.y<T&&(T=E.y),E.y>b&&(b=E.y)}return new e.Rect(w,T,_-w,b-T)},_getSegments:function(){var e=this.getTopLeft(),t=this.getTopRight(),r=this.getBottomLeft(),n=this.getBottomRight();return[[e,t],[t,n],[n,r],[r,e]]},rotate:function(t,r){if(t=e.positiveModulo(t,360),0===t)return this.clone();r=r||this.getCenter();var n=this.getTopLeft().rotate(t,r),i=this.getTopRight().rotate(t,r),o=i.minus(n);o=o.apply((function(e){var t=1e-15;return Math.abs(e)<t?0:e}));var l=Math.atan(o.y/o.x);return o.x<0?l+=Math.PI:o.y<0&&(l+=2*Math.PI),new e.Rect(n.x,n.y,this.width,this.height,l/Math.PI*180)},getBoundingBox:function(){if(0===this.degrees)return this.clone();var t=this.getTopLeft(),r=this.getTopRight(),n=this.getBottomLeft(),i=this.getBottomRight(),o=Math.min(t.x,r.x,n.x,i.x),l=Math.max(t.x,r.x,n.x,i.x),a=Math.min(t.y,r.y,n.y,i.y),s=Math.max(t.y,r.y,n.y,i.y);return new e.Rect(o,a,l-o,s-a)},getIntegerBoundingBox:function(){var t=this.getBoundingBox(),r=Math.floor(t.x),n=Math.floor(t.y),i=Math.ceil(t.width+t.x-r),o=Math.ceil(t.height+t.y-n);return new e.Rect(r,n,i,o)},containsPoint:function(e,t){t=t||0;var r=this.getTopLeft(),n=this.getTopRight(),i=this.getBottomLeft(),o=n.minus(r),l=i.minus(r);return(e.x-r.x)*o.x+(e.y-r.y)*o.y>=-t&&(e.x-n.x)*o.x+(e.y-n.y)*o.y<=t&&(e.x-r.x)*l.x+(e.y-r.y)*l.y>=-t&&(e.x-i.x)*l.x+(e.y-i.y)*l.y<=t},toString:function(){return"["+Math.round(100*this.x)/100+", "+Math.round(100*this.y)/100+", "+Math.round(100*this.width)/100+"x"+Math.round(100*this.height)/100+", "+Math.round(100*this.degrees)/100+"deg]"}}}(l),function(e){var t={};function r(e){var t;e.quick&&(t="horizontal"===this.scroll?Math.floor(e.position.x/(this.panelWidth+4)):Math.floor(e.position.y/this.panelHeight),this.viewer.goToPage(t));this.element.focus()}function n(t){if(this.dragging=!0,this.element){var r=Number(this.element.style.marginLeft.replace("px","")),n=Number(this.element.style.marginTop.replace("px","")),i=Number(this.element.style.width.replace("px","")),l=Number(this.element.style.height.replace("px","")),a=e.getElementSize(this.viewer.canvas);"horizontal"===this.scroll?-t.delta.x>0?r>-(i-a.x)&&(this.element.style.marginLeft=r+2*t.delta.x+"px",o(this,a.x,r+2*t.delta.x)):-t.delta.x<0&&r<0&&(this.element.style.marginLeft=r+2*t.delta.x+"px",o(this,a.x,r+2*t.delta.x)):-t.delta.y>0?n>-(l-a.y)&&(this.element.style.marginTop=n+2*t.delta.y+"px",o(this,a.y,n+2*t.delta.y)):-t.delta.y<0&&n<0&&(this.element.style.marginTop=n+2*t.delta.y+"px",o(this,a.y,n+2*t.delta.y))}}function i(t){if(this.element){var r=Number(this.element.style.marginLeft.replace("px","")),n=Number(this.element.style.marginTop.replace("px","")),i=Number(this.element.style.width.replace("px","")),l=Number(this.element.style.height.replace("px","")),a=e.getElementSize(this.viewer.canvas);"horizontal"===this.scroll?t.scroll>0?r>-(i-a.x)&&(this.element.style.marginLeft=r-60*t.scroll+"px",o(this,a.x,r-60*t.scroll)):t.scroll<0&&r<0&&(this.element.style.marginLeft=r-60*t.scroll+"px",o(this,a.x,r-60*t.scroll)):t.scroll<0?n>a.y-l&&(this.element.style.marginTop=n+60*t.scroll+"px",o(this,a.y,n+60*t.scroll)):t.scroll>0&&n<0&&(this.element.style.marginTop=n+60*t.scroll+"px",o(this,a.y,n+60*t.scroll)),t.preventDefault=!0}}function o(t,r,n){var i,o,l,a,s,c;for(i="horizontal"===t.scroll?t.panelWidth:t.panelHeight,o=Math.ceil(r/i)+5,l=Math.ceil((Math.abs(n)+r)/i)+1,o=l-o,o=o<0?0:o,s=o;s<l&&s<t.panels.length;s++)if(c=t.panels[s],!c.activePanel){var u,p=t.viewer.tileSources[s];u=p.referenceStripThumbnailUrl?{type:"image",url:p.referenceStripThumbnailUrl}:p,a=new e.Viewer({id:c.id,tileSources:[u],element:c,navigatorSizeRatio:t.sizeRatio,showNavigator:!1,mouseNavEnabled:!1,showNavigationControl:!1,showSequenceControl:!1,immediateRender:!0,blendTime:0,animationTime:0,loadTilesWithAjax:t.viewer.loadTilesWithAjax,ajaxHeaders:t.viewer.ajaxHeaders,drawer:"canvas"}),e.setElementPointerEventsNone(a.canvas),e.setElementPointerEventsNone(a.container),a.innerTracker.setTracking(!1),a.outerTracker.setTracking(!1),t.miniViewers[c.id]=a,c.activePanel=!0}}function l(e){var t=e.eventSource.element;"horizontal"===this.scroll?t.style.marginBottom="0px":t.style.marginLeft="0px"}function a(t){var r=t.eventSource.element;"horizontal"===this.scroll?r.style.marginBottom="-"+e.getElementSize(r).y/2+"px":r.style.marginLeft="-"+e.getElementSize(r).x/2+"px"}function s(e){if(e.ctrl||e.alt||e.meta)e.preventDefault=!1;else switch(e.keyCode){case 38:i.call(this,{eventSource:this.tracker,position:null,scroll:1,shift:null}),e.preventDefault=!0;break;case 40:i.call(this,{eventSource:this.tracker,position:null,scroll:-1,shift:null}),e.preventDefault=!0;break;case 37:i.call(this,{eventSource:this.tracker,position:null,scroll:-1,shift:null}),e.preventDefault=!0;break;case 39:i.call(this,{eventSource:this.tracker,position:null,scroll:1,shift:null}),e.preventDefault=!0;break;default:e.preventDefault=!1;break}}function c(e){if(e.ctrl||e.alt||e.meta)e.preventDefault=!1;else switch(e.keyCode){case 61:i.call(this,{eventSource:this.tracker,position:null,scroll:1,shift:null}),e.preventDefault=!0;break;case 45:i.call(this,{eventSource:this.tracker,position:null,scroll:-1,shift:null}),e.preventDefault=!0;break;case 48:case 119:case 87:i.call(this,{eventSource:this.tracker,position:null,scroll:1,shift:null}),e.preventDefault=!0;break;case 115:case 83:i.call(this,{eventSource:this.tracker,position:null,scroll:-1,shift:null}),e.preventDefault=!0;break;case 97:i.call(this,{eventSource:this.tracker,position:null,scroll:-1,shift:null}),e.preventDefault=!0;break;case 100:i.call(this,{eventSource:this.tracker,position:null,scroll:1,shift:null}),e.preventDefault=!0;break;default:e.preventDefault=!1;break}}e.ReferenceStrip=function(u){var p,h,d,f=this,g=u.viewer,m=e.getElementSize(g.element);for(u.id||(u.id="referencestrip-"+e.now(),this.element=e.makeNeutralElement("div"),this.element.id=u.id,this.element.className="referencestrip"),u=e.extend(!0,{sizeRatio:e.DEFAULT_SETTINGS.referenceStripSizeRatio,position:e.DEFAULT_SETTINGS.referenceStripPosition,scroll:e.DEFAULT_SETTINGS.referenceStripScroll,clickTimeThreshold:e.DEFAULT_SETTINGS.clickTimeThreshold},u,{element:this.element}),e.extend(this,u),t[this.id]={animating:!1},this.minPixelRatio=this.viewer.minPixelRatio,this.element.tabIndex=0,h=this.element.style,h.marginTop="0px",h.marginRight="0px",h.marginBottom="0px",h.marginLeft="0px",h.left="0px",h.bottom="0px",h.border="0px",h.background="#000",h.position="relative",e.setElementTouchActionNone(this.element),e.setElementOpacity(this.element,.8),this.viewer=g,this.tracker=new e.MouseTracker({userData:"ReferenceStrip.tracker",element:this.element,clickHandler:e.delegate(this,r),dragHandler:e.delegate(this,n),scrollHandler:e.delegate(this,i),enterHandler:e.delegate(this,l),leaveHandler:e.delegate(this,a),keyDownHandler:e.delegate(this,s),keyHandler:e.delegate(this,c),preProcessEventHandler:function(e){"wheel"===e.eventType&&(e.preventDefault=!0)}}),u.width&&u.height?(this.element.style.width=u.width+"px",this.element.style.height=u.height+"px",g.addControl(this.element,{anchor:e.ControlAnchor.BOTTOM_LEFT})):"horizontal"===u.scroll?(this.element.style.width=m.x*u.sizeRatio*g.tileSources.length+12*g.tileSources.length+"px",this.element.style.height=m.y*u.sizeRatio+"px",g.addControl(this.element,{anchor:e.ControlAnchor.BOTTOM_LEFT})):(this.element.style.height=m.y*u.sizeRatio*g.tileSources.length+12*g.tileSources.length+"px",this.element.style.width=m.x*u.sizeRatio+"px",g.addControl(this.element,{anchor:e.ControlAnchor.TOP_LEFT})),this.panelWidth=m.x*this.sizeRatio+8,this.panelHeight=m.y*this.sizeRatio+8,this.panels=[],this.miniViewers={},d=0;d<g.tileSources.length;d++)p=e.makeNeutralElement("div"),p.id=this.element.id+"-"+d,p.style.width=f.panelWidth+"px",p.style.height=f.panelHeight+"px",p.style.display="inline",p.style["float"]="left",p.style.cssFloat="left",p.style.padding="2px",e.setElementTouchActionNone(p),e.setElementPointerEventsNone(p),this.element.appendChild(p),p.activePanel=!1,this.panels.push(p);o(this,"vertical"===this.scroll?m.y:m.x,0),this.setFocus(0)},e.ReferenceStrip.prototype={setFocus:function(t){var r,n=this.element.querySelector("#"+this.element.id+"-"+t),i=e.getElementSize(this.viewer.canvas),a=Number(this.element.style.width.replace("px","")),s=Number(this.element.style.height.replace("px","")),c=-Number(this.element.style.marginLeft.replace("px","")),u=-Number(this.element.style.marginTop.replace("px",""));this.currentSelected!==n&&(this.currentSelected&&(this.currentSelected.style.background="#000"),this.currentSelected=n,this.currentSelected.style.background="#999","horizontal"===this.scroll?(r=Number(t)*(this.panelWidth+3),r>c+i.x-this.panelWidth?(r=Math.min(r,a-i.x),this.element.style.marginLeft=-r+"px",o(this,i.x,-r)):r<c&&(r=Math.max(0,r-i.x/2),this.element.style.marginLeft=-r+"px",o(this,i.x,-r))):(r=Number(t)*(this.panelHeight+3),r>u+i.y-this.panelHeight?(r=Math.min(r,s-i.y),this.element.style.marginTop=-r+"px",o(this,i.y,-r)):r<u&&(r=Math.max(0,r-i.y/2),this.element.style.marginTop=-r+"px",o(this,i.y,-r))),this.currentPage=t,l.call(this,{eventSource:this.tracker}))},update:function(){return!!t[this.id].animating},destroy:function(){if(this.miniViewers)for(var e in this.miniViewers)this.miniViewers[e].destroy();this.tracker.destroy(),this.element&&this.viewer.removeControl(this.element)}}}(l),function(e){e.DisplayRect=function(t,r,n,i,o,l){e.Rect.apply(this,[t,r,n,i]),this.minLevel=o,this.maxLevel=l},e.extend(e.DisplayRect.prototype,e.Rect.prototype)}(l),function(e){function t(e,t){return(1-Math.exp(e*-t))/(1-Math.exp(-e))}e.Spring=function(t){var r=arguments;"object"!==typeof t&&(t={initial:r.length&&"number"===typeof r[0]?r[0]:void 0,springStiffness:r.length>1?r[1].springStiffness:5,animationTime:r.length>1?r[1].animationTime:1.5}),e.console.assert("number"===typeof t.springStiffness&&0!==t.springStiffness,"[OpenSeadragon.Spring] options.springStiffness must be a non-zero number"),e.console.assert("number"===typeof t.animationTime&&t.animationTime>=0,"[OpenSeadragon.Spring] options.animationTime must be a number greater than or equal to 0"),t.exponential&&(this._exponential=!0,delete t.exponential),e.extend(!0,this,t),this.current={value:"number"===typeof this.initial?this.initial:this._exponential?0:1,time:e.now()},e.console.assert(!this._exponential||0!==this.current.value,"[OpenSeadragon.Spring] value must be non-zero for exponential springs"),this.start={value:this.current.value,time:this.current.time},this.target={value:this.current.value,time:this.current.time},this._exponential&&(this.start._logValue=Math.log(this.start.value),this.target._logValue=Math.log(this.target.value),this.current._logValue=Math.log(this.current.value))},e.Spring.prototype={resetTo:function(t){e.console.assert(!this._exponential||0!==t,"[OpenSeadragon.Spring.resetTo] target must be non-zero for exponential springs"),this.start.value=this.target.value=this.current.value=t,this.start.time=this.target.time=this.current.time=e.now(),this._exponential&&(this.start._logValue=Math.log(this.start.value),this.target._logValue=Math.log(this.target.value),this.current._logValue=Math.log(this.current.value))},springTo:function(t){e.console.assert(!this._exponential||0!==t,"[OpenSeadragon.Spring.springTo] target must be non-zero for exponential springs"),this.start.value=this.current.value,this.start.time=this.current.time,this.target.value=t,this.target.time=this.start.time+1e3*this.animationTime,this._exponential&&(this.start._logValue=Math.log(this.start.value),this.target._logValue=Math.log(this.target.value))},shiftBy:function(t){this.start.value+=t,this.target.value+=t,this._exponential&&(e.console.assert(0!==this.target.value&&0!==this.start.value,"[OpenSeadragon.Spring.shiftBy] spring value must be non-zero for exponential springs"),this.start._logValue=Math.log(this.start.value),this.target._logValue=Math.log(this.target.value))},setExponential:function(t){this._exponential=t,this._exponential&&(e.console.assert(0!==this.current.value&&0!==this.target.value&&0!==this.start.value,"[OpenSeadragon.Spring.setExponential] spring value must be non-zero for exponential springs"),this.start._logValue=Math.log(this.start.value),this.target._logValue=Math.log(this.target.value),this.current._logValue=Math.log(this.current.value))},update:function(){let r,n;if(this.current.time=e.now(),this._exponential?(r=this.start._logValue,n=this.target._logValue):(r=this.start.value,n=this.target.value),this.current.time>=this.target.time)this.current.value=this.target.value;else{let e=r+(n-r)*t(this.springStiffness,(this.current.time-this.start.time)/(this.target.time-this.start.time));this._exponential?this.current.value=Math.exp(e):this.current.value=e}return this.current.value!==this.target.value},isAtTargetValue:function(){return this.current.value===this.target.value}}}(l),function(e){function t(e,t,r){var n;""!==t.errorMsg&&(null===t.data||void 0===t.data)&&t.tries<1+e.tileRetryMax&&e.failedTiles.push(t),e.jobsInProgress--,(!e.jobLimit||e.jobsInProgress<e.jobLimit)&&e.jobQueue.length>0&&(n=e.jobQueue.shift(),n.start(),e.jobsInProgress++),e.tileRetryMax>0&&0===e.jobQueue.length&&(!e.jobLimit||e.jobsInProgress<e.jobLimit)&&e.failedTiles.length>0&&(n=e.failedTiles.shift(),setTimeout((function(){n.start()}),e.tileRetryDelay),e.jobsInProgress++),r(t.data,t.errorMsg,t.request)}e.ImageJob=function(t){e.extend(!0,this,{timeout:e.DEFAULT_SETTINGS.timeout,jobId:null,tries:0},t),this.data=null,this.userData={},this.errorMsg=null},e.ImageJob.prototype={start:function(){this.tries++;var e=this,t=this.abort;this.jobId=window.setTimeout((function(){e.finish(null,null,"Image load exceeded timeout ("+e.timeout+" ms)")}),this.timeout),this.abort=function(){e.source.downloadTileAbort(e),"function"===typeof t&&t()},this.source.downloadTileStart(this)},finish:function(e,t,r){this.data=e,this.request=t,this.errorMsg=r,this.jobId&&window.clearTimeout(this.jobId),this.callback(this)}},e.ImageLoader=function(t){e.extend(!0,this,{jobLimit:e.DEFAULT_SETTINGS.imageLoaderLimit,timeout:e.DEFAULT_SETTINGS.timeout,jobQueue:[],failedTiles:[],jobsInProgress:0},t)},e.ImageLoader.prototype={addJob:function(r){if(!r.source){e.console.error("ImageLoader.prototype.addJob() requires [options.source]. TileSource since new API defines how images are fetched. Creating a dummy TileSource.");var n=e.TileSource.prototype;r.source={downloadTileStart:n.downloadTileStart,downloadTileAbort:n.downloadTileAbort}}var i=this,o=function(e){t(i,e,r.callback)},l={src:r.src,tile:r.tile||{},source:r.source,loadWithAjax:r.loadWithAjax,ajaxHeaders:r.loadWithAjax?r.ajaxHeaders:null,crossOriginPolicy:r.crossOriginPolicy,ajaxWithCredentials:r.ajaxWithCredentials,postData:r.postData,callback:o,abort:r.abort,timeout:this.timeout},a=new e.ImageJob(l);!this.jobLimit||this.jobsInProgress<this.jobLimit?(a.start(),this.jobsInProgress++):this.jobQueue.push(a)},clear:function(){for(var e=0;e<this.jobQueue.length;e++){var t=this.jobQueue[e];"function"===typeof t.abort&&t.abort()}this.jobQueue=[]}}}(l),function(e){e.Tile=function(t,r,n,i,o,a,s,c,u,p,h,d){this.level=t,this.x=r,this.y=n,this.bounds=i,this.positionedBounds=new l.Rect(i.x,i.y,i.width,i.height),this.sourceBounds=p,this.exists=o,this._url=a,this.postData=h,this.context2D=s,this.loadWithAjax=c,this.ajaxHeaders=u,void 0===d&&(e.console.warn("Tile constructor needs 'cacheKey' variable: creation tile cache in Tile class is deprecated. TileSource.prototype.getTileHashKey will be used."),d=e.TileSource.prototype.getTileHashKey(t,r,n,a,u,h)),this.cacheKey=d,this.loaded=!1,this.loading=!1,this.element=null,this.imgElement=null,this.style=null,this.position=null,this.size=null,this.flipped=!1,this.blendStart=null,this.opacity=null,this.squaredDistance=null,this.visibility=null,this.hasTransparency=!1,this.beingDrawn=!1,this.lastTouchTime=0,this.isRightMost=!1,this.isBottomMost=!1},e.Tile.prototype={toString:function(){return this.level+"/"+this.x+"_"+this.y},_hasTransparencyChannel:function(){return console.warn("Tile.prototype._hasTransparencyChannel() has been deprecated and will be removed in the future. Use TileSource.prototype.hasTransparency() instead."),!!this.context2D||this.getUrl().match(".png")},get image(){return e.console.error("[Tile.image] property has been deprecated. Use [Tile.prototype.getImage] instead."),this.getImage()},get url(){return e.console.error("[Tile.url] property has been deprecated. Use [Tile.prototype.getUrl] instead."),this.getUrl()},getImage:function(){return this.cacheImageRecord.getImage()},getUrl:function(){return"function"===typeof this._url?this._url():this._url},getCanvasContext:function(){return this.context2D||this.cacheImageRecord&&this.cacheImageRecord.getRenderedContext()},getScaleForEdgeSmoothing:function(){var t;if(this.cacheImageRecord)t=this.cacheImageRecord.getRenderedContext();else{if(!this.context2D)return e.console.warn("[Tile.drawCanvas] attempting to get tile scale %s when tile's not cached",this.toString()),1;t=this.context2D}return t.canvas.width/(this.size.x*e.pixelDensityRatio)},getTranslationForEdgeSmoothing:function(t,r,n){var i=Math.max(1,Math.ceil((n.x-r.x)/2)),o=Math.max(1,Math.ceil((n.y-r.y)/2));return new e.Point(i,o).minus(this.position.times(e.pixelDensityRatio).times(t||1).apply((function(e){return e%1})))},unload:function(){this.imgElement&&this.imgElement.parentNode&&this.imgElement.parentNode.removeChild(this.imgElement),this.element&&this.element.parentNode&&this.element.parentNode.removeChild(this.element),this.element=null,this.imgElement=null,this.loaded=!1,this.loading=!1}}}(l),function(e){e.OverlayPlacement=e.Placement,e.OverlayRotationMode=e.freezeObject({NO_ROTATION:1,EXACT:2,BOUNDING_BOX:3}),e.Overlay=function(t,r,n){var i;i=e.isPlainObject(t)?t:{element:t,location:r,placement:n},this.element=i.element,this.element.innerHTML="<div>"+this.element.innerHTML+"</div>",this.style=i.element.style,this._init(i)},e.Overlay.prototype={_init:function(t){this.location=t.location,this.placement=void 0===t.placement?e.Placement.TOP_LEFT:t.placement,this.onDraw=t.onDraw,this.checkResize=void 0===t.checkResize||t.checkResize,this.width=void 0===t.width?null:t.width,this.height=void 0===t.height?null:t.height,this.rotationMode=t.rotationMode||e.OverlayRotationMode.EXACT,this.location instanceof e.Rect&&(this.width=this.location.width,this.height=this.location.height,this.location=this.location.getTopLeft(),this.placement=e.Placement.TOP_LEFT),this.scales=null!==this.width&&null!==this.height,this.bounds=new e.Rect(this.location.x,this.location.y,this.width,this.height),this.position=this.location},adjust:function(t,r){var n=e.Placement.properties[this.placement];n&&(n.isHorizontallyCentered?t.x-=r.x/2:n.isRight&&(t.x-=r.x),n.isVerticallyCentered?t.y-=r.y/2:n.isBottom&&(t.y-=r.y))},destroy:function(){var t=this.element,r=this.style;t.parentNode&&(t.parentNode.removeChild(t),t.prevElementParent&&(r.display="none",document.body.appendChild(t))),this.onDraw=null,r.top="",r.left="",r.position="",null!==this.width&&(r.width=""),null!==this.height&&(r.height="");var n=e.getCssPropertyWithVendorPrefix("transformOrigin"),i=e.getCssPropertyWithVendorPrefix("transform");n&&i&&(r[n]="",r[i]="")},drawHTML:function(t,r){var n=this.element;n.parentNode!==t&&(n.prevElementParent=n.parentNode,n.prevNextSibling=n.nextSibling,t.appendChild(n),this.style.position="absolute",this.size=e.getElementSize(n));var i=this._getOverlayPositionAndSize(r),o=i.position,l=this.size=i.size,a="";r.overlayPreserveContentDirection&&(a=r.flipped?" scaleX(-1)":" scaleX(1)");var s=r.flipped?-i.rotate:i.rotate,c=r.flipped?" scaleX(-1)":"";if(this.onDraw)this.onDraw(o,l,this.element);else{var u=this.style,p=n.firstChild,h=p.style;u.left=o.x+"px",u.top=o.y+"px",null!==this.width&&(u.width=l.x+"px"),null!==this.height&&(u.height=l.y+"px");var d=e.getCssPropertyWithVendorPrefix("transformOrigin"),f=e.getCssPropertyWithVendorPrefix("transform");d&&f&&(s&&!r.flipped?(h[f]="",u[d]=this._getTransformOrigin(),u[f]="rotate("+s+"deg)"):!s&&r.flipped?(h[f]=a,u[d]=this._getTransformOrigin(),u[f]=c):s&&r.flipped?(h[f]=a,u[d]=this._getTransformOrigin(),u[f]="rotate("+s+"deg)"+c):(h[f]="",u[d]="",u[f]="")),u.display="block"}},_getOverlayPositionAndSize:function(t){var r=t.pixelFromPoint(this.location,!0),n=this._getSizeInPixels(t);this.adjust(r,n);var i=0;if(t.getRotation(!0)&&this.rotationMode!==e.OverlayRotationMode.NO_ROTATION)if(this.rotationMode===e.OverlayRotationMode.BOUNDING_BOX&&null!==this.width&&null!==this.height){var o=new e.Rect(r.x,r.y,n.x,n.y),l=this._getBoundingBox(o,t.getRotation(!0));r=l.getTopLeft(),n=l.getSize()}else i=t.getRotation(!0);return t.flipped&&(r.x=t.getContainerSize().x-r.x),{position:r,size:n,rotate:i}},_getSizeInPixels:function(t){var r=this.size.x,n=this.size.y;if(null!==this.width||null!==this.height){var i=t.deltaPixelsFromPointsNoRotate(new e.Point(this.width||0,this.height||0),!0);null!==this.width&&(r=i.x),null!==this.height&&(n=i.y)}if(this.checkResize&&(null===this.width||null===this.height)){var o=this.size=e.getElementSize(this.element);null===this.width&&(r=o.x),null===this.height&&(n=o.y)}return new e.Point(r,n)},_getBoundingBox:function(e,t){var r=this._getPlacementPoint(e);return e.rotate(t,r).getBoundingBox()},_getPlacementPoint:function(t){var r=new e.Point(t.x,t.y),n=e.Placement.properties[this.placement];return n&&(n.isHorizontallyCentered?r.x+=t.width/2:n.isRight&&(r.x+=t.width),n.isVerticallyCentered?r.y+=t.height/2:n.isBottom&&(r.y+=t.height)),r},_getTransformOrigin:function(){var t="",r=e.Placement.properties[this.placement];return r?(r.isLeft?t="left":r.isRight&&(t="right"),r.isTop?t+=" top":r.isBottom&&(t+=" bottom"),t):t},update:function(t,r){var n=e.isPlainObject(t)?t:{location:t,placement:r};this._init({location:n.location||this.location,placement:void 0!==n.placement?n.placement:this.placement,onDraw:n.onDraw||this.onDraw,checkResize:n.checkResize||this.checkResize,width:void 0!==n.width?n.width:this.width,height:void 0!==n.height?n.height:this.height,rotationMode:n.rotationMode||this.rotationMode})},getBounds:function(t){e.console.assert(t,"A viewport must now be passed to Overlay.getBounds.");var r=this.width,n=this.height;if(null===r||null===n){var i=t.deltaPointsFromPixelsNoRotate(this.size,!0);null===r&&(r=i.x),null===n&&(n=i.y)}var o=this.location.clone();return this.adjust(o,new e.Point(r,n)),this._adjustBoundsForRotation(t,new e.Rect(o.x,o.y,r,n))},_adjustBoundsForRotation:function(t,r){if(!t||0===t.getRotation(!0)||this.rotationMode===e.OverlayRotationMode.EXACT)return r;if(this.rotationMode===e.OverlayRotationMode.BOUNDING_BOX){if(null===this.width||null===this.height)return r;var n=this._getOverlayPositionAndSize(t);return t.viewerElementToViewportRectangle(new e.Rect(n.position.x,n.position.y,n.size.x,n.size.y))}return r.rotate(-t.getRotation(!0),this._getPlacementPoint(r))}}}(l),function(e){const t=e;t.DrawerBase=class{constructor(t){e.console.assert(t.viewer,"[Drawer] options.viewer is required"),e.console.assert(t.viewport,"[Drawer] options.viewport is required"),e.console.assert(t.element,"[Drawer] options.element is required"),this.viewer=t.viewer,this.viewport=t.viewport,this.debugGridColor="string"===typeof t.debugGridColor?[t.debugGridColor]:t.debugGridColor||e.DEFAULT_SETTINGS.debugGridColor,this.options=t.options||{},this.container=e.getElement(t.element),this._renderingTarget=this._createDrawingElement(),this.canvas.style.width="100%",this.canvas.style.height="100%",this.canvas.style.position="absolute",this.canvas.style.left="0",e.setElementOpacity(this.canvas,this.viewer.opacity,!0),e.setElementPointerEventsNone(this.canvas),e.setElementTouchActionNone(this.canvas),this.container.style.textAlign="left",this.container.appendChild(this.canvas),this._checkForAPIOverrides()}get canvas(){return this._renderingTarget}get element(){return e.console.error("Drawer.element is deprecated. Use Drawer.container instead."),this.container}getType(){e.console.error("Drawer.getType must be implemented by child class")}static isSupported(){e.console.error("Drawer.isSupported must be implemented by child class")}_createDrawingElement(){return e.console.error("Drawer._createDrawingElement must be implemented by child class"),null}draw(t){e.console.error("Drawer.draw must be implemented by child class")}canRotate(){e.console.error("Drawer.canRotate must be implemented by child class")}destroy(){e.console.error("Drawer.destroy must be implemented by child class")}minimumOverlapRequired(e){return!1}setImageSmoothingEnabled(t){e.console.error("Drawer.setImageSmoothingEnabled must be implemented by child class")}drawDebuggingRect(t){e.console.warn("[drawer].drawDebuggingRect is not implemented by this drawer")}clear(){e.console.warn("[drawer].clear() is deprecated. The drawer is responsible for clearing itself as needed before drawing tiles.")}_checkForAPIOverrides(){if(this._createDrawingElement===e.DrawerBase.prototype._createDrawingElement)throw new Error("[drawer]._createDrawingElement must be implemented by child class");if(this.draw===e.DrawerBase.prototype.draw)throw new Error("[drawer].draw must be implemented by child class");if(this.canRotate===e.DrawerBase.prototype.canRotate)throw new Error("[drawer].canRotate must be implemented by child class");if(this.destroy===e.DrawerBase.prototype.destroy)throw new Error("[drawer].destroy must be implemented by child class");if(this.setImageSmoothingEnabled===e.DrawerBase.prototype.setImageSmoothingEnabled)throw new Error("[drawer].setImageSmoothingEnabled must be implemented by child class")}viewportToDrawerRectangle(t){var r=this.viewport.pixelFromPointNoRotate(t.getTopLeft(),!0),n=this.viewport.deltaPixelsFromPointsNoRotate(t.getSize(),!0);return new e.Rect(r.x*e.pixelDensityRatio,r.y*e.pixelDensityRatio,n.x*e.pixelDensityRatio,n.y*e.pixelDensityRatio)}viewportCoordToDrawerCoord(t){var r=this.viewport.pixelFromPointNoRotate(t,!0);return new e.Point(r.x*e.pixelDensityRatio,r.y*e.pixelDensityRatio)}_calculateCanvasSize(){var r=e.pixelDensityRatio,n=this.viewport.getContainerSize();return new t.Point(Math.round(n.x*r),Math.round(n.y*r))}_raiseTiledImageDrawnEvent(e,t){this.viewer&&this.viewer.raiseEvent("tiled-image-drawn",{tiledImage:e,tiles:t})}_raiseDrawerErrorEvent(e,t){this.viewer&&this.viewer.raiseEvent("drawer-error",{tiledImage:e,drawer:this,error:t})}}}(l),function(e){const t=e;class r extends t.DrawerBase{constructor(e){super(e),this.viewer.rejectEventHandler("tile-drawing","The HTMLDrawer does not raise the tile-drawing event"),this.viewer.allowEventHandler("tile-drawn")}static isSupported(){return!0}getType(){return"html"}minimumOverlapRequired(e){return!0}_createDrawingElement(){let t=e.makeNeutralElement("div");return t}draw(e){var t=this;this._prepareNewFrame(),e.forEach((function(e){0!==e.opacity&&t._drawTiles(e)}))}canRotate(){return!1}destroy(){this.container.removeChild(this.canvas)}setImageSmoothingEnabled(){}_prepareNewFrame(){this.canvas.innerHTML=""}_drawTiles(e){var t=e.getTilesToDraw().map((e=>e.tile));if(0!==e.opacity&&(0!==t.length||e.placeholderFillStyle))for(var r=t.length-1;r>=0;r--){var n=t[r];this._drawTile(n),this.viewer&&this.viewer.raiseEvent("tile-drawn",{tiledImage:e,tile:n})}}_drawTile(t){e.console.assert(t,"[Drawer._drawTile] tile is required");let r=this.canvas;if(t.cacheImageRecord)if(t.loaded){if(!t.element){var n=t.getImage();if(!n)return;t.element=e.makeNeutralElement("div"),t.imgElement=n.cloneNode(),t.imgElement.style.msInterpolationMode="nearest-neighbor",t.imgElement.style.width="100%",t.imgElement.style.height="100%",t.style=t.element.style,t.style.position="absolute"}t.element.parentNode!==r&&r.appendChild(t.element),t.imgElement.parentNode!==t.element&&t.element.appendChild(t.imgElement),t.style.top=t.position.y+"px",t.style.left=t.position.x+"px",t.style.height=t.size.y+"px",t.style.width=t.size.x+"px",t.flipped&&(t.style.transform="scaleX(-1)"),e.setElementOpacity(t.element,t.opacity)}else e.console.warn("Attempting to draw tile %s when it's not yet loaded.",t.toString());else e.console.warn("[Drawer._drawTileToHTML] attempting to draw tile %s when it's not cached",t.toString())}}e.HTMLDrawer=r}(l),function(e){const t=e;class r extends t.DrawerBase{constructor(e){super(e),this.context=this.canvas.getContext("2d"),this.sketchCanvas=null,this.sketchContext=null,this._imageSmoothingEnabled=!0,this.viewer.allowEventHandler("tile-drawn"),this.viewer.allowEventHandler("tile-drawing")}static isSupported(){return e.supportsCanvas}getType(){return"canvas"}_createDrawingElement(){let t=e.makeNeutralElement("canvas"),r=this._calculateCanvasSize();return t.width=r.x,t.height=r.y,t}draw(e){this._prepareNewFrame(),this.viewer.viewport.getFlip()!==this._viewportFlipped&&this._flip();for(const t of e)0!==t.opacity&&this._drawTiles(t)}canRotate(){return!0}destroy(){this.canvas.width=1,this.canvas.height=1,this.sketchCanvas=null,this.sketchContext=null,this.container.removeChild(this.canvas)}minimumOverlapRequired(e){return!0}setImageSmoothingEnabled(e){this._imageSmoothingEnabled=!!e,this._updateImageSmoothingEnabled(this.context),this.viewer.forceRedraw()}drawDebuggingRect(t){var r=this.context;r.save(),r.lineWidth=2*e.pixelDensityRatio,r.strokeStyle=this.debugGridColor[0],r.fillStyle=this.debugGridColor[0],r.strokeRect(t.x*e.pixelDensityRatio,t.y*e.pixelDensityRatio,t.width*e.pixelDensityRatio,t.height*e.pixelDensityRatio),r.restore()}get _viewportFlipped(){return this.context.getTransform().a<0}_raiseTileDrawingEvent(e,t,r,n){this.viewer.raiseEvent("tile-drawing",{tiledImage:e,context:t,tile:r,rendered:n})}_prepareNewFrame(){var e=this._calculateCanvasSize();if((this.canvas.width!==e.x||this.canvas.height!==e.y)&&(this.canvas.width=e.x,this.canvas.height=e.y,this._updateImageSmoothingEnabled(this.context),null!==this.sketchCanvas)){var t=this._calculateSketchCanvasSize();this.sketchCanvas.width=t.x,this.sketchCanvas.height=t.y,this._updateImageSmoothingEnabled(this.sketchContext)}this._clear()}_clear(e,t){var r=this._getContext(e);if(t)r.clearRect(t.x,t.y,t.width,t.height);else{var n=r.canvas;r.clearRect(0,0,n.width,n.height)}}_drawTiles(t){var r=t.getTilesToDraw().map((e=>e.tile));if(0!==t.opacity&&(0!==r.length||t.placeholderFillStyle)){var n,i,o,a=r[0];a&&(n=t.opacity<1||t.compositeOperation&&"source-over"!==t.compositeOperation||!t._isBottomItem()&&t.source.hasTransparency(a.context2D,a.getUrl(),a.ajaxHeaders,a.postData));var s,c=this.viewport.getZoom(!0),u=t.viewportToImageZoom(c);r.length>1&&u>t.smoothTileEdgesMinZoom&&!t.iOSDevice&&t.getRotation(!0)%360===0&&(n=!0,i=a.getScaleForEdgeSmoothing(),o=a.getTranslationForEdgeSmoothing(i,this._getCanvasSize(!1),this._getCanvasSize(!0))),n&&(i||(s=this.viewport.viewportToViewerElementRectangle(t.getClippedBounds(!0)).getIntegerBoundingBox(),s=s.times(e.pixelDensityRatio)),this._clear(!0,s)),i||this._setRotations(t,n);var p=!1;if(t._clip){this._saveContext(n);var h=t.imageToViewportRectangle(t._clip,!0);h=h.rotate(-t.getRotation(!0),t._getRotationPoint(!0));var d=this.viewportToDrawerRectangle(h);i&&(d=d.times(i)),o&&(d=d.translate(o)),this._setClip(d,n),p=!0}if(t._croppingPolygons){var f=this;p||this._saveContext(n);try{var g=t._croppingPolygons.map((function(e){return e.map((function(e){var r=t.imageToViewportCoordinates(e.x,e.y,!0).rotate(-t.getRotation(!0),t._getRotationPoint(!0)),n=f.viewportCoordToDrawerCoord(r);return i&&(n=n.times(i)),o&&(n=n.plus(o)),n}))}));this._clipWithPolygons(g,n)}catch(w){e.console.error(w)}p=!0}if(t._hasOpaqueTile=!1,t.placeholderFillStyle&&!1===t._hasOpaqueTile){let e=this.viewportToDrawerRectangle(t.getBoundsNoRotate(!0));i&&(e=e.times(i)),o&&(e=e.translate(o));let r=null;r="function"===typeof t.placeholderFillStyle?t.placeholderFillStyle(t,this.context):t.placeholderFillStyle,this._drawRectangle(e,r,n)}var m=l(t.subPixelRoundingForTransparency),v=!1;if(m===e.SUBPIXEL_ROUNDING_OCCURRENCES.ALWAYS)v=!0;else if(m===e.SUBPIXEL_ROUNDING_OCCURRENCES.ONLY_AT_REST){var y=this.viewer&&this.viewer.isAnimating();v=!y}for(var A=0;A<r.length;A++)a=r[A],this._drawTile(a,t,n,i,o,v,t.source),this.viewer&&this.viewer.raiseEvent("tile-drawn",{tiledImage:t,tile:a});p&&this._restoreContext(n),i||(t.getRotation(!0)%360!==0&&this._restoreRotationChanges(n),this.viewport.getRotation(!0)%360!==0&&this._restoreRotationChanges(n)),n&&(i&&this._setRotations(t),this.blendSketch({opacity:t.opacity,scale:i,translate:o,compositeOperation:t.compositeOperation,bounds:s}),i&&(t.getRotation(!0)%360!==0&&this._restoreRotationChanges(!1),this.viewport.getRotation(!0)%360!==0&&this._restoreRotationChanges(!1))),this._drawDebugInfo(t,r),this._raiseTiledImageDrawnEvent(t,r)}}_drawDebugInfo(t,r){if(t.debugMode)for(var n=r.length-1;n>=0;n--){var i=r[n];try{this._drawDebugInfoOnTile(i,r.length,n,t)}catch(o){e.console.error(o)}}}_clipWithPolygons(e,t){var r=this._getContext(t);r.beginPath();for(const n of e)for(const[e,t]of n.entries())r[0===e?"moveTo":"lineTo"](t.x,t.y);r.clip()}_drawTile(t,r,n,i,o,l,a){e.console.assert(t,"[Drawer._drawTile] tile is required"),e.console.assert(r,"[Drawer._drawTile] drawingHandler is required");var s=this._getContext(n);i=i||1,this._drawTileToCanvas(t,s,r,i,o,l,a)}_drawTileToCanvas(t,r,n,i,o,l,a){var s,c,u,p=t.position.times(e.pixelDensityRatio),h=t.size.times(e.pixelDensityRatio);t.context2D||t.cacheImageRecord?(s=t.getCanvasContext(),t.loaded&&s?(r.save(),"number"===typeof i&&1!==i&&(p=p.times(i),h=h.times(i)),o instanceof e.Point&&(p=p.plus(o)),1===r.globalAlpha&&t.hasTransparency&&(l&&(p.x=Math.round(p.x),p.y=Math.round(p.y),h.x=Math.round(h.x),h.y=Math.round(h.y)),r.clearRect(p.x,p.y,h.x,h.y)),this._raiseTileDrawingEvent(n,r,t,s),t.sourceBounds?(c=Math.min(t.sourceBounds.width,s.canvas.width),u=Math.min(t.sourceBounds.height,s.canvas.height)):(c=s.canvas.width,u=s.canvas.height),r.translate(p.x+h.x/2,0),t.flipped&&r.scale(-1,1),r.drawImage(s.canvas,0,0,c,u,-h.x/2,p.y,h.x,h.y),r.restore()):e.console.warn("Attempting to draw tile %s when it's not yet loaded.",t.toString())):e.console.warn("[Drawer._drawTileToCanvas] attempting to draw tile %s when it's not cached",t.toString())}_getContext(e){var t=this.context;if(e){if(null===this.sketchCanvas){this.sketchCanvas=document.createElement("canvas");var r=this._calculateSketchCanvasSize();if(this.sketchCanvas.width=r.x,this.sketchCanvas.height=r.y,this.sketchContext=this.sketchCanvas.getContext("2d"),0===this.viewport.getRotation()){var n=this;this.viewer.addHandler("rotate",(function e(){if(0!==n.viewport.getRotation()){n.viewer.removeHandler("rotate",e);var t=n._calculateSketchCanvasSize();n.sketchCanvas.width=t.x,n.sketchCanvas.height=t.y}}))}this._updateImageSmoothingEnabled(this.sketchContext)}t=this.sketchContext}return t}_saveContext(e){this._getContext(e).save()}_restoreContext(e){this._getContext(e).restore()}_setClip(e,t){var r=this._getContext(t);r.beginPath(),r.rect(e.x,e.y,e.width,e.height),r.clip()}_drawRectangle(e,t,r){var n=this._getContext(r);n.save(),n.fillStyle=t,n.fillRect(e.x,e.y,e.width,e.height),n.restore()}blendSketch(t,r,n,i){var o=t;e.isPlainObject(o)||(o={opacity:t,scale:r,translate:n,compositeOperation:i}),t=o.opacity,i=o.compositeOperation;var l=o.bounds;if(this.context.save(),this.context.globalAlpha=t,i&&(this.context.globalCompositeOperation=i),l)l.x<0&&(l.width+=l.x,l.x=0),l.x+l.width>this.canvas.width&&(l.width=this.canvas.width-l.x),l.y<0&&(l.height+=l.y,l.y=0),l.y+l.height>this.canvas.height&&(l.height=this.canvas.height-l.y),this.context.drawImage(this.sketchCanvas,l.x,l.y,l.width,l.height,l.x,l.y,l.width,l.height);else{r=o.scale||1,n=o.translate;var a=n instanceof e.Point?n:new e.Point(0,0),s=0,c=0;if(n){var u=this.sketchCanvas.width-this.canvas.width,p=this.sketchCanvas.height-this.canvas.height;s=Math.round(u/2),c=Math.round(p/2)}this.context.drawImage(this.sketchCanvas,a.x-s*r,a.y-c*r,(this.canvas.width+2*s)*r,(this.canvas.height+2*c)*r,-s,-c,this.canvas.width+2*s,this.canvas.height+2*c)}this.context.restore()}_drawDebugInfoOnTile(t,r,n,i){var o=this.viewer.world.getIndexOfItem(i)%this.debugGridColor.length,l=this.context;l.save(),l.lineWidth=2*e.pixelDensityRatio,l.font="small-caps bold "+13*e.pixelDensityRatio+"px arial",l.strokeStyle=this.debugGridColor[o],l.fillStyle=this.debugGridColor[o],this._setRotations(i),this._viewportFlipped&&this._flip({point:t.position.plus(t.size.divide(2))}),l.strokeRect(t.position.x*e.pixelDensityRatio,t.position.y*e.pixelDensityRatio,t.size.x*e.pixelDensityRatio,t.size.y*e.pixelDensityRatio);var a=(t.position.x+t.size.x/2)*e.pixelDensityRatio,s=(t.position.y+t.size.y/2)*e.pixelDensityRatio;l.translate(a,s);const c=this.viewport.getRotation(!0);l.rotate(Math.PI/180*-c),l.translate(-a,-s),0===t.x&&0===t.y&&(l.fillText("Zoom: "+this.viewport.getZoom(),t.position.x*e.pixelDensityRatio,(t.position.y-30)*e.pixelDensityRatio),l.fillText("Pan: "+this.viewport.getBounds().toString(),t.position.x*e.pixelDensityRatio,(t.position.y-20)*e.pixelDensityRatio)),l.fillText("Level: "+t.level,(t.position.x+10)*e.pixelDensityRatio,(t.position.y+20)*e.pixelDensityRatio),l.fillText("Column: "+t.x,(t.position.x+10)*e.pixelDensityRatio,(t.position.y+30)*e.pixelDensityRatio),l.fillText("Row: "+t.y,(t.position.x+10)*e.pixelDensityRatio,(t.position.y+40)*e.pixelDensityRatio),l.fillText("Order: "+n+" of "+r,(t.position.x+10)*e.pixelDensityRatio,(t.position.y+50)*e.pixelDensityRatio),l.fillText("Size: "+t.size.toString(),(t.position.x+10)*e.pixelDensityRatio,(t.position.y+60)*e.pixelDensityRatio),l.fillText("Position: "+t.position.toString(),(t.position.x+10)*e.pixelDensityRatio,(t.position.y+70)*e.pixelDensityRatio),this.viewport.getRotation(!0)%360!==0&&this._restoreRotationChanges(),i.getRotation(!0)%360!==0&&this._restoreRotationChanges(),l.restore()}_updateImageSmoothingEnabled(e){e.msImageSmoothingEnabled=this._imageSmoothingEnabled,e.imageSmoothingEnabled=this._imageSmoothingEnabled}_getCanvasSize(t){var r=this._getContext(t).canvas;return new e.Point(r.width,r.height)}_getCanvasCenter(){return new e.Point(this.canvas.width/2,this.canvas.height/2)}_setRotations(e,t=!1){var r=!1;this.viewport.getRotation(!0)%360!==0&&(this._offsetForRotation({degrees:this.viewport.getRotation(!0),useSketch:t,saveContext:r}),r=!1),e.getRotation(!0)%360!==0&&this._offsetForRotation({degrees:e.getRotation(!0),point:this.viewport.pixelFromPointNoRotate(e._getRotationPoint(!0),!0),useSketch:t,saveContext:r})}_offsetForRotation(t){var r=t.point?t.point.times(e.pixelDensityRatio):this._getCanvasCenter(),n=this._getContext(t.useSketch);n.save(),n.translate(r.x,r.y),n.rotate(Math.PI/180*t.degrees),n.translate(-r.x,-r.y)}_flip(t){t=t||{};var r=t.point?t.point.times(e.pixelDensityRatio):this._getCanvasCenter(),n=this._getContext(t.useSketch);n.translate(r.x,0),n.scale(-1,1),n.translate(-r.x,0)}_restoreRotationChanges(e){var t=this._getContext(e);t.restore()}_calculateCanvasSize(){var t=e.pixelDensityRatio,r=this.viewport.getContainerSize();return{x:Math.round(r.x*t),y:Math.round(r.y*t)}}_calculateSketchCanvasSize(){var e=this._calculateCanvasSize();if(0===this.viewport.getRotation())return e;var t=Math.ceil(Math.sqrt(e.x*e.x+e.y*e.y));return{x:t,y:t}}}e.CanvasDrawer=r;var n=e.SUBPIXEL_ROUNDING_OCCURRENCES.NEVER;function i(t){return t!==e.SUBPIXEL_ROUNDING_OCCURRENCES.ALWAYS&&t!==e.SUBPIXEL_ROUNDING_OCCURRENCES.ONLY_AT_REST&&t!==e.SUBPIXEL_ROUNDING_OCCURRENCES.NEVER}function o(e){return i(e)?n:e}function l(t){if("number"===typeof t)return o(t);if(!t||!e.Browser)return n;var r=t[e.Browser.vendor];return i(r)&&(r=t["*"]),o(r)}}(l),function(e){const t=e;t.WebGLDrawer=class extends t.DrawerBase{constructor(e){super(e),this._destroyed=!1,this._TextureMap=new Map,this._TileMap=new Map,this._gl=null,this._firstPass=null,this._secondPass=null,this._glFrameBuffer=null,this._renderToTexture=null,this._glFramebufferToCanvasTransform=null,this._outputCanvas=null,this._outputContext=null,this._clippingCanvas=null,this._clippingContext=null,this._renderingCanvas=null,this._backupCanvasDrawer=null,this._boundToTileReady=e=>this._tileReadyHandler(e),this._boundToImageUnloaded=e=>this._imageUnloadedHandler(e),this.viewer.addHandler("tile-ready",this._boundToTileReady),this.viewer.addHandler("image-unloaded",this._boundToImageUnloaded),this.viewer.rejectEventHandler("tile-drawn","The WebGLDrawer does not raise the tile-drawn event"),this.viewer.rejectEventHandler("tile-drawing","The WebGLDrawer does not raise the tile-drawing event"),this._setupCanvases(),this._setupRenderer(),this.context=this._outputContext}destroy(){if(this._destroyed)return;let e=this._gl;var t=e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS);for(let i=0;i<t;++i)e.activeTexture(e.TEXTURE0+i),e.bindTexture(e.TEXTURE_2D,null),e.bindTexture(e.TEXTURE_CUBE_MAP,null);e.bindBuffer(e.ARRAY_BUFFER,null),e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,null),e.bindRenderbuffer(e.RENDERBUFFER,null),e.bindFramebuffer(e.FRAMEBUFFER,null);let r=Array.from(this._TextureMap.keys());r.forEach((e=>{this._cleanupImageData(e)})),e.deleteBuffer(this._secondPass.bufferOutputPosition),e.deleteFramebuffer(this._glFrameBuffer),this._renderingCanvas.width=this._renderingCanvas.height=1,this._clippingCanvas.width=this._clippingCanvas.height=1,this._outputCanvas.width=this._outputCanvas.height=1,this._renderingCanvas=null,this._clippingCanvas=this._clippingContext=null,this._outputCanvas=this._outputContext=null;let n=e.getExtension("WEBGL_lose_context");n&&n.loseContext(),this.viewer.removeHandler("tile-ready",this._boundToTileReady),this.viewer.removeHandler("image-unloaded",this._boundToImageUnloaded),this._gl=null,this._backupCanvasDrawer&&(this._backupCanvasDrawer.destroy(),this._backupCanvasDrawer=null),this.container.removeChild(this.canvas),this.viewer.drawer===this&&(this.viewer.drawer=null),this._destroyed=!0}canRotate(){return!0}static isSupported(){let t=document.createElement("canvas"),r=e.isFunction(t.getContext)&&t.getContext("webgl"),n=r&&r.getExtension("WEBGL_lose_context");return n&&n.loseContext(),!!r}getType(){return"webgl"}minimumOverlapRequired(e){return e.isTainted()}_createDrawingElement(){let t=e.makeNeutralElement("canvas"),r=this._calculateCanvasSize();return t.width=r.x,t.height=r.y,t}_getBackupCanvasDrawer(){return this._backupCanvasDrawer||(this._backupCanvasDrawer=this.viewer.requestDrawer("canvas",{mainDrawer:!1}),this._backupCanvasDrawer.canvas.style.setProperty("visibility","hidden")),this._backupCanvasDrawer}draw(t){let r=this._gl,n={bounds:this.viewport.getBoundsNoRotate(!0),center:this.viewport.getCenter(!0),rotation:this.viewport.getRotation(!0)*Math.PI/180},i=this.viewport.flipped?-1:1,o=e.Mat3.makeTranslation(-n.center.x,-n.center.y),l=e.Mat3.makeScaling(2/n.bounds.width*i,-2/n.bounds.height),a=e.Mat3.makeRotation(-n.rotation),s=l.multiply(a).multiply(o);r.bindFramebuffer(r.FRAMEBUFFER,null),r.clear(r.COLOR_BUFFER_BIT),this._outputContext.clearRect(0,0,this._outputCanvas.width,this._outputCanvas.height);let c=!1;t.forEach(((t,n)=>{if(t.isTainted()){c&&(this._outputContext.drawImage(this._renderingCanvas,0,0),r.bindFramebuffer(r.FRAMEBUFFER,null),r.clear(r.COLOR_BUFFER_BIT),c=!1);const e=this._getBackupCanvasDrawer();e.draw([t]),this._outputContext.drawImage(e.canvas,0,0)}else{let i=t.getTilesToDraw();if(t.placeholderFillStyle&&!1===t._hasOpaqueTile&&this._drawPlaceholder(t),0===i.length||0===t.getOpacity())return;let o=i[0],l=t.compositeOperation||this.viewer.compositeOperation||t._clip||t._croppingPolygons||t.debugMode,a=l||t.opacity<1||o.hasTransparency;l&&(c&&this._outputContext.drawImage(this._renderingCanvas,0,0),r.bindFramebuffer(r.FRAMEBUFFER,null),r.clear(r.COLOR_BUFFER_BIT)),r.useProgram(this._firstPass.shaderProgram),a?(r.bindFramebuffer(r.FRAMEBUFFER,this._glFrameBuffer),r.clear(r.COLOR_BUFFER_BIT)):r.bindFramebuffer(r.FRAMEBUFFER,null);let u=s,p=t.getRotation(!0);if(p%360!==0){let r=e.Mat3.makeRotation(-p*Math.PI/180),n=t.getBoundsNoRotate(!0).getCenter(),i=e.Mat3.makeTranslation(n.x,n.y),o=e.Mat3.makeTranslation(-n.x,-n.y),l=i.multiply(r).multiply(o);u=s.multiply(l)}let h=this._gl.getParameter(this._gl.MAX_TEXTURE_IMAGE_UNITS);if(h<=0)throw new Error(`WegGL error: bad value for gl parameter MAX_TEXTURE_IMAGE_UNITS (${h}). This could happen\n                        if too many contexts have been created and not released, or there is another problem with the graphics card.`);let d=new Float32Array(12*h),f=new Array(h),g=new Array(h),m=new Array(h);for(let e=0;e<i.length;e++){let n=i[e].tile,o=e%h,l=o+1,a=n.getCanvasContext(),s=a?this._TextureMap.get(a.canvas):null;if(s||(this._tileReadyHandler({tile:n,tiledImage:t}),s=a?this._TextureMap.get(a.canvas):null),s&&this._getTileData(n,t,s,u,o,d,f,g,m),l===h||e===i.length-1){for(let e=0;e<=l;e++)r.activeTexture(r.TEXTURE0+e),r.bindTexture(r.TEXTURE_2D,f[e]);r.bindBuffer(r.ARRAY_BUFFER,this._firstPass.bufferTexturePosition),r.bufferData(r.ARRAY_BUFFER,d,r.DYNAMIC_DRAW),g.forEach(((e,t)=>{r.uniformMatrix3fv(this._firstPass.uTransformMatrices[t],!1,e)})),r.uniform1fv(this._firstPass.uOpacities,new Float32Array(m)),r.bindBuffer(r.ARRAY_BUFFER,this._firstPass.bufferOutputPosition),r.vertexAttribPointer(this._firstPass.aOutputPosition,2,r.FLOAT,!1,0,0),r.bindBuffer(r.ARRAY_BUFFER,this._firstPass.bufferTexturePosition),r.vertexAttribPointer(this._firstPass.aTexturePosition,2,r.FLOAT,!1,0,0),r.bindBuffer(r.ARRAY_BUFFER,this._firstPass.bufferIndex),r.vertexAttribPointer(this._firstPass.aIndex,1,r.FLOAT,!1,0,0),r.drawArrays(r.TRIANGLES,0,6*l)}}a&&(r.useProgram(this._secondPass.shaderProgram),r.bindFramebuffer(r.FRAMEBUFFER,null),r.activeTexture(r.TEXTURE0),r.bindTexture(r.TEXTURE_2D,this._renderToTexture),this._gl.uniform1f(this._secondPass.uOpacityMultiplier,t.opacity),r.bindBuffer(r.ARRAY_BUFFER,this._secondPass.bufferTexturePosition),r.vertexAttribPointer(this._secondPass.aTexturePosition,2,r.FLOAT,!1,0,0),r.bindBuffer(r.ARRAY_BUFFER,this._secondPass.bufferOutputPosition),r.vertexAttribPointer(this._firstPass.aOutputPosition,2,r.FLOAT,!1,0,0),r.drawArrays(r.TRIANGLES,0,6)),c=!0,l&&(this._applyContext2dPipeline(t,i,n),c=!1,r.bindFramebuffer(r.FRAMEBUFFER,null),r.clear(r.COLOR_BUFFER_BIT)),0===n&&this._raiseTiledImageDrawnEvent(t,i.map((e=>e.tile)))}})),c&&this._outputContext.drawImage(this._renderingCanvas,0,0)}setImageSmoothingEnabled(e){}drawDebuggingRect(t){let r=this._outputContext;r.save(),r.lineWidth=2*e.pixelDensityRatio,r.strokeStyle=this.debugGridColor[0],r.fillStyle=this.debugGridColor[0],r.strokeRect(t.x*e.pixelDensityRatio,t.y*e.pixelDensityRatio,t.width*e.pixelDensityRatio,t.height*e.pixelDensityRatio),r.restore()}_getTextureDataFromTile(e){return e.getCanvasContext().canvas}_applyContext2dPipeline(e,t,r){if(this._outputContext.save(),this._outputContext.globalCompositeOperation=0===r?null:e.compositeOperation||this.viewer.compositeOperation,e._croppingPolygons||e._clip?(this._renderToClippingCanvas(e),this._outputContext.drawImage(this._clippingCanvas,0,0)):this._outputContext.drawImage(this._renderingCanvas,0,0),this._outputContext.restore(),e.debugMode){const r=this.viewer.viewport.getFlip();r&&this._flip(),this._drawDebugInfo(t,e,r),r&&this._flip()}}_getTileData(t,r,n,i,o,l,a,s,c){let u=n.texture,p=n.position;l.set(p,12*o);let h=this._calculateOverlapFraction(t,r),d=t.positionedBounds.width*h.x,f=t.positionedBounds.height*h.y,g=t.positionedBounds.x+(0===t.x?0:d),m=t.positionedBounds.y+(0===t.y?0:f),v=t.positionedBounds.x+t.positionedBounds.width-(t.isRightMost?0:d),y=t.positionedBounds.y+t.positionedBounds.height-(t.isBottomMost?0:f),A=v-g,w=y-m,_=new e.Mat3([A,0,0,0,w,0,g,m,1]);if(t.flipped){let t=e.Mat3.makeTranslation(.5,0),r=e.Mat3.makeTranslation(-.5,0),n=t.multiply(e.Mat3.makeScaling(-1,1)).multiply(r);_=_.multiply(n)}let T=i.multiply(_);c[o]=t.opacity,a[o]=u,s[o]=T.values}_setupRenderer(){let t=this._gl;t||e.console.error("_setupCanvases must be called before _setupRenderer"),this._unitQuad=this._makeQuadVertexBuffer(0,1,0,1),this._makeFirstPassShaderProgram(),this._makeSecondPassShaderProgram(),this._renderToTexture=t.createTexture(),t.activeTexture(t.TEXTURE0),t.bindTexture(t.TEXTURE_2D,this._renderToTexture),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,this._renderingCanvas.width,this._renderingCanvas.height,0,t.RGBA,t.UNSIGNED_BYTE,null),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),this._glFrameBuffer=t.createFramebuffer(),t.bindFramebuffer(t.FRAMEBUFFER,this._glFrameBuffer),t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,this._renderToTexture,0),t.enable(t.BLEND),t.blendFunc(t.ONE,t.ONE_MINUS_SRC_ALPHA)}_makeFirstPassShaderProgram(){let e=this._glNumTextures=this._gl.getParameter(this._gl.MAX_TEXTURE_IMAGE_UNITS),t=()=>[...Array(e).keys()].map((e=>`uniform mat3 u_matrix_${e};`)).join("\n"),r=()=>[...Array(e).keys()].map((e=>`${e>0?"else ":""}if(int(a_index) == ${e}) { transform_matrix = u_matrix_${e}; }`)).join("\n");const n=`\n            attribute vec2 a_output_position;\n            attribute vec2 a_texture_position;\n            attribute float a_index;\n\n            ${t()} // create a uniform mat3 for each potential tile to draw\n\n            varying vec2 v_texture_position;\n            varying float v_image_index;\n\n            void main() {\n\n                mat3 transform_matrix; // value will be set by the if/elses in makeConditional()\n\n                ${r()}\n\n                gl_Position = vec4(transform_matrix * vec3(a_output_position, 1), 1);\n\n                v_texture_position = a_texture_position;\n                v_image_index = a_index;\n            }\n            `,i=`\n            precision mediump float;\n\n            // our textures\n            uniform sampler2D u_images[${e}];\n            // our opacities\n            uniform float u_opacities[${e}];\n\n            // the varyings passed in from the vertex shader.\n            varying vec2 v_texture_position;\n            varying float v_image_index;\n\n            void main() {\n                // can't index directly with a variable, need to use a loop iterator hack\n                for(int i = 0; i < ${e}; ++i){\n                    if(i == int(v_image_index)){\n                        gl_FragColor = texture2D(u_images[i], v_texture_position) * u_opacities[i];\n                    }\n                }\n            }\n            `;let o=this._gl,l=this.constructor.initShaderProgram(o,n,i);o.useProgram(l),this._firstPass={shaderProgram:l,aOutputPosition:o.getAttribLocation(l,"a_output_position"),aTexturePosition:o.getAttribLocation(l,"a_texture_position"),aIndex:o.getAttribLocation(l,"a_index"),uTransformMatrices:[...Array(this._glNumTextures).keys()].map((e=>o.getUniformLocation(l,`u_matrix_${e}`))),uImages:o.getUniformLocation(l,"u_images"),uOpacities:o.getUniformLocation(l,"u_opacities"),bufferOutputPosition:o.createBuffer(),bufferTexturePosition:o.createBuffer(),bufferIndex:o.createBuffer()},o.uniform1iv(this._firstPass.uImages,[...Array(e).keys()]);let a=new Float32Array(12*e);for(let c=0;c<e;++c)a.set(Float32Array.from(this._unitQuad),12*c);o.bindBuffer(o.ARRAY_BUFFER,this._firstPass.bufferOutputPosition),o.bufferData(o.ARRAY_BUFFER,a,o.STATIC_DRAW),o.enableVertexAttribArray(this._firstPass.aOutputPosition),o.bindBuffer(o.ARRAY_BUFFER,this._firstPass.bufferTexturePosition),o.enableVertexAttribArray(this._firstPass.aTexturePosition),o.bindBuffer(o.ARRAY_BUFFER,this._firstPass.bufferIndex);let s=[...Array(this._glNumTextures).keys()].map((e=>Array(6).fill(e))).flat();o.bufferData(o.ARRAY_BUFFER,new Float32Array(s),o.STATIC_DRAW),o.enableVertexAttribArray(this._firstPass.aIndex)}_makeSecondPassShaderProgram(){const t="\n            attribute vec2 a_output_position;\n            attribute vec2 a_texture_position;\n\n            uniform mat3 u_matrix;\n\n            varying vec2 v_texture_position;\n\n            void main() {\n                gl_Position = vec4(u_matrix * vec3(a_output_position, 1), 1);\n\n                v_texture_position = a_texture_position;\n            }\n            ",r="\n            precision mediump float;\n\n            // our texture\n            uniform sampler2D u_image;\n\n            // the texCoords passed in from the vertex shader.\n            varying vec2 v_texture_position;\n\n            // the opacity multiplier for the image\n            uniform float u_opacity_multiplier;\n\n            void main() {\n                gl_FragColor = texture2D(u_image, v_texture_position);\n                gl_FragColor *= u_opacity_multiplier;\n            }\n            ";let n=this._gl,i=this.constructor.initShaderProgram(n,t,r);n.useProgram(i),this._secondPass={shaderProgram:i,aOutputPosition:n.getAttribLocation(i,"a_output_position"),aTexturePosition:n.getAttribLocation(i,"a_texture_position"),uMatrix:n.getUniformLocation(i,"u_matrix"),uImage:n.getUniformLocation(i,"u_image"),uOpacityMultiplier:n.getUniformLocation(i,"u_opacity_multiplier"),bufferOutputPosition:n.createBuffer(),bufferTexturePosition:n.createBuffer()},n.bindBuffer(n.ARRAY_BUFFER,this._secondPass.bufferOutputPosition),n.bufferData(n.ARRAY_BUFFER,this._unitQuad,n.STATIC_DRAW),n.enableVertexAttribArray(this._secondPass.aOutputPosition),n.bindBuffer(n.ARRAY_BUFFER,this._secondPass.bufferTexturePosition),n.bufferData(n.ARRAY_BUFFER,this._unitQuad,n.DYNAMIC_DRAW),n.enableVertexAttribArray(this._secondPass.aTexturePosition);let o=e.Mat3.makeScaling(2,2).multiply(e.Mat3.makeTranslation(-.5,-.5));n.uniformMatrix3fv(this._secondPass.uMatrix,!1,o.values)}_resizeRenderer(){let e=this._gl,t=this._renderingCanvas.width,r=this._renderingCanvas.height;e.viewport(0,0,t,r),e.deleteTexture(this._renderToTexture),this._renderToTexture=e.createTexture(),e.activeTexture(e.TEXTURE0),e.bindTexture(e.TEXTURE_2D,this._renderToTexture),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,t,r,0,e.RGBA,e.UNSIGNED_BYTE,null),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),e.bindFramebuffer(e.FRAMEBUFFER,this._glFrameBuffer),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,this._renderToTexture,0)}_setupCanvases(){let e=this;this._outputCanvas=this.canvas,this._outputContext=this._outputCanvas.getContext("2d"),this._renderingCanvas=document.createElement("canvas"),this._clippingCanvas=document.createElement("canvas"),this._clippingContext=this._clippingCanvas.getContext("2d"),this._renderingCanvas.width=this._clippingCanvas.width=this._outputCanvas.width,this._renderingCanvas.height=this._clippingCanvas.height=this._outputCanvas.height,this._gl=this._renderingCanvas.getContext("webgl"),this.viewer.addHandler("resize",(function(){e._outputCanvas!==e.viewer.drawer.canvas&&(e._outputCanvas.style.width=e.viewer.drawer.canvas.clientWidth+"px",e._outputCanvas.style.height=e.viewer.drawer.canvas.clientHeight+"px");let t=e._calculateCanvasSize();e._outputCanvas.width===t.x&&e._outputCanvas.height===t.y||(e._outputCanvas.width=t.x,e._outputCanvas.height=t.y),e._renderingCanvas.style.width=e._outputCanvas.clientWidth+"px",e._renderingCanvas.style.height=e._outputCanvas.clientHeight+"px",e._renderingCanvas.width=e._clippingCanvas.width=e._outputCanvas.width,e._renderingCanvas.height=e._clippingCanvas.height=e._outputCanvas.height,e._resizeRenderer()}))}_makeQuadVertexBuffer(e,t,r,n){return new Float32Array([e,n,t,n,e,r,e,r,t,n,t,r])}_tileReadyHandler(t){let r=t.tile,n=t.tiledImage;if(n.isTainted())return;let i=r.getCanvasContext(),o=i&&i.canvas;if(!o||e.isCanvasTainted(o)){const t=n.isTainted();return void(t||(n.setTainted(!0),e.console.warn("WebGL cannot be used to draw this TiledImage because it has tainted data. Does crossOriginPolicy need to be set?"),this._raiseDrawerErrorEvent(n,"Tainted data cannot be used by the WebGLDrawer. Falling back to CanvasDrawer for this TiledImage.")))}let l=this._TextureMap.get(o);if(!l){let e,t,l,a=this._gl,s=a.createTexture(),c=n.source.tileOverlap;if(r.sourceBounds?(t=Math.min(r.sourceBounds.width,o.width)/o.width,l=Math.min(r.sourceBounds.height,o.height)/o.height):(t=1,l=1),c>0){let i=this._calculateOverlapFraction(r,n),o=(0===r.x?0:i.x)*t,a=(0===r.y?0:i.y)*l,s=(r.isRightMost?1:1-i.x)*t,c=(r.isBottomMost?1:1-i.y)*l;e=this._makeQuadVertexBuffer(o,s,a,c)}else e=1===t&&1===l?this._unitQuad:this._makeQuadVertexBuffer(0,t,0,l);let u={texture:s,position:e};this._TextureMap.set(o,u),a.activeTexture(a.TEXTURE0),a.bindTexture(a.TEXTURE_2D,s),a.texParameteri(a.TEXTURE_2D,a.TEXTURE_WRAP_S,a.CLAMP_TO_EDGE),a.texParameteri(a.TEXTURE_2D,a.TEXTURE_WRAP_T,a.CLAMP_TO_EDGE),a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MIN_FILTER,a.LINEAR),a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MAG_FILTER,a.LINEAR),this._uploadImageData(i)}}_calculateOverlapFraction(e,t){let r=t.source.tileOverlap,n=e.sourceBounds.width,i=e.sourceBounds.height,o=(0===e.x?0:r)+(e.isRightMost?0:r),l=(0===e.y?0:r)+(e.isBottomMost?0:r),a=r/(n+o),s=r/(i+l);return{x:a,y:s}}_uploadImageData(t){let r=this._gl,n=t.canvas;try{if(!n)throw t;r.texImage2D(r.TEXTURE_2D,0,r.RGBA,r.RGBA,r.UNSIGNED_BYTE,n)}catch(i){e.console.error("Error uploading image data to WebGL",i)}}_imageUnloadedHandler(e){let t=e.context2D.canvas;this._cleanupImageData(t)}_cleanupImageData(e){let t=this._TextureMap.get(e);this._TextureMap.delete(e),t&&this._gl.deleteTexture(t.texture)}_setClip(){}_renderToClippingCanvas(t){if(this._clippingContext.clearRect(0,0,this._clippingCanvas.width,this._clippingCanvas.height),this._clippingContext.save(),this.viewer.viewport.getFlip()){const t=new e.Point(this.canvas.width/2,this.canvas.height/2);this._clippingContext.translate(t.x,0),this._clippingContext.scale(-1,1),this._clippingContext.translate(-t.x,0)}if(t._clip){const e=[{x:t._clip.x,y:t._clip.y},{x:t._clip.x+t._clip.width,y:t._clip.y},{x:t._clip.x+t._clip.width,y:t._clip.y+t._clip.height},{x:t._clip.x,y:t._clip.y+t._clip.height}];let r=e.map((e=>{let r=t.imageToViewportCoordinates(e.x,e.y,!0).rotate(this.viewer.viewport.getRotation(!0),this.viewer.viewport.getCenter(!0)),n=this.viewportCoordToDrawerCoord(r);return n}));this._clippingContext.beginPath(),r.forEach(((e,t)=>{this._clippingContext[0===t?"moveTo":"lineTo"](e.x,e.y)})),this._clippingContext.clip(),this._setClip()}if(t._croppingPolygons){let e=t._croppingPolygons.map((e=>e.map((e=>{let r=t.imageToViewportCoordinates(e.x,e.y,!0).rotate(this.viewer.viewport.getRotation(!0),this.viewer.viewport.getCenter(!0)),n=this.viewportCoordToDrawerCoord(r);return n}))));this._clippingContext.beginPath(),e.forEach((e=>{e.forEach(((e,t)=>{this._clippingContext[0===t?"moveTo":"lineTo"](e.x,e.y)}))})),this._clippingContext.clip()}if(this.viewer.viewport.getFlip()){const t=new e.Point(this.canvas.width/2,this.canvas.height/2);this._clippingContext.translate(t.x,0),this._clippingContext.scale(-1,1),this._clippingContext.translate(-t.x,0)}this._clippingContext.drawImage(this._renderingCanvas,0,0),this._clippingContext.restore()}_setRotations(e){var t=!1;this.viewport.getRotation(!0)%360!==0&&(this._offsetForRotation({degrees:this.viewport.getRotation(!0),saveContext:t}),t=!1),e.getRotation(!0)%360!==0&&this._offsetForRotation({degrees:e.getRotation(!0),point:this.viewport.pixelFromPointNoRotate(e._getRotationPoint(!0),!0),saveContext:t})}_offsetForRotation(t){var r=t.point?t.point.times(e.pixelDensityRatio):this._getCanvasCenter(),n=this._outputContext;n.save(),n.translate(r.x,r.y),n.rotate(Math.PI/180*t.degrees),n.translate(-r.x,-r.y)}_flip(t){t=t||{};var r=t.point?t.point.times(e.pixelDensityRatio):this._getCanvasCenter(),n=this._outputContext;n.translate(r.x,0),n.scale(-1,1),n.translate(-r.x,0)}_drawDebugInfo(t,r,n){for(var i=t.length-1;i>=0;i--){var o=t[i].tile;try{this._drawDebugInfoOnTile(o,t.length,i,r,n)}catch(l){e.console.error(l)}}}_drawDebugInfoOnTile(t,r,n,i,o){var l=this.viewer.world.getIndexOfItem(i)%this.debugGridColor.length,a=this.context;a.save(),a.lineWidth=2*e.pixelDensityRatio,a.font="small-caps bold "+13*e.pixelDensityRatio+"px arial",a.strokeStyle=this.debugGridColor[l],a.fillStyle=this.debugGridColor[l],this._setRotations(i),o&&this._flip({point:t.position.plus(t.size.divide(2))}),a.strokeRect(t.position.x*e.pixelDensityRatio,t.position.y*e.pixelDensityRatio,t.size.x*e.pixelDensityRatio,t.size.y*e.pixelDensityRatio);var s=(t.position.x+t.size.x/2)*e.pixelDensityRatio,c=(t.position.y+t.size.y/2)*e.pixelDensityRatio;a.translate(s,c);const u=this.viewport.getRotation(!0);a.rotate(Math.PI/180*-u),a.translate(-s,-c),0===t.x&&0===t.y&&(a.fillText("Zoom: "+this.viewport.getZoom(),t.position.x*e.pixelDensityRatio,(t.position.y-30)*e.pixelDensityRatio),a.fillText("Pan: "+this.viewport.getBounds().toString(),t.position.x*e.pixelDensityRatio,(t.position.y-20)*e.pixelDensityRatio)),a.fillText("Level: "+t.level,(t.position.x+10)*e.pixelDensityRatio,(t.position.y+20)*e.pixelDensityRatio),a.fillText("Column: "+t.x,(t.position.x+10)*e.pixelDensityRatio,(t.position.y+30)*e.pixelDensityRatio),a.fillText("Row: "+t.y,(t.position.x+10)*e.pixelDensityRatio,(t.position.y+40)*e.pixelDensityRatio),a.fillText("Order: "+n+" of "+r,(t.position.x+10)*e.pixelDensityRatio,(t.position.y+50)*e.pixelDensityRatio),a.fillText("Size: "+t.size.toString(),(t.position.x+10)*e.pixelDensityRatio,(t.position.y+60)*e.pixelDensityRatio),a.fillText("Position: "+t.position.toString(),(t.position.x+10)*e.pixelDensityRatio,(t.position.y+70)*e.pixelDensityRatio),this.viewport.getRotation(!0)%360!==0&&this._restoreRotationChanges(),i.getRotation(!0)%360!==0&&this._restoreRotationChanges(),a.restore()}_drawPlaceholder(e){const t=e.getBounds(!0),r=this.viewportToDrawerRectangle(e.getBounds(!0)),n=this._outputContext;let i;i="function"===typeof e.placeholderFillStyle?e.placeholderFillStyle(e,n):e.placeholderFillStyle,this._offsetForRotation({degrees:this.viewer.viewport.getRotation(!0)}),n.fillStyle=i,n.translate(r.x,r.y),n.rotate(Math.PI/180*t.degrees),n.translate(-r.x,-r.y),n.fillRect(r.x,r.y,r.width,r.height),this._restoreRotationChanges()}_getCanvasCenter(){return new e.Point(this.canvas.width/2,this.canvas.height/2)}_restoreRotationChanges(){var e=this._outputContext;e.restore()}static initShaderProgram(t,r,n){function i(t,r,n){const i=t.createShader(r);return t.shaderSource(i,n),t.compileShader(i),t.getShaderParameter(i,t.COMPILE_STATUS)?i:(e.console.error(`An error occurred compiling the shaders: ${t.getShaderInfoLog(i)}`),t.deleteShader(i),null)}const o=i(t,t.VERTEX_SHADER,r),l=i(t,t.FRAGMENT_SHADER,n),a=t.createProgram();return t.attachShader(a,o),t.attachShader(a,l),t.linkProgram(a),t.getProgramParameter(a,t.LINK_STATUS)?a:(e.console.error(`Unable to initialize the shader program: ${t.getProgramInfoLog(a)}`),null)}}}(l),function(e){e.Viewport=function(t){var r=arguments;r.length&&r[0]instanceof e.Point&&(t={containerSize:r[0],contentSize:r[1],config:r[2]}),t.config&&(e.extend(!0,t,t.config),delete t.config),this._margins=e.extend({left:0,top:0,right:0,bottom:0},t.margins||{}),delete t.margins,t.initialDegrees=t.degrees,delete t.degrees,e.extend(!0,this,{containerSize:null,contentSize:null,zoomPoint:null,rotationPivot:null,viewer:null,springStiffness:e.DEFAULT_SETTINGS.springStiffness,animationTime:e.DEFAULT_SETTINGS.animationTime,minZoomImageRatio:e.DEFAULT_SETTINGS.minZoomImageRatio,maxZoomPixelRatio:e.DEFAULT_SETTINGS.maxZoomPixelRatio,visibilityRatio:e.DEFAULT_SETTINGS.visibilityRatio,wrapHorizontal:e.DEFAULT_SETTINGS.wrapHorizontal,wrapVertical:e.DEFAULT_SETTINGS.wrapVertical,defaultZoomLevel:e.DEFAULT_SETTINGS.defaultZoomLevel,minZoomLevel:e.DEFAULT_SETTINGS.minZoomLevel,maxZoomLevel:e.DEFAULT_SETTINGS.maxZoomLevel,initialDegrees:e.DEFAULT_SETTINGS.degrees,flipped:e.DEFAULT_SETTINGS.flipped,homeFillsViewer:e.DEFAULT_SETTINGS.homeFillsViewer,silenceMultiImageWarnings:e.DEFAULT_SETTINGS.silenceMultiImageWarnings},t),this._updateContainerInnerSize(),this.centerSpringX=new e.Spring({initial:0,springStiffness:this.springStiffness,animationTime:this.animationTime}),this.centerSpringY=new e.Spring({initial:0,springStiffness:this.springStiffness,animationTime:this.animationTime}),this.zoomSpring=new e.Spring({exponential:!0,initial:1,springStiffness:this.springStiffness,animationTime:this.animationTime}),this.degreesSpring=new e.Spring({initial:t.initialDegrees,springStiffness:this.springStiffness,animationTime:this.animationTime}),this._oldCenterX=this.centerSpringX.current.value,this._oldCenterY=this.centerSpringY.current.value,this._oldZoom=this.zoomSpring.current.value,this._oldDegrees=this.degreesSpring.current.value,this._setContentBounds(new e.Rect(0,0,1,1),1),this.goHome(!0),this.update()},e.Viewport.prototype={get degrees(){return e.console.warn("Accessing [Viewport.degrees] is deprecated. Use viewport.getRotation instead."),this.getRotation()},set degrees(t){e.console.warn("Setting [Viewport.degrees] is deprecated. Use viewport.rotateTo, viewport.rotateBy, or viewport.setRotation instead."),this.rotateTo(t)},resetContentSize:function(t){return e.console.assert(t,"[Viewport.resetContentSize] contentSize is required"),e.console.assert(t instanceof e.Point,"[Viewport.resetContentSize] contentSize must be an OpenSeadragon.Point"),e.console.assert(t.x>0,"[Viewport.resetContentSize] contentSize.x must be greater than 0"),e.console.assert(t.y>0,"[Viewport.resetContentSize] contentSize.y must be greater than 0"),this._setContentBounds(new e.Rect(0,0,1,t.y/t.x),t.x),this},setHomeBounds:function(t,r){e.console.error("[Viewport.setHomeBounds] this function is deprecated; The content bounds should not be set manually."),this._setContentBounds(t,r)},_setContentBounds:function(t,r){e.console.assert(t,"[Viewport._setContentBounds] bounds is required"),e.console.assert(t instanceof e.Rect,"[Viewport._setContentBounds] bounds must be an OpenSeadragon.Rect"),e.console.assert(t.width>0,"[Viewport._setContentBounds] bounds.width must be greater than 0"),e.console.assert(t.height>0,"[Viewport._setContentBounds] bounds.height must be greater than 0"),this._contentBoundsNoRotate=t.clone(),this._contentSizeNoRotate=this._contentBoundsNoRotate.getSize().times(r),this._contentBounds=t.rotate(this.getRotation()).getBoundingBox(),this._contentSize=this._contentBounds.getSize().times(r),this._contentAspectRatio=this._contentSize.x/this._contentSize.y,this.viewer&&this.viewer.raiseEvent("reset-size",{contentSize:this._contentSizeNoRotate.clone(),contentFactor:r,homeBounds:this._contentBoundsNoRotate.clone(),contentBounds:this._contentBounds.clone()})},getHomeZoom:function(){if(this.defaultZoomLevel)return this.defaultZoomLevel;var e,t=this._contentAspectRatio/this.getAspectRatio();return e=this.homeFillsViewer?t>=1?t:1:t>=1?1:t,e/this._contentBounds.width},getHomeBounds:function(){return this.getHomeBoundsNoRotate().rotate(-this.getRotation())},getHomeBoundsNoRotate:function(){var t=this._contentBounds.getCenter(),r=1/this.getHomeZoom(),n=r/this.getAspectRatio();return new e.Rect(t.x-r/2,t.y-n/2,r,n)},goHome:function(e){return this.viewer&&this.viewer.raiseEvent("home",{immediately:e}),this.fitBounds(this.getHomeBounds(),e)},getMinZoom:function(){var e=this.getHomeZoom(),t=this.minZoomLevel?this.minZoomLevel:this.minZoomImageRatio*e;return t},getMaxZoom:function(){var e=this.maxZoomLevel;return e||(e=this._contentSize.x*this.maxZoomPixelRatio/this._containerInnerSize.x,e/=this._contentBounds.width),Math.max(e,this.getHomeZoom())},getAspectRatio:function(){return this._containerInnerSize.x/this._containerInnerSize.y},getContainerSize:function(){return new e.Point(this.containerSize.x,this.containerSize.y)},getMargins:function(){return e.extend({},this._margins)},setMargins:function(t){e.console.assert("object"===e.type(t),"[Viewport.setMargins] margins must be an object"),this._margins=e.extend({left:0,top:0,right:0,bottom:0},t),this._updateContainerInnerSize(),this.viewer&&this.viewer.forceRedraw()},getBounds:function(e){return this.getBoundsNoRotate(e).rotate(-this.getRotation(e))},getBoundsNoRotate:function(t){var r=this.getCenter(t),n=1/this.getZoom(t),i=n/this.getAspectRatio();return new e.Rect(r.x-n/2,r.y-i/2,n,i)},getBoundsWithMargins:function(e){return this.getBoundsNoRotateWithMargins(e).rotate(-this.getRotation(e),this.getCenter(e))},getBoundsNoRotateWithMargins:function(e){var t=this.getBoundsNoRotate(e),r=this._containerInnerSize.x*this.getZoom(e);return t.x-=this._margins.left/r,t.y-=this._margins.top/r,t.width+=(this._margins.left+this._margins.right)/r,t.height+=(this._margins.top+this._margins.bottom)/r,t},getCenter:function(t){var r,n,i,o,l,a,s,c,u=new e.Point(this.centerSpringX.current.value,this.centerSpringY.current.value),p=new e.Point(this.centerSpringX.target.value,this.centerSpringY.target.value);return t?u:this.zoomPoint?(r=this.pixelFromPoint(this.zoomPoint,!0),n=this.getZoom(),i=1/n,o=i/this.getAspectRatio(),l=new e.Rect(u.x-i/2,u.y-o/2,i,o),a=this._pixelFromPoint(this.zoomPoint,l),s=a.minus(r).rotate(-this.getRotation(!0)),c=s.divide(this._containerInnerSize.x*n),p.plus(c)):p},getZoom:function(e){return e?this.zoomSpring.current.value:this.zoomSpring.target.value},_applyZoomConstraints:function(e){return Math.max(Math.min(e,this.getMaxZoom()),this.getMinZoom())},_applyBoundaryConstraints:function(e){var t=this.viewportToViewerElementRectangle(e).getBoundingBox(),r=this.viewportToViewerElementRectangle(this._contentBoundsNoRotate).getBoundingBox(),n=!1,i=!1;if(this.wrapHorizontal);else{var o,l,a,s=t.x+t.width,c=r.x+r.width;o=t.width>r.width?this.visibilityRatio*r.width:this.visibilityRatio*t.width,l=r.x-s+o,a=c-t.x-o,o>r.width?(t.x+=(l+a)/2,n=!0):a<0?(t.x+=a,n=!0):l>0&&(t.x+=l,n=!0)}if(this.wrapVertical);else{var u,p,h,d=t.y+t.height,f=r.y+r.height;u=t.height>r.height?this.visibilityRatio*r.height:this.visibilityRatio*t.height,p=r.y-d+u,h=f-t.y-u,u>r.height?(t.y+=(p+h)/2,i=!0):h<0?(t.y+=h,i=!0):p>0&&(t.y+=p,i=!0)}var g=n||i,m=g?this.viewerElementToViewportRectangle(t):e.clone();return m.xConstrained=n,m.yConstrained=i,m.constraintApplied=g,m},_raiseConstraintsEvent:function(e){this.viewer&&this.viewer.raiseEvent("constrain",{immediately:e})},applyConstraints:function(e){var t=this.getZoom(),r=this._applyZoomConstraints(t);t!==r&&this.zoomTo(r,this.zoomPoint,e);var n=this.getConstrainedBounds(!1);return n.constraintApplied&&(this.fitBounds(n,e),this._raiseConstraintsEvent(e)),this},ensureVisible:function(e){return this.applyConstraints(e)},_fitBounds:function(t,r){r=r||{};var n=r.immediately||!1,i=r.constraints||!1,o=this.getAspectRatio(),l=t.getCenter(),a=new e.Rect(t.x,t.y,t.width,t.height,t.degrees+this.getRotation()).getBoundingBox();a.getAspectRatio()>=o?a.height=a.width/o:a.width=a.height*o,a.x=l.x-a.width/2,a.y=l.y-a.height/2;var s=1/a.width;if(n)return this.panTo(l,!0),this.zoomTo(s,null,!0),i&&this.applyConstraints(!0),this;var c=this.getCenter(!0),u=this.getZoom(!0);this.panTo(c,!0),this.zoomTo(u,null,!0);var p=this.getBounds(),h=this.getZoom();if(0===h||Math.abs(s/h-1)<1e-8)return this.zoomTo(s,null,!0),this.panTo(l,n),i&&this.applyConstraints(!1),this;if(i){this.panTo(l,!1),s=this._applyZoomConstraints(s),this.zoomTo(s,null,!1);var d=this.getConstrainedBounds();this.panTo(c,!0),this.zoomTo(u,null,!0),this.fitBounds(d)}else{var f=a.rotate(-this.getRotation()),g=f.getTopLeft().times(s).minus(p.getTopLeft().times(h)).divide(s-h);this.zoomTo(s,g,n)}return this},fitBounds:function(e,t){return this._fitBounds(e,{immediately:t,constraints:!1})},fitBoundsWithConstraints:function(e,t){return this._fitBounds(e,{immediately:t,constraints:!0})},fitVertically:function(t){var r=new e.Rect(this._contentBounds.x+this._contentBounds.width/2,this._contentBounds.y,0,this._contentBounds.height);return this.fitBounds(r,t)},fitHorizontally:function(t){var r=new e.Rect(this._contentBounds.x,this._contentBounds.y+this._contentBounds.height/2,this._contentBounds.width,0);return this.fitBounds(r,t)},getConstrainedBounds:function(e){var t,r;return t=this.getBounds(e),r=this._applyBoundaryConstraints(t),r},panBy:function(t,r){var n=new e.Point(this.centerSpringX.target.value,this.centerSpringY.target.value);return this.panTo(n.plus(t),r)},panTo:function(e,t){return t?(this.centerSpringX.resetTo(e.x),this.centerSpringY.resetTo(e.y)):(this.centerSpringX.springTo(e.x),this.centerSpringY.springTo(e.y)),this.viewer&&this.viewer.raiseEvent("pan",{center:e,immediately:t}),this},zoomBy:function(e,t,r){return this.zoomTo(this.zoomSpring.target.value*e,t,r)},zoomTo:function(t,r,n){var i=this;return this.zoomPoint=r instanceof e.Point&&!isNaN(r.x)&&!isNaN(r.y)?r:null,n?this._adjustCenterSpringsForZoomPoint((function(){i.zoomSpring.resetTo(t)})):this.zoomSpring.springTo(t),this.viewer&&this.viewer.raiseEvent("zoom",{zoom:t,refPoint:r,immediately:n}),this},setRotation:function(e,t){return this.rotateTo(e,null,t)},getRotation:function(e){return e?this.degreesSpring.current.value:this.degreesSpring.target.value},setRotationWithPivot:function(e,t,r){return this.rotateTo(e,t,r)},rotateTo:function(t,r,n){if(!this.viewer||!this.viewer.drawer.canRotate())return this;if(this.degreesSpring.target.value===t&&this.degreesSpring.isAtTargetValue())return this;if(this.rotationPivot=r instanceof e.Point&&!isNaN(r.x)&&!isNaN(r.y)?r:null,n)if(this.rotationPivot){var i=t-this._oldDegrees;if(!i)return this.rotationPivot=null,this;this._rotateAboutPivot(t)}else this.degreesSpring.resetTo(t);else{var o=e.positiveModulo(this.degreesSpring.current.value,360),l=e.positiveModulo(t,360),a=l-o;a>180?l-=360:a<-180&&(l+=360);var s=o-l;this.degreesSpring.resetTo(t+s),this.degreesSpring.springTo(t)}return this._setContentBounds(this.viewer.world.getHomeBounds(),this.viewer.world.getContentFactor()),this.viewer.forceRedraw(),this.viewer.raiseEvent("rotate",{degrees:t,immediately:!!n,pivot:this.rotationPivot||this.getCenter()}),this},rotateBy:function(e,t,r){return this.rotateTo(this.degreesSpring.target.value+e,t,r)},resize:function(e,t){var r,n=this.getBoundsNoRotate(),i=n;this.containerSize.x=e.x,this.containerSize.y=e.y,this._updateContainerInnerSize(),t&&(r=e.x/this.containerSize.x,i.width=n.width*r,i.height=i.width/this.getAspectRatio()),this.viewer&&this.viewer.raiseEvent("resize",{newContainerSize:e,maintain:t});var o=this.fitBounds(i,!0);return this.viewer&&this.viewer.raiseEvent("after-resize",{newContainerSize:e,maintain:t}),o},_updateContainerInnerSize:function(){this._containerInnerSize=new e.Point(Math.max(1,this.containerSize.x-(this._margins.left+this._margins.right)),Math.max(1,this.containerSize.y-(this._margins.top+this._margins.bottom)))},update:function(){var e=this;this._adjustCenterSpringsForZoomPoint((function(){e.zoomSpring.update()})),this.degreesSpring.isAtTargetValue()&&(this.rotationPivot=null),this.centerSpringX.update(),this.centerSpringY.update(),this.rotationPivot?this._rotateAboutPivot(!0):this.degreesSpring.update();var t=this.centerSpringX.current.value!==this._oldCenterX||this.centerSpringY.current.value!==this._oldCenterY||this.zoomSpring.current.value!==this._oldZoom||this.degreesSpring.current.value!==this._oldDegrees;this._oldCenterX=this.centerSpringX.current.value,this._oldCenterY=this.centerSpringY.current.value,this._oldZoom=this.zoomSpring.current.value,this._oldDegrees=this.degreesSpring.current.value;var r=t||!this.zoomSpring.isAtTargetValue()||!this.centerSpringX.isAtTargetValue()||!this.centerSpringY.isAtTargetValue()||!this.degreesSpring.isAtTargetValue();return r},_rotateAboutPivot:function(e){var t=!0===e,r=this.rotationPivot.minus(this.getCenter());this.centerSpringX.shiftBy(r.x),this.centerSpringY.shiftBy(r.y),t?this.degreesSpring.update():this.degreesSpring.resetTo(e);var n=this.degreesSpring.current.value-this._oldDegrees,i=r.rotate(-1*n).times(-1);this.centerSpringX.shiftBy(i.x),this.centerSpringY.shiftBy(i.y)},_adjustCenterSpringsForZoomPoint:function(e){if(this.zoomPoint){var t=this.pixelFromPoint(this.zoomPoint,!0);e();var r=this.pixelFromPoint(this.zoomPoint,!0),n=r.minus(t),i=this.deltaPointsFromPixels(n,!0);this.centerSpringX.shiftBy(i.x),this.centerSpringY.shiftBy(i.y),this.zoomSpring.isAtTargetValue()&&(this.zoomPoint=null)}else e()},deltaPixelsFromPointsNoRotate:function(e,t){return e.times(this._containerInnerSize.x*this.getZoom(t))},deltaPixelsFromPoints:function(e,t){return this.deltaPixelsFromPointsNoRotate(e.rotate(this.getRotation(t)),t)},deltaPointsFromPixelsNoRotate:function(e,t){return e.divide(this._containerInnerSize.x*this.getZoom(t))},deltaPointsFromPixels:function(e,t){return this.deltaPointsFromPixelsNoRotate(e,t).rotate(-this.getRotation(t))},pixelFromPointNoRotate:function(e,t){return this._pixelFromPointNoRotate(e,this.getBoundsNoRotate(t))},pixelFromPoint:function(e,t){return this._pixelFromPoint(e,this.getBoundsNoRotate(t))},_pixelFromPointNoRotate:function(t,r){return t.minus(r.getTopLeft()).times(this._containerInnerSize.x/r.width).plus(new e.Point(this._margins.left,this._margins.top))},_pixelFromPoint:function(e,t){return this._pixelFromPointNoRotate(e.rotate(this.getRotation(!0),this.getCenter(!0)),t)},pointFromPixelNoRotate:function(t,r){var n=this.getBoundsNoRotate(r);return t.minus(new e.Point(this._margins.left,this._margins.top)).divide(this._containerInnerSize.x/n.width).plus(n.getTopLeft())},pointFromPixel:function(e,t){return this.pointFromPixelNoRotate(e,t).rotate(-this.getRotation(t),this.getCenter(t))},_viewportToImageDelta:function(t,r){var n=this._contentBoundsNoRotate.width;return new e.Point(t*this._contentSizeNoRotate.x/n,r*this._contentSizeNoRotate.x/n)},viewportToImageCoordinates:function(t,r){if(t instanceof e.Point)return this.viewportToImageCoordinates(t.x,t.y);if(this.viewer){var n=this.viewer.world.getItemCount();if(n>1)this.silenceMultiImageWarnings||e.console.error("[Viewport.viewportToImageCoordinates] is not accurate with multi-image; use TiledImage.viewportToImageCoordinates instead.");else if(1===n){var i=this.viewer.world.getItemAt(0);return i.viewportToImageCoordinates(t,r,!0)}}return this._viewportToImageDelta(t-this._contentBoundsNoRotate.x,r-this._contentBoundsNoRotate.y)},_imageToViewportDelta:function(t,r){var n=this._contentBoundsNoRotate.width;return new e.Point(t/this._contentSizeNoRotate.x*n,r/this._contentSizeNoRotate.x*n)},imageToViewportCoordinates:function(t,r){if(t instanceof e.Point)return this.imageToViewportCoordinates(t.x,t.y);if(this.viewer){var n=this.viewer.world.getItemCount();if(n>1)this.silenceMultiImageWarnings||e.console.error("[Viewport.imageToViewportCoordinates] is not accurate with multi-image; use TiledImage.imageToViewportCoordinates instead.");else if(1===n){var i=this.viewer.world.getItemAt(0);return i.imageToViewportCoordinates(t,r,!0)}}var o=this._imageToViewportDelta(t,r);return o.x+=this._contentBoundsNoRotate.x,o.y+=this._contentBoundsNoRotate.y,o},imageToViewportRectangle:function(t,r,n,i){var o=t;if(o instanceof e.Rect||(o=new e.Rect(t,r,n,i)),this.viewer){var l=this.viewer.world.getItemCount();if(l>1)this.silenceMultiImageWarnings||e.console.error("[Viewport.imageToViewportRectangle] is not accurate with multi-image; use TiledImage.imageToViewportRectangle instead.");else if(1===l){var a=this.viewer.world.getItemAt(0);return a.imageToViewportRectangle(t,r,n,i,!0)}}var s=this.imageToViewportCoordinates(o.x,o.y),c=this._imageToViewportDelta(o.width,o.height);return new e.Rect(s.x,s.y,c.x,c.y,o.degrees)},viewportToImageRectangle:function(t,r,n,i){var o=t;if(o instanceof e.Rect||(o=new e.Rect(t,r,n,i)),this.viewer){var l=this.viewer.world.getItemCount();if(l>1)this.silenceMultiImageWarnings||e.console.error("[Viewport.viewportToImageRectangle] is not accurate with multi-image; use TiledImage.viewportToImageRectangle instead.");else if(1===l){var a=this.viewer.world.getItemAt(0);return a.viewportToImageRectangle(t,r,n,i,!0)}}var s=this.viewportToImageCoordinates(o.x,o.y),c=this._viewportToImageDelta(o.width,o.height);return new e.Rect(s.x,s.y,c.x,c.y,o.degrees)},viewerElementToImageCoordinates:function(e){var t=this.pointFromPixel(e,!0);return this.viewportToImageCoordinates(t)},imageToViewerElementCoordinates:function(e){var t=this.imageToViewportCoordinates(e);return this.pixelFromPoint(t,!0)},windowToImageCoordinates:function(t){e.console.assert(this.viewer,"[Viewport.windowToImageCoordinates] the viewport must have a viewer.");var r=t.minus(e.getElementPosition(this.viewer.element));return this.viewerElementToImageCoordinates(r)},imageToWindowCoordinates:function(t){e.console.assert(this.viewer,"[Viewport.imageToWindowCoordinates] the viewport must have a viewer.");var r=this.imageToViewerElementCoordinates(t);return r.plus(e.getElementPosition(this.viewer.element))},viewerElementToViewportCoordinates:function(e){return this.pointFromPixel(e,!0)},viewportToViewerElementCoordinates:function(e){return this.pixelFromPoint(e,!0)},viewerElementToViewportRectangle:function(t){return e.Rect.fromSummits(this.pointFromPixel(t.getTopLeft(),!0),this.pointFromPixel(t.getTopRight(),!0),this.pointFromPixel(t.getBottomLeft(),!0))},viewportToViewerElementRectangle:function(t){return e.Rect.fromSummits(this.pixelFromPoint(t.getTopLeft(),!0),this.pixelFromPoint(t.getTopRight(),!0),this.pixelFromPoint(t.getBottomLeft(),!0))},windowToViewportCoordinates:function(t){e.console.assert(this.viewer,"[Viewport.windowToViewportCoordinates] the viewport must have a viewer.");var r=t.minus(e.getElementPosition(this.viewer.element));return this.viewerElementToViewportCoordinates(r)},viewportToWindowCoordinates:function(t){e.console.assert(this.viewer,"[Viewport.viewportToWindowCoordinates] the viewport must have a viewer.");var r=this.viewportToViewerElementCoordinates(t);return r.plus(e.getElementPosition(this.viewer.element))},viewportToImageZoom:function(t){if(this.viewer){var r=this.viewer.world.getItemCount();if(r>1)this.silenceMultiImageWarnings||e.console.error("[Viewport.viewportToImageZoom] is not accurate with multi-image.");else if(1===r){var n=this.viewer.world.getItemAt(0);return n.viewportToImageZoom(t)}}var i=this._contentSizeNoRotate.x,o=this._containerInnerSize.x,l=this._contentBoundsNoRotate.width,a=o/i*l;return t*a},imageToViewportZoom:function(t){if(this.viewer){var r=this.viewer.world.getItemCount();if(r>1)this.silenceMultiImageWarnings||e.console.error("[Viewport.imageToViewportZoom] is not accurate with multi-image. Instead, use [TiledImage.imageToViewportZoom] for the specific image of interest");else if(1===r){var n=this.viewer.world.getItemAt(0);return n.imageToViewportZoom(t)}}var i=this._contentSizeNoRotate.x,o=this._containerInnerSize.x,l=this._contentBoundsNoRotate.width,a=i/o/l;return t*a},toggleFlip:function(){return this.setFlip(!this.getFlip()),this},getFlip:function(){return this.flipped},setFlip:function(e){return this.flipped===e||(this.flipped=e,this.viewer.navigator&&this.viewer.navigator.setFlip(this.getFlip()),this.viewer.forceRedraw(),this.viewer.raiseEvent("flip",{flipped:e})),this},getMaxZoomPixelRatio:function(){return this.maxZoomPixelRatio},setMaxZoomPixelRatio:function(t,r=!0,n=!1){e.console.assert(!isNaN(t),"[Viewport.setMaxZoomPixelRatio] ratio must be a number"),isNaN(t)||(this.maxZoomPixelRatio=t,r&&this.getZoom()>this.getMaxZoom()&&this.applyConstraints(n))}}}(l),function(e){e.TiledImage=function(t){this._initialized=!1,e.console.assert(t.tileCache,"[TiledImage] options.tileCache is required"),e.console.assert(t.drawer,"[TiledImage] options.drawer is required"),e.console.assert(t.viewer,"[TiledImage] options.viewer is required"),e.console.assert(t.imageLoader,"[TiledImage] options.imageLoader is required"),e.console.assert(t.source,"[TiledImage] options.source is required"),e.console.assert(!t.clip||t.clip instanceof e.Rect,"[TiledImage] options.clip must be an OpenSeadragon.Rect if present"),e.EventSource.call(this),this._tileCache=t.tileCache,delete t.tileCache,this._drawer=t.drawer,delete t.drawer,this._imageLoader=t.imageLoader,delete t.imageLoader,t.clip instanceof e.Rect&&(this._clip=t.clip.clone()),delete t.clip;var r=t.x||0;delete t.x;var n=t.y||0;delete t.y,this.normHeight=t.source.dimensions.y/t.source.dimensions.x,this.contentAspectX=t.source.dimensions.x/t.source.dimensions.y;var i=1;t.width?(i=t.width,delete t.width,t.height&&(e.console.error("specifying both width and height to a tiledImage is not supported"),delete t.height)):t.height&&(i=t.height/this.normHeight,delete t.height);var o=t.fitBounds;delete t.fitBounds;var a=t.fitBoundsPlacement||l.Placement.CENTER;delete t.fitBoundsPlacement;var s=t.degrees||0;delete t.degrees;var c=t.ajaxHeaders;delete t.ajaxHeaders,e.extend(!0,this,{viewer:null,tilesMatrix:{},coverage:{},loadingCoverage:{},lastDrawn:[],lastResetTime:0,_needsDraw:!0,_needsUpdate:!0,_hasOpaqueTile:!1,_tilesLoading:0,_tilesToDraw:[],_lastDrawn:[],_isBlending:!1,_wasBlending:!1,_isTainted:!1,springStiffness:e.DEFAULT_SETTINGS.springStiffness,animationTime:e.DEFAULT_SETTINGS.animationTime,minZoomImageRatio:e.DEFAULT_SETTINGS.minZoomImageRatio,wrapHorizontal:e.DEFAULT_SETTINGS.wrapHorizontal,wrapVertical:e.DEFAULT_SETTINGS.wrapVertical,immediateRender:e.DEFAULT_SETTINGS.immediateRender,blendTime:e.DEFAULT_SETTINGS.blendTime,alwaysBlend:e.DEFAULT_SETTINGS.alwaysBlend,minPixelRatio:e.DEFAULT_SETTINGS.minPixelRatio,smoothTileEdgesMinZoom:e.DEFAULT_SETTINGS.smoothTileEdgesMinZoom,iOSDevice:e.DEFAULT_SETTINGS.iOSDevice,debugMode:e.DEFAULT_SETTINGS.debugMode,crossOriginPolicy:e.DEFAULT_SETTINGS.crossOriginPolicy,ajaxWithCredentials:e.DEFAULT_SETTINGS.ajaxWithCredentials,placeholderFillStyle:e.DEFAULT_SETTINGS.placeholderFillStyle,opacity:e.DEFAULT_SETTINGS.opacity,preload:e.DEFAULT_SETTINGS.preload,compositeOperation:e.DEFAULT_SETTINGS.compositeOperation,subPixelRoundingForTransparency:e.DEFAULT_SETTINGS.subPixelRoundingForTransparency,maxTilesPerFrame:e.DEFAULT_SETTINGS.maxTilesPerFrame},t),this._preload=this.preload,delete this.preload,this._fullyLoaded=!1,this._xSpring=new e.Spring({initial:r,springStiffness:this.springStiffness,animationTime:this.animationTime}),this._ySpring=new e.Spring({initial:n,springStiffness:this.springStiffness,animationTime:this.animationTime}),this._scaleSpring=new e.Spring({initial:i,springStiffness:this.springStiffness,animationTime:this.animationTime}),this._degreesSpring=new e.Spring({initial:s,springStiffness:this.springStiffness,animationTime:this.animationTime}),this._updateForScale(),o&&this.fitBounds(o,a,!0),this._ownAjaxHeaders={},this.setAjaxHeaders(c,!1),this._initialized=!0},e.extend(e.TiledImage.prototype,e.EventSource.prototype,{needsDraw:function(){return this._needsDraw},redraw:function(){this._needsDraw=!0},getFullyLoaded:function(){return this._fullyLoaded},_setFullyLoaded:function(e){e!==this._fullyLoaded&&(this._fullyLoaded=e,this.raiseEvent("fully-loaded-change",{fullyLoaded:this._fullyLoaded}))},reset:function(){this._tileCache.clearTilesFor(this),this.lastResetTime=e.now(),this._needsDraw=!0},update:function(e){let t=this._xSpring.update(),r=this._ySpring.update(),n=this._scaleSpring.update(),i=this._degreesSpring.update(),o=t||r||n||i||this._needsUpdate;if(o||e||!this._fullyLoaded){let e=this._updateLevelsForViewport();this._setFullyLoaded(e)}return this._needsUpdate=!1,!!o&&(this._updateForScale(),this._raiseBoundsChange(),this._needsDraw=!0,!0)},setDrawn:function(){return this._needsDraw=this._isBlending||this._wasBlending,this._needsDraw},setTainted(e){this._isTainted=e},isTainted(){return this._isTainted},destroy:function(){this.reset(),this.source.destroy&&this.source.destroy(this.viewer)},getBounds:function(e){return this.getBoundsNoRotate(e).rotate(this.getRotation(e),this._getRotationPoint(e))},getBoundsNoRotate:function(t){return t?new e.Rect(this._xSpring.current.value,this._ySpring.current.value,this._worldWidthCurrent,this._worldHeightCurrent):new e.Rect(this._xSpring.target.value,this._ySpring.target.value,this._worldWidthTarget,this._worldHeightTarget)},getWorldBounds:function(){return e.console.error("[TiledImage.getWorldBounds] is deprecated; use TiledImage.getBounds instead"),this.getBounds()},getClippedBounds:function(t){var r=this.getBoundsNoRotate(t);if(this._clip){var n=t?this._worldWidthCurrent:this._worldWidthTarget,i=n/this.source.dimensions.x,o=this._clip.times(i);r=new e.Rect(r.x+o.x,r.y+o.y,o.width,o.height)}return r.rotate(this.getRotation(t),this._getRotationPoint(t))},getTileBounds:function(e,t,r){var n=this.source.getNumTiles(e),i=(n.x+t%n.x)%n.x,o=(n.y+r%n.y)%n.y,l=this.source.getTileBounds(e,i,o);return this.getFlip()&&(l.x=Math.max(0,1-l.x-l.width)),l.x+=(t-i)/n.x,l.y+=this._worldHeightCurrent/this._worldWidthCurrent*((r-o)/n.y),l},getContentSize:function(){return new e.Point(this.source.dimensions.x,this.source.dimensions.y)},getSizeInWindowCoordinates:function(){var t=this.imageToWindowCoordinates(new e.Point(0,0)),r=this.imageToWindowCoordinates(this.getContentSize());return new e.Point(r.x-t.x,r.y-t.y)},_viewportToImageDelta:function(t,r,n){var i=n?this._scaleSpring.current.value:this._scaleSpring.target.value;return new e.Point(t*(this.source.dimensions.x/i),r*(this.source.dimensions.y*this.contentAspectX/i))},viewportToImageCoordinates:function(t,r,n){var i;return t instanceof e.Point?(n=r,i=t):i=new e.Point(t,r),i=i.rotate(-this.getRotation(n),this._getRotationPoint(n)),n?this._viewportToImageDelta(i.x-this._xSpring.current.value,i.y-this._ySpring.current.value):this._viewportToImageDelta(i.x-this._xSpring.target.value,i.y-this._ySpring.target.value)},_imageToViewportDelta:function(t,r,n){var i=n?this._scaleSpring.current.value:this._scaleSpring.target.value;return new e.Point(t/this.source.dimensions.x*i,r/this.source.dimensions.y/this.contentAspectX*i)},imageToViewportCoordinates:function(t,r,n){t instanceof e.Point&&(n=r,r=t.y,t=t.x);var i=this._imageToViewportDelta(t,r,n);return n?(i.x+=this._xSpring.current.value,i.y+=this._ySpring.current.value):(i.x+=this._xSpring.target.value,i.y+=this._ySpring.target.value),i.rotate(this.getRotation(n),this._getRotationPoint(n))},imageToViewportRectangle:function(t,r,n,i,o){var l=t;l instanceof e.Rect?o=r:l=new e.Rect(t,r,n,i);var a=this.imageToViewportCoordinates(l.getTopLeft(),o),s=this._imageToViewportDelta(l.width,l.height,o);return new e.Rect(a.x,a.y,s.x,s.y,l.degrees+this.getRotation(o))},viewportToImageRectangle:function(t,r,n,i,o){var l=t;t instanceof e.Rect?o=r:l=new e.Rect(t,r,n,i);var a=this.viewportToImageCoordinates(l.getTopLeft(),o),s=this._viewportToImageDelta(l.width,l.height,o);return new e.Rect(a.x,a.y,s.x,s.y,l.degrees-this.getRotation(o))},viewerElementToImageCoordinates:function(e){var t=this.viewport.pointFromPixel(e,!0);return this.viewportToImageCoordinates(t)},imageToViewerElementCoordinates:function(e){var t=this.imageToViewportCoordinates(e);return this.viewport.pixelFromPoint(t,!0)},windowToImageCoordinates:function(e){var t=e.minus(l.getElementPosition(this.viewer.element));return this.viewerElementToImageCoordinates(t)},imageToWindowCoordinates:function(e){var t=this.imageToViewerElementCoordinates(e);return t.plus(l.getElementPosition(this.viewer.element))},_viewportToTiledImageRectangle:function(t){var r=this._scaleSpring.current.value;return t=t.rotate(-this.getRotation(!0),this._getRotationPoint(!0)),new e.Rect((t.x-this._xSpring.current.value)/r,(t.y-this._ySpring.current.value)/r,t.width/r,t.height/r,t.degrees)},viewportToImageZoom:function(e){var t=this._scaleSpring.current.value*this.viewport._containerInnerSize.x/this.source.dimensions.x;return t*e},imageToViewportZoom:function(e){var t=this._scaleSpring.current.value*this.viewport._containerInnerSize.x/this.source.dimensions.x;return e/t},setPosition:function(e,t){var r=this._xSpring.target.value===e.x&&this._ySpring.target.value===e.y;if(t){if(r&&this._xSpring.current.value===e.x&&this._ySpring.current.value===e.y)return;this._xSpring.resetTo(e.x),this._ySpring.resetTo(e.y),this._needsDraw=!0,this._needsUpdate=!0}else{if(r)return;this._xSpring.springTo(e.x),this._ySpring.springTo(e.y),this._needsDraw=!0,this._needsUpdate=!0}r||this._raiseBoundsChange()},setWidth:function(e,t){this._setScale(e,t)},setHeight:function(e,t){this._setScale(e/this.normHeight,t)},setCroppingPolygons:function(t){var r=function(t){return t instanceof e.Point||"number"===typeof t.x&&"number"===typeof t.y},n=function(e){return e.map((function(e){try{if(r(e))return{x:e.x,y:e.y};throw new Error}catch(t){throw new Error("A Provided cropping polygon point is not supported")}}))};try{if(!e.isArray(t))throw new Error("Provided cropping polygon is not an array");this._croppingPolygons=t.map((function(e){return n(e)})),this._needsDraw=!0}catch(i){e.console.error("[TiledImage.setCroppingPolygons] Cropping polygon format not supported"),e.console.error(i),this.resetCroppingPolygons()}},resetCroppingPolygons:function(){this._croppingPolygons=null,this._needsDraw=!0},fitBounds:function(t,r,n){r=r||e.Placement.CENTER;var i=e.Placement.properties[r],o=this.contentAspectX,l=0,a=0,s=1,c=1;if(this._clip&&(o=this._clip.getAspectRatio(),s=this._clip.width/this.source.dimensions.x,c=this._clip.height/this.source.dimensions.y,t.getAspectRatio()>o?(l=this._clip.x/this._clip.height*t.height,a=this._clip.y/this._clip.height*t.height):(l=this._clip.x/this._clip.width*t.width,a=this._clip.y/this._clip.width*t.width)),t.getAspectRatio()>o){var u=t.height/c,p=0;i.isHorizontallyCentered?p=(t.width-t.height*o)/2:i.isRight&&(p=t.width-t.height*o),this.setPosition(new e.Point(t.x-l+p,t.y-a),n),this.setHeight(u,n)}else{var h=t.width/s,d=0;i.isVerticallyCentered?d=(t.height-t.width/o)/2:i.isBottom&&(d=t.height-t.width/o),this.setPosition(new e.Point(t.x-l,t.y-a+d),n),this.setWidth(h,n)}},getClip:function(){return this._clip?this._clip.clone():null},setClip:function(t){e.console.assert(!t||t instanceof e.Rect,"[TiledImage.setClip] newClip must be an OpenSeadragon.Rect or null"),t instanceof e.Rect?this._clip=t.clone():this._clip=null,this._needsDraw=!0,this.raiseEvent("clip-change")},getFlip:function(){return this.flipped},setFlip:function(e){this.flipped=e},get flipped(){return this._flipped},set flipped(e){let t=this._flipped!==!!e;this._flipped=!!e,t&&(this.update(!0),this._needsDraw=!0,this._raiseBoundsChange())},get wrapHorizontal(){return this._wrapHorizontal},set wrapHorizontal(e){let t=this._wrapHorizontal!==!!e;this._wrapHorizontal=!!e,this._initialized&&t&&(this.update(!0),this._needsDraw=!0)},get wrapVertical(){return this._wrapVertical},set wrapVertical(e){let t=this._wrapVertical!==!!e;this._wrapVertical=!!e,this._initialized&&t&&(this.update(!0),this._needsDraw=!0)},get debugMode(){return this._debugMode},set debugMode(e){this._debugMode=!!e,this._needsDraw=!0},getOpacity:function(){return this.opacity},setOpacity:function(e){this.opacity=e},get opacity(){return this._opacity},set opacity(e){e!==this.opacity&&(this._opacity=e,this._needsDraw=!0,this.raiseEvent("opacity-change",{opacity:this.opacity}))},getPreload:function(){return this._preload},setPreload:function(e){this._preload=!!e,this._needsDraw=!0},getRotation:function(e){return e?this._degreesSpring.current.value:this._degreesSpring.target.value},setRotation:function(e,t){this._degreesSpring.target.value===e&&this._degreesSpring.isAtTargetValue()||(t?this._degreesSpring.resetTo(e):this._degreesSpring.springTo(e),this._needsDraw=!0,this._needsUpdate=!0,this._raiseBoundsChange())},getDrawArea:function(){if(0===this._opacity&&!this._preload)return!1;var e=this._viewportToTiledImageRectangle(this.viewport.getBoundsWithMargins(!0));if(!this.wrapHorizontal&&!this.wrapVertical){var t=this._viewportToTiledImageRectangle(this.getClippedBounds(!0));e=e.intersection(t)}return e},getTilesToDraw:function(){let e=this._tilesToDraw.flat();return this._updateTilesInViewport(e),e=this._tilesToDraw.flat(),e.forEach((e=>{e.tile.beingDrawn=!0})),this._lastDrawn=e,e},_getRotationPoint:function(e){return this.getBoundsNoRotate(e).getCenter()},get compositeOperation(){return this._compositeOperation},set compositeOperation(e){e!==this._compositeOperation&&(this._compositeOperation=e,this._needsDraw=!0,this.raiseEvent("composite-operation-change",{compositeOperation:this._compositeOperation}))},getCompositeOperation:function(){return this._compositeOperation},setCompositeOperation:function(e){this.compositeOperation=e},setAjaxHeaders:function(t,r){null===t&&(t={}),e.isPlainObject(t)?(this._ownAjaxHeaders=t,this._updateAjaxHeaders(r)):console.error("[TiledImage.setAjaxHeaders] Ignoring invalid headers, must be a plain object")},_updateAjaxHeaders:function(t){if(void 0===t&&(t=!0),e.isPlainObject(this.viewer.ajaxHeaders)?this.ajaxHeaders=e.extend({},this.viewer.ajaxHeaders,this._ownAjaxHeaders):this.ajaxHeaders=this._ownAjaxHeaders,t){var r,n,i,o;for(var l in this.tilesMatrix)for(var a in r=this.source.getNumTiles(l),this.tilesMatrix[l])for(var s in n=(r.x+a%r.x)%r.x,this.tilesMatrix[l][a])if(i=(r.y+s%r.y)%r.y,o=this.tilesMatrix[l][a][s],o.loadWithAjax=this.loadTilesWithAjax,o.loadWithAjax){var c=this.source.getTileAjaxHeaders(l,n,i);o.ajaxHeaders=e.extend({},this.ajaxHeaders,c)}else o.ajaxHeaders=null;for(var u=0;u<this._imageLoader.jobQueue.length;u++){var p=this._imageLoader.jobQueue[u];p.loadWithAjax=p.tile.loadWithAjax,p.ajaxHeaders=p.tile.loadWithAjax?p.tile.ajaxHeaders:null}}},_setScale:function(e,t){var r=this._scaleSpring.target.value===e;if(t){if(r&&this._scaleSpring.current.value===e)return;this._scaleSpring.resetTo(e),this._updateForScale(),this._needsDraw=!0,this._needsUpdate=!0}else{if(r)return;this._scaleSpring.springTo(e),this._updateForScale(),this._needsDraw=!0,this._needsUpdate=!0}r||this._raiseBoundsChange()},_updateForScale:function(){this._worldWidthTarget=this._scaleSpring.target.value,this._worldHeightTarget=this.normHeight*this._scaleSpring.target.value,this._worldWidthCurrent=this._scaleSpring.current.value,this._worldHeightCurrent=this.normHeight*this._scaleSpring.current.value},_raiseBoundsChange:function(){this.raiseEvent("bounds-change")},_isBottomItem:function(){return this.viewer.world.getItemAt(0)===this},_getLevelsInterval:function(){var e=Math.max(this.source.minLevel,Math.floor(Math.log(this.minZoomImageRatio)/Math.log(2))),t=this.viewport.deltaPixelsFromPointsNoRotate(this.source.getPixelRatio(0),!0).x*this._scaleSpring.current.value,r=Math.min(Math.abs(this.source.maxLevel),Math.abs(Math.floor(Math.log(t/this.minPixelRatio)/Math.log(2))));return r=Math.max(r,this.source.minLevel||0),e=Math.min(e,r),{lowestLevel:e,highestLevel:r}},_updateLevelsForViewport:function(){var t=this._getLevelsInterval(),r=t.lowestLevel,n=t.highestLevel,i=[],o=this.getDrawArea(),l=e.now();if(this._lastDrawn.forEach((e=>{e.tile.beingDrawn=!1})),this._tilesToDraw=[],this._tilesLoading=0,this.loadingCoverage={},!o)return this._needsDraw=!1,this._fullyLoaded;var a=new Array(n-r+1);for(let e=0,A=n;A>=r;A--,e++)a[e]=A;for(let e=n+1;e<=this.source.maxLevel;e++){var s=this.tilesMatrix[e]&&this.tilesMatrix[e][0]&&this.tilesMatrix[e][0][0];if(s&&s.isBottomMost&&s.isRightMost&&s.loaded){a.push(e);break}}let c=!1;for(let e=0;e<a.length;e++){let t=a[e];var u=this.viewport.deltaPixelsFromPointsNoRotate(this.source.getPixelRatio(t),!0).x*this._scaleSpring.current.value;if(e===a.length-1||u>=this.minPixelRatio)c=!0;else if(!c)continue;var p=this.viewport.deltaPixelsFromPointsNoRotate(this.source.getPixelRatio(t),!1).x*this._scaleSpring.current.value,h=this.viewport.deltaPixelsFromPointsNoRotate(this.source.getPixelRatio(Math.max(this.source.getClosestLevel(),0)),!1).x*this._scaleSpring.current.value,d=this.immediateRender?1:h,f=Math.min(1,(u-.5)/.5),g=d/Math.abs(d-p),m=this._updateLevel(t,f,g,o,l,i);i=m.bestTiles;var v=m.updatedTiles.filter((e=>e.loaded)),y=function(e,t,r){return function(n){return{tile:n,level:e,levelOpacity:t,currentTime:r}}}(t,f,l);if(this._tilesToDraw[t]=v.map(y),this._providesCoverage(this.coverage,t))break}return i&&i.length>0?(i.forEach((function(e){e&&!e.context2D&&this._loadTile(e,l)}),this),this._needsDraw=!0,!1):0===this._tilesLoading},_updateTilesInViewport:function(t){let r=e.now(),n=this;this._tilesLoading=0,this._wasBlending=this._isBlending,this._isBlending=!1,this.loadingCoverage={};let i=t.length?t[0].level:0,o=this.getDrawArea();if(!o)return;function l(e){let t=e.tile;if(t&&t.loaded){let o=n._blendTile(t,t.x,t.y,e.level,e.levelOpacity,r,i);n._isBlending=n._isBlending||o,n._needsDraw=n._needsDraw||o||n._wasBlending}}let a=0;for(let e=0;e<t.length;e++){let r=t[e];l(r),this._providesCoverage(this.coverage,r.level)&&(a=Math.max(a,r.level))}if(a>0)for(let e in this._tilesToDraw)e<a&&delete this._tilesToDraw[e]},_blendTile:function(e,t,r,n,i,o,l){let a,s,c=1e3*this.blendTime;return e.blendStart||(e.blendStart=o),a=o-e.blendStart,s=c?Math.min(1,a/c):1,n===l&&(s=1,a=c),this.alwaysBlend&&(s*=i),e.opacity=s,1===s&&(this._setCoverage(this.coverage,n,t,r,!0),this._hasOpaqueTile=!0),a<c},_updateLevel:function(e,t,r,n,i,o){var l=n.getBoundingBox().getTopLeft(),a=n.getBoundingBox().getBottomRight();this.viewer&&this.viewer.raiseEvent("update-level",{tiledImage:this,havedrawn:!0,level:e,opacity:t,visibility:r,drawArea:n,topleft:l,bottomright:a,currenttime:i,best:o}),this._resetCoverage(this.coverage,e),this._resetCoverage(this.loadingCoverage,e);var s=this._getCornerTiles(e,l,a),c=s.topLeft,u=s.bottomRight,p=this.source.getNumTiles(e),h=this.viewport.pixelFromPoint(this.viewport.getCenter());this.getFlip()&&(u.x+=1,this.wrapHorizontal||(u.x=Math.min(u.x,p.x-1)));for(var d=Math.max(0,(u.x-c.x)*(u.y-c.y)),f=new Array(d),g=0,m=c.x;m<=u.x;m++)for(var v=c.y;v<=u.y;v++){var y;if(this.getFlip()){var A=(p.x+m%p.x)%p.x;y=m+p.x-A-A-1}else y=m;if(null!==n.intersection(this.getTileBounds(e,y,v))){var w=this._updateTile(y,v,e,r,h,p,i,o);o=w.bestTiles,f[g]=w.tile,g+=1}}return{bestTiles:o,updatedTiles:f}},_positionTile:function(t,r,n,i,o){var l=t.bounds.getTopLeft();l.x*=this._scaleSpring.current.value,l.y*=this._scaleSpring.current.value,l.x+=this._xSpring.current.value,l.y+=this._ySpring.current.value;var a=t.bounds.getSize();a.x*=this._scaleSpring.current.value,a.y*=this._scaleSpring.current.value,t.positionedBounds.x=l.x,t.positionedBounds.y=l.y,t.positionedBounds.width=a.x,t.positionedBounds.height=a.y;var s=n.pixelFromPointNoRotate(l,!0),c=n.pixelFromPointNoRotate(l,!1),u=n.deltaPixelsFromPointsNoRotate(a,!0),p=n.deltaPixelsFromPointsNoRotate(a,!1),h=c.plus(p.divide(2)),d=i.squaredDistanceTo(h);this.viewer.drawer.minimumOverlapRequired(this)&&(r||(u=u.plus(new e.Point(1,1))),t.isRightMost&&this.wrapHorizontal&&(u.x+=.75),t.isBottomMost&&this.wrapVertical&&(u.y+=.75)),t.position=s,t.size=u,t.squaredDistance=d,t.visibility=o},_updateTile:function(e,t,r,n,i,o,l,a){var s=this._getTile(e,t,r,l,o);this.viewer&&this.viewer.raiseEvent("update-tile",{tiledImage:this,tile:s}),this._setCoverage(this.coverage,r,e,t,!1);var c=s.loaded||s.loading||this._isCovered(this.loadingCoverage,r,e,t);if(this._setCoverage(this.loadingCoverage,r,e,t,c),!s.exists)return{bestTiles:a,tile:s};if(s.loaded&&1===s.opacity&&this._setCoverage(this.coverage,r,e,t,!0),this._positionTile(s,this.source.tileOverlap,this.viewport,i,n),!s.loaded)if(s.context2D)this._setTileLoaded(s);else{var u=this._tileCache.getImageRecord(s.cacheKey);u&&this._setTileLoaded(s,u.getData())}return s.loading?this._tilesLoading++:c||(a=this._compareTiles(a,s,this.maxTilesPerFrame)),{bestTiles:a,tile:s}},_getCornerTiles:function(t,r,n){var i,o,l,a;this.wrapHorizontal?(i=e.positiveModulo(r.x,1),o=e.positiveModulo(n.x,1)):(i=Math.max(0,r.x),o=Math.min(1,n.x));var s=1/this.source.aspectRatio;this.wrapVertical?(l=e.positiveModulo(r.y,s),a=e.positiveModulo(n.y,s)):(l=Math.max(0,r.y),a=Math.min(s,n.y));var c=this.source.getTileAtPoint(t,new e.Point(i,l)),u=this.source.getTileAtPoint(t,new e.Point(o,a)),p=this.source.getNumTiles(t);return this.wrapHorizontal&&(c.x+=p.x*Math.floor(r.x),u.x+=p.x*Math.floor(n.x)),this.wrapVertical&&(c.y+=p.y*Math.floor(r.y/s),u.y+=p.y*Math.floor(n.y/s)),{topLeft:c,bottomRight:u}},_getTile:function(t,r,n,i,o){var l,a,s,c,u,p,h,d,f,g,m=this.tilesMatrix,v=this.source;return m[n]||(m[n]={}),m[n][t]||(m[n][t]={}),m[n][t][r]&&!m[n][t][r].flipped===!this.flipped||(l=(o.x+t%o.x)%o.x,a=(o.y+r%o.y)%o.y,s=this.getTileBounds(n,t,r),c=v.getTileBounds(n,l,a,!0),u=v.tileExists(n,l,a),p=v.getTileUrl(n,l,a),h=v.getTilePostData(n,l,a),this.loadTilesWithAjax?(d=v.getTileAjaxHeaders(n,l,a),e.isPlainObject(this.ajaxHeaders)&&(d=e.extend({},this.ajaxHeaders,d))):d=null,f=v.getContext2D?v.getContext2D(n,l,a):void 0,g=new e.Tile(n,t,r,s,u,p,f,this.loadTilesWithAjax,d,c,h,v.getTileHashKey(n,l,a,p,d,h)),this.getFlip()?0===l&&(g.isRightMost=!0):l===o.x-1&&(g.isRightMost=!0),a===o.y-1&&(g.isBottomMost=!0),g.flipped=this.flipped,m[n][t][r]=g),g=m[n][t][r],g.lastTouchTime=i,g},_loadTile:function(e,t){var r=this;e.loading=!0,this._imageLoader.addJob({src:e.getUrl(),tile:e,source:this.source,postData:e.postData,loadWithAjax:e.loadWithAjax,ajaxHeaders:e.ajaxHeaders,crossOriginPolicy:this.crossOriginPolicy,ajaxWithCredentials:this.ajaxWithCredentials,callback:function(n,i,o){r._onTileLoad(e,t,n,i,o)},abort:function(){e.loading=!1}})},_onTileLoad:function(t,r,n,i,o){if(!n)return e.console.error("Tile %s failed to load: %s - error: %s",t,t.getUrl(),i),this.viewer.raiseEvent("tile-load-failed",{tile:t,tiledImage:this,time:r,message:i,tileRequest:o}),t.loading=!1,void(t.exists=!1);if(t.exists=!0,r<this.lastResetTime)return e.console.warn("Ignoring tile %s loaded before reset: %s",t,t.getUrl()),void(t.loading=!1);var l=this,a=function(){var e=l.source,r=e.getClosestLevel();l._setTileLoaded(t,n,r,o)};a()},_setTileLoaded:function(t,r,n,i){var o=0,l=!1,a=this;function s(){return l&&e.console.error("Event 'tile-loaded' argument getCompletionCallback must be called synchronously. Its return value should be called asynchronously."),o++,c}function c(){o--,0===o&&(t.loading=!1,t.loaded=!0,t.hasTransparency=a.source.hasTransparency(t.context2D,t.getUrl(),t.ajaxHeaders,t.postData),t.context2D||a._tileCache.cacheTile({data:r,tile:t,cutoff:n,tiledImage:a}),a.viewer.raiseEvent("tile-ready",{tile:t,tiledImage:a,tileRequest:i}),a._needsDraw=!0)}var u=s();this.viewer.raiseEvent("tile-loaded",{tile:t,tiledImage:this,tileRequest:i,get image(){return e.console.error("[tile-loaded] event 'image' has been deprecated. Use 'data' property instead."),r},data:r,getCompletionCallback:s}),l=!0,u()},_compareTiles:function(e,t,r){return e?(e.push(t),this._sortTiles(e),e.length>r&&e.pop(),e):[t]},_sortTiles:function(e){e.sort((function(e,t){return null===e?1:null===t?-1:e.visibility===t.visibility?e.squaredDistance-t.squaredDistance:t.visibility-e.visibility}))},_providesCoverage:function(e,t,r,n){var i,o,l,a;if(!e[t])return!1;if(void 0===r||void 0===n){for(l in i=e[t],i)if(Object.prototype.hasOwnProperty.call(i,l))for(a in o=i[l],o)if(Object.prototype.hasOwnProperty.call(o,a)&&!o[a])return!1;return!0}return void 0===e[t][r]||void 0===e[t][r][n]||!0===e[t][r][n]},_isCovered:function(e,t,r,n){return void 0===r||void 0===n?this._providesCoverage(e,t+1):this._providesCoverage(e,t+1,2*r,2*n)&&this._providesCoverage(e,t+1,2*r,2*n+1)&&this._providesCoverage(e,t+1,2*r+1,2*n)&&this._providesCoverage(e,t+1,2*r+1,2*n+1)},_setCoverage:function(t,r,n,i,o){t[r]?(t[r][n]||(t[r][n]={}),t[r][n][i]=o):e.console.warn("Setting coverage for a tile before its level's coverage has been reset: %s",r)},_resetCoverage:function(e,t){e[t]={}}})}(l),function(e){var t=function(t){e.console.assert(t,"[TileCache.cacheTile] options is required"),e.console.assert(t.tile,"[TileCache.cacheTile] options.tile is required"),e.console.assert(t.tiledImage,"[TileCache.cacheTile] options.tiledImage is required"),this.tile=t.tile,this.tiledImage=t.tiledImage},r=function(t){e.console.assert(t,"[ImageRecord] options is required"),e.console.assert(t.data,"[ImageRecord] options.data is required"),this._tiles=[],t.create.apply(null,[this,t.data,t.ownerTile]),this._destroyImplementation=t.destroy.bind(null,this),this.getImage=t.getImage.bind(null,this),this.getData=t.getData.bind(null,this),this.getRenderedContext=t.getRenderedContext.bind(null,this)};r.prototype={destroy:function(){this._destroyImplementation(),this._tiles=null},addTile:function(t){e.console.assert(t,"[ImageRecord.addTile] tile is required"),this._tiles.push(t)},removeTile:function(t){for(var r=0;r<this._tiles.length;r++)if(this._tiles[r]===t)return void this._tiles.splice(r,1);e.console.warn("[ImageRecord.removeTile] trying to remove unknown tile",t)},getTileCount:function(){return this._tiles.length}},e.TileCache=function(t){t=t||{},this._maxImageCacheCount=t.maxImageCacheCount||e.DEFAULT_SETTINGS.maxImageCacheCount,this._tilesLoaded=[],this._imagesLoaded=[],this._imagesLoadedCount=0},e.TileCache.prototype={numTilesLoaded:function(){return this._tilesLoaded.length},cacheTile:function(n){e.console.assert(n,"[TileCache.cacheTile] options is required"),e.console.assert(n.tile,"[TileCache.cacheTile] options.tile is required"),e.console.assert(n.tile.cacheKey,"[TileCache.cacheTile] options.tile.cacheKey is required"),e.console.assert(n.tiledImage,"[TileCache.cacheTile] options.tiledImage is required");var i=n.cutoff||0,o=this._tilesLoaded.length,l=this._imagesLoaded[n.tile.cacheKey];if(l||(n.data||(e.console.error("[TileCache.cacheTile] options.image was renamed to options.data. '.image' attribute has been deprecated and will be removed in the future."),n.data=n.image),e.console.assert(n.data,"[TileCache.cacheTile] options.data is required to create an ImageRecord"),l=this._imagesLoaded[n.tile.cacheKey]=new r({data:n.data,ownerTile:n.tile,create:n.tiledImage.source.createTileCache,destroy:n.tiledImage.source.destroyTileCache,getImage:n.tiledImage.source.getTileCacheDataAsImage,getData:n.tiledImage.source.getTileCacheData,getRenderedContext:n.tiledImage.source.getTileCacheDataAsContext2D}),this._imagesLoadedCount++),l.addTile(n.tile),n.tile.cacheImageRecord=l,this._imagesLoadedCount>this._maxImageCacheCount){for(var a,s,c,u,p,h,d=null,f=-1,g=null,m=this._tilesLoaded.length-1;m>=0;m--)h=this._tilesLoaded[m],a=h.tile,a.level<=i||a.beingDrawn||(d?(u=a.lastTouchTime,s=d.lastTouchTime,p=a.level,c=d.level,(u<s||u===s&&p>c)&&(d=a,f=m,g=h)):(d=a,f=m,g=h));d&&f>=0&&(this._unloadTile(g),o=f)}this._tilesLoaded[o]=new t({tile:n.tile,tiledImage:n.tiledImage})},clearTilesFor:function(t){var r;e.console.assert(t,"[TileCache.clearTilesFor] tiledImage is required");for(var n=0;n<this._tilesLoaded.length;++n)r=this._tilesLoaded[n],r.tiledImage===t&&(this._unloadTile(r),this._tilesLoaded.splice(n,1),n--)},getImageRecord:function(t){return e.console.assert(t,"[TileCache.getImageRecord] cacheKey is required"),this._imagesLoaded[t]},_unloadTile:function(t){e.console.assert(t,"[TileCache._unloadTile] tileRecord is required");var r=t.tile,n=t.tiledImage;let i=r.getCanvasContext&&r.getCanvasContext();r.unload(),r.cacheImageRecord=null;var o=this._imagesLoaded[r.cacheKey];o&&(o.removeTile(r),o.getTileCount()||(o.destroy(),delete this._imagesLoaded[r.cacheKey],this._imagesLoadedCount--,i&&(i.canvas.width=0,i.canvas.height=0,n.viewer.raiseEvent("image-unloaded",{context2D:i,tile:r}))),n.viewer.raiseEvent("tile-unloaded",{tile:r,tiledImage:n}))}}}(l),function(e){e.World=function(t){var r=this;e.console.assert(t.viewer,"[World] options.viewer is required"),e.EventSource.call(this),this.viewer=t.viewer,this._items=[],this._needsDraw=!1,this._autoRefigureSizes=!0,this._needsSizesFigured=!1,this._delegatedFigureSizes=function(e){r._autoRefigureSizes?r._figureSizes():r._needsSizesFigured=!0},this._figureSizes()},e.extend(e.World.prototype,e.EventSource.prototype,{addItem:function(t,r){if(e.console.assert(t,"[World.addItem] item is required"),e.console.assert(t instanceof e.TiledImage,"[World.addItem] only TiledImages supported at this time"),r=r||{},void 0!==r.index){var n=Math.max(0,Math.min(this._items.length,r.index));this._items.splice(n,0,t)}else this._items.push(t);this._autoRefigureSizes?this._figureSizes():this._needsSizesFigured=!0,this._needsDraw=!0,t.addHandler("bounds-change",this._delegatedFigureSizes),t.addHandler("clip-change",this._delegatedFigureSizes),this.raiseEvent("add-item",{item:t})},getItemAt:function(t){return e.console.assert(void 0!==t,"[World.getItemAt] index is required"),this._items[t]},getIndexOfItem:function(t){return e.console.assert(t,"[World.getIndexOfItem] item is required"),e.indexOf(this._items,t)},getItemCount:function(){return this._items.length},setItemIndex:function(t,r){e.console.assert(t,"[World.setItemIndex] item is required"),e.console.assert(void 0!==r,"[World.setItemIndex] index is required");var n=this.getIndexOfItem(t);if(r>=this._items.length)throw new Error("Index bigger than number of layers.");r!==n&&-1!==n&&(this._items.splice(n,1),this._items.splice(r,0,t),this._needsDraw=!0,this.raiseEvent("item-index-change",{item:t,previousIndex:n,newIndex:r}))},removeItem:function(t){e.console.assert(t,"[World.removeItem] item is required");var r=e.indexOf(this._items,t);-1!==r&&(t.removeHandler("bounds-change",this._delegatedFigureSizes),t.removeHandler("clip-change",this._delegatedFigureSizes),t.destroy(),this._items.splice(r,1),this._figureSizes(),this._needsDraw=!0,this._raiseRemoveItem(t))},removeAll:function(){var e,t;for(this.viewer._cancelPendingImages(),t=0;t<this._items.length;t++)e=this._items[t],e.removeHandler("bounds-change",this._delegatedFigureSizes),e.removeHandler("clip-change",this._delegatedFigureSizes),e.destroy();var r=this._items;for(this._items=[],this._figureSizes(),this._needsDraw=!0,t=0;t<r.length;t++)e=r[t],this._raiseRemoveItem(e)},resetItems:function(){for(var e=0;e<this._items.length;e++)this._items[e].reset()},update:function(e){for(var t=!1,r=0;r<this._items.length;r++)t=this._items[r].update(e)||t;return t},draw:function(){this.viewer.drawer.draw(this._items),this._needsDraw=!1,this._items.forEach((e=>{this._needsDraw=e.setDrawn()||this._needsDraw}))},needsDraw:function(){for(var e=0;e<this._items.length;e++)if(this._items[e].needsDraw())return!0;return this._needsDraw},getHomeBounds:function(){return this._homeBounds.clone()},getContentFactor:function(){return this._contentFactor},setAutoRefigureSizes:function(e){this._autoRefigureSizes=e,e&this._needsSizesFigured&&(this._figureSizes(),this._needsSizesFigured=!1)},arrange:function(t){t=t||{};var r,n=t.immediately||!1,i=t.layout||e.DEFAULT_SETTINGS.collectionLayout,o=t.rows||e.DEFAULT_SETTINGS.collectionRows,l=t.columns||e.DEFAULT_SETTINGS.collectionColumns,a=t.tileSize||e.DEFAULT_SETTINGS.collectionTileSize,s=t.tileMargin||e.DEFAULT_SETTINGS.collectionTileMargin,c=a+s;r=!t.rows&&l?l:Math.ceil(this._items.length/o);var u,p,h,d,f,g=0,m=0;this.setAutoRefigureSizes(!1);for(var v=0;v<this._items.length;v++)v&&v%r===0&&("horizontal"===i?(m+=c,g=0):(g+=c,m=0)),u=this._items[v],p=u.getBounds(),h=p.width>p.height?a:a*(p.width/p.height),d=h*(p.height/p.width),f=new e.Point(g+(a-h)/2,m+(a-d)/2),u.setPosition(f,n),u.setWidth(h,n),"horizontal"===i?g+=c:m+=c;this.setAutoRefigureSizes(!0)},_figureSizes:function(){var t=this._homeBounds?this._homeBounds.clone():null,r=this._contentSize?this._contentSize.clone():null,n=this._contentFactor||0;if(this._items.length){var i=this._items[0],o=i.getBounds();this._contentFactor=i.getContentSize().x/o.width;for(var l=i.getClippedBounds().getBoundingBox(),a=l.x,s=l.y,c=l.x+l.width,u=l.y+l.height,p=1;p<this._items.length;p++)i=this._items[p],o=i.getBounds(),this._contentFactor=Math.max(this._contentFactor,i.getContentSize().x/o.width),l=i.getClippedBounds().getBoundingBox(),a=Math.min(a,l.x),s=Math.min(s,l.y),c=Math.max(c,l.x+l.width),u=Math.max(u,l.y+l.height);this._homeBounds=new e.Rect(a,s,c-a,u-s),this._contentSize=new e.Point(this._homeBounds.width*this._contentFactor,this._homeBounds.height*this._contentFactor)}else this._homeBounds=new e.Rect(0,0,1,1),this._contentSize=new e.Point(1,1),this._contentFactor=1;this._contentFactor===n&&this._homeBounds.equals(t)&&this._contentSize.equals(r)||this.raiseEvent("metrics-change",{})},_raiseRemoveItem:function(e){this.raiseEvent("remove-item",{item:e})}})}(l)},452:function(e,t,r){
/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */
var n=r(712),i=n.Buffer;function o(e,t){for(var r in e)t[r]=e[r]}function l(e,t,r){return i(e,t,r)}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?e.exports=n:(o(n,t),t.Buffer=l),l.prototype=Object.create(i.prototype),o(i,l),l.from=function(e,t,r){if("number"===typeof e)throw new TypeError("Argument must not be a number");return i(e,t,r)},l.alloc=function(e,t,r){if("number"!==typeof e)throw new TypeError("Argument must be a number");var n=i(e);return void 0!==t?"string"===typeof r?n.fill(t,r):n.fill(t):n.fill(0),n},l.allocUnsafe=function(e){if("number"!==typeof e)throw new TypeError("Argument must be a number");return i(e)},l.allocUnsafeSlow=function(e){if("number"!==typeof e)throw new TypeError("Argument must be a number");return n.SlowBuffer(e)}},2926:function(e,t,r){r(4114),function(e){e.parser=function(e,t){return new i(e,t)},e.SAXParser=i,e.SAXStream=u,e.createStream=c,e.MAX_BUFFER_LENGTH=65536;var t,n=["comment","sgmlDecl","textNode","tagName","doctype","procInstName","procInstBody","entity","attribName","attribValue","cdata","script"];function i(t,r){if(!(this instanceof i))return new i(t,r);var n=this;l(n),n.q=n.c="",n.bufferCheckPosition=e.MAX_BUFFER_LENGTH,n.opt=r||{},n.opt.lowercase=n.opt.lowercase||n.opt.lowercasetags,n.looseCase=n.opt.lowercase?"toLowerCase":"toUpperCase",n.tags=[],n.closed=n.closedRoot=n.sawRoot=!1,n.tag=n.error=null,n.strict=!!t,n.noscript=!(!t&&!n.opt.noscript),n.state=E.BEGIN,n.strictEntities=n.opt.strictEntities,n.ENTITIES=n.strictEntities?Object.create(e.XML_ENTITIES):Object.create(e.ENTITIES),n.attribList=[],n.opt.xmlns&&(n.ns=Object.create(g)),void 0===n.opt.unquotedAttributeValues&&(n.opt.unquotedAttributeValues=!t),n.trackPosition=!1!==n.opt.position,n.trackPosition&&(n.position=n.line=n.column=0),P(n,"onready")}function o(t){for(var r=Math.max(e.MAX_BUFFER_LENGTH,10),i=0,o=0,l=n.length;o<l;o++){var a=t[n[o]].length;if(a>r)switch(n[o]){case"textNode":R(t);break;case"cdata":C(t,"oncdata",t.cdata),t.cdata="";break;case"script":C(t,"onscript",t.script),t.script="";break;default:O(t,"Max buffer length exceeded: "+n[o])}i=Math.max(i,a)}var s=e.MAX_BUFFER_LENGTH-i;t.bufferCheckPosition=s+t.position}function l(e){for(var t=0,r=n.length;t<r;t++)e[n[t]]=""}function a(e){R(e),""!==e.cdata&&(C(e,"oncdata",e.cdata),e.cdata=""),""!==e.script&&(C(e,"onscript",e.script),e.script="")}e.EVENTS=["text","processinginstruction","sgmldeclaration","doctype","comment","opentagstart","attribute","opentag","closetag","opencdata","cdata","closecdata","error","end","ready","script","opennamespace","closenamespace"],Object.create||(Object.create=function(e){function t(){}t.prototype=e;var r=new t;return r}),Object.keys||(Object.keys=function(e){var t=[];for(var r in e)e.hasOwnProperty(r)&&t.push(r);return t}),i.prototype={end:function(){I(this)},write:H,resume:function(){return this.error=null,this},close:function(){return this.write(null)},flush:function(){a(this)}};try{t=Object(function(){var e=new Error("Cannot find module 'stream'");throw e.code="MODULE_NOT_FOUND",e}())}catch(V){t=function(){}}t||(t=function(){});var s=e.EVENTS.filter((function(e){return"error"!==e&&"end"!==e}));function c(e,t){return new u(e,t)}function u(e,r){if(!(this instanceof u))return new u(e,r);t.apply(this),this._parser=new i(e,r),this.writable=!0,this.readable=!0;var n=this;this._parser.onend=function(){n.emit("end")},this._parser.onerror=function(e){n.emit("error",e),n._parser.error=null},this._decoder=null,s.forEach((function(e){Object.defineProperty(n,"on"+e,{get:function(){return n._parser["on"+e]},set:function(t){if(!t)return n.removeAllListeners(e),n._parser["on"+e]=t,t;n.on(e,t)},enumerable:!0,configurable:!1})}))}u.prototype=Object.create(t.prototype,{constructor:{value:u}}),u.prototype.write=function(e){if("function"===typeof Buffer&&"function"===typeof Buffer.isBuffer&&Buffer.isBuffer(e)){if(!this._decoder){var t=r(3128).I;this._decoder=new t("utf8")}e=this._decoder.write(e)}return this._parser.write(e.toString()),this.emit("data",e),!0},u.prototype.end=function(e){return e&&e.length&&this.write(e),this._parser.end(),!0},u.prototype.on=function(e,r){var n=this;return n._parser["on"+e]||-1===s.indexOf(e)||(n._parser["on"+e]=function(){var t=1===arguments.length?[arguments[0]]:Array.apply(null,arguments);t.splice(0,0,e),n.emit.apply(n,t)}),t.prototype.on.call(n,e,r)};var p="[CDATA[",h="DOCTYPE",d="http://www.w3.org/XML/1998/namespace",f="http://www.w3.org/2000/xmlns/",g={xml:d,xmlns:f},m=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,v=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040.\d-]/,y=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,A=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040.\d-]/;function w(e){return" "===e||"\n"===e||"\r"===e||"\t"===e}function _(e){return'"'===e||"'"===e}function T(e){return">"===e||w(e)}function b(e,t){return e.test(t)}function x(e,t){return!b(e,t)}var E=0;for(var S in e.STATE={BEGIN:E++,BEGIN_WHITESPACE:E++,TEXT:E++,TEXT_ENTITY:E++,OPEN_WAKA:E++,SGML_DECL:E++,SGML_DECL_QUOTED:E++,DOCTYPE:E++,DOCTYPE_QUOTED:E++,DOCTYPE_DTD:E++,DOCTYPE_DTD_QUOTED:E++,COMMENT_STARTING:E++,COMMENT:E++,COMMENT_ENDING:E++,COMMENT_ENDED:E++,CDATA:E++,CDATA_ENDING:E++,CDATA_ENDING_2:E++,PROC_INST:E++,PROC_INST_BODY:E++,PROC_INST_ENDING:E++,OPEN_TAG:E++,OPEN_TAG_SLASH:E++,ATTRIB:E++,ATTRIB_NAME:E++,ATTRIB_NAME_SAW_WHITE:E++,ATTRIB_VALUE:E++,ATTRIB_VALUE_QUOTED:E++,ATTRIB_VALUE_CLOSED:E++,ATTRIB_VALUE_UNQUOTED:E++,ATTRIB_VALUE_ENTITY_Q:E++,ATTRIB_VALUE_ENTITY_U:E++,CLOSE_TAG:E++,CLOSE_TAG_SAW_WHITE:E++,SCRIPT:E++,SCRIPT_ENDING:E++},e.XML_ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'"},e.ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'",AElig:198,Aacute:193,Acirc:194,Agrave:192,Aring:197,Atilde:195,Auml:196,Ccedil:199,ETH:208,Eacute:201,Ecirc:202,Egrave:200,Euml:203,Iacute:205,Icirc:206,Igrave:204,Iuml:207,Ntilde:209,Oacute:211,Ocirc:212,Ograve:210,Oslash:216,Otilde:213,Ouml:214,THORN:222,Uacute:218,Ucirc:219,Ugrave:217,Uuml:220,Yacute:221,aacute:225,acirc:226,aelig:230,agrave:224,aring:229,atilde:227,auml:228,ccedil:231,eacute:233,ecirc:234,egrave:232,eth:240,euml:235,iacute:237,icirc:238,igrave:236,iuml:239,ntilde:241,oacute:243,ocirc:244,ograve:242,oslash:248,otilde:245,ouml:246,szlig:223,thorn:254,uacute:250,ucirc:251,ugrave:249,uuml:252,yacute:253,yuml:255,copy:169,reg:174,nbsp:160,iexcl:161,cent:162,pound:163,curren:164,yen:165,brvbar:166,sect:167,uml:168,ordf:170,laquo:171,not:172,shy:173,macr:175,deg:176,plusmn:177,sup1:185,sup2:178,sup3:179,acute:180,micro:181,para:182,middot:183,cedil:184,ordm:186,raquo:187,frac14:188,frac12:189,frac34:190,iquest:191,times:215,divide:247,OElig:338,oelig:339,Scaron:352,scaron:353,Yuml:376,fnof:402,circ:710,tilde:732,Alpha:913,Beta:914,Gamma:915,Delta:916,Epsilon:917,Zeta:918,Eta:919,Theta:920,Iota:921,Kappa:922,Lambda:923,Mu:924,Nu:925,Xi:926,Omicron:927,Pi:928,Rho:929,Sigma:931,Tau:932,Upsilon:933,Phi:934,Chi:935,Psi:936,Omega:937,alpha:945,beta:946,gamma:947,delta:948,epsilon:949,zeta:950,eta:951,theta:952,iota:953,kappa:954,lambda:955,mu:956,nu:957,xi:958,omicron:959,pi:960,rho:961,sigmaf:962,sigma:963,tau:964,upsilon:965,phi:966,chi:967,psi:968,omega:969,thetasym:977,upsih:978,piv:982,ensp:8194,emsp:8195,thinsp:8201,zwnj:8204,zwj:8205,lrm:8206,rlm:8207,ndash:8211,mdash:8212,lsquo:8216,rsquo:8217,sbquo:8218,ldquo:8220,rdquo:8221,bdquo:8222,dagger:8224,Dagger:8225,bull:8226,hellip:8230,permil:8240,prime:8242,Prime:8243,lsaquo:8249,rsaquo:8250,oline:8254,frasl:8260,euro:8364,image:8465,weierp:8472,real:8476,trade:8482,alefsym:8501,larr:8592,uarr:8593,rarr:8594,darr:8595,harr:8596,crarr:8629,lArr:8656,uArr:8657,rArr:8658,dArr:8659,hArr:8660,forall:8704,part:8706,exist:8707,empty:8709,nabla:8711,isin:8712,notin:8713,ni:8715,prod:8719,sum:8721,minus:8722,lowast:8727,radic:8730,prop:8733,infin:8734,ang:8736,and:8743,or:8744,cap:8745,cup:8746,int:8747,there4:8756,sim:8764,cong:8773,asymp:8776,ne:8800,equiv:8801,le:8804,ge:8805,sub:8834,sup:8835,nsub:8836,sube:8838,supe:8839,oplus:8853,otimes:8855,perp:8869,sdot:8901,lceil:8968,rceil:8969,lfloor:8970,rfloor:8971,lang:9001,rang:9002,loz:9674,spades:9824,clubs:9827,hearts:9829,diams:9830},Object.keys(e.ENTITIES).forEach((function(t){var r=e.ENTITIES[t],n="number"===typeof r?String.fromCharCode(r):r;e.ENTITIES[t]=n})),e.STATE)e.STATE[e.STATE[S]]=S;function P(e,t,r){e[t]&&e[t](r)}function C(e,t,r){e.textNode&&R(e),P(e,t,r)}function R(e){e.textNode=D(e.opt,e.textNode),e.textNode&&P(e,"ontext",e.textNode),e.textNode=""}function D(e,t){return e.trim&&(t=t.trim()),e.normalize&&(t=t.replace(/\s+/g," ")),t}function O(e,t){return R(e),e.trackPosition&&(t+="\nLine: "+e.line+"\nColumn: "+e.column+"\nChar: "+e.c),t=new Error(t),e.error=t,P(e,"onerror",t),e}function I(e){return e.sawRoot&&!e.closedRoot&&N(e,"Unclosed root tag"),e.state!==E.BEGIN&&e.state!==E.BEGIN_WHITESPACE&&e.state!==E.TEXT&&O(e,"Unexpected end"),R(e),e.c="",e.closed=!0,P(e,"onend"),i.call(e,e.strict,e.opt),e}function N(e,t){if("object"!==typeof e||!(e instanceof i))throw new Error("bad call to strictFail");e.strict&&O(e,t)}function L(e){e.strict||(e.tagName=e.tagName[e.looseCase]());var t=e.tags[e.tags.length-1]||e,r=e.tag={name:e.tagName,attributes:{}};e.opt.xmlns&&(r.ns=t.ns),e.attribList.length=0,C(e,"onopentagstart",r)}function F(e,t){var r=e.indexOf(":"),n=r<0?["",e]:e.split(":"),i=n[0],o=n[1];return t&&"xmlns"===e&&(i="xmlns",o=""),{prefix:i,local:o}}function k(e){if(e.strict||(e.attribName=e.attribName[e.looseCase]()),-1!==e.attribList.indexOf(e.attribName)||e.tag.attributes.hasOwnProperty(e.attribName))e.attribName=e.attribValue="";else{if(e.opt.xmlns){var t=F(e.attribName,!0),r=t.prefix,n=t.local;if("xmlns"===r)if("xml"===n&&e.attribValue!==d)N(e,"xml: prefix must be bound to "+d+"\nActual: "+e.attribValue);else if("xmlns"===n&&e.attribValue!==f)N(e,"xmlns: prefix must be bound to "+f+"\nActual: "+e.attribValue);else{var i=e.tag,o=e.tags[e.tags.length-1]||e;i.ns===o.ns&&(i.ns=Object.create(o.ns)),i.ns[n]=e.attribValue}e.attribList.push([e.attribName,e.attribValue])}else e.tag.attributes[e.attribName]=e.attribValue,C(e,"onattribute",{name:e.attribName,value:e.attribValue});e.attribName=e.attribValue=""}}function B(e,t){if(e.opt.xmlns){var r=e.tag,n=F(e.tagName);r.prefix=n.prefix,r.local=n.local,r.uri=r.ns[n.prefix]||"",r.prefix&&!r.uri&&(N(e,"Unbound namespace prefix: "+JSON.stringify(e.tagName)),r.uri=n.prefix);var i=e.tags[e.tags.length-1]||e;r.ns&&i.ns!==r.ns&&Object.keys(r.ns).forEach((function(t){C(e,"onopennamespace",{prefix:t,uri:r.ns[t]})}));for(var o=0,l=e.attribList.length;o<l;o++){var a=e.attribList[o],s=a[0],c=a[1],u=F(s,!0),p=u.prefix,h=u.local,d=""===p?"":r.ns[p]||"",f={name:s,value:c,prefix:p,local:h,uri:d};p&&"xmlns"!==p&&!d&&(N(e,"Unbound namespace prefix: "+JSON.stringify(p)),f.uri=p),e.tag.attributes[s]=f,C(e,"onattribute",f)}e.attribList.length=0}e.tag.isSelfClosing=!!t,e.sawRoot=!0,e.tags.push(e.tag),C(e,"onopentag",e.tag),t||(e.noscript||"script"!==e.tagName.toLowerCase()?e.state=E.TEXT:e.state=E.SCRIPT,e.tag=null,e.tagName=""),e.attribName=e.attribValue="",e.attribList.length=0}function M(e){if(!e.tagName)return N(e,"Weird empty close tag."),e.textNode+="</>",void(e.state=E.TEXT);if(e.script){if("script"!==e.tagName)return e.script+="</"+e.tagName+">",e.tagName="",void(e.state=E.SCRIPT);C(e,"onscript",e.script),e.script=""}var t=e.tags.length,r=e.tagName;e.strict||(r=r[e.looseCase]());var n=r;while(t--){var i=e.tags[t];if(i.name===n)break;N(e,"Unexpected close tag")}if(t<0)return N(e,"Unmatched closing tag: "+e.tagName),e.textNode+="</"+e.tagName+">",void(e.state=E.TEXT);e.tagName=r;var o=e.tags.length;while(o-- >t){var l=e.tag=e.tags.pop();e.tagName=e.tag.name,C(e,"onclosetag",e.tagName);var a={};for(var s in l.ns)a[s]=l.ns[s];var c=e.tags[e.tags.length-1]||e;e.opt.xmlns&&l.ns!==c.ns&&Object.keys(l.ns).forEach((function(t){var r=l.ns[t];C(e,"onclosenamespace",{prefix:t,uri:r})}))}0===t&&(e.closedRoot=!0),e.tagName=e.attribValue=e.attribName="",e.attribList.length=0,e.state=E.TEXT}function z(e){var t,r=e.entity,n=r.toLowerCase(),i="";return e.ENTITIES[r]?e.ENTITIES[r]:e.ENTITIES[n]?e.ENTITIES[n]:(r=n,"#"===r.charAt(0)&&("x"===r.charAt(1)?(r=r.slice(2),t=parseInt(r,16),i=t.toString(16)):(r=r.slice(1),t=parseInt(r,10),i=t.toString(10))),r=r.replace(/^0+/,""),isNaN(t)||i.toLowerCase()!==r?(N(e,"Invalid character entity"),"&"+e.entity+";"):String.fromCodePoint(t))}function j(e,t){"<"===t?(e.state=E.OPEN_WAKA,e.startTagPosition=e.position):w(t)||(N(e,"Non-whitespace before first tag."),e.textNode=t,e.state=E.TEXT)}function U(e,t){var r="";return t<e.length&&(r=e.charAt(t)),r}function H(t){var r=this;if(this.error)throw this.error;if(r.closed)return O(r,"Cannot write after close. Assign an onready handler.");if(null===t)return I(r);"object"===typeof t&&(t=t.toString());var n=0,i="";while(1){if(i=U(t,n++),r.c=i,!i)break;switch(r.trackPosition&&(r.position++,"\n"===i?(r.line++,r.column=0):r.column++),r.state){case E.BEGIN:if(r.state=E.BEGIN_WHITESPACE,"\ufeff"===i)continue;j(r,i);continue;case E.BEGIN_WHITESPACE:j(r,i);continue;case E.TEXT:if(r.sawRoot&&!r.closedRoot){var l=n-1;while(i&&"<"!==i&&"&"!==i)i=U(t,n++),i&&r.trackPosition&&(r.position++,"\n"===i?(r.line++,r.column=0):r.column++);r.textNode+=t.substring(l,n-1)}"<"!==i||r.sawRoot&&r.closedRoot&&!r.strict?(w(i)||r.sawRoot&&!r.closedRoot||N(r,"Text data outside of root node."),"&"===i?r.state=E.TEXT_ENTITY:r.textNode+=i):(r.state=E.OPEN_WAKA,r.startTagPosition=r.position);continue;case E.SCRIPT:"<"===i?r.state=E.SCRIPT_ENDING:r.script+=i;continue;case E.SCRIPT_ENDING:"/"===i?r.state=E.CLOSE_TAG:(r.script+="<"+i,r.state=E.SCRIPT);continue;case E.OPEN_WAKA:if("!"===i)r.state=E.SGML_DECL,r.sgmlDecl="";else if(w(i));else if(b(m,i))r.state=E.OPEN_TAG,r.tagName=i;else if("/"===i)r.state=E.CLOSE_TAG,r.tagName="";else if("?"===i)r.state=E.PROC_INST,r.procInstName=r.procInstBody="";else{if(N(r,"Unencoded <"),r.startTagPosition+1<r.position){var a=r.position-r.startTagPosition;i=new Array(a).join(" ")+i}r.textNode+="<"+i,r.state=E.TEXT}continue;case E.SGML_DECL:if(r.sgmlDecl+i==="--"){r.state=E.COMMENT,r.comment="",r.sgmlDecl="";continue}r.doctype&&!0!==r.doctype&&r.sgmlDecl?(r.state=E.DOCTYPE_DTD,r.doctype+="<!"+r.sgmlDecl+i,r.sgmlDecl=""):(r.sgmlDecl+i).toUpperCase()===p?(C(r,"onopencdata"),r.state=E.CDATA,r.sgmlDecl="",r.cdata=""):(r.sgmlDecl+i).toUpperCase()===h?(r.state=E.DOCTYPE,(r.doctype||r.sawRoot)&&N(r,"Inappropriately located doctype declaration"),r.doctype="",r.sgmlDecl=""):">"===i?(C(r,"onsgmldeclaration",r.sgmlDecl),r.sgmlDecl="",r.state=E.TEXT):_(i)?(r.state=E.SGML_DECL_QUOTED,r.sgmlDecl+=i):r.sgmlDecl+=i;continue;case E.SGML_DECL_QUOTED:i===r.q&&(r.state=E.SGML_DECL,r.q=""),r.sgmlDecl+=i;continue;case E.DOCTYPE:">"===i?(r.state=E.TEXT,C(r,"ondoctype",r.doctype),r.doctype=!0):(r.doctype+=i,"["===i?r.state=E.DOCTYPE_DTD:_(i)&&(r.state=E.DOCTYPE_QUOTED,r.q=i));continue;case E.DOCTYPE_QUOTED:r.doctype+=i,i===r.q&&(r.q="",r.state=E.DOCTYPE);continue;case E.DOCTYPE_DTD:"]"===i?(r.doctype+=i,r.state=E.DOCTYPE):"<"===i?(r.state=E.OPEN_WAKA,r.startTagPosition=r.position):_(i)?(r.doctype+=i,r.state=E.DOCTYPE_DTD_QUOTED,r.q=i):r.doctype+=i;continue;case E.DOCTYPE_DTD_QUOTED:r.doctype+=i,i===r.q&&(r.state=E.DOCTYPE_DTD,r.q="");continue;case E.COMMENT:"-"===i?r.state=E.COMMENT_ENDING:r.comment+=i;continue;case E.COMMENT_ENDING:"-"===i?(r.state=E.COMMENT_ENDED,r.comment=D(r.opt,r.comment),r.comment&&C(r,"oncomment",r.comment),r.comment=""):(r.comment+="-"+i,r.state=E.COMMENT);continue;case E.COMMENT_ENDED:">"!==i?(N(r,"Malformed comment"),r.comment+="--"+i,r.state=E.COMMENT):r.doctype&&!0!==r.doctype?r.state=E.DOCTYPE_DTD:r.state=E.TEXT;continue;case E.CDATA:"]"===i?r.state=E.CDATA_ENDING:r.cdata+=i;continue;case E.CDATA_ENDING:"]"===i?r.state=E.CDATA_ENDING_2:(r.cdata+="]"+i,r.state=E.CDATA);continue;case E.CDATA_ENDING_2:">"===i?(r.cdata&&C(r,"oncdata",r.cdata),C(r,"onclosecdata"),r.cdata="",r.state=E.TEXT):"]"===i?r.cdata+="]":(r.cdata+="]]"+i,r.state=E.CDATA);continue;case E.PROC_INST:"?"===i?r.state=E.PROC_INST_ENDING:w(i)?r.state=E.PROC_INST_BODY:r.procInstName+=i;continue;case E.PROC_INST_BODY:if(!r.procInstBody&&w(i))continue;"?"===i?r.state=E.PROC_INST_ENDING:r.procInstBody+=i;continue;case E.PROC_INST_ENDING:">"===i?(C(r,"onprocessinginstruction",{name:r.procInstName,body:r.procInstBody}),r.procInstName=r.procInstBody="",r.state=E.TEXT):(r.procInstBody+="?"+i,r.state=E.PROC_INST_BODY);continue;case E.OPEN_TAG:b(v,i)?r.tagName+=i:(L(r),">"===i?B(r):"/"===i?r.state=E.OPEN_TAG_SLASH:(w(i)||N(r,"Invalid character in tag name"),r.state=E.ATTRIB));continue;case E.OPEN_TAG_SLASH:">"===i?(B(r,!0),M(r)):(N(r,"Forward-slash in opening tag not followed by >"),r.state=E.ATTRIB);continue;case E.ATTRIB:if(w(i))continue;">"===i?B(r):"/"===i?r.state=E.OPEN_TAG_SLASH:b(m,i)?(r.attribName=i,r.attribValue="",r.state=E.ATTRIB_NAME):N(r,"Invalid attribute name");continue;case E.ATTRIB_NAME:"="===i?r.state=E.ATTRIB_VALUE:">"===i?(N(r,"Attribute without value"),r.attribValue=r.attribName,k(r),B(r)):w(i)?r.state=E.ATTRIB_NAME_SAW_WHITE:b(v,i)?r.attribName+=i:N(r,"Invalid attribute name");continue;case E.ATTRIB_NAME_SAW_WHITE:if("="===i)r.state=E.ATTRIB_VALUE;else{if(w(i))continue;N(r,"Attribute without value"),r.tag.attributes[r.attribName]="",r.attribValue="",C(r,"onattribute",{name:r.attribName,value:""}),r.attribName="",">"===i?B(r):b(m,i)?(r.attribName=i,r.state=E.ATTRIB_NAME):(N(r,"Invalid attribute name"),r.state=E.ATTRIB)}continue;case E.ATTRIB_VALUE:if(w(i))continue;_(i)?(r.q=i,r.state=E.ATTRIB_VALUE_QUOTED):(r.opt.unquotedAttributeValues||O(r,"Unquoted attribute value"),r.state=E.ATTRIB_VALUE_UNQUOTED,r.attribValue=i);continue;case E.ATTRIB_VALUE_QUOTED:if(i!==r.q){"&"===i?r.state=E.ATTRIB_VALUE_ENTITY_Q:r.attribValue+=i;continue}k(r),r.q="",r.state=E.ATTRIB_VALUE_CLOSED;continue;case E.ATTRIB_VALUE_CLOSED:w(i)?r.state=E.ATTRIB:">"===i?B(r):"/"===i?r.state=E.OPEN_TAG_SLASH:b(m,i)?(N(r,"No whitespace between attributes"),r.attribName=i,r.attribValue="",r.state=E.ATTRIB_NAME):N(r,"Invalid attribute name");continue;case E.ATTRIB_VALUE_UNQUOTED:if(!T(i)){"&"===i?r.state=E.ATTRIB_VALUE_ENTITY_U:r.attribValue+=i;continue}k(r),">"===i?B(r):r.state=E.ATTRIB;continue;case E.CLOSE_TAG:if(r.tagName)">"===i?M(r):b(v,i)?r.tagName+=i:r.script?(r.script+="</"+r.tagName,r.tagName="",r.state=E.SCRIPT):(w(i)||N(r,"Invalid tagname in closing tag"),r.state=E.CLOSE_TAG_SAW_WHITE);else{if(w(i))continue;x(m,i)?r.script?(r.script+="</"+i,r.state=E.SCRIPT):N(r,"Invalid tagname in closing tag."):r.tagName=i}continue;case E.CLOSE_TAG_SAW_WHITE:if(w(i))continue;">"===i?M(r):N(r,"Invalid characters in closing tag");continue;case E.TEXT_ENTITY:case E.ATTRIB_VALUE_ENTITY_Q:case E.ATTRIB_VALUE_ENTITY_U:var s,c;switch(r.state){case E.TEXT_ENTITY:s=E.TEXT,c="textNode";break;case E.ATTRIB_VALUE_ENTITY_Q:s=E.ATTRIB_VALUE_QUOTED,c="attribValue";break;case E.ATTRIB_VALUE_ENTITY_U:s=E.ATTRIB_VALUE_UNQUOTED,c="attribValue";break}if(";"===i){var u=z(r);r.opt.unparsedEntities&&!Object.values(e.XML_ENTITIES).includes(u)?(r.entity="",r.state=s,r.write(u)):(r[c]+=u,r.entity="",r.state=s)}else b(r.entity.length?A:y,i)?r.entity+=i:(N(r,"Invalid character in entity name"),r[c]+="&"+r.entity+i,r.entity="",r.state=s);continue;default:throw new Error(r,"Unknown state: "+r.state)}}return r.position>=r.bufferCheckPosition&&o(r),r}
/*! http://mths.be/fromcodepoint v0.1.0 by @mathias */E=e.STATE,String.fromCodePoint||function(){var e=String.fromCharCode,t=Math.floor,r=function(){var r,n,i=16384,o=[],l=-1,a=arguments.length;if(!a)return"";var s="";while(++l<a){var c=Number(arguments[l]);if(!isFinite(c)||c<0||c>1114111||t(c)!==c)throw RangeError("Invalid code point: "+c);c<=65535?o.push(c):(c-=65536,r=55296+(c>>10),n=c%1024+56320,o.push(r,n)),(l+1===a||o.length>i)&&(s+=e.apply(null,o),o.length=0)}return s};Object.defineProperty?Object.defineProperty(String,"fromCodePoint",{value:r,configurable:!0,writable:!0}):String.fromCodePoint=r}()}(t)},3118:function(e,t,r){r(9848),function(e,t){"use strict";if(!e.setImmediate){var r,n=1,i={},o=!1,l=e.document,a=Object.getPrototypeOf&&Object.getPrototypeOf(e);a=a&&a.setTimeout?a:e,"[object process]"==={}.toString.call(e.process)?h():d()?f():e.MessageChannel?g():l&&"onreadystatechange"in l.createElement("script")?m():v(),a.setImmediate=s,a.clearImmediate=c}function s(e){"function"!==typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),o=0;o<t.length;o++)t[o]=arguments[o+1];var l={callback:e,args:t};return i[n]=l,r(n),n++}function c(e){delete i[e]}function u(e){var r=e.callback,n=e.args;switch(n.length){case 0:r();break;case 1:r(n[0]);break;case 2:r(n[0],n[1]);break;case 3:r(n[0],n[1],n[2]);break;default:r.apply(t,n);break}}function p(e){if(o)setTimeout(p,0,e);else{var t=i[e];if(t){o=!0;try{u(t)}finally{c(e),o=!1}}}}function h(){r=function(e){process.nextTick((function(){p(e)}))}}function d(){if(e.postMessage&&!e.importScripts){var t=!0,r=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=r,t}}function f(){var t="setImmediate$"+Math.random()+"$",n=function(r){r.source===e&&"string"===typeof r.data&&0===r.data.indexOf(t)&&p(+r.data.slice(t.length))};e.addEventListener?e.addEventListener("message",n,!1):e.attachEvent("onmessage",n),r=function(r){e.postMessage(t+r,"*")}}function g(){var e=new MessageChannel;e.port1.onmessage=function(e){var t=e.data;p(t)},r=function(t){e.port2.postMessage(t)}}function m(){var e=l.documentElement;r=function(t){var r=l.createElement("script");r.onreadystatechange=function(){p(t),r.onreadystatechange=null,e.removeChild(r),r=null},e.appendChild(r)}}function v(){r=function(e){setTimeout(p,0,e)}}}("undefined"===typeof self?"undefined"===typeof r.g?this:r.g:self)},3128:function(e,t,r){"use strict";var n=r(452).Buffer,i=n.isEncoding||function(e){switch(e=""+e,e&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function o(e){if(!e)return"utf8";var t;while(1)switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(t)return;e=(""+e).toLowerCase(),t=!0}}function l(e){var t=o(e);if("string"!==typeof t&&(n.isEncoding===i||!i(e)))throw new Error("Unknown encoding: "+e);return t||e}function a(e){var t;switch(this.encoding=l(e),this.encoding){case"utf16le":this.text=f,this.end=g,t=4;break;case"utf8":this.fillLast=p,t=4;break;case"base64":this.text=m,this.end=v,t=3;break;default:return this.write=y,void(this.end=A)}this.lastNeed=0,this.lastTotal=0,this.lastChar=n.allocUnsafe(t)}function s(e){return e<=127?0:e>>5===6?2:e>>4===14?3:e>>3===30?4:e>>6===2?-1:-2}function c(e,t,r){var n=t.length-1;if(n<r)return 0;var i=s(t[n]);return i>=0?(i>0&&(e.lastNeed=i-1),i):--n<r||-2===i?0:(i=s(t[n]),i>=0?(i>0&&(e.lastNeed=i-2),i):--n<r||-2===i?0:(i=s(t[n]),i>=0?(i>0&&(2===i?i=0:e.lastNeed=i-3),i):0))}function u(e,t,r){if(128!==(192&t[0]))return e.lastNeed=0,"�";if(e.lastNeed>1&&t.length>1){if(128!==(192&t[1]))return e.lastNeed=1,"�";if(e.lastNeed>2&&t.length>2&&128!==(192&t[2]))return e.lastNeed=2,"�"}}function p(e){var t=this.lastTotal-this.lastNeed,r=u(this,e,t);return void 0!==r?r:this.lastNeed<=e.length?(e.copy(this.lastChar,t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(e.copy(this.lastChar,t,0,e.length),void(this.lastNeed-=e.length))}function h(e,t){var r=c(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=r;var n=e.length-(r-this.lastNeed);return e.copy(this.lastChar,0,n),e.toString("utf8",t,n)}function d(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+"�":t}function f(e,t){if((e.length-t)%2===0){var r=e.toString("utf16le",t);if(r){var n=r.charCodeAt(r.length-1);if(n>=55296&&n<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],r.slice(0,-1)}return r}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",t,e.length-1)}function g(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed){var r=this.lastTotal-this.lastNeed;return t+this.lastChar.toString("utf16le",0,r)}return t}function m(e,t){var r=(e.length-t)%3;return 0===r?e.toString("base64",t):(this.lastNeed=3-r,this.lastTotal=3,1===r?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",t,e.length-r))}function v(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("base64",0,3-this.lastNeed):t}function y(e){return e.toString(this.encoding)}function A(e){return e&&e.length?this.write(e):""}t.I=a,a.prototype.write=function(e){if(0===e.length)return"";var t,r;if(this.lastNeed){if(t=this.fillLast(e),void 0===t)return"";r=this.lastNeed,this.lastNeed=0}else r=0;return r<e.length?t?t+this.text(e,r):this.text(e,r):t||""},a.prototype.end=d,a.prototype.text=h,a.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length}},9520:function(e,t,r){r(9848);var n="undefined"!==typeof r.g&&r.g||"undefined"!==typeof self&&self||window,i=Function.prototype.apply;function o(e,t){this._id=e,this._clearFn=t}t.setTimeout=function(){return new o(i.call(setTimeout,n,arguments),clearTimeout)},t.setInterval=function(){return new o(i.call(setInterval,n,arguments),clearInterval)},t.clearTimeout=t.clearInterval=function(e){e&&e.close()},o.prototype.unref=o.prototype.ref=function(){},o.prototype.close=function(){this._clearFn.call(n,this._id)},t.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},t.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},t._unrefActive=t.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout((function(){e._onTimeout&&e._onTimeout()}),t))},r(3118),t.setImmediate="undefined"!==typeof self&&self.setImmediate||"undefined"!==typeof r.g&&r.g.setImmediate||this&&this.setImmediate,t.clearImmediate="undefined"!==typeof self&&self.clearImmediate||"undefined"!==typeof r.g&&r.g.clearImmediate||this&&this.clearImmediate},1241:function(e,t){"use strict";t.A=(e,t)=>{const r=e.__vccOpts||e;for(const[n,i]of t)r[n]=i;return r}},9974:function(e,t){(function(){"use strict";t.stripBOM=function(e){return"\ufeff"===e[0]?e.substring(1):e}}).call(this)},1395:function(e,t,r){(function(){"use strict";var e,n,i,o,l,a={}.hasOwnProperty;e=r(3738),n=r(7320).defaults,o=function(e){return"string"===typeof e&&(e.indexOf("&")>=0||e.indexOf(">")>=0||e.indexOf("<")>=0)},l=function(e){return"<![CDATA["+i(e)+"]]>"},i=function(e){return e.replace("]]>","]]]]><![CDATA[>")},t.Builder=function(){function t(e){var t,r,i;for(t in this.options={},r=n["0.2"],r)a.call(r,t)&&(i=r[t],this.options[t]=i);for(t in e)a.call(e,t)&&(i=e[t],this.options[t]=i)}return t.prototype.buildObject=function(t){var r,i,s,c,u;return r=this.options.attrkey,i=this.options.charkey,1===Object.keys(t).length&&this.options.rootName===n["0.2"].rootName?(u=Object.keys(t)[0],t=t[u]):u=this.options.rootName,s=function(e){return function(t,n){var c,u,p,h,d,f;if("object"!==typeof n)e.options.cdata&&o(n)?t.raw(l(n)):t.txt(n);else if(Array.isArray(n)){for(h in n)if(a.call(n,h))for(d in u=n[h],u)p=u[d],t=s(t.ele(d),p).up()}else for(d in n)if(a.call(n,d))if(u=n[d],d===r){if("object"===typeof u)for(c in u)f=u[c],t=t.att(c,f)}else if(d===i)t=e.options.cdata&&o(u)?t.raw(l(u)):t.txt(u);else if(Array.isArray(u))for(h in u)a.call(u,h)&&(p=u[h],t="string"===typeof p?e.options.cdata&&o(p)?t.ele(d).raw(l(p)).up():t.ele(d,p).up():s(t.ele(d),p).up());else"object"===typeof u?t=s(t.ele(d),u).up():"string"===typeof u&&e.options.cdata&&o(u)?t=t.ele(d).raw(l(u)).up():(null==u&&(u=""),t=t.ele(d,u.toString()).up());return t}}(this),c=e.create(u,this.options.xmldec,this.options.doctype,{headless:this.options.headless,allowSurrogateChars:this.options.allowSurrogateChars}),s(c,t).end(this.options.renderOpts)},t}()}).call(this)},7320:function(e,t){(function(){t.defaults={.1:{explicitCharkey:!1,trim:!0,normalize:!0,normalizeTags:!1,attrkey:"@",charkey:"#",explicitArray:!1,ignoreAttrs:!1,mergeAttrs:!1,explicitRoot:!1,validator:null,xmlns:!1,explicitChildren:!1,childkey:"@@",charsAsChildren:!1,includeWhiteChars:!1,async:!1,strict:!0,attrNameProcessors:null,attrValueProcessors:null,tagNameProcessors:null,valueProcessors:null,emptyTag:""},.2:{explicitCharkey:!1,trim:!1,normalize:!1,normalizeTags:!1,attrkey:"$",charkey:"_",explicitArray:!0,ignoreAttrs:!1,mergeAttrs:!1,explicitRoot:!0,validator:null,xmlns:!1,explicitChildren:!1,preserveChildrenOrder:!1,childkey:"$$",charsAsChildren:!1,includeWhiteChars:!1,async:!1,strict:!0,attrNameProcessors:null,attrValueProcessors:null,tagNameProcessors:null,valueProcessors:null,rootName:"root",xmldec:{version:"1.0",encoding:"UTF-8",standalone:!0},doctype:null,renderOpts:{pretty:!0,indent:"  ",newline:"\n"},headless:!1,chunkSize:1e4,emptyTag:"",cdata:!1}}}).call(this)},1073:function(e,t,r){r(4114),function(){"use strict";var e,n,i,o,l,a,s,c,u,p=function(e,t){return function(){return e.apply(t,arguments)}},h=function(e,t){for(var r in t)d.call(t,r)&&(e[r]=t[r]);function n(){this.constructor=e}return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},d={}.hasOwnProperty;c=r(2926),o=r(9774),e=r(9974),s=r(1799),u=r(9520).setImmediate,n=r(7320).defaults,l=function(e){return"object"===typeof e&&null!=e&&0===Object.keys(e).length},a=function(e,t,r){var n,i,o;for(n=0,i=e.length;n<i;n++)o=e[n],t=o(t,r);return t},i=function(e,t,r){var n;return n=Object.create(null),n.value=r,n.writable=!0,n.enumerable=!0,n.configurable=!0,Object.defineProperty(e,t,n)},t.Parser=function(r){function o(e){var r,i,o;if(this.parseStringPromise=p(this.parseStringPromise,this),this.parseString=p(this.parseString,this),this.reset=p(this.reset,this),this.assignOrPush=p(this.assignOrPush,this),this.processAsync=p(this.processAsync,this),!(this instanceof t.Parser))return new t.Parser(e);for(r in this.options={},i=n["0.2"],i)d.call(i,r)&&(o=i[r],this.options[r]=o);for(r in e)d.call(e,r)&&(o=e[r],this.options[r]=o);this.options.xmlns&&(this.options.xmlnskey=this.options.attrkey+"ns"),this.options.normalizeTags&&(this.options.tagNameProcessors||(this.options.tagNameProcessors=[]),this.options.tagNameProcessors.unshift(s.normalize)),this.reset()}return h(o,r),o.prototype.processAsync=function(){var e,t;try{return this.remaining.length<=this.options.chunkSize?(e=this.remaining,this.remaining="",this.saxParser=this.saxParser.write(e),this.saxParser.close()):(e=this.remaining.substr(0,this.options.chunkSize),this.remaining=this.remaining.substr(this.options.chunkSize,this.remaining.length),this.saxParser=this.saxParser.write(e),u(this.processAsync))}catch(r){if(t=r,!this.saxParser.errThrown)return this.saxParser.errThrown=!0,this.emit(t)}},o.prototype.assignOrPush=function(e,t,r){return t in e?(e[t]instanceof Array||i(e,t,[e[t]]),e[t].push(r)):this.options.explicitArray?i(e,t,[r]):i(e,t,r)},o.prototype.reset=function(){var e,t,r,n;return this.removeAllListeners(),this.saxParser=c.parser(this.options.strict,{trim:!1,normalize:!1,xmlns:this.options.xmlns}),this.saxParser.errThrown=!1,this.saxParser.onerror=function(e){return function(t){if(e.saxParser.resume(),!e.saxParser.errThrown)return e.saxParser.errThrown=!0,e.emit("error",t)}}(this),this.saxParser.onend=function(e){return function(){if(!e.saxParser.ended)return e.saxParser.ended=!0,e.emit("end",e.resultObject)}}(this),this.saxParser.ended=!1,this.EXPLICIT_CHARKEY=this.options.explicitCharkey,this.resultObject=null,n=[],e=this.options.attrkey,t=this.options.charkey,this.saxParser.onopentag=function(r){return function(o){var l,s,c,u,p;if(c={},c[t]="",!r.options.ignoreAttrs)for(l in p=o.attributes,p)d.call(p,l)&&(e in c||r.options.mergeAttrs||(c[e]={}),s=r.options.attrValueProcessors?a(r.options.attrValueProcessors,o.attributes[l],l):o.attributes[l],u=r.options.attrNameProcessors?a(r.options.attrNameProcessors,l):l,r.options.mergeAttrs?r.assignOrPush(c,u,s):i(c[e],u,s));return c["#name"]=r.options.tagNameProcessors?a(r.options.tagNameProcessors,o.name):o.name,r.options.xmlns&&(c[r.options.xmlnskey]={uri:o.uri,local:o.local}),n.push(c)}}(this),this.saxParser.onclosetag=function(e){return function(){var r,o,s,c,u,p,h,f,g,m;if(p=n.pop(),u=p["#name"],e.options.explicitChildren&&e.options.preserveChildrenOrder||delete p["#name"],!0===p.cdata&&(r=p.cdata,delete p.cdata),g=n[n.length-1],p[t].match(/^\s*$/)&&!r?(o=p[t],delete p[t]):(e.options.trim&&(p[t]=p[t].trim()),e.options.normalize&&(p[t]=p[t].replace(/\s{2,}/g," ").trim()),p[t]=e.options.valueProcessors?a(e.options.valueProcessors,p[t],u):p[t],1===Object.keys(p).length&&t in p&&!e.EXPLICIT_CHARKEY&&(p=p[t])),l(p)&&(p="function"===typeof e.options.emptyTag?e.options.emptyTag():""!==e.options.emptyTag?e.options.emptyTag:o),null!=e.options.validator&&(m="/"+function(){var e,t,r;for(r=[],e=0,t=n.length;e<t;e++)c=n[e],r.push(c["#name"]);return r}().concat(u).join("/"),function(){var t;try{return p=e.options.validator(m,g&&g[u],p)}catch(r){return t=r,e.emit("error",t)}}()),e.options.explicitChildren&&!e.options.mergeAttrs&&"object"===typeof p)if(e.options.preserveChildrenOrder){if(g){for(s in g[e.options.childkey]=g[e.options.childkey]||[],h={},p)d.call(p,s)&&i(h,s,p[s]);g[e.options.childkey].push(h),delete p["#name"],1===Object.keys(p).length&&t in p&&!e.EXPLICIT_CHARKEY&&(p=p[t])}}else c={},e.options.attrkey in p&&(c[e.options.attrkey]=p[e.options.attrkey],delete p[e.options.attrkey]),!e.options.charsAsChildren&&e.options.charkey in p&&(c[e.options.charkey]=p[e.options.charkey],delete p[e.options.charkey]),Object.getOwnPropertyNames(p).length>0&&(c[e.options.childkey]=p),p=c;return n.length>0?e.assignOrPush(g,u,p):(e.options.explicitRoot&&(f=p,p={},i(p,u,f)),e.resultObject=p,e.saxParser.ended=!0,e.emit("end",e.resultObject))}}(this),r=function(e){return function(r){var i,o;if(o=n[n.length-1],o)return o[t]+=r,e.options.explicitChildren&&e.options.preserveChildrenOrder&&e.options.charsAsChildren&&(e.options.includeWhiteChars||""!==r.replace(/\\n/g,"").trim())&&(o[e.options.childkey]=o[e.options.childkey]||[],i={"#name":"__text__"},i[t]=r,e.options.normalize&&(i[t]=i[t].replace(/\s{2,}/g," ").trim()),o[e.options.childkey].push(i)),o}}(this),this.saxParser.ontext=r,this.saxParser.oncdata=function(){return function(e){var t;if(t=r(e),t)return t.cdata=!0}}()},o.prototype.parseString=function(t,r){var n;null!=r&&"function"===typeof r&&(this.on("end",(function(e){return this.reset(),r(null,e)})),this.on("error",(function(e){return this.reset(),r(e)})));try{return t=t.toString(),""===t.trim()?(this.emit("end",null),!0):(t=e.stripBOM(t),this.options.async?(this.remaining=t,u(this.processAsync),this.saxParser):this.saxParser.write(t).close())}catch(i){if(n=i,!this.saxParser.errThrown&&!this.saxParser.ended)return this.emit("error",n),this.saxParser.errThrown=!0;if(this.saxParser.ended)throw n}},o.prototype.parseStringPromise=function(e){return new Promise(function(t){return function(r,n){return t.parseString(e,(function(e,t){return e?n(e):r(t)}))}}(this))},o}(o),t.parseString=function(e,r,n){var i,o,l;return null!=n?("function"===typeof n&&(i=n),"object"===typeof r&&(o=r)):("function"===typeof r&&(i=r),o={}),l=new t.Parser(o),l.parseString(e,i)},t.parseStringPromise=function(e,r){var n,i;return"object"===typeof r&&(n=r),i=new t.Parser(n),i.parseStringPromise(e)}}.call(this)},1799:function(e,t){(function(){"use strict";var e;e=new RegExp(/(?!xmlns)^.*:/),t.normalize=function(e){return e.toLowerCase()},t.firstCharLowerCase=function(e){return e.charAt(0).toLowerCase()+e.slice(1)},t.stripPrefix=function(t){return t.replace(e,"")},t.parseNumbers=function(e){return isNaN(e)||(e=e%1===0?parseInt(e,10):parseFloat(e)),e},t.parseBooleans=function(e){return/^(?:true|false)$/i.test(e)&&(e="true"===e.toLowerCase()),e}}).call(this)},6604:function(e,t,r){(function(){"use strict";var e,n,i,o,l=function(e,t){for(var r in t)a.call(t,r)&&(e[r]=t[r]);function n(){this.constructor=e}return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},a={}.hasOwnProperty;n=r(7320),e=r(1395),i=r(1073),o=r(1799),t.defaults=n.defaults,t.processors=o,t.ValidationError=function(e){function t(e){this.message=e}return l(t,e),t}(Error),t.Builder=e.Builder,t.Parser=i.Parser,t.parseString=i.parseString,t.parseStringPromise=i.parseStringPromise}).call(this)},6266:function(e){(function(){e.exports={Disconnected:1,Preceding:2,Following:4,Contains:8,ContainedBy:16,ImplementationSpecific:32}}).call(this)},3688:function(e){(function(){e.exports={Element:1,Attribute:2,Text:3,CData:4,EntityReference:5,EntityDeclaration:6,ProcessingInstruction:7,Comment:8,Document:9,DocType:10,DocumentFragment:11,NotationDeclaration:12,Declaration:201,Raw:202,AttributeDeclaration:203,ElementDeclaration:204,Dummy:205}}).call(this)},3618:function(e){(function(){var t,r,n,i,o,l,a,s=[].slice,c={}.hasOwnProperty;t=function(){var e,t,r,n,i,l;if(l=arguments[0],i=2<=arguments.length?s.call(arguments,1):[],o(Object.assign))Object.assign.apply(null,arguments);else for(e=0,r=i.length;e<r;e++)if(n=i[e],null!=n)for(t in n)c.call(n,t)&&(l[t]=n[t]);return l},o=function(e){return!!e&&"[object Function]"===Object.prototype.toString.call(e)},l=function(e){var t;return!!e&&("function"===(t=typeof e)||"object"===t)},n=function(e){return o(Array.isArray)?Array.isArray(e):"[object Array]"===Object.prototype.toString.call(e)},i=function(e){var t;if(n(e))return!e.length;for(t in e)if(c.call(e,t))return!1;return!0},a=function(e){var t,r;return l(e)&&(r=Object.getPrototypeOf(e))&&(t=r.constructor)&&"function"===typeof t&&t instanceof t&&Function.prototype.toString.call(t)===Function.prototype.toString.call(Object)},r=function(e){return o(e.valueOf)?e.valueOf():e},e.exports.assign=t,e.exports.isFunction=o,e.exports.isObject=l,e.exports.isArray=n,e.exports.isEmpty=i,e.exports.isPlainObject=a,e.exports.getValue=r}).call(this)},9578:function(e){(function(){e.exports={None:0,OpenTag:1,InsideTag:2,CloseTag:3}}).call(this)},1127:function(e,t,r){(function(){var t;t=r(3688),r(6475),e.exports=function(){function e(e,r,n){if(this.parent=e,this.parent&&(this.options=this.parent.options,this.stringify=this.parent.stringify),null==r)throw new Error("Missing attribute name. "+this.debugInfo(r));this.name=this.stringify.name(r),this.value=this.stringify.attValue(n),this.type=t.Attribute,this.isId=!1,this.schemaTypeInfo=null}return Object.defineProperty(e.prototype,"nodeType",{get:function(){return this.type}}),Object.defineProperty(e.prototype,"ownerElement",{get:function(){return this.parent}}),Object.defineProperty(e.prototype,"textContent",{get:function(){return this.value},set:function(e){return this.value=e||""}}),Object.defineProperty(e.prototype,"namespaceURI",{get:function(){return""}}),Object.defineProperty(e.prototype,"prefix",{get:function(){return""}}),Object.defineProperty(e.prototype,"localName",{get:function(){return this.name}}),Object.defineProperty(e.prototype,"specified",{get:function(){return!0}}),e.prototype.clone=function(){return Object.create(this)},e.prototype.toString=function(e){return this.options.writer.attribute(this,this.options.writer.filterOptions(e))},e.prototype.debugInfo=function(e){return e=e||this.name,null==e?"parent: <"+this.parent.name+">":"attribute: {"+e+"}, parent: <"+this.parent.name+">"},e.prototype.isEqualNode=function(e){return e.namespaceURI===this.namespaceURI&&(e.prefix===this.prefix&&(e.localName===this.localName&&e.value===this.value))},e}()}).call(this)},3602:function(e,t,r){(function(){var t,n,i=function(e,t){for(var r in t)o.call(t,r)&&(e[r]=t[r]);function n(){this.constructor=e}return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},o={}.hasOwnProperty;t=r(3688),n=r(8372),e.exports=function(e){function r(e,n){if(r.__super__.constructor.call(this,e),null==n)throw new Error("Missing CDATA text. "+this.debugInfo());this.name="#cdata-section",this.type=t.CData,this.value=this.stringify.cdata(n)}return i(r,e),r.prototype.clone=function(){return Object.create(this)},r.prototype.toString=function(e){return this.options.writer.cdata(this,this.options.writer.filterOptions(e))},r}(n)}).call(this)},8372:function(e,t,r){(function(){var t,n=function(e,t){for(var r in t)i.call(t,r)&&(e[r]=t[r]);function n(){this.constructor=e}return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},i={}.hasOwnProperty;t=r(6475),e.exports=function(e){function t(e){t.__super__.constructor.call(this,e),this.value=""}return n(t,e),Object.defineProperty(t.prototype,"data",{get:function(){return this.value},set:function(e){return this.value=e||""}}),Object.defineProperty(t.prototype,"length",{get:function(){return this.value.length}}),Object.defineProperty(t.prototype,"textContent",{get:function(){return this.value},set:function(e){return this.value=e||""}}),t.prototype.clone=function(){return Object.create(this)},t.prototype.substringData=function(e,t){throw new Error("This DOM method is not implemented."+this.debugInfo())},t.prototype.appendData=function(e){throw new Error("This DOM method is not implemented."+this.debugInfo())},t.prototype.insertData=function(e,t){throw new Error("This DOM method is not implemented."+this.debugInfo())},t.prototype.deleteData=function(e,t){throw new Error("This DOM method is not implemented."+this.debugInfo())},t.prototype.replaceData=function(e,t,r){throw new Error("This DOM method is not implemented."+this.debugInfo())},t.prototype.isEqualNode=function(e){return!!t.__super__.isEqualNode.apply(this,arguments).isEqualNode(e)&&e.data===this.data},t}(t)}).call(this)},5894:function(e,t,r){(function(){var t,n,i=function(e,t){for(var r in t)o.call(t,r)&&(e[r]=t[r]);function n(){this.constructor=e}return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},o={}.hasOwnProperty;t=r(3688),n=r(8372),e.exports=function(e){function r(e,n){if(r.__super__.constructor.call(this,e),null==n)throw new Error("Missing comment text. "+this.debugInfo());this.name="#comment",this.type=t.Comment,this.value=this.stringify.comment(n)}return i(r,e),r.prototype.clone=function(){return Object.create(this)},r.prototype.toString=function(e){return this.options.writer.comment(this,this.options.writer.filterOptions(e))},r}(n)}).call(this)},7841:function(e,t,r){(function(){var t,n;t=r(5965),n=r(226),e.exports=function(){function e(){this.defaultParams={"canonical-form":!1,"cdata-sections":!1,comments:!1,"datatype-normalization":!1,"element-content-whitespace":!0,entities:!0,"error-handler":new t,infoset:!0,"validate-if-schema":!1,namespaces:!0,"namespace-declarations":!0,"normalize-characters":!1,"schema-location":"","schema-type":"","split-cdata-sections":!0,validate:!1,"well-formed":!0},this.params=Object.create(this.defaultParams)}return Object.defineProperty(e.prototype,"parameterNames",{get:function(){return new n(Object.keys(this.defaultParams))}}),e.prototype.getParameter=function(e){return this.params.hasOwnProperty(e)?this.params[e]:null},e.prototype.canSetParameter=function(e,t){return!0},e.prototype.setParameter=function(e,t){return null!=t?this.params[e]=t:delete this.params[e]},e}()}).call(this)},5965:function(e){(function(){e.exports=function(){function e(){}return e.prototype.handleError=function(e){throw new Error(e)},e}()}).call(this)},5617:function(e){(function(){e.exports=function(){function e(){}return e.prototype.hasFeature=function(e,t){return!0},e.prototype.createDocumentType=function(e,t,r){throw new Error("This DOM method is not implemented.")},e.prototype.createDocument=function(e,t,r){throw new Error("This DOM method is not implemented.")},e.prototype.createHTMLDocument=function(e){throw new Error("This DOM method is not implemented.")},e.prototype.getFeature=function(e,t){throw new Error("This DOM method is not implemented.")},e}()}).call(this)},226:function(e){(function(){e.exports=function(){function e(e){this.arr=e||[]}return Object.defineProperty(e.prototype,"length",{get:function(){return this.arr.length}}),e.prototype.item=function(e){return this.arr[e]||null},e.prototype.contains=function(e){return-1!==this.arr.indexOf(e)},e}()}).call(this)},4500:function(e,t,r){(function(){var t,n,i=function(e,t){for(var r in t)o.call(t,r)&&(e[r]=t[r]);function n(){this.constructor=e}return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},o={}.hasOwnProperty;n=r(6475),t=r(3688),e.exports=function(e){function r(e,n,i,o,l,a){if(r.__super__.constructor.call(this,e),null==n)throw new Error("Missing DTD element name. "+this.debugInfo());if(null==i)throw new Error("Missing DTD attribute name. "+this.debugInfo(n));if(!o)throw new Error("Missing DTD attribute type. "+this.debugInfo(n));if(!l)throw new Error("Missing DTD attribute default. "+this.debugInfo(n));if(0!==l.indexOf("#")&&(l="#"+l),!l.match(/^(#REQUIRED|#IMPLIED|#FIXED|#DEFAULT)$/))throw new Error("Invalid default value type; expected: #REQUIRED, #IMPLIED, #FIXED or #DEFAULT. "+this.debugInfo(n));if(a&&!l.match(/^(#FIXED|#DEFAULT)$/))throw new Error("Default value only applies to #FIXED or #DEFAULT. "+this.debugInfo(n));this.elementName=this.stringify.name(n),this.type=t.AttributeDeclaration,this.attributeName=this.stringify.name(i),this.attributeType=this.stringify.dtdAttType(o),a&&(this.defaultValue=this.stringify.dtdAttDefault(a)),this.defaultValueType=l}return i(r,e),r.prototype.toString=function(e){return this.options.writer.dtdAttList(this,this.options.writer.filterOptions(e))},r}(n)}).call(this)},4779:function(e,t,r){(function(){var t,n,i=function(e,t){for(var r in t)o.call(t,r)&&(e[r]=t[r]);function n(){this.constructor=e}return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},o={}.hasOwnProperty;n=r(6475),t=r(3688),e.exports=function(e){function r(e,n,i){if(r.__super__.constructor.call(this,e),null==n)throw new Error("Missing DTD element name. "+this.debugInfo());i||(i="(#PCDATA)"),Array.isArray(i)&&(i="("+i.join(",")+")"),this.name=this.stringify.name(n),this.type=t.ElementDeclaration,this.value=this.stringify.dtdElementValue(i)}return i(r,e),r.prototype.toString=function(e){return this.options.writer.dtdElement(this,this.options.writer.filterOptions(e))},r}(n)}).call(this)},9204:function(e,t,r){(function(){var t,n,i,o=function(e,t){for(var r in t)l.call(t,r)&&(e[r]=t[r]);function n(){this.constructor=e}return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},l={}.hasOwnProperty;i=r(3618).isObject,n=r(6475),t=r(3688),e.exports=function(e){function r(e,n,o,l){if(r.__super__.constructor.call(this,e),null==o)throw new Error("Missing DTD entity name. "+this.debugInfo(o));if(null==l)throw new Error("Missing DTD entity value. "+this.debugInfo(o));if(this.pe=!!n,this.name=this.stringify.name(o),this.type=t.EntityDeclaration,i(l)){if(!l.pubID&&!l.sysID)throw new Error("Public and/or system identifiers are required for an external entity. "+this.debugInfo(o));if(l.pubID&&!l.sysID)throw new Error("System identifier is required for a public external entity. "+this.debugInfo(o));if(this.internal=!1,null!=l.pubID&&(this.pubID=this.stringify.dtdPubID(l.pubID)),null!=l.sysID&&(this.sysID=this.stringify.dtdSysID(l.sysID)),null!=l.nData&&(this.nData=this.stringify.dtdNData(l.nData)),this.pe&&this.nData)throw new Error("Notation declaration is not allowed in a parameter entity. "+this.debugInfo(o))}else this.value=this.stringify.dtdEntityValue(l),this.internal=!0}return o(r,e),Object.defineProperty(r.prototype,"publicId",{get:function(){return this.pubID}}),Object.defineProperty(r.prototype,"systemId",{get:function(){return this.sysID}}),Object.defineProperty(r.prototype,"notationName",{get:function(){return this.nData||null}}),Object.defineProperty(r.prototype,"inputEncoding",{get:function(){return null}}),Object.defineProperty(r.prototype,"xmlEncoding",{get:function(){return null}}),Object.defineProperty(r.prototype,"xmlVersion",{get:function(){return null}}),r.prototype.toString=function(e){return this.options.writer.dtdEntity(this,this.options.writer.filterOptions(e))},r}(n)}).call(this)},8385:function(e,t,r){(function(){var t,n,i=function(e,t){for(var r in t)o.call(t,r)&&(e[r]=t[r]);function n(){this.constructor=e}return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},o={}.hasOwnProperty;n=r(6475),t=r(3688),e.exports=function(e){function r(e,n,i){if(r.__super__.constructor.call(this,e),null==n)throw new Error("Missing DTD notation name. "+this.debugInfo(n));if(!i.pubID&&!i.sysID)throw new Error("Public or system identifiers are required for an external entity. "+this.debugInfo(n));this.name=this.stringify.name(n),this.type=t.NotationDeclaration,null!=i.pubID&&(this.pubID=this.stringify.dtdPubID(i.pubID)),null!=i.sysID&&(this.sysID=this.stringify.dtdSysID(i.sysID))}return i(r,e),Object.defineProperty(r.prototype,"publicId",{get:function(){return this.pubID}}),Object.defineProperty(r.prototype,"systemId",{get:function(){return this.sysID}}),r.prototype.toString=function(e){return this.options.writer.dtdNotation(this,this.options.writer.filterOptions(e))},r}(n)}).call(this)},2251:function(e,t,r){(function(){var t,n,i,o=function(e,t){for(var r in t)l.call(t,r)&&(e[r]=t[r]);function n(){this.constructor=e}return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},l={}.hasOwnProperty;i=r(3618).isObject,n=r(6475),t=r(3688),e.exports=function(e){function r(e,n,o,l){var a;r.__super__.constructor.call(this,e),i(n)&&(a=n,n=a.version,o=a.encoding,l=a.standalone),n||(n="1.0"),this.type=t.Declaration,this.version=this.stringify.xmlVersion(n),null!=o&&(this.encoding=this.stringify.xmlEncoding(o)),null!=l&&(this.standalone=this.stringify.xmlStandalone(l))}return o(r,e),r.prototype.toString=function(e){return this.options.writer.declaration(this,this.options.writer.filterOptions(e))},r}(n)}).call(this)},777:function(e,t,r){r(4114),function(){var t,n,i,o,l,a,s,c,u=function(e,t){for(var r in t)p.call(t,r)&&(e[r]=t[r]);function n(){this.constructor=e}return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},p={}.hasOwnProperty;c=r(3618).isObject,s=r(6475),t=r(3688),n=r(4500),o=r(9204),i=r(4779),l=r(8385),a=r(7618),e.exports=function(e){function r(e,n,i){var o,l,a,s,u,p;if(r.__super__.constructor.call(this,e),this.type=t.DocType,e.children)for(s=e.children,l=0,a=s.length;l<a;l++)if(o=s[l],o.type===t.Element){this.name=o.name;break}this.documentObject=e,c(n)&&(u=n,n=u.pubID,i=u.sysID),null==i&&(p=[n,i],i=p[0],n=p[1]),null!=n&&(this.pubID=this.stringify.dtdPubID(n)),null!=i&&(this.sysID=this.stringify.dtdSysID(i))}return u(r,e),Object.defineProperty(r.prototype,"entities",{get:function(){var e,r,n,i,o;for(i={},o=this.children,r=0,n=o.length;r<n;r++)e=o[r],e.type!==t.EntityDeclaration||e.pe||(i[e.name]=e);return new a(i)}}),Object.defineProperty(r.prototype,"notations",{get:function(){var e,r,n,i,o;for(i={},o=this.children,r=0,n=o.length;r<n;r++)e=o[r],e.type===t.NotationDeclaration&&(i[e.name]=e);return new a(i)}}),Object.defineProperty(r.prototype,"publicId",{get:function(){return this.pubID}}),Object.defineProperty(r.prototype,"systemId",{get:function(){return this.sysID}}),Object.defineProperty(r.prototype,"internalSubset",{get:function(){throw new Error("This DOM method is not implemented."+this.debugInfo())}}),r.prototype.element=function(e,t){var r;return r=new i(this,e,t),this.children.push(r),this},r.prototype.attList=function(e,t,r,i,o){var l;return l=new n(this,e,t,r,i,o),this.children.push(l),this},r.prototype.entity=function(e,t){var r;return r=new o(this,!1,e,t),this.children.push(r),this},r.prototype.pEntity=function(e,t){var r;return r=new o(this,!0,e,t),this.children.push(r),this},r.prototype.notation=function(e,t){var r;return r=new l(this,e,t),this.children.push(r),this},r.prototype.toString=function(e){return this.options.writer.docType(this,this.options.writer.filterOptions(e))},r.prototype.ele=function(e,t){return this.element(e,t)},r.prototype.att=function(e,t,r,n,i){return this.attList(e,t,r,n,i)},r.prototype.ent=function(e,t){return this.entity(e,t)},r.prototype.pent=function(e,t){return this.pEntity(e,t)},r.prototype.not=function(e,t){return this.notation(e,t)},r.prototype.up=function(){return this.root()||this.documentObject},r.prototype.isEqualNode=function(e){return!!r.__super__.isEqualNode.apply(this,arguments).isEqualNode(e)&&(e.name===this.name&&(e.publicId===this.publicId&&e.systemId===this.systemId))},r}(s)}.call(this)},4626:function(e,t,r){(function(){var t,n,i,o,l,a,s,c=function(e,t){for(var r in t)u.call(t,r)&&(e[r]=t[r]);function n(){this.constructor=e}return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},u={}.hasOwnProperty;s=r(3618).isPlainObject,i=r(5617),n=r(7841),o=r(6475),t=r(3688),a=r(9557),l=r(3113),e.exports=function(e){function r(e){r.__super__.constructor.call(this,null),this.name="#document",this.type=t.Document,this.documentURI=null,this.domConfig=new n,e||(e={}),e.writer||(e.writer=new l),this.options=e,this.stringify=new a(e)}return c(r,e),Object.defineProperty(r.prototype,"implementation",{value:new i}),Object.defineProperty(r.prototype,"doctype",{get:function(){var e,r,n,i;for(i=this.children,r=0,n=i.length;r<n;r++)if(e=i[r],e.type===t.DocType)return e;return null}}),Object.defineProperty(r.prototype,"documentElement",{get:function(){return this.rootObject||null}}),Object.defineProperty(r.prototype,"inputEncoding",{get:function(){return null}}),Object.defineProperty(r.prototype,"strictErrorChecking",{get:function(){return!1}}),Object.defineProperty(r.prototype,"xmlEncoding",{get:function(){return 0!==this.children.length&&this.children[0].type===t.Declaration?this.children[0].encoding:null}}),Object.defineProperty(r.prototype,"xmlStandalone",{get:function(){return 0!==this.children.length&&this.children[0].type===t.Declaration&&"yes"===this.children[0].standalone}}),Object.defineProperty(r.prototype,"xmlVersion",{get:function(){return 0!==this.children.length&&this.children[0].type===t.Declaration?this.children[0].version:"1.0"}}),Object.defineProperty(r.prototype,"URL",{get:function(){return this.documentURI}}),Object.defineProperty(r.prototype,"origin",{get:function(){return null}}),Object.defineProperty(r.prototype,"compatMode",{get:function(){return null}}),Object.defineProperty(r.prototype,"characterSet",{get:function(){return null}}),Object.defineProperty(r.prototype,"contentType",{get:function(){return null}}),r.prototype.end=function(e){var t;return t={},e?s(e)&&(t=e,e=this.options.writer):e=this.options.writer,e.document(this,e.filterOptions(t))},r.prototype.toString=function(e){return this.options.writer.document(this,this.options.writer.filterOptions(e))},r.prototype.createElement=function(e){throw new Error("This DOM method is not implemented."+this.debugInfo())},r.prototype.createDocumentFragment=function(){throw new Error("This DOM method is not implemented."+this.debugInfo())},r.prototype.createTextNode=function(e){throw new Error("This DOM method is not implemented."+this.debugInfo())},r.prototype.createComment=function(e){throw new Error("This DOM method is not implemented."+this.debugInfo())},r.prototype.createCDATASection=function(e){throw new Error("This DOM method is not implemented."+this.debugInfo())},r.prototype.createProcessingInstruction=function(e,t){throw new Error("This DOM method is not implemented."+this.debugInfo())},r.prototype.createAttribute=function(e){throw new Error("This DOM method is not implemented."+this.debugInfo())},r.prototype.createEntityReference=function(e){throw new Error("This DOM method is not implemented."+this.debugInfo())},r.prototype.getElementsByTagName=function(e){throw new Error("This DOM method is not implemented."+this.debugInfo())},r.prototype.importNode=function(e,t){throw new Error("This DOM method is not implemented."+this.debugInfo())},r.prototype.createElementNS=function(e,t){throw new Error("This DOM method is not implemented."+this.debugInfo())},r.prototype.createAttributeNS=function(e,t){throw new Error("This DOM method is not implemented."+this.debugInfo())},r.prototype.getElementsByTagNameNS=function(e,t){throw new Error("This DOM method is not implemented."+this.debugInfo())},r.prototype.getElementById=function(e){throw new Error("This DOM method is not implemented."+this.debugInfo())},r.prototype.adoptNode=function(e){throw new Error("This DOM method is not implemented."+this.debugInfo())},r.prototype.normalizeDocument=function(){throw new Error("This DOM method is not implemented."+this.debugInfo())},r.prototype.renameNode=function(e,t,r){throw new Error("This DOM method is not implemented."+this.debugInfo())},r.prototype.getElementsByClassName=function(e){throw new Error("This DOM method is not implemented."+this.debugInfo())},r.prototype.createEvent=function(e){throw new Error("This DOM method is not implemented."+this.debugInfo())},r.prototype.createRange=function(){throw new Error("This DOM method is not implemented."+this.debugInfo())},r.prototype.createNodeIterator=function(e,t,r){throw new Error("This DOM method is not implemented."+this.debugInfo())},r.prototype.createTreeWalker=function(e,t,r){throw new Error("This DOM method is not implemented."+this.debugInfo())},r}(o)}).call(this)},7627:function(e,t,r){(function(){var t,n,i,o,l,a,s,c,u,p,h,d,f,g,m,v,y,A,w,_,T,b,x,E={}.hasOwnProperty;x=r(3618),T=x.isObject,_=x.isFunction,b=x.isPlainObject,w=x.getValue,t=r(3688),d=r(4626),f=r(1727),o=r(3602),l=r(5894),m=r(7705),A=r(4980),g=r(4706),p=r(2251),h=r(777),a=r(4500),c=r(9204),s=r(4779),u=r(8385),i=r(1127),y=r(9557),v=r(3113),n=r(9578),e.exports=function(){function e(e,r,n){var i;this.name="?xml",this.type=t.Document,e||(e={}),i={},e.writer?b(e.writer)&&(i=e.writer,e.writer=new v):e.writer=new v,this.options=e,this.writer=e.writer,this.writerOptions=this.writer.filterOptions(i),this.stringify=new y(e),this.onDataCallback=r||function(){},this.onEndCallback=n||function(){},this.currentNode=null,this.currentLevel=-1,this.openTags={},this.documentStarted=!1,this.documentCompleted=!1,this.root=null}return e.prototype.createChildNode=function(e){var r,n,i,o,l,a,s,c;switch(e.type){case t.CData:this.cdata(e.value);break;case t.Comment:this.comment(e.value);break;case t.Element:for(n in i={},s=e.attribs,s)E.call(s,n)&&(r=s[n],i[n]=r.value);this.node(e.name,i);break;case t.Dummy:this.dummy();break;case t.Raw:this.raw(e.value);break;case t.Text:this.text(e.value);break;case t.ProcessingInstruction:this.instruction(e.target,e.value);break;default:throw new Error("This XML node type is not supported in a JS object: "+e.constructor.name)}for(c=e.children,l=0,a=c.length;l<a;l++)o=c[l],this.createChildNode(o),o.type===t.Element&&this.up();return this},e.prototype.dummy=function(){return this},e.prototype.node=function(e,t,r){var n;if(null==e)throw new Error("Missing node name.");if(this.root&&-1===this.currentLevel)throw new Error("Document can only have one root node. "+this.debugInfo(e));return this.openCurrent(),e=w(e),null==t&&(t={}),t=w(t),T(t)||(n=[t,r],r=n[0],t=n[1]),this.currentNode=new f(this,e,t),this.currentNode.children=!1,this.currentLevel++,this.openTags[this.currentLevel]=this.currentNode,null!=r&&this.text(r),this},e.prototype.element=function(e,r,n){var i,o,l,a,s,c;if(this.currentNode&&this.currentNode.type===t.DocType)this.dtdElement.apply(this,arguments);else if(Array.isArray(e)||T(e)||_(e))for(a=this.options.noValidation,this.options.noValidation=!0,c=new d(this.options).element("TEMP_ROOT"),c.element(e),this.options.noValidation=a,s=c.children,o=0,l=s.length;o<l;o++)i=s[o],this.createChildNode(i),i.type===t.Element&&this.up();else this.node(e,r,n);return this},e.prototype.attribute=function(e,t){var r,n;if(!this.currentNode||this.currentNode.children)throw new Error("att() can only be used immediately after an ele() call in callback mode. "+this.debugInfo(e));if(null!=e&&(e=w(e)),T(e))for(r in e)E.call(e,r)&&(n=e[r],this.attribute(r,n));else _(t)&&(t=t.apply()),this.options.keepNullAttributes&&null==t?this.currentNode.attribs[e]=new i(this,e,""):null!=t&&(this.currentNode.attribs[e]=new i(this,e,t));return this},e.prototype.text=function(e){var t;return this.openCurrent(),t=new A(this,e),this.onData(this.writer.text(t,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this},e.prototype.cdata=function(e){var t;return this.openCurrent(),t=new o(this,e),this.onData(this.writer.cdata(t,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this},e.prototype.comment=function(e){var t;return this.openCurrent(),t=new l(this,e),this.onData(this.writer.comment(t,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this},e.prototype.raw=function(e){var t;return this.openCurrent(),t=new m(this,e),this.onData(this.writer.raw(t,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this},e.prototype.instruction=function(e,t){var r,n,i,o,l;if(this.openCurrent(),null!=e&&(e=w(e)),null!=t&&(t=w(t)),Array.isArray(e))for(r=0,o=e.length;r<o;r++)n=e[r],this.instruction(n);else if(T(e))for(n in e)E.call(e,n)&&(i=e[n],this.instruction(n,i));else _(t)&&(t=t.apply()),l=new g(this,e,t),this.onData(this.writer.processingInstruction(l,this.writerOptions,this.currentLevel+1),this.currentLevel+1);return this},e.prototype.declaration=function(e,t,r){var n;if(this.openCurrent(),this.documentStarted)throw new Error("declaration() must be the first node.");return n=new p(this,e,t,r),this.onData(this.writer.declaration(n,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this},e.prototype.doctype=function(e,t,r){if(this.openCurrent(),null==e)throw new Error("Missing root node name.");if(this.root)throw new Error("dtd() must come before the root node.");return this.currentNode=new h(this,t,r),this.currentNode.rootNodeName=e,this.currentNode.children=!1,this.currentLevel++,this.openTags[this.currentLevel]=this.currentNode,this},e.prototype.dtdElement=function(e,t){var r;return this.openCurrent(),r=new s(this,e,t),this.onData(this.writer.dtdElement(r,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this},e.prototype.attList=function(e,t,r,n,i){var o;return this.openCurrent(),o=new a(this,e,t,r,n,i),this.onData(this.writer.dtdAttList(o,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this},e.prototype.entity=function(e,t){var r;return this.openCurrent(),r=new c(this,!1,e,t),this.onData(this.writer.dtdEntity(r,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this},e.prototype.pEntity=function(e,t){var r;return this.openCurrent(),r=new c(this,!0,e,t),this.onData(this.writer.dtdEntity(r,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this},e.prototype.notation=function(e,t){var r;return this.openCurrent(),r=new u(this,e,t),this.onData(this.writer.dtdNotation(r,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this},e.prototype.up=function(){if(this.currentLevel<0)throw new Error("The document node has no parent.");return this.currentNode?(this.currentNode.children?this.closeNode(this.currentNode):this.openNode(this.currentNode),this.currentNode=null):this.closeNode(this.openTags[this.currentLevel]),delete this.openTags[this.currentLevel],this.currentLevel--,this},e.prototype.end=function(){while(this.currentLevel>=0)this.up();return this.onEnd()},e.prototype.openCurrent=function(){if(this.currentNode)return this.currentNode.children=!0,this.openNode(this.currentNode)},e.prototype.openNode=function(e){var r,i,o,l;if(!e.isOpen){if(this.root||0!==this.currentLevel||e.type!==t.Element||(this.root=e),i="",e.type===t.Element){for(o in this.writerOptions.state=n.OpenTag,i=this.writer.indent(e,this.writerOptions,this.currentLevel)+"<"+e.name,l=e.attribs,l)E.call(l,o)&&(r=l[o],i+=this.writer.attribute(r,this.writerOptions,this.currentLevel));i+=(e.children?">":"/>")+this.writer.endline(e,this.writerOptions,this.currentLevel),this.writerOptions.state=n.InsideTag}else this.writerOptions.state=n.OpenTag,i=this.writer.indent(e,this.writerOptions,this.currentLevel)+"<!DOCTYPE "+e.rootNodeName,e.pubID&&e.sysID?i+=' PUBLIC "'+e.pubID+'" "'+e.sysID+'"':e.sysID&&(i+=' SYSTEM "'+e.sysID+'"'),e.children?(i+=" [",this.writerOptions.state=n.InsideTag):(this.writerOptions.state=n.CloseTag,i+=">"),i+=this.writer.endline(e,this.writerOptions,this.currentLevel);return this.onData(i,this.currentLevel),e.isOpen=!0}},e.prototype.closeNode=function(e){var r;if(!e.isClosed)return r="",this.writerOptions.state=n.CloseTag,r=e.type===t.Element?this.writer.indent(e,this.writerOptions,this.currentLevel)+"</"+e.name+">"+this.writer.endline(e,this.writerOptions,this.currentLevel):this.writer.indent(e,this.writerOptions,this.currentLevel)+"]>"+this.writer.endline(e,this.writerOptions,this.currentLevel),this.writerOptions.state=n.None,this.onData(r,this.currentLevel),e.isClosed=!0},e.prototype.onData=function(e,t){return this.documentStarted=!0,this.onDataCallback(e,t+1)},e.prototype.onEnd=function(){return this.documentCompleted=!0,this.onEndCallback()},e.prototype.debugInfo=function(e){return null==e?"":"node: <"+e+">"},e.prototype.ele=function(){return this.element.apply(this,arguments)},e.prototype.nod=function(e,t,r){return this.node(e,t,r)},e.prototype.txt=function(e){return this.text(e)},e.prototype.dat=function(e){return this.cdata(e)},e.prototype.com=function(e){return this.comment(e)},e.prototype.ins=function(e,t){return this.instruction(e,t)},e.prototype.dec=function(e,t,r){return this.declaration(e,t,r)},e.prototype.dtd=function(e,t,r){return this.doctype(e,t,r)},e.prototype.e=function(e,t,r){return this.element(e,t,r)},e.prototype.n=function(e,t,r){return this.node(e,t,r)},e.prototype.t=function(e){return this.text(e)},e.prototype.d=function(e){return this.cdata(e)},e.prototype.c=function(e){return this.comment(e)},e.prototype.r=function(e){return this.raw(e)},e.prototype.i=function(e,t){return this.instruction(e,t)},e.prototype.att=function(){return this.currentNode&&this.currentNode.type===t.DocType?this.attList.apply(this,arguments):this.attribute.apply(this,arguments)},e.prototype.a=function(){return this.currentNode&&this.currentNode.type===t.DocType?this.attList.apply(this,arguments):this.attribute.apply(this,arguments)},e.prototype.ent=function(e,t){return this.entity(e,t)},e.prototype.pent=function(e,t){return this.pEntity(e,t)},e.prototype.not=function(e,t){return this.notation(e,t)},e}()}).call(this)},6355:function(e,t,r){(function(){var t,n,i=function(e,t){for(var r in t)o.call(t,r)&&(e[r]=t[r]);function n(){this.constructor=e}return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},o={}.hasOwnProperty;n=r(6475),t=r(3688),e.exports=function(e){function r(e){r.__super__.constructor.call(this,e),this.type=t.Dummy}return i(r,e),r.prototype.clone=function(){return Object.create(this)},r.prototype.toString=function(e){return""},r}(n)}).call(this)},1727:function(e,t,r){r(4114),function(){var t,n,i,o,l,a,s,c,u=function(e,t){for(var r in t)p.call(t,r)&&(e[r]=t[r]);function n(){this.constructor=e}return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},p={}.hasOwnProperty;c=r(3618),s=c.isObject,a=c.isFunction,l=c.getValue,o=r(6475),t=r(3688),n=r(1127),i=r(7618),e.exports=function(e){function r(e,n,i){var o,l,a,s;if(r.__super__.constructor.call(this,e),null==n)throw new Error("Missing element name. "+this.debugInfo());if(this.name=this.stringify.name(n),this.type=t.Element,this.attribs={},this.schemaTypeInfo=null,null!=i&&this.attribute(i),e.type===t.Document&&(this.isRoot=!0,this.documentObject=e,e.rootObject=this,e.children))for(s=e.children,l=0,a=s.length;l<a;l++)if(o=s[l],o.type===t.DocType){o.name=this.name;break}}return u(r,e),Object.defineProperty(r.prototype,"tagName",{get:function(){return this.name}}),Object.defineProperty(r.prototype,"namespaceURI",{get:function(){return""}}),Object.defineProperty(r.prototype,"prefix",{get:function(){return""}}),Object.defineProperty(r.prototype,"localName",{get:function(){return this.name}}),Object.defineProperty(r.prototype,"id",{get:function(){throw new Error("This DOM method is not implemented."+this.debugInfo())}}),Object.defineProperty(r.prototype,"className",{get:function(){throw new Error("This DOM method is not implemented."+this.debugInfo())}}),Object.defineProperty(r.prototype,"classList",{get:function(){throw new Error("This DOM method is not implemented."+this.debugInfo())}}),Object.defineProperty(r.prototype,"attributes",{get:function(){return this.attributeMap&&this.attributeMap.nodes||(this.attributeMap=new i(this.attribs)),this.attributeMap}}),r.prototype.clone=function(){var e,t,r,n;for(t in r=Object.create(this),r.isRoot&&(r.documentObject=null),r.attribs={},n=this.attribs,n)p.call(n,t)&&(e=n[t],r.attribs[t]=e.clone());return r.children=[],this.children.forEach((function(e){var t;return t=e.clone(),t.parent=r,r.children.push(t)})),r},r.prototype.attribute=function(e,t){var r,i;if(null!=e&&(e=l(e)),s(e))for(r in e)p.call(e,r)&&(i=e[r],this.attribute(r,i));else a(t)&&(t=t.apply()),this.options.keepNullAttributes&&null==t?this.attribs[e]=new n(this,e,""):null!=t&&(this.attribs[e]=new n(this,e,t));return this},r.prototype.removeAttribute=function(e){var t,r,n;if(null==e)throw new Error("Missing attribute name. "+this.debugInfo());if(e=l(e),Array.isArray(e))for(r=0,n=e.length;r<n;r++)t=e[r],delete this.attribs[t];else delete this.attribs[e];return this},r.prototype.toString=function(e){return this.options.writer.element(this,this.options.writer.filterOptions(e))},r.prototype.att=function(e,t){return this.attribute(e,t)},r.prototype.a=function(e,t){return this.attribute(e,t)},r.prototype.getAttribute=function(e){return this.attribs.hasOwnProperty(e)?this.attribs[e].value:null},r.prototype.setAttribute=function(e,t){throw new Error("This DOM method is not implemented."+this.debugInfo())},r.prototype.getAttributeNode=function(e){return this.attribs.hasOwnProperty(e)?this.attribs[e]:null},r.prototype.setAttributeNode=function(e){throw new Error("This DOM method is not implemented."+this.debugInfo())},r.prototype.removeAttributeNode=function(e){throw new Error("This DOM method is not implemented."+this.debugInfo())},r.prototype.getElementsByTagName=function(e){throw new Error("This DOM method is not implemented."+this.debugInfo())},r.prototype.getAttributeNS=function(e,t){throw new Error("This DOM method is not implemented."+this.debugInfo())},r.prototype.setAttributeNS=function(e,t,r){throw new Error("This DOM method is not implemented."+this.debugInfo())},r.prototype.removeAttributeNS=function(e,t){throw new Error("This DOM method is not implemented."+this.debugInfo())},r.prototype.getAttributeNodeNS=function(e,t){throw new Error("This DOM method is not implemented."+this.debugInfo())},r.prototype.setAttributeNodeNS=function(e){throw new Error("This DOM method is not implemented."+this.debugInfo())},r.prototype.getElementsByTagNameNS=function(e,t){throw new Error("This DOM method is not implemented."+this.debugInfo())},r.prototype.hasAttribute=function(e){return this.attribs.hasOwnProperty(e)},r.prototype.hasAttributeNS=function(e,t){throw new Error("This DOM method is not implemented."+this.debugInfo())},r.prototype.setIdAttribute=function(e,t){return this.attribs.hasOwnProperty(e)?this.attribs[e].isId:t},r.prototype.setIdAttributeNS=function(e,t,r){throw new Error("This DOM method is not implemented."+this.debugInfo())},r.prototype.setIdAttributeNode=function(e,t){throw new Error("This DOM method is not implemented."+this.debugInfo())},r.prototype.getElementsByTagName=function(e){throw new Error("This DOM method is not implemented."+this.debugInfo())},r.prototype.getElementsByTagNameNS=function(e,t){throw new Error("This DOM method is not implemented."+this.debugInfo())},r.prototype.getElementsByClassName=function(e){throw new Error("This DOM method is not implemented."+this.debugInfo())},r.prototype.isEqualNode=function(e){var t,n,i;if(!r.__super__.isEqualNode.apply(this,arguments).isEqualNode(e))return!1;if(e.namespaceURI!==this.namespaceURI)return!1;if(e.prefix!==this.prefix)return!1;if(e.localName!==this.localName)return!1;if(e.attribs.length!==this.attribs.length)return!1;for(t=n=0,i=this.attribs.length-1;0<=i?n<=i:n>=i;t=0<=i?++n:--n)if(!this.attribs[t].isEqualNode(e.attribs[t]))return!1;return!0},r}(o)}.call(this)},7618:function(e){(function(){e.exports=function(){function e(e){this.nodes=e}return Object.defineProperty(e.prototype,"length",{get:function(){return Object.keys(this.nodes).length||0}}),e.prototype.clone=function(){return this.nodes=null},e.prototype.getNamedItem=function(e){return this.nodes[e]},e.prototype.setNamedItem=function(e){var t;return t=this.nodes[e.nodeName],this.nodes[e.nodeName]=e,t||null},e.prototype.removeNamedItem=function(e){var t;return t=this.nodes[e],delete this.nodes[e],t||null},e.prototype.item=function(e){return this.nodes[Object.keys(this.nodes)[e]]||null},e.prototype.getNamedItemNS=function(e,t){throw new Error("This DOM method is not implemented.")},e.prototype.setNamedItemNS=function(e){throw new Error("This DOM method is not implemented.")},e.prototype.removeNamedItemNS=function(e,t){throw new Error("This DOM method is not implemented.")},e}()}).call(this)},6475:function(e,t,r){r(4114),function(){var t,n,i,o,l,a,s,c,u,p,h,d,f,g,m,v,y,A={}.hasOwnProperty;y=r(3618),v=y.isObject,m=y.isFunction,g=y.isEmpty,f=y.getValue,c=null,i=null,o=null,l=null,a=null,h=null,d=null,p=null,s=null,n=null,u=null,t=null,e.exports=function(){function e(e){this.parent=e,this.parent&&(this.options=this.parent.options,this.stringify=this.parent.stringify),this.value=null,this.children=[],this.baseURI=null,c||(c=r(1727),i=r(3602),o=r(5894),l=r(2251),a=r(777),h=r(7705),d=r(4980),p=r(4706),s=r(6355),n=r(3688),u=r(6147),r(7618),t=r(6266))}return Object.defineProperty(e.prototype,"nodeName",{get:function(){return this.name}}),Object.defineProperty(e.prototype,"nodeType",{get:function(){return this.type}}),Object.defineProperty(e.prototype,"nodeValue",{get:function(){return this.value}}),Object.defineProperty(e.prototype,"parentNode",{get:function(){return this.parent}}),Object.defineProperty(e.prototype,"childNodes",{get:function(){return this.childNodeList&&this.childNodeList.nodes||(this.childNodeList=new u(this.children)),this.childNodeList}}),Object.defineProperty(e.prototype,"firstChild",{get:function(){return this.children[0]||null}}),Object.defineProperty(e.prototype,"lastChild",{get:function(){return this.children[this.children.length-1]||null}}),Object.defineProperty(e.prototype,"previousSibling",{get:function(){var e;return e=this.parent.children.indexOf(this),this.parent.children[e-1]||null}}),Object.defineProperty(e.prototype,"nextSibling",{get:function(){var e;return e=this.parent.children.indexOf(this),this.parent.children[e+1]||null}}),Object.defineProperty(e.prototype,"ownerDocument",{get:function(){return this.document()||null}}),Object.defineProperty(e.prototype,"textContent",{get:function(){var e,t,r,i,o;if(this.nodeType===n.Element||this.nodeType===n.DocumentFragment){for(o="",i=this.children,t=0,r=i.length;t<r;t++)e=i[t],e.textContent&&(o+=e.textContent);return o}return null},set:function(e){throw new Error("This DOM method is not implemented."+this.debugInfo())}}),e.prototype.setParent=function(e){var t,r,n,i,o;for(this.parent=e,e&&(this.options=e.options,this.stringify=e.stringify),i=this.children,o=[],r=0,n=i.length;r<n;r++)t=i[r],o.push(t.setParent(this));return o},e.prototype.element=function(e,t,r){var n,i,o,l,a,s,c,u,p,h,d;if(s=null,null===t&&null==r&&(p=[{},null],t=p[0],r=p[1]),null==t&&(t={}),t=f(t),v(t)||(h=[t,r],r=h[0],t=h[1]),null!=e&&(e=f(e)),Array.isArray(e))for(o=0,c=e.length;o<c;o++)i=e[o],s=this.element(i);else if(m(e))s=this.element(e.apply());else if(v(e)){for(a in e)if(A.call(e,a))if(d=e[a],m(d)&&(d=d.apply()),!this.options.ignoreDecorators&&this.stringify.convertAttKey&&0===a.indexOf(this.stringify.convertAttKey))s=this.attribute(a.substr(this.stringify.convertAttKey.length),d);else if(!this.options.separateArrayItems&&Array.isArray(d)&&g(d))s=this.dummy();else if(v(d)&&g(d))s=this.element(a);else if(this.options.keepNullNodes||null!=d)if(!this.options.separateArrayItems&&Array.isArray(d))for(l=0,u=d.length;l<u;l++)i=d[l],n={},n[a]=i,s=this.element(n);else v(d)?!this.options.ignoreDecorators&&this.stringify.convertTextKey&&0===a.indexOf(this.stringify.convertTextKey)?s=this.element(d):(s=this.element(a),s.element(d)):s=this.element(a,d);else s=this.dummy()}else s=this.options.keepNullNodes||null!==r?!this.options.ignoreDecorators&&this.stringify.convertTextKey&&0===e.indexOf(this.stringify.convertTextKey)?this.text(r):!this.options.ignoreDecorators&&this.stringify.convertCDataKey&&0===e.indexOf(this.stringify.convertCDataKey)?this.cdata(r):!this.options.ignoreDecorators&&this.stringify.convertCommentKey&&0===e.indexOf(this.stringify.convertCommentKey)?this.comment(r):!this.options.ignoreDecorators&&this.stringify.convertRawKey&&0===e.indexOf(this.stringify.convertRawKey)?this.raw(r):!this.options.ignoreDecorators&&this.stringify.convertPIKey&&0===e.indexOf(this.stringify.convertPIKey)?this.instruction(e.substr(this.stringify.convertPIKey.length),r):this.node(e,t,r):this.dummy();if(null==s)throw new Error("Could not create any elements with: "+e+". "+this.debugInfo());return s},e.prototype.insertBefore=function(e,t,r){var n,i,o,l,a;if(null!=e?e.type:void 0)return o=e,l=t,o.setParent(this),l?(i=children.indexOf(l),a=children.splice(i),children.push(o),Array.prototype.push.apply(children,a)):children.push(o),o;if(this.isRoot)throw new Error("Cannot insert elements at root level. "+this.debugInfo(e));return i=this.parent.children.indexOf(this),a=this.parent.children.splice(i),n=this.parent.element(e,t,r),Array.prototype.push.apply(this.parent.children,a),n},e.prototype.insertAfter=function(e,t,r){var n,i,o;if(this.isRoot)throw new Error("Cannot insert elements at root level. "+this.debugInfo(e));return i=this.parent.children.indexOf(this),o=this.parent.children.splice(i+1),n=this.parent.element(e,t,r),Array.prototype.push.apply(this.parent.children,o),n},e.prototype.remove=function(){var e;if(this.isRoot)throw new Error("Cannot remove the root element. "+this.debugInfo());return e=this.parent.children.indexOf(this),[].splice.apply(this.parent.children,[e,e-e+1].concat([])),this.parent},e.prototype.node=function(e,t,r){var n,i;return null!=e&&(e=f(e)),t||(t={}),t=f(t),v(t)||(i=[t,r],r=i[0],t=i[1]),n=new c(this,e,t),null!=r&&n.text(r),this.children.push(n),n},e.prototype.text=function(e){var t;return v(e)&&this.element(e),t=new d(this,e),this.children.push(t),this},e.prototype.cdata=function(e){var t;return t=new i(this,e),this.children.push(t),this},e.prototype.comment=function(e){var t;return t=new o(this,e),this.children.push(t),this},e.prototype.commentBefore=function(e){var t,r;return t=this.parent.children.indexOf(this),r=this.parent.children.splice(t),this.parent.comment(e),Array.prototype.push.apply(this.parent.children,r),this},e.prototype.commentAfter=function(e){var t,r;return t=this.parent.children.indexOf(this),r=this.parent.children.splice(t+1),this.parent.comment(e),Array.prototype.push.apply(this.parent.children,r),this},e.prototype.raw=function(e){var t;return t=new h(this,e),this.children.push(t),this},e.prototype.dummy=function(){var e;return e=new s(this),e},e.prototype.instruction=function(e,t){var r,n,i,o,l;if(null!=e&&(e=f(e)),null!=t&&(t=f(t)),Array.isArray(e))for(o=0,l=e.length;o<l;o++)r=e[o],this.instruction(r);else if(v(e))for(r in e)A.call(e,r)&&(n=e[r],this.instruction(r,n));else m(t)&&(t=t.apply()),i=new p(this,e,t),this.children.push(i);return this},e.prototype.instructionBefore=function(e,t){var r,n;return r=this.parent.children.indexOf(this),n=this.parent.children.splice(r),this.parent.instruction(e,t),Array.prototype.push.apply(this.parent.children,n),this},e.prototype.instructionAfter=function(e,t){var r,n;return r=this.parent.children.indexOf(this),n=this.parent.children.splice(r+1),this.parent.instruction(e,t),Array.prototype.push.apply(this.parent.children,n),this},e.prototype.declaration=function(e,t,r){var i,o;return i=this.document(),o=new l(i,e,t,r),0===i.children.length?i.children.unshift(o):i.children[0].type===n.Declaration?i.children[0]=o:i.children.unshift(o),i.root()||i},e.prototype.dtd=function(e,t){var r,i,o,l,s,c,u,p,h,d;for(i=this.document(),o=new a(i,e,t),h=i.children,l=s=0,u=h.length;s<u;l=++s)if(r=h[l],r.type===n.DocType)return i.children[l]=o,o;for(d=i.children,l=c=0,p=d.length;c<p;l=++c)if(r=d[l],r.isRoot)return i.children.splice(l,0,o),o;return i.children.push(o),o},e.prototype.up=function(){if(this.isRoot)throw new Error("The root node has no parent. Use doc() if you need to get the document object.");return this.parent},e.prototype.root=function(){var e;e=this;while(e){if(e.type===n.Document)return e.rootObject;if(e.isRoot)return e;e=e.parent}},e.prototype.document=function(){var e;e=this;while(e){if(e.type===n.Document)return e;e=e.parent}},e.prototype.end=function(e){return this.document().end(e)},e.prototype.prev=function(){var e;if(e=this.parent.children.indexOf(this),e<1)throw new Error("Already at the first node. "+this.debugInfo());return this.parent.children[e-1]},e.prototype.next=function(){var e;if(e=this.parent.children.indexOf(this),-1===e||e===this.parent.children.length-1)throw new Error("Already at the last node. "+this.debugInfo());return this.parent.children[e+1]},e.prototype.importDocument=function(e){var t;return t=e.root().clone(),t.parent=this,t.isRoot=!1,this.children.push(t),this},e.prototype.debugInfo=function(e){var t,r;return e=e||this.name,null!=e||(null!=(t=this.parent)?t.name:void 0)?null==e?"parent: <"+this.parent.name+">":(null!=(r=this.parent)?r.name:void 0)?"node: <"+e+">, parent: <"+this.parent.name+">":"node: <"+e+">":""},e.prototype.ele=function(e,t,r){return this.element(e,t,r)},e.prototype.nod=function(e,t,r){return this.node(e,t,r)},e.prototype.txt=function(e){return this.text(e)},e.prototype.dat=function(e){return this.cdata(e)},e.prototype.com=function(e){return this.comment(e)},e.prototype.ins=function(e,t){return this.instruction(e,t)},e.prototype.doc=function(){return this.document()},e.prototype.dec=function(e,t,r){return this.declaration(e,t,r)},e.prototype.e=function(e,t,r){return this.element(e,t,r)},e.prototype.n=function(e,t,r){return this.node(e,t,r)},e.prototype.t=function(e){return this.text(e)},e.prototype.d=function(e){return this.cdata(e)},e.prototype.c=function(e){return this.comment(e)},e.prototype.r=function(e){return this.raw(e)},e.prototype.i=function(e,t){return this.instruction(e,t)},e.prototype.u=function(){return this.up()},e.prototype.importXMLBuilder=function(e){return this.importDocument(e)},e.prototype.replaceChild=function(e,t){throw new Error("This DOM method is not implemented."+this.debugInfo())},e.prototype.removeChild=function(e){throw new Error("This DOM method is not implemented."+this.debugInfo())},e.prototype.appendChild=function(e){throw new Error("This DOM method is not implemented."+this.debugInfo())},e.prototype.hasChildNodes=function(){return 0!==this.children.length},e.prototype.cloneNode=function(e){throw new Error("This DOM method is not implemented."+this.debugInfo())},e.prototype.normalize=function(){throw new Error("This DOM method is not implemented."+this.debugInfo())},e.prototype.isSupported=function(e,t){return!0},e.prototype.hasAttributes=function(){return 0!==this.attribs.length},e.prototype.compareDocumentPosition=function(e){var r,n;return r=this,r===e?0:this.document()!==e.document()?(n=t.Disconnected|t.ImplementationSpecific,Math.random()<.5?n|=t.Preceding:n|=t.Following,n):r.isAncestor(e)?t.Contains|t.Preceding:r.isDescendant(e)?t.Contains|t.Following:r.isPreceding(e)?t.Preceding:t.Following},e.prototype.isSameNode=function(e){throw new Error("This DOM method is not implemented."+this.debugInfo())},e.prototype.lookupPrefix=function(e){throw new Error("This DOM method is not implemented."+this.debugInfo())},e.prototype.isDefaultNamespace=function(e){throw new Error("This DOM method is not implemented."+this.debugInfo())},e.prototype.lookupNamespaceURI=function(e){throw new Error("This DOM method is not implemented."+this.debugInfo())},e.prototype.isEqualNode=function(e){var t,r,n;if(e.nodeType!==this.nodeType)return!1;if(e.children.length!==this.children.length)return!1;for(t=r=0,n=this.children.length-1;0<=n?r<=n:r>=n;t=0<=n?++r:--r)if(!this.children[t].isEqualNode(e.children[t]))return!1;return!0},e.prototype.getFeature=function(e,t){throw new Error("This DOM method is not implemented."+this.debugInfo())},e.prototype.setUserData=function(e,t,r){throw new Error("This DOM method is not implemented."+this.debugInfo())},e.prototype.getUserData=function(e){throw new Error("This DOM method is not implemented."+this.debugInfo())},e.prototype.contains=function(e){return!!e&&(e===this||this.isDescendant(e))},e.prototype.isDescendant=function(e){var t,r,n,i,o;for(o=this.children,n=0,i=o.length;n<i;n++){if(t=o[n],e===t)return!0;if(r=t.isDescendant(e),r)return!0}return!1},e.prototype.isAncestor=function(e){return e.isDescendant(this)},e.prototype.isPreceding=function(e){var t,r;return t=this.treePosition(e),r=this.treePosition(this),-1!==t&&-1!==r&&t<r},e.prototype.isFollowing=function(e){var t,r;return t=this.treePosition(e),r=this.treePosition(this),-1!==t&&-1!==r&&t>r},e.prototype.treePosition=function(e){var t,r;return r=0,t=!1,this.foreachTreeNode(this.document(),(function(n){if(r++,!t&&n===e)return t=!0})),t?r:-1},e.prototype.foreachTreeNode=function(e,t){var r,n,i,o,l;for(e||(e=this.document()),o=e.children,n=0,i=o.length;n<i;n++){if(r=o[n],l=t(r))return l;if(l=this.foreachTreeNode(r,t),l)return l}},e}()}.call(this)},6147:function(e){(function(){e.exports=function(){function e(e){this.nodes=e}return Object.defineProperty(e.prototype,"length",{get:function(){return this.nodes.length||0}}),e.prototype.clone=function(){return this.nodes=null},e.prototype.item=function(e){return this.nodes[e]||null},e}()}).call(this)},4706:function(e,t,r){(function(){var t,n,i=function(e,t){for(var r in t)o.call(t,r)&&(e[r]=t[r]);function n(){this.constructor=e}return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},o={}.hasOwnProperty;t=r(3688),n=r(8372),e.exports=function(e){function r(e,n,i){if(r.__super__.constructor.call(this,e),null==n)throw new Error("Missing instruction target. "+this.debugInfo());this.type=t.ProcessingInstruction,this.target=this.stringify.insTarget(n),this.name=this.target,i&&(this.value=this.stringify.insValue(i))}return i(r,e),r.prototype.clone=function(){return Object.create(this)},r.prototype.toString=function(e){return this.options.writer.processingInstruction(this,this.options.writer.filterOptions(e))},r.prototype.isEqualNode=function(e){return!!r.__super__.isEqualNode.apply(this,arguments).isEqualNode(e)&&e.target===this.target},r}(n)}).call(this)},7705:function(e,t,r){(function(){var t,n,i=function(e,t){for(var r in t)o.call(t,r)&&(e[r]=t[r]);function n(){this.constructor=e}return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},o={}.hasOwnProperty;t=r(3688),n=r(6475),e.exports=function(e){function r(e,n){if(r.__super__.constructor.call(this,e),null==n)throw new Error("Missing raw text. "+this.debugInfo());this.type=t.Raw,this.value=this.stringify.raw(n)}return i(r,e),r.prototype.clone=function(){return Object.create(this)},r.prototype.toString=function(e){return this.options.writer.raw(this,this.options.writer.filterOptions(e))},r}(n)}).call(this)},1436:function(e,t,r){r(4114),function(){var t,n,i,o=function(e,t){for(var r in t)l.call(t,r)&&(e[r]=t[r]);function n(){this.constructor=e}return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},l={}.hasOwnProperty;t=r(3688),i=r(3445),n=r(9578),e.exports=function(e){function r(e,t){this.stream=e,r.__super__.constructor.call(this,t)}return o(r,e),r.prototype.endline=function(e,t,i){return e.isLastRootNode&&t.state===n.CloseTag?"":r.__super__.endline.call(this,e,t,i)},r.prototype.document=function(e,t){var r,n,i,o,l,a,s,c,u;for(s=e.children,n=i=0,l=s.length;i<l;n=++i)r=s[n],r.isLastRootNode=n===e.children.length-1;for(t=this.filterOptions(t),c=e.children,u=[],o=0,a=c.length;o<a;o++)r=c[o],u.push(this.writeChildNode(r,t,0));return u},r.prototype.attribute=function(e,t,n){return this.stream.write(r.__super__.attribute.call(this,e,t,n))},r.prototype.cdata=function(e,t,n){return this.stream.write(r.__super__.cdata.call(this,e,t,n))},r.prototype.comment=function(e,t,n){return this.stream.write(r.__super__.comment.call(this,e,t,n))},r.prototype.declaration=function(e,t,n){return this.stream.write(r.__super__.declaration.call(this,e,t,n))},r.prototype.docType=function(e,t,r){var i,o,l,a;if(r||(r=0),this.openNode(e,t,r),t.state=n.OpenTag,this.stream.write(this.indent(e,t,r)),this.stream.write("<!DOCTYPE "+e.root().name),e.pubID&&e.sysID?this.stream.write(' PUBLIC "'+e.pubID+'" "'+e.sysID+'"'):e.sysID&&this.stream.write(' SYSTEM "'+e.sysID+'"'),e.children.length>0){for(this.stream.write(" ["),this.stream.write(this.endline(e,t,r)),t.state=n.InsideTag,a=e.children,o=0,l=a.length;o<l;o++)i=a[o],this.writeChildNode(i,t,r+1);t.state=n.CloseTag,this.stream.write("]")}return t.state=n.CloseTag,this.stream.write(t.spaceBeforeSlash+">"),this.stream.write(this.endline(e,t,r)),t.state=n.None,this.closeNode(e,t,r)},r.prototype.element=function(e,r,i){var o,a,s,c,u,p,h,d,f;for(h in i||(i=0),this.openNode(e,r,i),r.state=n.OpenTag,this.stream.write(this.indent(e,r,i)+"<"+e.name),d=e.attribs,d)l.call(d,h)&&(o=d[h],this.attribute(o,r,i));if(s=e.children.length,c=0===s?null:e.children[0],0===s||e.children.every((function(e){return(e.type===t.Text||e.type===t.Raw)&&""===e.value})))r.allowEmpty?(this.stream.write(">"),r.state=n.CloseTag,this.stream.write("</"+e.name+">")):(r.state=n.CloseTag,this.stream.write(r.spaceBeforeSlash+"/>"));else if(!r.pretty||1!==s||c.type!==t.Text&&c.type!==t.Raw||null==c.value){for(this.stream.write(">"+this.endline(e,r,i)),r.state=n.InsideTag,f=e.children,u=0,p=f.length;u<p;u++)a=f[u],this.writeChildNode(a,r,i+1);r.state=n.CloseTag,this.stream.write(this.indent(e,r,i)+"</"+e.name+">")}else this.stream.write(">"),r.state=n.InsideTag,r.suppressPrettyCount++,this.writeChildNode(c,r,i+1),r.suppressPrettyCount--,r.state=n.CloseTag,this.stream.write("</"+e.name+">");return this.stream.write(this.endline(e,r,i)),r.state=n.None,this.closeNode(e,r,i)},r.prototype.processingInstruction=function(e,t,n){return this.stream.write(r.__super__.processingInstruction.call(this,e,t,n))},r.prototype.raw=function(e,t,n){return this.stream.write(r.__super__.raw.call(this,e,t,n))},r.prototype.text=function(e,t,n){return this.stream.write(r.__super__.text.call(this,e,t,n))},r.prototype.dtdAttList=function(e,t,n){return this.stream.write(r.__super__.dtdAttList.call(this,e,t,n))},r.prototype.dtdElement=function(e,t,n){return this.stream.write(r.__super__.dtdElement.call(this,e,t,n))},r.prototype.dtdEntity=function(e,t,n){return this.stream.write(r.__super__.dtdEntity.call(this,e,t,n))},r.prototype.dtdNotation=function(e,t,n){return this.stream.write(r.__super__.dtdNotation.call(this,e,t,n))},r}(i)}.call(this)},3113:function(e,t,r){(function(){var t,n=function(e,t){for(var r in t)i.call(t,r)&&(e[r]=t[r]);function n(){this.constructor=e}return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},i={}.hasOwnProperty;t=r(3445),e.exports=function(e){function t(e){t.__super__.constructor.call(this,e)}return n(t,e),t.prototype.document=function(e,t){var r,n,i,o,l;for(t=this.filterOptions(t),o="",l=e.children,n=0,i=l.length;n<i;n++)r=l[n],o+=this.writeChildNode(r,t,0);return t.pretty&&o.slice(-t.newline.length)===t.newline&&(o=o.slice(0,-t.newline.length)),o},t}(t)}).call(this)},9557:function(e){(function(){var t=function(e,t){return function(){return e.apply(t,arguments)}},r={}.hasOwnProperty;e.exports=function(){function e(e){var n,i,o;for(n in this.assertLegalName=t(this.assertLegalName,this),this.assertLegalChar=t(this.assertLegalChar,this),e||(e={}),this.options=e,this.options.version||(this.options.version="1.0"),i=e.stringify||{},i)r.call(i,n)&&(o=i[n],this[n]=o)}return e.prototype.name=function(e){return this.options.noValidation?e:this.assertLegalName(""+e||"")},e.prototype.text=function(e){return this.options.noValidation?e:this.assertLegalChar(this.textEscape(""+e||""))},e.prototype.cdata=function(e){return this.options.noValidation?e:(e=""+e||"",e=e.replace("]]>","]]]]><![CDATA[>"),this.assertLegalChar(e))},e.prototype.comment=function(e){if(this.options.noValidation)return e;if(e=""+e||"",e.match(/--/))throw new Error("Comment text cannot contain double-hypen: "+e);return this.assertLegalChar(e)},e.prototype.raw=function(e){return this.options.noValidation?e:""+e||""},e.prototype.attValue=function(e){return this.options.noValidation?e:this.assertLegalChar(this.attEscape(e=""+e||""))},e.prototype.insTarget=function(e){return this.options.noValidation?e:this.assertLegalChar(""+e||"")},e.prototype.insValue=function(e){if(this.options.noValidation)return e;if(e=""+e||"",e.match(/\?>/))throw new Error("Invalid processing instruction value: "+e);return this.assertLegalChar(e)},e.prototype.xmlVersion=function(e){if(this.options.noValidation)return e;if(e=""+e||"",!e.match(/1\.[0-9]+/))throw new Error("Invalid version number: "+e);return e},e.prototype.xmlEncoding=function(e){if(this.options.noValidation)return e;if(e=""+e||"",!e.match(/^[A-Za-z](?:[A-Za-z0-9._-])*$/))throw new Error("Invalid encoding: "+e);return this.assertLegalChar(e)},e.prototype.xmlStandalone=function(e){return this.options.noValidation?e:e?"yes":"no"},e.prototype.dtdPubID=function(e){return this.options.noValidation?e:this.assertLegalChar(""+e||"")},e.prototype.dtdSysID=function(e){return this.options.noValidation?e:this.assertLegalChar(""+e||"")},e.prototype.dtdElementValue=function(e){return this.options.noValidation?e:this.assertLegalChar(""+e||"")},e.prototype.dtdAttType=function(e){return this.options.noValidation?e:this.assertLegalChar(""+e||"")},e.prototype.dtdAttDefault=function(e){return this.options.noValidation?e:this.assertLegalChar(""+e||"")},e.prototype.dtdEntityValue=function(e){return this.options.noValidation?e:this.assertLegalChar(""+e||"")},e.prototype.dtdNData=function(e){return this.options.noValidation?e:this.assertLegalChar(""+e||"")},e.prototype.convertAttKey="@",e.prototype.convertPIKey="?",e.prototype.convertTextKey="#text",e.prototype.convertCDataKey="#cdata",e.prototype.convertCommentKey="#comment",e.prototype.convertRawKey="#raw",e.prototype.assertLegalChar=function(e){var t,r;if(this.options.noValidation)return e;if(t="","1.0"===this.options.version){if(t=/[\0-\x08\x0B\f\x0E-\x1F\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,r=e.match(t))throw new Error("Invalid character in string: "+e+" at index "+r.index)}else if("1.1"===this.options.version&&(t=/[\0\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,r=e.match(t)))throw new Error("Invalid character in string: "+e+" at index "+r.index);return e},e.prototype.assertLegalName=function(e){var t;if(this.options.noValidation)return e;if(this.assertLegalChar(e),t=/^([:A-Z_a-z\xC0-\xD6\xD8-\xF6\xF8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])([\x2D\.0-:A-Z_a-z\xB7\xC0-\xD6\xD8-\xF6\xF8-\u037D\u037F-\u1FFF\u200C\u200D\u203F\u2040\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])*$/,!e.match(t))throw new Error("Invalid character in name");return e},e.prototype.textEscape=function(e){var t;return this.options.noValidation?e:(t=this.options.noDoubleEncoding?/(?!&\S+;)&/g:/&/g,e.replace(t,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\r/g,"&#xD;"))},e.prototype.attEscape=function(e){var t;return this.options.noValidation?e:(t=this.options.noDoubleEncoding?/(?!&\S+;)&/g:/&/g,e.replace(t,"&amp;").replace(/</g,"&lt;").replace(/"/g,"&quot;").replace(/\t/g,"&#x9;").replace(/\n/g,"&#xA;").replace(/\r/g,"&#xD;"))},e}()}).call(this)},4980:function(e,t,r){(function(){var t,n,i=function(e,t){for(var r in t)o.call(t,r)&&(e[r]=t[r]);function n(){this.constructor=e}return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},o={}.hasOwnProperty;t=r(3688),n=r(8372),e.exports=function(e){function r(e,n){if(r.__super__.constructor.call(this,e),null==n)throw new Error("Missing element text. "+this.debugInfo());this.name="#text",this.type=t.Text,this.value=this.stringify.text(n)}return i(r,e),Object.defineProperty(r.prototype,"isElementContentWhitespace",{get:function(){throw new Error("This DOM method is not implemented."+this.debugInfo())}}),Object.defineProperty(r.prototype,"wholeText",{get:function(){var e,t,r;r="",t=this.previousSibling;while(t)r=t.data+r,t=t.previousSibling;r+=this.data,e=this.nextSibling;while(e)r+=e.data,e=e.nextSibling;return r}}),r.prototype.clone=function(){return Object.create(this)},r.prototype.toString=function(e){return this.options.writer.text(this,this.options.writer.filterOptions(e))},r.prototype.splitText=function(e){throw new Error("This DOM method is not implemented."+this.debugInfo())},r.prototype.replaceWholeText=function(e){throw new Error("This DOM method is not implemented."+this.debugInfo())},r}(n)}).call(this)},3445:function(e,t,r){(function(){var t,n,i,o={}.hasOwnProperty;i=r(3618).assign,t=r(3688),r(2251),r(777),r(3602),r(5894),r(1727),r(7705),r(4980),r(4706),r(6355),r(4500),r(4779),r(9204),r(8385),n=r(9578),e.exports=function(){function e(e){var t,r,n;for(t in e||(e={}),this.options=e,r=e.writer||{},r)o.call(r,t)&&(n=r[t],this["_"+t]=this[t],this[t]=n)}return e.prototype.filterOptions=function(e){var t,r,o,l,a,s,c,u;return e||(e={}),e=i({},this.options,e),t={writer:this},t.pretty=e.pretty||!1,t.allowEmpty=e.allowEmpty||!1,t.indent=null!=(r=e.indent)?r:"  ",t.newline=null!=(o=e.newline)?o:"\n",t.offset=null!=(l=e.offset)?l:0,t.dontPrettyTextNodes=null!=(a=null!=(s=e.dontPrettyTextNodes)?s:e.dontprettytextnodes)?a:0,t.spaceBeforeSlash=null!=(c=null!=(u=e.spaceBeforeSlash)?u:e.spacebeforeslash)?c:"",!0===t.spaceBeforeSlash&&(t.spaceBeforeSlash=" "),t.suppressPrettyCount=0,t.user={},t.state=n.None,t},e.prototype.indent=function(e,t,r){var n;return!t.pretty||t.suppressPrettyCount?"":t.pretty&&(n=(r||0)+t.offset+1,n>0)?new Array(n).join(t.indent):""},e.prototype.endline=function(e,t,r){return!t.pretty||t.suppressPrettyCount?"":t.newline},e.prototype.attribute=function(e,t,r){var n;return this.openAttribute(e,t,r),n=" "+e.name+'="'+e.value+'"',this.closeAttribute(e,t,r),n},e.prototype.cdata=function(e,t,r){var i;return this.openNode(e,t,r),t.state=n.OpenTag,i=this.indent(e,t,r)+"<![CDATA[",t.state=n.InsideTag,i+=e.value,t.state=n.CloseTag,i+="]]>"+this.endline(e,t,r),t.state=n.None,this.closeNode(e,t,r),i},e.prototype.comment=function(e,t,r){var i;return this.openNode(e,t,r),t.state=n.OpenTag,i=this.indent(e,t,r)+"\x3c!-- ",t.state=n.InsideTag,i+=e.value,t.state=n.CloseTag,i+=" --\x3e"+this.endline(e,t,r),t.state=n.None,this.closeNode(e,t,r),i},e.prototype.declaration=function(e,t,r){var i;return this.openNode(e,t,r),t.state=n.OpenTag,i=this.indent(e,t,r)+"<?xml",t.state=n.InsideTag,i+=' version="'+e.version+'"',null!=e.encoding&&(i+=' encoding="'+e.encoding+'"'),null!=e.standalone&&(i+=' standalone="'+e.standalone+'"'),t.state=n.CloseTag,i+=t.spaceBeforeSlash+"?>",i+=this.endline(e,t,r),t.state=n.None,this.closeNode(e,t,r),i},e.prototype.docType=function(e,t,r){var i,o,l,a,s;if(r||(r=0),this.openNode(e,t,r),t.state=n.OpenTag,a=this.indent(e,t,r),a+="<!DOCTYPE "+e.root().name,e.pubID&&e.sysID?a+=' PUBLIC "'+e.pubID+'" "'+e.sysID+'"':e.sysID&&(a+=' SYSTEM "'+e.sysID+'"'),e.children.length>0){for(a+=" [",a+=this.endline(e,t,r),t.state=n.InsideTag,s=e.children,o=0,l=s.length;o<l;o++)i=s[o],a+=this.writeChildNode(i,t,r+1);t.state=n.CloseTag,a+="]"}return t.state=n.CloseTag,a+=t.spaceBeforeSlash+">",a+=this.endline(e,t,r),t.state=n.None,this.closeNode(e,t,r),a},e.prototype.element=function(e,r,i){var l,a,s,c,u,p,h,d,f,g,m,v,y,A;for(f in i||(i=0),g=!1,m="",this.openNode(e,r,i),r.state=n.OpenTag,m+=this.indent(e,r,i)+"<"+e.name,v=e.attribs,v)o.call(v,f)&&(l=v[f],m+=this.attribute(l,r,i));if(s=e.children.length,c=0===s?null:e.children[0],0===s||e.children.every((function(e){return(e.type===t.Text||e.type===t.Raw)&&""===e.value})))r.allowEmpty?(m+=">",r.state=n.CloseTag,m+="</"+e.name+">"+this.endline(e,r,i)):(r.state=n.CloseTag,m+=r.spaceBeforeSlash+"/>"+this.endline(e,r,i));else if(!r.pretty||1!==s||c.type!==t.Text&&c.type!==t.Raw||null==c.value){if(r.dontPrettyTextNodes)for(y=e.children,u=0,h=y.length;u<h;u++)if(a=y[u],(a.type===t.Text||a.type===t.Raw)&&null!=a.value){r.suppressPrettyCount++,g=!0;break}for(m+=">"+this.endline(e,r,i),r.state=n.InsideTag,A=e.children,p=0,d=A.length;p<d;p++)a=A[p],m+=this.writeChildNode(a,r,i+1);r.state=n.CloseTag,m+=this.indent(e,r,i)+"</"+e.name+">",g&&r.suppressPrettyCount--,m+=this.endline(e,r,i),r.state=n.None}else m+=">",r.state=n.InsideTag,r.suppressPrettyCount++,g=!0,m+=this.writeChildNode(c,r,i+1),r.suppressPrettyCount--,g=!1,r.state=n.CloseTag,m+="</"+e.name+">"+this.endline(e,r,i);return this.closeNode(e,r,i),m},e.prototype.writeChildNode=function(e,r,n){switch(e.type){case t.CData:return this.cdata(e,r,n);case t.Comment:return this.comment(e,r,n);case t.Element:return this.element(e,r,n);case t.Raw:return this.raw(e,r,n);case t.Text:return this.text(e,r,n);case t.ProcessingInstruction:return this.processingInstruction(e,r,n);case t.Dummy:return"";case t.Declaration:return this.declaration(e,r,n);case t.DocType:return this.docType(e,r,n);case t.AttributeDeclaration:return this.dtdAttList(e,r,n);case t.ElementDeclaration:return this.dtdElement(e,r,n);case t.EntityDeclaration:return this.dtdEntity(e,r,n);case t.NotationDeclaration:return this.dtdNotation(e,r,n);default:throw new Error("Unknown XML node type: "+e.constructor.name)}},e.prototype.processingInstruction=function(e,t,r){var i;return this.openNode(e,t,r),t.state=n.OpenTag,i=this.indent(e,t,r)+"<?",t.state=n.InsideTag,i+=e.target,e.value&&(i+=" "+e.value),t.state=n.CloseTag,i+=t.spaceBeforeSlash+"?>",i+=this.endline(e,t,r),t.state=n.None,this.closeNode(e,t,r),i},e.prototype.raw=function(e,t,r){var i;return this.openNode(e,t,r),t.state=n.OpenTag,i=this.indent(e,t,r),t.state=n.InsideTag,i+=e.value,t.state=n.CloseTag,i+=this.endline(e,t,r),t.state=n.None,this.closeNode(e,t,r),i},e.prototype.text=function(e,t,r){var i;return this.openNode(e,t,r),t.state=n.OpenTag,i=this.indent(e,t,r),t.state=n.InsideTag,i+=e.value,t.state=n.CloseTag,i+=this.endline(e,t,r),t.state=n.None,this.closeNode(e,t,r),i},e.prototype.dtdAttList=function(e,t,r){var i;return this.openNode(e,t,r),t.state=n.OpenTag,i=this.indent(e,t,r)+"<!ATTLIST",t.state=n.InsideTag,i+=" "+e.elementName+" "+e.attributeName+" "+e.attributeType,"#DEFAULT"!==e.defaultValueType&&(i+=" "+e.defaultValueType),e.defaultValue&&(i+=' "'+e.defaultValue+'"'),t.state=n.CloseTag,i+=t.spaceBeforeSlash+">"+this.endline(e,t,r),t.state=n.None,this.closeNode(e,t,r),i},e.prototype.dtdElement=function(e,t,r){var i;return this.openNode(e,t,r),t.state=n.OpenTag,i=this.indent(e,t,r)+"<!ELEMENT",t.state=n.InsideTag,i+=" "+e.name+" "+e.value,t.state=n.CloseTag,i+=t.spaceBeforeSlash+">"+this.endline(e,t,r),t.state=n.None,this.closeNode(e,t,r),i},e.prototype.dtdEntity=function(e,t,r){var i;return this.openNode(e,t,r),t.state=n.OpenTag,i=this.indent(e,t,r)+"<!ENTITY",t.state=n.InsideTag,e.pe&&(i+=" %"),i+=" "+e.name,e.value?i+=' "'+e.value+'"':(e.pubID&&e.sysID?i+=' PUBLIC "'+e.pubID+'" "'+e.sysID+'"':e.sysID&&(i+=' SYSTEM "'+e.sysID+'"'),e.nData&&(i+=" NDATA "+e.nData)),t.state=n.CloseTag,i+=t.spaceBeforeSlash+">"+this.endline(e,t,r),t.state=n.None,this.closeNode(e,t,r),i},e.prototype.dtdNotation=function(e,t,r){var i;return this.openNode(e,t,r),t.state=n.OpenTag,i=this.indent(e,t,r)+"<!NOTATION",t.state=n.InsideTag,i+=" "+e.name,e.pubID&&e.sysID?i+=' PUBLIC "'+e.pubID+'" "'+e.sysID+'"':e.pubID?i+=' PUBLIC "'+e.pubID+'"':e.sysID&&(i+=' SYSTEM "'+e.sysID+'"'),t.state=n.CloseTag,i+=t.spaceBeforeSlash+">"+this.endline(e,t,r),t.state=n.None,this.closeNode(e,t,r),i},e.prototype.openNode=function(e,t,r){},e.prototype.closeNode=function(e,t,r){},e.prototype.openAttribute=function(e,t,r){},e.prototype.closeAttribute=function(e,t,r){},e}()}).call(this)},3738:function(e,t,r){(function(){var t,n,i,o,l,a,s,c,u,p;p=r(3618),c=p.assign,u=p.isFunction,i=r(5617),o=r(4626),l=r(7627),s=r(3113),a=r(1436),t=r(3688),n=r(9578),e.exports.create=function(e,t,r,n){var i,l;if(null==e)throw new Error("Root element needs a name.");return n=c({},t,r,n),i=new o(n),l=i.element(e),n.headless||(i.declaration(n),null==n.pubID&&null==n.sysID||i.dtd(n)),l},e.exports.begin=function(e,t,r){var n;return u(e)&&(n=[e,t],t=n[0],r=n[1],e={}),t?new l(e,t,r):new o(e)},e.exports.stringWriter=function(e){return new s(e)},e.exports.streamWriter=function(e,t){return new a(e,t)},e.exports.implementation=new i,e.exports.nodeType=t,e.exports.writerState=n}).call(this)},9306:function(e,t,r){"use strict";var n=r(4901),i=r(6823),o=TypeError;e.exports=function(e){if(n(e))return e;throw new o(i(e)+" is not a function")}},3506:function(e,t,r){"use strict";var n=r(3925),i=String,o=TypeError;e.exports=function(e){if(n(e))return e;throw new o("Can't set "+i(e)+" as a prototype")}},7080:function(e,t,r){"use strict";var n=r(4402).has;e.exports=function(e){return n(e),e}},679:function(e,t,r){"use strict";var n=r(1625),i=TypeError;e.exports=function(e,t){if(n(t,e))return e;throw new i("Incorrect invocation")}},8551:function(e,t,r){"use strict";var n=r(34),i=String,o=TypeError;e.exports=function(e){if(n(e))return e;throw new o(i(e)+" is not an object")}},7811:function(e){"use strict";e.exports="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof DataView},7394:function(e,t,r){"use strict";var n=r(4576),i=r(6706),o=r(2195),l=n.ArrayBuffer,a=n.TypeError;e.exports=l&&i(l.prototype,"byteLength","get")||function(e){if("ArrayBuffer"!==o(e))throw new a("ArrayBuffer expected");return e.byteLength}},3238:function(e,t,r){"use strict";var n=r(4576),i=r(7476),o=r(7394),l=n.ArrayBuffer,a=l&&l.prototype,s=a&&i(a.slice);e.exports=function(e){if(0!==o(e))return!1;if(!s)return!1;try{return s(e,0,0),!1}catch(t){return!0}}},5169:function(e,t,r){"use strict";var n=r(3238),i=TypeError;e.exports=function(e){if(n(e))throw new i("ArrayBuffer is detached");return e}},5636:function(e,t,r){"use strict";var n=r(4576),i=r(9504),o=r(6706),l=r(7696),a=r(5169),s=r(7394),c=r(4483),u=r(1548),p=n.structuredClone,h=n.ArrayBuffer,d=n.DataView,f=Math.min,g=h.prototype,m=d.prototype,v=i(g.slice),y=o(g,"resizable","get"),A=o(g,"maxByteLength","get"),w=i(m.getInt8),_=i(m.setInt8);e.exports=(u||c)&&function(e,t,r){var n,i=s(e),o=void 0===t?i:l(t),g=!y||!y(e);if(a(e),u&&(e=p(e,{transfer:[e]}),i===o&&(r||g)))return e;if(i>=o&&(!r||g))n=v(e,0,o);else{var m=r&&!g&&A?{maxByteLength:A(e)}:void 0;n=new h(o,m);for(var T=new d(e),b=new d(n),x=f(o,i),E=0;E<x;E++)_(b,E,w(T,E))}return u||c(e),n}},4644:function(e,t,r){"use strict";var n,i,o,l=r(7811),a=r(3724),s=r(4576),c=r(4901),u=r(34),p=r(9297),h=r(6955),d=r(6823),f=r(6699),g=r(6840),m=r(2106),v=r(1625),y=r(2787),A=r(2967),w=r(8227),_=r(3392),T=r(1181),b=T.enforce,x=T.get,E=s.Int8Array,S=E&&E.prototype,P=s.Uint8ClampedArray,C=P&&P.prototype,R=E&&y(E),D=S&&y(S),O=Object.prototype,I=s.TypeError,N=w("toStringTag"),L=_("TYPED_ARRAY_TAG"),F="TypedArrayConstructor",k=l&&!!A&&"Opera"!==h(s.opera),B=!1,M={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8},z={BigInt64Array:8,BigUint64Array:8},j=function(e){if(!u(e))return!1;var t=h(e);return"DataView"===t||p(M,t)||p(z,t)},U=function(e){var t=y(e);if(u(t)){var r=x(t);return r&&p(r,F)?r[F]:U(t)}},H=function(e){if(!u(e))return!1;var t=h(e);return p(M,t)||p(z,t)},V=function(e){if(H(e))return e;throw new I("Target is not a typed array")},W=function(e){if(c(e)&&(!A||v(R,e)))return e;throw new I(d(e)+" is not a typed array constructor")},G=function(e,t,r,n){if(a){if(r)for(var i in M){var o=s[i];if(o&&p(o.prototype,e))try{delete o.prototype[e]}catch(l){try{o.prototype[e]=t}catch(c){}}}D[e]&&!r||g(D,e,r?t:k&&S[e]||t,n)}},q=function(e,t,r){var n,i;if(a){if(A){if(r)for(n in M)if(i=s[n],i&&p(i,e))try{delete i[e]}catch(o){}if(R[e]&&!r)return;try{return g(R,e,r?t:k&&R[e]||t)}catch(o){}}for(n in M)i=s[n],!i||i[e]&&!r||g(i,e,t)}};for(n in M)i=s[n],o=i&&i.prototype,o?b(o)[F]=i:k=!1;for(n in z)i=s[n],o=i&&i.prototype,o&&(b(o)[F]=i);if((!k||!c(R)||R===Function.prototype)&&(R=function(){throw new I("Incorrect invocation")},k))for(n in M)s[n]&&A(s[n],R);if((!k||!D||D===O)&&(D=R.prototype,k))for(n in M)s[n]&&A(s[n].prototype,D);if(k&&y(C)!==D&&A(C,D),a&&!p(D,N))for(n in B=!0,m(D,N,{configurable:!0,get:function(){return u(this)?this[L]:void 0}}),M)s[n]&&f(s[n],L,n);e.exports={NATIVE_ARRAY_BUFFER_VIEWS:k,TYPED_ARRAY_TAG:B&&L,aTypedArray:V,aTypedArrayConstructor:W,exportTypedArrayMethod:G,exportTypedArrayStaticMethod:q,getTypedArrayConstructor:U,isView:j,isTypedArray:H,TypedArray:R,TypedArrayPrototype:D}},5370:function(e,t,r){"use strict";var n=r(6198);e.exports=function(e,t,r){var i=0,o=arguments.length>2?r:n(t),l=new e(o);while(o>i)l[i]=t[i++];return l}},9617:function(e,t,r){"use strict";var n=r(5397),i=r(5610),o=r(6198),l=function(e){return function(t,r,l){var a=n(t),s=o(a);if(0===s)return!e&&-1;var c,u=i(l,s);if(e&&r!==r){while(s>u)if(c=a[u++],c!==c)return!0}else for(;s>u;u++)if((e||u in a)&&a[u]===r)return e||u||0;return!e&&-1}};e.exports={includes:l(!0),indexOf:l(!1)}},4527:function(e,t,r){"use strict";var n=r(3724),i=r(4376),o=TypeError,l=Object.getOwnPropertyDescriptor,a=n&&!function(){if(void 0!==this)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(e){return e instanceof TypeError}}();e.exports=a?function(e,t){if(i(e)&&!l(e,"length").writable)throw new o("Cannot set read only .length");return e.length=t}:function(e,t){return e.length=t}},7680:function(e,t,r){"use strict";var n=r(9504);e.exports=n([].slice)},7628:function(e,t,r){"use strict";var n=r(6198);e.exports=function(e,t){for(var r=n(e),i=new t(r),o=0;o<r;o++)i[o]=e[r-o-1];return i}},9928:function(e,t,r){"use strict";var n=r(6198),i=r(1291),o=RangeError;e.exports=function(e,t,r,l){var a=n(e),s=i(r),c=s<0?a+s:s;if(c>=a||c<0)throw new o("Incorrect index");for(var u=new t(a),p=0;p<a;p++)u[p]=p===c?l:e[p];return u}},2195:function(e,t,r){"use strict";var n=r(9504),i=n({}.toString),o=n("".slice);e.exports=function(e){return o(i(e),8,-1)}},6955:function(e,t,r){"use strict";var n=r(2140),i=r(4901),o=r(2195),l=r(8227),a=l("toStringTag"),s=Object,c="Arguments"===o(function(){return arguments}()),u=function(e,t){try{return e[t]}catch(r){}};e.exports=n?o:function(e){var t,r,n;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(r=u(t=s(e),a))?r:c?o(t):"Object"===(n=o(t))&&i(t.callee)?"Arguments":n}},7740:function(e,t,r){"use strict";var n=r(9297),i=r(5031),o=r(7347),l=r(4913);e.exports=function(e,t,r){for(var a=i(t),s=l.f,c=o.f,u=0;u<a.length;u++){var p=a[u];n(e,p)||r&&n(r,p)||s(e,p,c(t,p))}}},2211:function(e,t,r){"use strict";var n=r(9039);e.exports=!n((function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}))},6699:function(e,t,r){"use strict";var n=r(3724),i=r(4913),o=r(6980);e.exports=n?function(e,t,r){return i.f(e,t,o(1,r))}:function(e,t,r){return e[t]=r,e}},6980:function(e){"use strict";e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},2106:function(e,t,r){"use strict";var n=r(283),i=r(4913);e.exports=function(e,t,r){return r.get&&n(r.get,t,{getter:!0}),r.set&&n(r.set,t,{setter:!0}),i.f(e,t,r)}},6840:function(e,t,r){"use strict";var n=r(4901),i=r(4913),o=r(283),l=r(9433);e.exports=function(e,t,r,a){a||(a={});var s=a.enumerable,c=void 0!==a.name?a.name:t;if(n(r)&&o(r,c,a),a.global)s?e[t]=r:l(t,r);else{try{a.unsafe?e[t]&&(s=!0):delete e[t]}catch(u){}s?e[t]=r:i.f(e,t,{value:r,enumerable:!1,configurable:!a.nonConfigurable,writable:!a.nonWritable})}return e}},9433:function(e,t,r){"use strict";var n=r(4576),i=Object.defineProperty;e.exports=function(e,t){try{i(n,e,{value:t,configurable:!0,writable:!0})}catch(r){n[e]=t}return t}},3724:function(e,t,r){"use strict";var n=r(9039);e.exports=!n((function(){return 7!==Object.defineProperty({},1,{get:function(){return 7}})[1]}))},4483:function(e,t,r){"use strict";var n,i,o,l,a=r(4576),s=r(9429),c=r(1548),u=a.structuredClone,p=a.ArrayBuffer,h=a.MessageChannel,d=!1;if(c)d=function(e){u(e,{transfer:[e]})};else if(p)try{h||(n=s("worker_threads"),n&&(h=n.MessageChannel)),h&&(i=new h,o=new p(2),l=function(e){i.port1.postMessage(null,[e])},2===o.byteLength&&(l(o),0===o.byteLength&&(d=l)))}catch(f){}e.exports=d},4055:function(e,t,r){"use strict";var n=r(4576),i=r(34),o=n.document,l=i(o)&&i(o.createElement);e.exports=function(e){return l?o.createElement(e):{}}},6837:function(e){"use strict";var t=TypeError,r=9007199254740991;e.exports=function(e){if(e>r)throw t("Maximum allowed index exceeded");return e}},5002:function(e){"use strict";e.exports={IndexSizeError:{s:"INDEX_SIZE_ERR",c:1,m:1},DOMStringSizeError:{s:"DOMSTRING_SIZE_ERR",c:2,m:0},HierarchyRequestError:{s:"HIERARCHY_REQUEST_ERR",c:3,m:1},WrongDocumentError:{s:"WRONG_DOCUMENT_ERR",c:4,m:1},InvalidCharacterError:{s:"INVALID_CHARACTER_ERR",c:5,m:1},NoDataAllowedError:{s:"NO_DATA_ALLOWED_ERR",c:6,m:0},NoModificationAllowedError:{s:"NO_MODIFICATION_ALLOWED_ERR",c:7,m:1},NotFoundError:{s:"NOT_FOUND_ERR",c:8,m:1},NotSupportedError:{s:"NOT_SUPPORTED_ERR",c:9,m:1},InUseAttributeError:{s:"INUSE_ATTRIBUTE_ERR",c:10,m:1},InvalidStateError:{s:"INVALID_STATE_ERR",c:11,m:1},SyntaxError:{s:"SYNTAX_ERR",c:12,m:1},InvalidModificationError:{s:"INVALID_MODIFICATION_ERR",c:13,m:1},NamespaceError:{s:"NAMESPACE_ERR",c:14,m:1},InvalidAccessError:{s:"INVALID_ACCESS_ERR",c:15,m:1},ValidationError:{s:"VALIDATION_ERR",c:16,m:0},TypeMismatchError:{s:"TYPE_MISMATCH_ERR",c:17,m:1},SecurityError:{s:"SECURITY_ERR",c:18,m:1},NetworkError:{s:"NETWORK_ERR",c:19,m:1},AbortError:{s:"ABORT_ERR",c:20,m:1},URLMismatchError:{s:"URL_MISMATCH_ERR",c:21,m:1},QuotaExceededError:{s:"QUOTA_EXCEEDED_ERR",c:22,m:1},TimeoutError:{s:"TIMEOUT_ERR",c:23,m:1},InvalidNodeTypeError:{s:"INVALID_NODE_TYPE_ERR",c:24,m:1},DataCloneError:{s:"DATA_CLONE_ERR",c:25,m:1}}},8727:function(e){"use strict";e.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},9544:function(e,t,r){"use strict";var n=r(2839);e.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(n)},6193:function(e,t,r){"use strict";var n=r(4215);e.exports="NODE"===n},2839:function(e,t,r){"use strict";var n=r(4576),i=n.navigator,o=i&&i.userAgent;e.exports=o?String(o):""},9519:function(e,t,r){"use strict";var n,i,o=r(4576),l=r(2839),a=o.process,s=o.Deno,c=a&&a.versions||s&&s.version,u=c&&c.v8;u&&(n=u.split("."),i=n[0]>0&&n[0]<4?1:+(n[0]+n[1])),!i&&l&&(n=l.match(/Edge\/(\d+)/),(!n||n[1]>=74)&&(n=l.match(/Chrome\/(\d+)/),n&&(i=+n[1]))),e.exports=i},4215:function(e,t,r){"use strict";var n=r(4576),i=r(2839),o=r(2195),l=function(e){return i.slice(0,e.length)===e};e.exports=function(){return l("Bun/")?"BUN":l("Cloudflare-Workers")?"CLOUDFLARE":l("Deno/")?"DENO":l("Node.js/")?"NODE":n.Bun&&"string"==typeof Bun.version?"BUN":n.Deno&&"object"==typeof Deno.version?"DENO":"process"===o(n.process)?"NODE":n.window&&n.document?"BROWSER":"REST"}()},8574:function(e,t,r){"use strict";var n=r(9504),i=Error,o=n("".replace),l=function(e){return String(new i(e).stack)}("zxcasd"),a=/\n\s*at [^:]*:[^\n]*/,s=a.test(l);e.exports=function(e,t){if(s&&"string"==typeof e&&!i.prepareStackTrace)while(t--)e=o(e,a,"");return e}},6518:function(e,t,r){"use strict";var n=r(4576),i=r(7347).f,o=r(6699),l=r(6840),a=r(9433),s=r(7740),c=r(2796);e.exports=function(e,t){var r,u,p,h,d,f,g=e.target,m=e.global,v=e.stat;if(u=m?n:v?n[g]||a(g,{}):n[g]&&n[g].prototype,u)for(p in t){if(d=t[p],e.dontCallGetSet?(f=i(u,p),h=f&&f.value):h=u[p],r=c(m?p:g+(v?".":"#")+p,e.forced),!r&&void 0!==h){if(typeof d==typeof h)continue;s(d,h)}(e.sham||h&&h.sham)&&o(d,"sham",!0),l(u,p,d,e)}}},9039:function(e){"use strict";e.exports=function(e){try{return!!e()}catch(t){return!0}}},8745:function(e,t,r){"use strict";var n=r(616),i=Function.prototype,o=i.apply,l=i.call;e.exports="object"==typeof Reflect&&Reflect.apply||(n?l.bind(o):function(){return l.apply(o,arguments)})},6080:function(e,t,r){"use strict";var n=r(7476),i=r(9306),o=r(616),l=n(n.bind);e.exports=function(e,t){return i(e),void 0===t?e:o?l(e,t):function(){return e.apply(t,arguments)}}},616:function(e,t,r){"use strict";var n=r(9039);e.exports=!n((function(){var e=function(){}.bind();return"function"!=typeof e||e.hasOwnProperty("prototype")}))},9565:function(e,t,r){"use strict";var n=r(616),i=Function.prototype.call;e.exports=n?i.bind(i):function(){return i.apply(i,arguments)}},350:function(e,t,r){"use strict";var n=r(3724),i=r(9297),o=Function.prototype,l=n&&Object.getOwnPropertyDescriptor,a=i(o,"name"),s=a&&"something"===function(){}.name,c=a&&(!n||n&&l(o,"name").configurable);e.exports={EXISTS:a,PROPER:s,CONFIGURABLE:c}},6706:function(e,t,r){"use strict";var n=r(9504),i=r(9306);e.exports=function(e,t,r){try{return n(i(Object.getOwnPropertyDescriptor(e,t)[r]))}catch(o){}}},7476:function(e,t,r){"use strict";var n=r(2195),i=r(9504);e.exports=function(e){if("Function"===n(e))return i(e)}},9504:function(e,t,r){"use strict";var n=r(616),i=Function.prototype,o=i.call,l=n&&i.bind.bind(o,o);e.exports=n?l:function(e){return function(){return o.apply(e,arguments)}}},9429:function(e,t,r){"use strict";var n=r(4576),i=r(6193);e.exports=function(e){if(i){try{return n.process.getBuiltinModule(e)}catch(t){}try{return Function('return require("'+e+'")')()}catch(t){}}}},7751:function(e,t,r){"use strict";var n=r(4576),i=r(4901),o=function(e){return i(e)?e:void 0};e.exports=function(e,t){return arguments.length<2?o(n[e]):n[e]&&n[e][t]}},1767:function(e){"use strict";e.exports=function(e){return{iterator:e,next:e.next,done:!1}}},5966:function(e,t,r){"use strict";var n=r(9306),i=r(4117);e.exports=function(e,t){var r=e[t];return i(r)?void 0:n(r)}},3789:function(e,t,r){"use strict";var n=r(9306),i=r(8551),o=r(9565),l=r(1291),a=r(1767),s="Invalid size",c=RangeError,u=TypeError,p=Math.max,h=function(e,t){this.set=e,this.size=p(t,0),this.has=n(e.has),this.keys=n(e.keys)};h.prototype={getIterator:function(){return a(i(o(this.keys,this.set)))},includes:function(e){return o(this.has,this.set,e)}},e.exports=function(e){i(e);var t=+e.size;if(t!==t)throw new u(s);var r=l(t);if(r<0)throw new c(s);return new h(e,r)}},4576:function(e,t,r){"use strict";var n=function(e){return e&&e.Math===Math&&e};e.exports=n("object"==typeof globalThis&&globalThis)||n("object"==typeof window&&window)||n("object"==typeof self&&self)||n("object"==typeof r.g&&r.g)||n("object"==typeof this&&this)||function(){return this}()||Function("return this")()},9297:function(e,t,r){"use strict";var n=r(9504),i=r(8981),o=n({}.hasOwnProperty);e.exports=Object.hasOwn||function(e,t){return o(i(e),t)}},421:function(e){"use strict";e.exports={}},397:function(e,t,r){"use strict";var n=r(7751);e.exports=n("document","documentElement")},5917:function(e,t,r){"use strict";var n=r(3724),i=r(9039),o=r(4055);e.exports=!n&&!i((function(){return 7!==Object.defineProperty(o("div"),"a",{get:function(){return 7}}).a}))},7055:function(e,t,r){"use strict";var n=r(9504),i=r(9039),o=r(2195),l=Object,a=n("".split);e.exports=i((function(){return!l("z").propertyIsEnumerable(0)}))?function(e){return"String"===o(e)?a(e,""):l(e)}:l},3167:function(e,t,r){"use strict";var n=r(4901),i=r(34),o=r(2967);e.exports=function(e,t,r){var l,a;return o&&n(l=t.constructor)&&l!==r&&i(a=l.prototype)&&a!==r.prototype&&o(e,a),e}},3706:function(e,t,r){"use strict";var n=r(9504),i=r(4901),o=r(7629),l=n(Function.toString);i(o.inspectSource)||(o.inspectSource=function(e){return l(e)}),e.exports=o.inspectSource},1181:function(e,t,r){"use strict";var n,i,o,l=r(8622),a=r(4576),s=r(34),c=r(6699),u=r(9297),p=r(7629),h=r(6119),d=r(421),f="Object already initialized",g=a.TypeError,m=a.WeakMap,v=function(e){return o(e)?i(e):n(e,{})},y=function(e){return function(t){var r;if(!s(t)||(r=i(t)).type!==e)throw new g("Incompatible receiver, "+e+" required");return r}};if(l||p.state){var A=p.state||(p.state=new m);A.get=A.get,A.has=A.has,A.set=A.set,n=function(e,t){if(A.has(e))throw new g(f);return t.facade=e,A.set(e,t),t},i=function(e){return A.get(e)||{}},o=function(e){return A.has(e)}}else{var w=h("state");d[w]=!0,n=function(e,t){if(u(e,w))throw new g(f);return t.facade=e,c(e,w,t),t},i=function(e){return u(e,w)?e[w]:{}},o=function(e){return u(e,w)}}e.exports={set:n,get:i,has:o,enforce:v,getterFor:y}},4376:function(e,t,r){"use strict";var n=r(2195);e.exports=Array.isArray||function(e){return"Array"===n(e)}},1108:function(e,t,r){"use strict";var n=r(6955);e.exports=function(e){var t=n(e);return"BigInt64Array"===t||"BigUint64Array"===t}},4901:function(e){"use strict";var t="object"==typeof document&&document.all;e.exports="undefined"==typeof t&&void 0!==t?function(e){return"function"==typeof e||e===t}:function(e){return"function"==typeof e}},2796:function(e,t,r){"use strict";var n=r(9039),i=r(4901),o=/#|\.prototype\./,l=function(e,t){var r=s[a(e)];return r===u||r!==c&&(i(t)?n(t):!!t)},a=l.normalize=function(e){return String(e).replace(o,".").toLowerCase()},s=l.data={},c=l.NATIVE="N",u=l.POLYFILL="P";e.exports=l},4117:function(e){"use strict";e.exports=function(e){return null===e||void 0===e}},34:function(e,t,r){"use strict";var n=r(4901);e.exports=function(e){return"object"==typeof e?null!==e:n(e)}},3925:function(e,t,r){"use strict";var n=r(34);e.exports=function(e){return n(e)||null===e}},6395:function(e){"use strict";e.exports=!1},757:function(e,t,r){"use strict";var n=r(7751),i=r(4901),o=r(1625),l=r(7040),a=Object;e.exports=l?function(e){return"symbol"==typeof e}:function(e){var t=n("Symbol");return i(t)&&o(t.prototype,a(e))}},507:function(e,t,r){"use strict";var n=r(9565);e.exports=function(e,t,r){var i,o,l=r?e:e.iterator,a=e.next;while(!(i=n(a,l)).done)if(o=t(i.value),void 0!==o)return o}},9539:function(e,t,r){"use strict";var n=r(9565),i=r(8551),o=r(5966);e.exports=function(e,t,r){var l,a;i(e);try{if(l=o(e,"return"),!l){if("throw"===t)throw r;return r}l=n(l,e)}catch(s){a=!0,l=s}if("throw"===t)throw r;if(a)throw l;return i(l),r}},6198:function(e,t,r){"use strict";var n=r(8014);e.exports=function(e){return n(e.length)}},283:function(e,t,r){"use strict";var n=r(9504),i=r(9039),o=r(4901),l=r(9297),a=r(3724),s=r(350).CONFIGURABLE,c=r(3706),u=r(1181),p=u.enforce,h=u.get,d=String,f=Object.defineProperty,g=n("".slice),m=n("".replace),v=n([].join),y=a&&!i((function(){return 8!==f((function(){}),"length",{value:8}).length})),A=String(String).split("String"),w=e.exports=function(e,t,r){"Symbol("===g(d(t),0,7)&&(t="["+m(d(t),/^Symbol\(([^)]*)\).*$/,"$1")+"]"),r&&r.getter&&(t="get "+t),r&&r.setter&&(t="set "+t),(!l(e,"name")||s&&e.name!==t)&&(a?f(e,"name",{value:t,configurable:!0}):e.name=t),y&&r&&l(r,"arity")&&e.length!==r.arity&&f(e,"length",{value:r.arity});try{r&&l(r,"constructor")&&r.constructor?a&&f(e,"prototype",{writable:!1}):e.prototype&&(e.prototype=void 0)}catch(i){}var n=p(e);return l(n,"source")||(n.source=v(A,"string"==typeof t?t:"")),e};Function.prototype.toString=w((function(){return o(this)&&h(this).source||c(this)}),"toString")},741:function(e){"use strict";var t=Math.ceil,r=Math.floor;e.exports=Math.trunc||function(e){var n=+e;return(n>0?r:t)(n)}},2603:function(e,t,r){"use strict";var n=r(655);e.exports=function(e,t){return void 0===e?arguments.length<2?"":t:n(e)}},4913:function(e,t,r){"use strict";var n=r(3724),i=r(5917),o=r(8686),l=r(8551),a=r(6969),s=TypeError,c=Object.defineProperty,u=Object.getOwnPropertyDescriptor,p="enumerable",h="configurable",d="writable";t.f=n?o?function(e,t,r){if(l(e),t=a(t),l(r),"function"===typeof e&&"prototype"===t&&"value"in r&&d in r&&!r[d]){var n=u(e,t);n&&n[d]&&(e[t]=r.value,r={configurable:h in r?r[h]:n[h],enumerable:p in r?r[p]:n[p],writable:!1})}return c(e,t,r)}:c:function(e,t,r){if(l(e),t=a(t),l(r),i)try{return c(e,t,r)}catch(n){}if("get"in r||"set"in r)throw new s("Accessors not supported");return"value"in r&&(e[t]=r.value),e}},7347:function(e,t,r){"use strict";var n=r(3724),i=r(9565),o=r(8773),l=r(6980),a=r(5397),s=r(6969),c=r(9297),u=r(5917),p=Object.getOwnPropertyDescriptor;t.f=n?p:function(e,t){if(e=a(e),t=s(t),u)try{return p(e,t)}catch(r){}if(c(e,t))return l(!i(o.f,e,t),e[t])}},8480:function(e,t,r){"use strict";var n=r(1828),i=r(8727),o=i.concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return n(e,o)}},3717:function(e,t){"use strict";t.f=Object.getOwnPropertySymbols},2787:function(e,t,r){"use strict";var n=r(9297),i=r(4901),o=r(8981),l=r(6119),a=r(2211),s=l("IE_PROTO"),c=Object,u=c.prototype;e.exports=a?c.getPrototypeOf:function(e){var t=o(e);if(n(t,s))return t[s];var r=t.constructor;return i(r)&&t instanceof r?r.prototype:t instanceof c?u:null}},1625:function(e,t,r){"use strict";var n=r(9504);e.exports=n({}.isPrototypeOf)},1828:function(e,t,r){"use strict";var n=r(9504),i=r(9297),o=r(5397),l=r(9617).indexOf,a=r(421),s=n([].push);e.exports=function(e,t){var r,n=o(e),c=0,u=[];for(r in n)!i(a,r)&&i(n,r)&&s(u,r);while(t.length>c)i(n,r=t[c++])&&(~l(u,r)||s(u,r));return u}},8773:function(e,t){"use strict";var r={}.propertyIsEnumerable,n=Object.getOwnPropertyDescriptor,i=n&&!r.call({1:2},1);t.f=i?function(e){var t=n(this,e);return!!t&&t.enumerable}:r},2967:function(e,t,r){"use strict";var n=r(6706),i=r(34),o=r(7750),l=r(3506);e.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,r={};try{e=n(Object.prototype,"__proto__","set"),e(r,[]),t=r instanceof Array}catch(a){}return function(r,n){return o(r),l(n),i(r)?(t?e(r,n):r.__proto__=n,r):r}}():void 0)},4270:function(e,t,r){"use strict";var n=r(9565),i=r(4901),o=r(34),l=TypeError;e.exports=function(e,t){var r,a;if("string"===t&&i(r=e.toString)&&!o(a=n(r,e)))return a;if(i(r=e.valueOf)&&!o(a=n(r,e)))return a;if("string"!==t&&i(r=e.toString)&&!o(a=n(r,e)))return a;throw new l("Can't convert object to primitive value")}},5031:function(e,t,r){"use strict";var n=r(7751),i=r(9504),o=r(8480),l=r(3717),a=r(8551),s=i([].concat);e.exports=n("Reflect","ownKeys")||function(e){var t=o.f(a(e)),r=l.f;return r?s(t,r(e)):t}},7750:function(e,t,r){"use strict";var n=r(4117),i=TypeError;e.exports=function(e){if(n(e))throw new i("Can't call method on "+e);return e}},9472:function(e,t,r){"use strict";var n=r(4576),i=r(8745),o=r(4901),l=r(4215),a=r(2839),s=r(7680),c=r(2812),u=n.Function,p=/MSIE .\./.test(a)||"BUN"===l&&function(){var e=n.Bun.version.split(".");return e.length<3||"0"===e[0]&&(e[1]<3||"3"===e[1]&&"0"===e[2])}();e.exports=function(e,t){var r=t?2:1;return p?function(n,l){var a=c(arguments.length,1)>r,p=o(n)?n:u(n),h=a?s(arguments,r):[],d=a?function(){i(p,this,h)}:p;return t?e(d,l):e(d)}:e}},9286:function(e,t,r){"use strict";var n=r(4402),i=r(8469),o=n.Set,l=n.add;e.exports=function(e){var t=new o;return i(e,(function(e){l(t,e)})),t}},3440:function(e,t,r){"use strict";var n=r(7080),i=r(4402),o=r(9286),l=r(5170),a=r(3789),s=r(8469),c=r(507),u=i.has,p=i.remove;e.exports=function(e){var t=n(this),r=a(e),i=o(t);return l(t)<=r.size?s(t,(function(e){r.includes(e)&&p(i,e)})):c(r.getIterator(),(function(e){u(t,e)&&p(i,e)})),i}},4402:function(e,t,r){"use strict";var n=r(9504),i=Set.prototype;e.exports={Set:Set,add:n(i.add),has:n(i.has),remove:n(i["delete"]),proto:i}},8750:function(e,t,r){"use strict";var n=r(7080),i=r(4402),o=r(5170),l=r(3789),a=r(8469),s=r(507),c=i.Set,u=i.add,p=i.has;e.exports=function(e){var t=n(this),r=l(e),i=new c;return o(t)>r.size?s(r.getIterator(),(function(e){p(t,e)&&u(i,e)})):a(t,(function(e){r.includes(e)&&u(i,e)})),i}},4449:function(e,t,r){"use strict";var n=r(7080),i=r(4402).has,o=r(5170),l=r(3789),a=r(8469),s=r(507),c=r(9539);e.exports=function(e){var t=n(this),r=l(e);if(o(t)<=r.size)return!1!==a(t,(function(e){if(r.includes(e))return!1}),!0);var u=r.getIterator();return!1!==s(u,(function(e){if(i(t,e))return c(u,"normal",!1)}))}},3838:function(e,t,r){"use strict";var n=r(7080),i=r(5170),o=r(8469),l=r(3789);e.exports=function(e){var t=n(this),r=l(e);return!(i(t)>r.size)&&!1!==o(t,(function(e){if(!r.includes(e))return!1}),!0)}},8527:function(e,t,r){"use strict";var n=r(7080),i=r(4402).has,o=r(5170),l=r(3789),a=r(507),s=r(9539);e.exports=function(e){var t=n(this),r=l(e);if(o(t)<r.size)return!1;var c=r.getIterator();return!1!==a(c,(function(e){if(!i(t,e))return s(c,"normal",!1)}))}},8469:function(e,t,r){"use strict";var n=r(9504),i=r(507),o=r(4402),l=o.Set,a=o.proto,s=n(a.forEach),c=n(a.keys),u=c(new l).next;e.exports=function(e,t,r){return r?i({iterator:c(e),next:u},t):s(e,t)}},4916:function(e,t,r){"use strict";var n=r(7751),i=function(e){return{size:e,has:function(){return!1},keys:function(){return{next:function(){return{done:!0}}}}}};e.exports=function(e){var t=n("Set");try{(new t)[e](i(0));try{return(new t)[e](i(-1)),!1}catch(r){return!0}}catch(o){return!1}}},5170:function(e,t,r){"use strict";var n=r(6706),i=r(4402);e.exports=n(i.proto,"size","get")||function(e){return e.size}},3650:function(e,t,r){"use strict";var n=r(7080),i=r(4402),o=r(9286),l=r(3789),a=r(507),s=i.add,c=i.has,u=i.remove;e.exports=function(e){var t=n(this),r=l(e).getIterator(),i=o(t);return a(r,(function(e){c(t,e)?u(i,e):s(i,e)})),i}},4204:function(e,t,r){"use strict";var n=r(7080),i=r(4402).add,o=r(9286),l=r(3789),a=r(507);e.exports=function(e){var t=n(this),r=l(e).getIterator(),s=o(t);return a(r,(function(e){i(s,e)})),s}},6119:function(e,t,r){"use strict";var n=r(5745),i=r(3392),o=n("keys");e.exports=function(e){return o[e]||(o[e]=i(e))}},7629:function(e,t,r){"use strict";var n=r(6395),i=r(4576),o=r(9433),l="__core-js_shared__",a=e.exports=i[l]||o(l,{});(a.versions||(a.versions=[])).push({version:"3.38.1",mode:n?"pure":"global",copyright:"© 2014-2024 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.38.1/LICENSE",source:"https://github.com/zloirock/core-js"})},5745:function(e,t,r){"use strict";var n=r(7629);e.exports=function(e,t){return n[e]||(n[e]=t||{})}},1548:function(e,t,r){"use strict";var n=r(4576),i=r(9039),o=r(9519),l=r(4215),a=n.structuredClone;e.exports=!!a&&!i((function(){if("DENO"===l&&o>92||"NODE"===l&&o>94||"BROWSER"===l&&o>97)return!1;var e=new ArrayBuffer(8),t=a(e,{transfer:[e]});return 0!==e.byteLength||8!==t.byteLength}))},4495:function(e,t,r){"use strict";var n=r(9519),i=r(9039),o=r(4576),l=o.String;e.exports=!!Object.getOwnPropertySymbols&&!i((function(){var e=Symbol("symbol detection");return!l(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&n&&n<41}))},9225:function(e,t,r){"use strict";var n,i,o,l,a=r(4576),s=r(8745),c=r(6080),u=r(4901),p=r(9297),h=r(9039),d=r(397),f=r(7680),g=r(4055),m=r(2812),v=r(9544),y=r(6193),A=a.setImmediate,w=a.clearImmediate,_=a.process,T=a.Dispatch,b=a.Function,x=a.MessageChannel,E=a.String,S=0,P={},C="onreadystatechange";h((function(){n=a.location}));var R=function(e){if(p(P,e)){var t=P[e];delete P[e],t()}},D=function(e){return function(){R(e)}},O=function(e){R(e.data)},I=function(e){a.postMessage(E(e),n.protocol+"//"+n.host)};A&&w||(A=function(e){m(arguments.length,1);var t=u(e)?e:b(e),r=f(arguments,1);return P[++S]=function(){s(t,void 0,r)},i(S),S},w=function(e){delete P[e]},y?i=function(e){_.nextTick(D(e))}:T&&T.now?i=function(e){T.now(D(e))}:x&&!v?(o=new x,l=o.port2,o.port1.onmessage=O,i=c(l.postMessage,l)):a.addEventListener&&u(a.postMessage)&&!a.importScripts&&n&&"file:"!==n.protocol&&!h(I)?(i=I,a.addEventListener("message",O,!1)):i=C in g("script")?function(e){d.appendChild(g("script"))[C]=function(){d.removeChild(this),R(e)}}:function(e){setTimeout(D(e),0)}),e.exports={set:A,clear:w}},5610:function(e,t,r){"use strict";var n=r(1291),i=Math.max,o=Math.min;e.exports=function(e,t){var r=n(e);return r<0?i(r+t,0):o(r,t)}},5854:function(e,t,r){"use strict";var n=r(2777),i=TypeError;e.exports=function(e){var t=n(e,"number");if("number"==typeof t)throw new i("Can't convert number to bigint");return BigInt(t)}},7696:function(e,t,r){"use strict";var n=r(1291),i=r(8014),o=RangeError;e.exports=function(e){if(void 0===e)return 0;var t=n(e),r=i(t);if(t!==r)throw new o("Wrong length or index");return r}},5397:function(e,t,r){"use strict";var n=r(7055),i=r(7750);e.exports=function(e){return n(i(e))}},1291:function(e,t,r){"use strict";var n=r(741);e.exports=function(e){var t=+e;return t!==t||0===t?0:n(t)}},8014:function(e,t,r){"use strict";var n=r(1291),i=Math.min;e.exports=function(e){var t=n(e);return t>0?i(t,9007199254740991):0}},8981:function(e,t,r){"use strict";var n=r(7750),i=Object;e.exports=function(e){return i(n(e))}},2777:function(e,t,r){"use strict";var n=r(9565),i=r(34),o=r(757),l=r(5966),a=r(4270),s=r(8227),c=TypeError,u=s("toPrimitive");e.exports=function(e,t){if(!i(e)||o(e))return e;var r,s=l(e,u);if(s){if(void 0===t&&(t="default"),r=n(s,e,t),!i(r)||o(r))return r;throw new c("Can't convert object to primitive value")}return void 0===t&&(t="number"),a(e,t)}},6969:function(e,t,r){"use strict";var n=r(2777),i=r(757);e.exports=function(e){var t=n(e,"string");return i(t)?t:t+""}},2140:function(e,t,r){"use strict";var n=r(8227),i=n("toStringTag"),o={};o[i]="z",e.exports="[object z]"===String(o)},655:function(e,t,r){"use strict";var n=r(6955),i=String;e.exports=function(e){if("Symbol"===n(e))throw new TypeError("Cannot convert a Symbol value to a string");return i(e)}},6823:function(e){"use strict";var t=String;e.exports=function(e){try{return t(e)}catch(r){return"Object"}}},3392:function(e,t,r){"use strict";var n=r(9504),i=0,o=Math.random(),l=n(1..toString);e.exports=function(e){return"Symbol("+(void 0===e?"":e)+")_"+l(++i+o,36)}},7040:function(e,t,r){"use strict";var n=r(4495);e.exports=n&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},8686:function(e,t,r){"use strict";var n=r(3724),i=r(9039);e.exports=n&&i((function(){return 42!==Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype}))},2812:function(e){"use strict";var t=TypeError;e.exports=function(e,r){if(e<r)throw new t("Not enough arguments");return e}},8622:function(e,t,r){"use strict";var n=r(4576),i=r(4901),o=n.WeakMap;e.exports=i(o)&&/native code/.test(String(o))},8227:function(e,t,r){"use strict";var n=r(4576),i=r(5745),o=r(9297),l=r(3392),a=r(4495),s=r(7040),c=n.Symbol,u=i("wks"),p=s?c["for"]||c:c&&c.withoutSetter||l;e.exports=function(e){return o(u,e)||(u[e]=a&&o(c,e)?c[e]:p("Symbol."+e)),u[e]}},6573:function(e,t,r){"use strict";var n=r(3724),i=r(2106),o=r(3238),l=ArrayBuffer.prototype;n&&!("detached"in l)&&i(l,"detached",{configurable:!0,get:function(){return o(this)}})},7936:function(e,t,r){"use strict";var n=r(6518),i=r(5636);i&&n({target:"ArrayBuffer",proto:!0},{transferToFixedLength:function(){return i(this,arguments.length?arguments[0]:void 0,!1)}})},8100:function(e,t,r){"use strict";var n=r(6518),i=r(5636);i&&n({target:"ArrayBuffer",proto:!0},{transfer:function(){return i(this,arguments.length?arguments[0]:void 0,!0)}})},4114:function(e,t,r){"use strict";var n=r(6518),i=r(8981),o=r(6198),l=r(4527),a=r(6837),s=r(9039),c=s((function(){return 4294967297!==[].push.call({length:4294967296},1)})),u=function(){try{Object.defineProperty([],"length",{writable:!1}).push()}catch(e){return e instanceof TypeError}},p=c||!u();n({target:"Array",proto:!0,arity:1,forced:p},{push:function(e){var t=i(this),r=o(t),n=arguments.length;a(r+n);for(var s=0;s<n;s++)t[r]=arguments[s],r++;return l(t,r),r}})},7642:function(e,t,r){"use strict";var n=r(6518),i=r(3440),o=r(4916);n({target:"Set",proto:!0,real:!0,forced:!o("difference")},{difference:i})},8004:function(e,t,r){"use strict";var n=r(6518),i=r(9039),o=r(8750),l=r(4916),a=!l("intersection")||i((function(){return"3,2"!==String(Array.from(new Set([1,2,3]).intersection(new Set([3,2]))))}));n({target:"Set",proto:!0,real:!0,forced:a},{intersection:o})},3853:function(e,t,r){"use strict";var n=r(6518),i=r(4449),o=r(4916);n({target:"Set",proto:!0,real:!0,forced:!o("isDisjointFrom")},{isDisjointFrom:i})},5876:function(e,t,r){"use strict";var n=r(6518),i=r(3838),o=r(4916);n({target:"Set",proto:!0,real:!0,forced:!o("isSubsetOf")},{isSubsetOf:i})},2475:function(e,t,r){"use strict";var n=r(6518),i=r(8527),o=r(4916);n({target:"Set",proto:!0,real:!0,forced:!o("isSupersetOf")},{isSupersetOf:i})},5024:function(e,t,r){"use strict";var n=r(6518),i=r(3650),o=r(4916);n({target:"Set",proto:!0,real:!0,forced:!o("symmetricDifference")},{symmetricDifference:i})},1698:function(e,t,r){"use strict";var n=r(6518),i=r(4204),o=r(4916);n({target:"Set",proto:!0,real:!0,forced:!o("union")},{union:i})},7467:function(e,t,r){"use strict";var n=r(7628),i=r(4644),o=i.aTypedArray,l=i.exportTypedArrayMethod,a=i.getTypedArrayConstructor;l("toReversed",(function(){return n(o(this),a(this))}))},4732:function(e,t,r){"use strict";var n=r(4644),i=r(9504),o=r(9306),l=r(5370),a=n.aTypedArray,s=n.getTypedArrayConstructor,c=n.exportTypedArrayMethod,u=i(n.TypedArrayPrototype.sort);c("toSorted",(function(e){void 0!==e&&o(e);var t=a(this),r=l(s(t),t);return u(r,e)}))},9577:function(e,t,r){"use strict";var n=r(9928),i=r(4644),o=r(1108),l=r(1291),a=r(5854),s=i.aTypedArray,c=i.getTypedArrayConstructor,u=i.exportTypedArrayMethod,p=!!function(){try{new Int8Array(1)["with"](2,{valueOf:function(){throw 8}})}catch(e){return 8===e}}();u("with",{with:function(e,t){var r=s(this),i=l(e),u=o(r)?a(t):+t;return n(r,c(r),i,u)}}["with"],!p)},6368:function(e,t,r){"use strict";var n=r(6518),i=r(4576),o=r(9225).clear;n({global:!0,bind:!0,enumerable:!0,forced:i.clearImmediate!==o},{clearImmediate:o})},4979:function(e,t,r){"use strict";var n=r(6518),i=r(4576),o=r(7751),l=r(6980),a=r(4913).f,s=r(9297),c=r(679),u=r(3167),p=r(2603),h=r(5002),d=r(8574),f=r(3724),g=r(6395),m="DOMException",v=o("Error"),y=o(m),A=function(){c(this,w);var e=arguments.length,t=p(e<1?void 0:arguments[0]),r=p(e<2?void 0:arguments[1],"Error"),n=new y(t,r),i=new v(t);return i.name=m,a(n,"stack",l(1,d(i.stack,1))),u(n,this,A),n},w=A.prototype=y.prototype,_="stack"in new v(m),T="stack"in new y(1,2),b=y&&f&&Object.getOwnPropertyDescriptor(i,m),x=!!b&&!(b.writable&&b.configurable),E=_&&!x&&!T;n({global:!0,constructor:!0,forced:g||E},{DOMException:E?A:y});var S=o(m),P=S.prototype;if(P.constructor!==S)for(var C in g||a(P,"constructor",l(1,S)),h)if(s(h,C)){var R=h[C],D=R.s;s(S,D)||a(S,D,l(6,R.c))}},9848:function(e,t,r){"use strict";r(6368),r(9309)},9309:function(e,t,r){"use strict";var n=r(6518),i=r(4576),o=r(9225).set,l=r(9472),a=i.setImmediate?l(o,!1):o;n({global:!0,bind:!0,enumerable:!0,forced:i.setImmediate!==a},{setImmediate:a})},4603:function(e,t,r){"use strict";var n=r(6840),i=r(9504),o=r(655),l=r(2812),a=URLSearchParams,s=a.prototype,c=i(s.append),u=i(s["delete"]),p=i(s.forEach),h=i([].push),d=new a("a=1&a=2&b=3");d["delete"]("a",1),d["delete"]("b",void 0),d+""!=="a=2"&&n(s,"delete",(function(e){var t=arguments.length,r=t<2?void 0:arguments[1];if(t&&void 0===r)return u(this,e);var n=[];p(this,(function(e,t){h(n,{key:t,value:e})})),l(t,1);var i,a=o(e),s=o(r),d=0,f=0,g=!1,m=n.length;while(d<m)i=n[d++],g||i.key===a?(g=!0,u(this,i.key)):f++;while(f<m)i=n[f++],i.key===a&&i.value===s||c(this,i.key,i.value)}),{enumerable:!0,unsafe:!0})},7566:function(e,t,r){"use strict";var n=r(6840),i=r(9504),o=r(655),l=r(2812),a=URLSearchParams,s=a.prototype,c=i(s.getAll),u=i(s.has),p=new a("a=1");!p.has("a",2)&&p.has("a",void 0)||n(s,"has",(function(e){var t=arguments.length,r=t<2?void 0:arguments[1];if(t&&void 0===r)return u(this,e);var n=c(this,e);l(t,1);var i=o(r),a=0;while(a<n.length)if(n[a++]===i)return!0;return!1}),{enumerable:!0,unsafe:!0})},8721:function(e,t,r){"use strict";var n=r(3724),i=r(9504),o=r(2106),l=URLSearchParams.prototype,a=i(l.forEach);n&&!("size"in l)&&o(l,"size",{get:function(){var e=0;return a(this,(function(){e++})),e},configurable:!0,enumerable:!0})}},t={};function r(n){var i=t[n];if(void 0!==i)return i.exports;var o=t[n]={id:n,loaded:!1,exports:{}};return e[n].call(o.exports,o,o.exports,r),o.loaded=!0,o.exports}!function(){r.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return r.d(t,{a:t}),t}}(),function(){r.d=function(e,t){for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}}(),function(){r.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){r.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){r.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e}}();!function(){"use strict";var e={};r.r(e),r.d(e,{hasBrowserEnv:function(){return vc},hasStandardBrowserEnv:function(){return Ac},hasStandardBrowserWebWorkerEnv:function(){return wc},navigator:function(){return yc},origin:function(){return _c}});r(4114),r(7642),r(8004),r(3853),r(5876),r(2475),r(5024),r(1698);
/**
* @vue/shared v3.4.38
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/
/*! #__NO_SIDE_EFFECTS__ */
function t(e,t){const r=new Set(e.split(","));return t?e=>r.has(e.toLowerCase()):e=>r.has(e)}const n={},i=[],o=()=>{},l=()=>!1,a=e=>111===e.charCodeAt(0)&&110===e.charCodeAt(1)&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),s=e=>e.startsWith("onUpdate:"),c=Object.assign,u=(e,t)=>{const r=e.indexOf(t);r>-1&&e.splice(r,1)},p=Object.prototype.hasOwnProperty,h=(e,t)=>p.call(e,t),d=Array.isArray,f=e=>"[object Map]"===b(e),g=e=>"[object Set]"===b(e),m=e=>"[object RegExp]"===b(e),v=e=>"function"===typeof e,y=e=>"string"===typeof e,A=e=>"symbol"===typeof e,w=e=>null!==e&&"object"===typeof e,_=e=>(w(e)||v(e))&&v(e.then)&&v(e.catch),T=Object.prototype.toString,b=e=>T.call(e),x=e=>b(e).slice(8,-1),E=e=>"[object Object]"===b(e),S=e=>y(e)&&"NaN"!==e&&"-"!==e[0]&&""+parseInt(e,10)===e,P=t(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),C=e=>{const t=Object.create(null);return r=>{const n=t[r];return n||(t[r]=e(r))}},R=/-(\w)/g,D=C((e=>e.replace(R,((e,t)=>t?t.toUpperCase():"")))),O=/\B([A-Z])/g,I=C((e=>e.replace(O,"-$1").toLowerCase())),N=C((e=>e.charAt(0).toUpperCase()+e.slice(1))),L=C((e=>{const t=e?`on${N(e)}`:"";return t})),F=(e,t)=>!Object.is(e,t),k=(e,...t)=>{for(let r=0;r<e.length;r++)e[r](...t)},B=(e,t,r,n=!1)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:n,value:r})},M=e=>{const t=parseFloat(e);return isNaN(t)?e:t},z=e=>{const t=y(e)?Number(e):NaN;return isNaN(t)?e:t};let j;const U=()=>j||(j="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self?self:"undefined"!==typeof window?window:"undefined"!==typeof r.g?r.g:{});function H(e){if(d(e)){const t={};for(let r=0;r<e.length;r++){const n=e[r],i=y(n)?q(n):H(n);if(i)for(const e in i)t[e]=i[e]}return t}if(y(e)||w(e))return e}const V=/;(?![^(]*\))/g,W=/:([^]+)/,G=/\/\*[^]*?\*\//g;function q(e){const t={};return e.replace(G,"").split(V).forEach((e=>{if(e){const r=e.split(W);r.length>1&&(t[r[0].trim()]=r[1].trim())}})),t}function X(e){let t="";if(y(e))t=e;else if(d(e))for(let r=0;r<e.length;r++){const n=X(e[r]);n&&(t+=n+" ")}else if(w(e))for(const r in e)e[r]&&(t+=r+" ");return t.trim()}const Z="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",$=t(Z);function Y(e){return!!e||""===e}const K=e=>!(!e||!0!==e.__v_isRef),Q=e=>y(e)?e:null==e?"":d(e)||w(e)&&(e.toString===T||!v(e.toString))?K(e)?Q(e.value):JSON.stringify(e,J,2):String(e),J=(e,t)=>K(t)?J(e,t.value):f(t)?{[`Map(${t.size})`]:[...t.entries()].reduce(((e,[t,r],n)=>(e[ee(t,n)+" =>"]=r,e)),{})}:g(t)?{[`Set(${t.size})`]:[...t.values()].map((e=>ee(e)))}:A(t)?ee(t):!w(t)||d(t)||E(t)?t:String(t),ee=(e,t="")=>{var r;return A(e)?`Symbol(${null!=(r=e.description)?r:t})`:e};let te,re;class ne{constructor(e=!1){this.detached=e,this._active=!0,this.effects=[],this.cleanups=[],this.parent=te,!e&&te&&(this.index=(te.scopes||(te.scopes=[])).push(this)-1)}get active(){return this._active}run(e){if(this._active){const t=te;try{return te=this,e()}finally{te=t}}else 0}on(){te=this}off(){te=this.parent}stop(e){if(this._active){let t,r;for(t=0,r=this.effects.length;t<r;t++)this.effects[t].stop();for(t=0,r=this.cleanups.length;t<r;t++)this.cleanups[t]();if(this.scopes)for(t=0,r=this.scopes.length;t<r;t++)this.scopes[t].stop(!0);if(!this.detached&&this.parent&&!e){const e=this.parent.scopes.pop();e&&e!==this&&(this.parent.scopes[this.index]=e,e.index=this.index)}this.parent=void 0,this._active=!1}}}function ie(e,t=te){t&&t.active&&t.effects.push(e)}function oe(){return te}class le{constructor(e,t,r,n){this.fn=e,this.trigger=t,this.scheduler=r,this.active=!0,this.deps=[],this._dirtyLevel=4,this._trackId=0,this._runnings=0,this._shouldSchedule=!1,this._depsLength=0,ie(this,n)}get dirty(){if(2===this._dirtyLevel||3===this._dirtyLevel){this._dirtyLevel=1,fe();for(let e=0;e<this._depsLength;e++){const t=this.deps[e];if(t.computed&&(ae(t.computed),this._dirtyLevel>=4))break}1===this._dirtyLevel&&(this._dirtyLevel=0),ge()}return this._dirtyLevel>=4}set dirty(e){this._dirtyLevel=e?4:0}run(){if(this._dirtyLevel=0,!this.active)return this.fn();let e=pe,t=re;try{return pe=!0,re=this,this._runnings++,se(this),this.fn()}finally{ce(this),this._runnings--,re=t,pe=e}}stop(){this.active&&(se(this),ce(this),this.onStop&&this.onStop(),this.active=!1)}}function ae(e){return e.value}function se(e){e._trackId++,e._depsLength=0}function ce(e){if(e.deps.length>e._depsLength){for(let t=e._depsLength;t<e.deps.length;t++)ue(e.deps[t],e);e.deps.length=e._depsLength}}function ue(e,t){const r=e.get(t);void 0!==r&&t._trackId!==r&&(e.delete(t),0===e.size&&e.cleanup())}let pe=!0,he=0;const de=[];function fe(){de.push(pe),pe=!1}function ge(){const e=de.pop();pe=void 0===e||e}function me(){he++}function ve(){he--;while(!he&&Ae.length)Ae.shift()()}function ye(e,t,r){if(t.get(e)!==e._trackId){t.set(e,e._trackId);const r=e.deps[e._depsLength];r!==t?(r&&ue(r,e),e.deps[e._depsLength++]=t):e._depsLength++}}const Ae=[];function we(e,t,r){me();for(const n of e.keys()){let r;n._dirtyLevel<t&&(null!=r?r:r=e.get(n)===n._trackId)&&(n._shouldSchedule||(n._shouldSchedule=0===n._dirtyLevel),n._dirtyLevel=t),n._shouldSchedule&&(null!=r?r:r=e.get(n)===n._trackId)&&(n.trigger(),n._runnings&&!n.allowRecurse||2===n._dirtyLevel||(n._shouldSchedule=!1,n.scheduler&&Ae.push(n.scheduler)))}ve()}const _e=(e,t)=>{const r=new Map;return r.cleanup=e,r.computed=t,r},Te=new WeakMap,be=Symbol(""),xe=Symbol("");function Ee(e,t,r){if(pe&&re){let t=Te.get(e);t||Te.set(e,t=new Map);let n=t.get(r);n||t.set(r,n=_e((()=>t.delete(r)))),ye(re,n,void 0)}}function Se(e,t,r,n,i,o){const l=Te.get(e);if(!l)return;let a=[];if("clear"===t)a=[...l.values()];else if("length"===r&&d(e)){const e=Number(n);l.forEach(((t,r)=>{("length"===r||!A(r)&&r>=e)&&a.push(t)}))}else switch(void 0!==r&&a.push(l.get(r)),t){case"add":d(e)?S(r)&&a.push(l.get("length")):(a.push(l.get(be)),f(e)&&a.push(l.get(xe)));break;case"delete":d(e)||(a.push(l.get(be)),f(e)&&a.push(l.get(xe)));break;case"set":f(e)&&a.push(l.get(be));break}me();for(const s of a)s&&we(s,4,void 0);ve()}const Pe=t("__proto__,__v_isRef,__isVue"),Ce=new Set(Object.getOwnPropertyNames(Symbol).filter((e=>"arguments"!==e&&"caller"!==e)).map((e=>Symbol[e])).filter(A)),Re=De();function De(){const e={};return["includes","indexOf","lastIndexOf"].forEach((t=>{e[t]=function(...e){const r=At(this);for(let t=0,i=this.length;t<i;t++)Ee(r,"get",t+"");const n=r[t](...e);return-1===n||!1===n?r[t](...e.map(At)):n}})),["push","pop","shift","unshift","splice"].forEach((t=>{e[t]=function(...e){fe(),me();const r=At(this)[t].apply(this,e);return ve(),ge(),r}})),e}function Oe(e){A(e)||(e=String(e));const t=At(this);return Ee(t,"has",e),t.hasOwnProperty(e)}class Ie{constructor(e=!1,t=!1){this._isReadonly=e,this._isShallow=t}get(e,t,r){const n=this._isReadonly,i=this._isShallow;if("__v_isReactive"===t)return!n;if("__v_isReadonly"===t)return n;if("__v_isShallow"===t)return i;if("__v_raw"===t)return r===(n?i?st:at:i?lt:ot).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(r)?e:void 0;const o=d(e);if(!n){if(o&&h(Re,t))return Reflect.get(Re,t,r);if("hasOwnProperty"===t)return Oe}const l=Reflect.get(e,t,r);return(A(t)?Ce.has(t):Pe(t))?l:(n||Ee(e,"get",t),i?l:Pt(l)?o&&S(t)?l:l.value:w(l)?n?dt(l):pt(l):l)}}class Ne extends Ie{constructor(e=!1){super(!1,e)}set(e,t,r,n){let i=e[t];if(!this._isShallow){const t=mt(i);if(vt(r)||mt(r)||(i=At(i),r=At(r)),!d(e)&&Pt(i)&&!Pt(r))return!t&&(i.value=r,!0)}const o=d(e)&&S(t)?Number(t)<e.length:h(e,t),l=Reflect.set(e,t,r,n);return e===At(n)&&(o?F(r,i)&&Se(e,"set",t,r,i):Se(e,"add",t,r)),l}deleteProperty(e,t){const r=h(e,t),n=e[t],i=Reflect.deleteProperty(e,t);return i&&r&&Se(e,"delete",t,void 0,n),i}has(e,t){const r=Reflect.has(e,t);return A(t)&&Ce.has(t)||Ee(e,"has",t),r}ownKeys(e){return Ee(e,"iterate",d(e)?"length":be),Reflect.ownKeys(e)}}class Le extends Ie{constructor(e=!1){super(!0,e)}set(e,t){return!0}deleteProperty(e,t){return!0}}const Fe=new Ne,ke=new Le,Be=new Ne(!0),Me=e=>e,ze=e=>Reflect.getPrototypeOf(e);function je(e,t,r=!1,n=!1){e=e["__v_raw"];const i=At(e),o=At(t);r||(F(t,o)&&Ee(i,"get",t),Ee(i,"get",o));const{has:l}=ze(i),a=n?Me:r?Tt:_t;return l.call(i,t)?a(e.get(t)):l.call(i,o)?a(e.get(o)):void(e!==i&&e.get(t))}function Ue(e,t=!1){const r=this["__v_raw"],n=At(r),i=At(e);return t||(F(e,i)&&Ee(n,"has",e),Ee(n,"has",i)),e===i?r.has(e):r.has(e)||r.has(i)}function He(e,t=!1){return e=e["__v_raw"],!t&&Ee(At(e),"iterate",be),Reflect.get(e,"size",e)}function Ve(e,t=!1){t||vt(e)||mt(e)||(e=At(e));const r=At(this),n=ze(r),i=n.has.call(r,e);return i||(r.add(e),Se(r,"add",e,e)),this}function We(e,t,r=!1){r||vt(t)||mt(t)||(t=At(t));const n=At(this),{has:i,get:o}=ze(n);let l=i.call(n,e);l||(e=At(e),l=i.call(n,e));const a=o.call(n,e);return n.set(e,t),l?F(t,a)&&Se(n,"set",e,t,a):Se(n,"add",e,t),this}function Ge(e){const t=At(this),{has:r,get:n}=ze(t);let i=r.call(t,e);i||(e=At(e),i=r.call(t,e));const o=n?n.call(t,e):void 0,l=t.delete(e);return i&&Se(t,"delete",e,void 0,o),l}function qe(){const e=At(this),t=0!==e.size,r=void 0,n=e.clear();return t&&Se(e,"clear",void 0,void 0,r),n}function Xe(e,t){return function(r,n){const i=this,o=i["__v_raw"],l=At(o),a=t?Me:e?Tt:_t;return!e&&Ee(l,"iterate",be),o.forEach(((e,t)=>r.call(n,a(e),a(t),i)))}}function Ze(e,t,r){return function(...n){const i=this["__v_raw"],o=At(i),l=f(o),a="entries"===e||e===Symbol.iterator&&l,s="keys"===e&&l,c=i[e](...n),u=r?Me:t?Tt:_t;return!t&&Ee(o,"iterate",s?xe:be),{next(){const{value:e,done:t}=c.next();return t?{value:e,done:t}:{value:a?[u(e[0]),u(e[1])]:u(e),done:t}},[Symbol.iterator](){return this}}}}function $e(e){return function(...t){return"delete"!==e&&("clear"===e?void 0:this)}}function Ye(){const e={get(e){return je(this,e)},get size(){return He(this)},has:Ue,add:Ve,set:We,delete:Ge,clear:qe,forEach:Xe(!1,!1)},t={get(e){return je(this,e,!1,!0)},get size(){return He(this)},has:Ue,add(e){return Ve.call(this,e,!0)},set(e,t){return We.call(this,e,t,!0)},delete:Ge,clear:qe,forEach:Xe(!1,!0)},r={get(e){return je(this,e,!0)},get size(){return He(this,!0)},has(e){return Ue.call(this,e,!0)},add:$e("add"),set:$e("set"),delete:$e("delete"),clear:$e("clear"),forEach:Xe(!0,!1)},n={get(e){return je(this,e,!0,!0)},get size(){return He(this,!0)},has(e){return Ue.call(this,e,!0)},add:$e("add"),set:$e("set"),delete:$e("delete"),clear:$e("clear"),forEach:Xe(!0,!0)},i=["keys","values","entries",Symbol.iterator];return i.forEach((i=>{e[i]=Ze(i,!1,!1),r[i]=Ze(i,!0,!1),t[i]=Ze(i,!1,!0),n[i]=Ze(i,!0,!0)})),[e,r,t,n]}const[Ke,Qe,Je,et]=Ye();function tt(e,t){const r=t?e?et:Je:e?Qe:Ke;return(t,n,i)=>"__v_isReactive"===n?!e:"__v_isReadonly"===n?e:"__v_raw"===n?t:Reflect.get(h(r,n)&&n in t?r:t,n,i)}const rt={get:tt(!1,!1)},nt={get:tt(!1,!0)},it={get:tt(!0,!1)};const ot=new WeakMap,lt=new WeakMap,at=new WeakMap,st=new WeakMap;function ct(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function ut(e){return e["__v_skip"]||!Object.isExtensible(e)?0:ct(x(e))}function pt(e){return mt(e)?e:ft(e,!1,Fe,rt,ot)}function ht(e){return ft(e,!1,Be,nt,lt)}function dt(e){return ft(e,!0,ke,it,at)}function ft(e,t,r,n,i){if(!w(e))return e;if(e["__v_raw"]&&(!t||!e["__v_isReactive"]))return e;const o=i.get(e);if(o)return o;const l=ut(e);if(0===l)return e;const a=new Proxy(e,2===l?n:r);return i.set(e,a),a}function gt(e){return mt(e)?gt(e["__v_raw"]):!(!e||!e["__v_isReactive"])}function mt(e){return!(!e||!e["__v_isReadonly"])}function vt(e){return!(!e||!e["__v_isShallow"])}function yt(e){return!!e&&!!e["__v_raw"]}function At(e){const t=e&&e["__v_raw"];return t?At(t):e}function wt(e){return Object.isExtensible(e)&&B(e,"__v_skip",!0),e}const _t=e=>w(e)?pt(e):e,Tt=e=>w(e)?dt(e):e;class bt{constructor(e,t,r,n){this.getter=e,this._setter=t,this.dep=void 0,this.__v_isRef=!0,this["__v_isReadonly"]=!1,this.effect=new le((()=>e(this._value)),(()=>St(this,2===this.effect._dirtyLevel?2:3))),this.effect.computed=this,this.effect.active=this._cacheable=!n,this["__v_isReadonly"]=r}get value(){const e=At(this);return e._cacheable&&!e.effect.dirty||!F(e._value,e._value=e.effect.run())||St(e,4),Et(e),e.effect._dirtyLevel>=2&&St(e,2),e._value}set value(e){this._setter(e)}get _dirty(){return this.effect.dirty}set _dirty(e){this.effect.dirty=e}}function xt(e,t,r=!1){let n,i;const l=v(e);l?(n=e,i=o):(n=e.get,i=e.set);const a=new bt(n,i,l||!i,r);return a}function Et(e){var t;pe&&re&&(e=At(e),ye(re,null!=(t=e.dep)?t:e.dep=_e((()=>e.dep=void 0),e instanceof bt?e:void 0),void 0))}function St(e,t=4,r,n){e=At(e);const i=e.dep;i&&we(i,t,void 0)}function Pt(e){return!(!e||!0!==e.__v_isRef)}function Ct(e){return Pt(e)?e.value:e}const Rt={get:(e,t,r)=>Ct(Reflect.get(e,t,r)),set:(e,t,r,n)=>{const i=e[t];return Pt(i)&&!Pt(r)?(i.value=r,!0):Reflect.set(e,t,r,n)}};function Dt(e){return gt(e)?e:new Proxy(e,Rt)}function Ot(e,t,r,n){try{return n?e(...n):e()}catch(i){Nt(i,t,r)}}function It(e,t,r,n){if(v(e)){const i=Ot(e,t,r,n);return i&&_(i)&&i.catch((e=>{Nt(e,t,r)})),i}if(d(e)){const i=[];for(let o=0;o<e.length;o++)i.push(It(e[o],t,r,n));return i}}function Nt(e,t,r,n=!0){const i=t?t.vnode:null;if(t){let n=t.parent;const i=t.proxy,o=`https://vuejs.org/error-reference/#runtime-${r}`;while(n){const t=n.ec;if(t)for(let r=0;r<t.length;r++)if(!1===t[r](e,i,o))return;n=n.parent}const l=t.appContext.config.errorHandler;if(l)return fe(),Ot(l,null,10,[e,i,o]),void ge()}Lt(e,r,i,n)}function Lt(e,t,r,n=!0){console.error(e)}let Ft=!1,kt=!1;const Bt=[];let Mt=0;const zt=[];let jt=null,Ut=0;const Ht=Promise.resolve();let Vt=null;function Wt(e){const t=Vt||Ht;return e?t.then(this?e.bind(this):e):t}function Gt(e){let t=Mt+1,r=Bt.length;while(t<r){const n=t+r>>>1,i=Bt[n],o=Qt(i);o<e||o===e&&i.pre?t=n+1:r=n}return t}function qt(e){Bt.length&&Bt.includes(e,Ft&&e.allowRecurse?Mt+1:Mt)||(null==e.id?Bt.push(e):Bt.splice(Gt(e.id),0,e),Xt())}function Xt(){Ft||kt||(kt=!0,Vt=Ht.then(er))}function Zt(e){const t=Bt.indexOf(e);t>Mt&&Bt.splice(t,1)}function $t(e){d(e)?zt.push(...e):jt&&jt.includes(e,e.allowRecurse?Ut+1:Ut)||zt.push(e),Xt()}function Yt(e,t,r=(Ft?Mt+1:0)){for(0;r<Bt.length;r++){const t=Bt[r];if(t&&t.pre){if(e&&t.id!==e.uid)continue;0,Bt.splice(r,1),r--,t()}}}function Kt(e){if(zt.length){const e=[...new Set(zt)].sort(((e,t)=>Qt(e)-Qt(t)));if(zt.length=0,jt)return void jt.push(...e);for(jt=e,Ut=0;Ut<jt.length;Ut++){const e=jt[Ut];0,!1!==e.active&&e()}jt=null,Ut=0}}const Qt=e=>null==e.id?1/0:e.id,Jt=(e,t)=>{const r=Qt(e)-Qt(t);if(0===r){if(e.pre&&!t.pre)return-1;if(t.pre&&!e.pre)return 1}return r};function er(e){kt=!1,Ft=!0,Bt.sort(Jt);try{for(Mt=0;Mt<Bt.length;Mt++){const e=Bt[Mt];e&&!1!==e.active&&Ot(e,e.i,e.i?15:14)}}finally{Mt=0,Bt.length=0,Kt(e),Ft=!1,Vt=null,(Bt.length||zt.length)&&er(e)}}let tr=null,rr=null;function nr(e){const t=tr;return tr=e,rr=e&&e.type.__scopeId||null,t}function ir(e,t=tr,r){if(!t)return e;if(e._n)return e;const n=(...r)=>{n._d&&Di(-1);const i=nr(t);let o;try{o=e(...r)}finally{nr(i),n._d&&Di(1)}return o};return n._n=!0,n._c=!0,n._d=!0,n}function or(e,t){if(null===tr)return e;const r=go(tr),i=e.dirs||(e.dirs=[]);for(let o=0;o<t.length;o++){let[e,l,a,s=n]=t[o];e&&(v(e)&&(e={mounted:e,updated:e}),e.deep&&si(l),i.push({dir:e,instance:r,value:l,oldValue:void 0,arg:a,modifiers:s}))}return e}function lr(e,t,r,n){const i=e.dirs,o=t&&t.dirs;for(let l=0;l<i.length;l++){const a=i[l];o&&(a.oldValue=o[l].value);let s=a.dir[n];s&&(fe(),It(s,r,8,[e.el,a,e,t]),ge())}}const ar=Symbol("_leaveCb"),sr=Symbol("_enterCb");function cr(){const e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return Nr((()=>{e.isMounted=!0})),kr((()=>{e.isUnmounting=!0})),e}const ur=[Function,Array],pr={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:ur,onEnter:ur,onAfterEnter:ur,onEnterCancelled:ur,onBeforeLeave:ur,onLeave:ur,onAfterLeave:ur,onLeaveCancelled:ur,onBeforeAppear:ur,onAppear:ur,onAfterAppear:ur,onAppearCancelled:ur},hr=e=>{const t=e.subTree;return t.component?hr(t.component):t},dr={name:"BaseTransition",props:pr,setup(e,{slots:t}){const r=Ji(),n=cr();return()=>{const i=t.default&&wr(t.default(),!0);if(!i||!i.length)return;let o=i[0];if(i.length>1){let e=!1;for(const t of i)if(t.type!==bi){0,o=t,e=!0;break}}const l=At(e),{mode:a}=l;if(n.isLeaving)return vr(o);const s=yr(o);if(!s)return vr(o);let c=mr(s,l,n,r,(e=>c=e));Ar(s,c);const u=r.subTree,p=u&&yr(u);if(p&&p.type!==bi&&!Fi(s,p)&&hr(r).type!==bi){const e=mr(p,l,n,r);if(Ar(p,e),"out-in"===a&&s.type!==bi)return n.isLeaving=!0,e.afterLeave=()=>{n.isLeaving=!1,!1!==r.update.active&&(r.effect.dirty=!0,r.update())},vr(o);"in-out"===a&&s.type!==bi&&(e.delayLeave=(e,t,r)=>{const i=gr(n,p);i[String(p.key)]=p,e[ar]=()=>{t(),e[ar]=void 0,delete c.delayedLeave},c.delayedLeave=r})}return o}}},fr=dr;function gr(e,t){const{leavingVNodes:r}=e;let n=r.get(t.type);return n||(n=Object.create(null),r.set(t.type,n)),n}function mr(e,t,r,n,i){const{appear:o,mode:l,persisted:a=!1,onBeforeEnter:s,onEnter:c,onAfterEnter:u,onEnterCancelled:p,onBeforeLeave:h,onLeave:f,onAfterLeave:g,onLeaveCancelled:m,onBeforeAppear:v,onAppear:y,onAfterAppear:A,onAppearCancelled:w}=t,_=String(e.key),T=gr(r,e),b=(e,t)=>{e&&It(e,n,9,t)},x=(e,t)=>{const r=t[1];b(e,t),d(e)?e.every((e=>e.length<=1))&&r():e.length<=1&&r()},E={mode:l,persisted:a,beforeEnter(t){let n=s;if(!r.isMounted){if(!o)return;n=v||s}t[ar]&&t[ar](!0);const i=T[_];i&&Fi(e,i)&&i.el[ar]&&i.el[ar](),b(n,[t])},enter(e){let t=c,n=u,i=p;if(!r.isMounted){if(!o)return;t=y||c,n=A||u,i=w||p}let l=!1;const a=e[sr]=t=>{l||(l=!0,b(t?i:n,[e]),E.delayedLeave&&E.delayedLeave(),e[sr]=void 0)};t?x(t,[e,a]):a()},leave(t,n){const i=String(e.key);if(t[sr]&&t[sr](!0),r.isUnmounting)return n();b(h,[t]);let o=!1;const l=t[ar]=r=>{o||(o=!0,n(),b(r?m:g,[t]),t[ar]=void 0,T[i]===e&&delete T[i])};T[i]=e,f?x(f,[t,l]):l()},clone(e){const o=mr(e,t,r,n,i);return i&&i(o),o}};return E}function vr(e){if(Tr(e))return e=Hi(e),e.children=null,e}function yr(e){if(!Tr(e))return e;const{shapeFlag:t,children:r}=e;if(r){if(16&t)return r[0];if(32&t&&v(r.default))return r.default()}}function Ar(e,t){6&e.shapeFlag&&e.component?Ar(e.component.subTree,t):128&e.shapeFlag?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function wr(e,t=!1,r){let n=[],i=0;for(let o=0;o<e.length;o++){let l=e[o];const a=null==r?l.key:String(r)+String(null!=l.key?l.key:o);l.type===_i?(128&l.patchFlag&&i++,n=n.concat(wr(l.children,t,a))):(t||l.type!==bi)&&n.push(null!=a?Hi(l,{key:a}):l)}if(i>1)for(let o=0;o<n.length;o++)n[o].patchFlag=-2;return n}
/*! #__NO_SIDE_EFFECTS__ */const _r=e=>!!e.type.__asyncLoader
/*! #__NO_SIDE_EFFECTS__ */;const Tr=e=>e.type.__isKeepAlive;RegExp,RegExp;function br(e,t){return d(e)?e.some((e=>br(e,t))):y(e)?e.split(",").includes(t):!!m(e)&&e.test(t)}function xr(e,t){Sr(e,"a",t)}function Er(e,t){Sr(e,"da",t)}function Sr(e,t,r=Qi){const n=e.__wdc||(e.__wdc=()=>{let t=r;while(t){if(t.isDeactivated)return;t=t.parent}return e()});if(Dr(t,n,r),r){let e=r.parent;while(e&&e.parent)Tr(e.parent.vnode)&&Pr(n,t,r,e),e=e.parent}}function Pr(e,t,r,n){const i=Dr(t,e,n,!0);Br((()=>{u(n[t],i)}),r)}function Cr(e){e.shapeFlag&=-257,e.shapeFlag&=-513}function Rr(e){return 128&e.shapeFlag?e.ssContent:e}function Dr(e,t,r=Qi,n=!1){if(r){const i=r[e]||(r[e]=[]),o=t.__weh||(t.__weh=(...n)=>{fe();const i=ro(r),o=It(t,r,e,n);return i(),ge(),o});return n?i.unshift(o):i.push(o),o}}const Or=e=>(t,r=Qi)=>{ao&&"sp"!==e||Dr(e,((...e)=>t(...e)),r)},Ir=Or("bm"),Nr=Or("m"),Lr=Or("bu"),Fr=Or("u"),kr=Or("bum"),Br=Or("um"),Mr=Or("sp"),zr=Or("rtg"),jr=Or("rtc");function Ur(e,t=Qi){Dr("ec",e,t)}const Hr="components",Vr="directives";function Wr(e,t){return Xr(Hr,e,!0,t)||e}const Gr=Symbol.for("v-ndc");function qr(e){return Xr(Vr,e)}function Xr(e,t,r=!0,n=!1){const i=tr||Qi;if(i){const r=i.type;if(e===Hr){const e=mo(r,!1);if(e&&(e===t||e===D(t)||e===N(D(t))))return r}const o=Zr(i[e]||r[e],t)||Zr(i.appContext[e],t);return!o&&n?r:o}}function Zr(e,t){return e&&(e[t]||e[D(t)]||e[N(D(t))])}function $r(e,t,r,n){let i;const o=r&&r[n];if(d(e)||y(e)){i=new Array(e.length);for(let r=0,n=e.length;r<n;r++)i[r]=t(e[r],r,void 0,o&&o[r])}else if("number"===typeof e){0,i=new Array(e);for(let r=0;r<e;r++)i[r]=t(r+1,r,void 0,o&&o[r])}else if(w(e))if(e[Symbol.iterator])i=Array.from(e,((e,r)=>t(e,r,void 0,o&&o[r])));else{const r=Object.keys(e);i=new Array(r.length);for(let n=0,l=r.length;n<l;n++){const l=r[n];i[n]=t(e[l],l,n,o&&o[n])}}else i=[];return r&&(r[n]=i),i}const Yr=e=>e?io(e)?go(e):Yr(e.parent):null,Kr=c(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>Yr(e.parent),$root:e=>Yr(e.root),$emit:e=>e.emit,$options:e=>an(e),$forceUpdate:e=>e.f||(e.f=()=>{e.effect.dirty=!0,qt(e.update)}),$nextTick:e=>e.n||(e.n=Wt.bind(e.proxy)),$watch:e=>li.bind(e)}),Qr=(e,t)=>e!==n&&!e.__isScriptSetup&&h(e,t),Jr={get({_:e},t){if("__v_skip"===t)return!0;const{ctx:r,setupState:i,data:o,props:l,accessCache:a,type:s,appContext:c}=e;let u;if("$"!==t[0]){const s=a[t];if(void 0!==s)switch(s){case 1:return i[t];case 2:return o[t];case 4:return r[t];case 3:return l[t]}else{if(Qr(i,t))return a[t]=1,i[t];if(o!==n&&h(o,t))return a[t]=2,o[t];if((u=e.propsOptions[0])&&h(u,t))return a[t]=3,l[t];if(r!==n&&h(r,t))return a[t]=4,r[t];tn&&(a[t]=0)}}const p=Kr[t];let d,f;return p?("$attrs"===t&&Ee(e.attrs,"get",""),p(e)):(d=s.__cssModules)&&(d=d[t])?d:r!==n&&h(r,t)?(a[t]=4,r[t]):(f=c.config.globalProperties,h(f,t)?f[t]:void 0)},set({_:e},t,r){const{data:i,setupState:o,ctx:l}=e;return Qr(o,t)?(o[t]=r,!0):i!==n&&h(i,t)?(i[t]=r,!0):!h(e.props,t)&&(("$"!==t[0]||!(t.slice(1)in e))&&(l[t]=r,!0))},has({_:{data:e,setupState:t,accessCache:r,ctx:i,appContext:o,propsOptions:l}},a){let s;return!!r[a]||e!==n&&h(e,a)||Qr(t,a)||(s=l[0])&&h(s,a)||h(i,a)||h(Kr,a)||h(o.config.globalProperties,a)},defineProperty(e,t,r){return null!=r.get?e._.accessCache[t]=0:h(r,"value")&&this.set(e,t,r.value,null),Reflect.defineProperty(e,t,r)}};function en(e){return d(e)?e.reduce(((e,t)=>(e[t]=null,e)),{}):e}let tn=!0;function rn(e){const t=an(e),r=e.proxy,n=e.ctx;tn=!1,t.beforeCreate&&on(t.beforeCreate,e,"bc");const{data:i,computed:l,methods:a,watch:s,provide:c,inject:u,created:p,beforeMount:h,mounted:f,beforeUpdate:g,updated:m,activated:y,deactivated:A,beforeDestroy:_,beforeUnmount:T,destroyed:b,unmounted:x,render:E,renderTracked:S,renderTriggered:P,errorCaptured:C,serverPrefetch:R,expose:D,inheritAttrs:O,components:I,directives:N,filters:L}=t,F=null;if(u&&nn(u,n,F),a)for(const o in a){const e=a[o];v(e)&&(n[o]=e.bind(r))}if(i){0;const t=i.call(r,r);0,w(t)&&(e.data=pt(t))}if(tn=!0,l)for(const d in l){const e=l[d],t=v(e)?e.bind(r,r):v(e.get)?e.get.bind(r,r):o;0;const i=!v(e)&&v(e.set)?e.set.bind(r):o,a=yo({get:t,set:i});Object.defineProperty(n,d,{enumerable:!0,configurable:!0,get:()=>a.value,set:e=>a.value=e})}if(s)for(const o in s)ln(s[o],n,r,o);if(c){const e=v(c)?c.call(r):c;Reflect.ownKeys(e).forEach((t=>{_n(t,e[t])}))}function k(e,t){d(t)?t.forEach((t=>e(t.bind(r)))):t&&e(t.bind(r))}if(p&&on(p,e,"c"),k(Ir,h),k(Nr,f),k(Lr,g),k(Fr,m),k(xr,y),k(Er,A),k(Ur,C),k(jr,S),k(zr,P),k(kr,T),k(Br,x),k(Mr,R),d(D))if(D.length){const t=e.exposed||(e.exposed={});D.forEach((e=>{Object.defineProperty(t,e,{get:()=>r[e],set:t=>r[e]=t})}))}else e.exposed||(e.exposed={});E&&e.render===o&&(e.render=E),null!=O&&(e.inheritAttrs=O),I&&(e.components=I),N&&(e.directives=N)}function nn(e,t,r=o){d(e)&&(e=hn(e));for(const n in e){const r=e[n];let i;i=w(r)?"default"in r?Tn(r.from||n,r.default,!0):Tn(r.from||n):Tn(r),Pt(i)?Object.defineProperty(t,n,{enumerable:!0,configurable:!0,get:()=>i.value,set:e=>i.value=e}):t[n]=i}}function on(e,t,r){It(d(e)?e.map((e=>e.bind(t.proxy))):e.bind(t.proxy),t,r)}function ln(e,t,r,n){const i=n.includes(".")?ai(r,n):()=>r[n];if(y(e)){const r=t[e];v(r)&&ii(i,r)}else if(v(e))ii(i,e.bind(r));else if(w(e))if(d(e))e.forEach((e=>ln(e,t,r,n)));else{const n=v(e.handler)?e.handler.bind(r):t[e.handler];v(n)&&ii(i,n,e)}else 0}function an(e){const t=e.type,{mixins:r,extends:n}=t,{mixins:i,optionsCache:o,config:{optionMergeStrategies:l}}=e.appContext,a=o.get(t);let s;return a?s=a:i.length||r||n?(s={},i.length&&i.forEach((e=>sn(s,e,l,!0))),sn(s,t,l)):s=t,w(t)&&o.set(t,s),s}function sn(e,t,r,n=!1){const{mixins:i,extends:o}=t;o&&sn(e,o,r,!0),i&&i.forEach((t=>sn(e,t,r,!0)));for(const l in t)if(n&&"expose"===l);else{const n=cn[l]||r&&r[l];e[l]=n?n(e[l],t[l]):t[l]}return e}const cn={data:un,props:gn,emits:gn,methods:fn,computed:fn,beforeCreate:dn,created:dn,beforeMount:dn,mounted:dn,beforeUpdate:dn,updated:dn,beforeDestroy:dn,beforeUnmount:dn,destroyed:dn,unmounted:dn,activated:dn,deactivated:dn,errorCaptured:dn,serverPrefetch:dn,components:fn,directives:fn,watch:mn,provide:un,inject:pn};function un(e,t){return t?e?function(){return c(v(e)?e.call(this,this):e,v(t)?t.call(this,this):t)}:t:e}function pn(e,t){return fn(hn(e),hn(t))}function hn(e){if(d(e)){const t={};for(let r=0;r<e.length;r++)t[e[r]]=e[r];return t}return e}function dn(e,t){return e?[...new Set([].concat(e,t))]:t}function fn(e,t){return e?c(Object.create(null),e,t):t}function gn(e,t){return e?d(e)&&d(t)?[...new Set([...e,...t])]:c(Object.create(null),en(e),en(null!=t?t:{})):t}function mn(e,t){if(!e)return t;if(!t)return e;const r=c(Object.create(null),e);for(const n in t)r[n]=dn(e[n],t[n]);return r}function vn(){return{app:null,config:{isNativeTag:l,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let yn=0;function An(e,t){return function(r,n=null){v(r)||(r=c({},r)),null==n||w(n)||(n=null);const i=vn(),o=new WeakSet;let l=!1;const a=i.app={_uid:yn++,_component:r,_props:n,_container:null,_context:i,_instance:null,version:wo,get config(){return i.config},set config(e){0},use(e,...t){return o.has(e)||(e&&v(e.install)?(o.add(e),e.install(a,...t)):v(e)&&(o.add(e),e(a,...t))),a},mixin(e){return i.mixins.includes(e)||i.mixins.push(e),a},component(e,t){return t?(i.components[e]=t,a):i.components[e]},directive(e,t){return t?(i.directives[e]=t,a):i.directives[e]},mount(o,s,c){if(!l){0;const u=zi(r,n);return u.appContext=i,!0===c?c="svg":!1===c&&(c=void 0),s&&t?t(u,o):e(u,o,c),l=!0,a._container=o,o.__vue_app__=a,go(u.component)}},unmount(){l&&(e(null,a._container),delete a._container.__vue_app__)},provide(e,t){return i.provides[e]=t,a},runWithContext(e){const t=wn;wn=a;try{return e()}finally{wn=t}}};return a}}let wn=null;function _n(e,t){if(Qi){let r=Qi.provides;const n=Qi.parent&&Qi.parent.provides;n===r&&(r=Qi.provides=Object.create(n)),r[e]=t}else 0}function Tn(e,t,r=!1){const n=Qi||tr;if(n||wn){const i=wn?wn._context.provides:n?null==n.parent?n.vnode.appContext&&n.vnode.appContext.provides:n.parent.provides:void 0;if(i&&e in i)return i[e];if(arguments.length>1)return r&&v(t)?t.call(n&&n.proxy):t}else 0}const bn={},xn=()=>Object.create(bn),En=e=>Object.getPrototypeOf(e)===bn;function Sn(e,t,r,n=!1){const i={},o=xn();e.propsDefaults=Object.create(null),Cn(e,t,i,o);for(const l in e.propsOptions[0])l in i||(i[l]=void 0);r?e.props=n?i:ht(i):e.type.props?e.props=i:e.props=o,e.attrs=o}function Pn(e,t,r,n){const{props:i,attrs:o,vnode:{patchFlag:l}}=e,a=At(i),[s]=e.propsOptions;let c=!1;if(!(n||l>0)||16&l){let n;Cn(e,t,i,o)&&(c=!0);for(const o in a)t&&(h(t,o)||(n=I(o))!==o&&h(t,n))||(s?!r||void 0===r[o]&&void 0===r[n]||(i[o]=Rn(s,a,o,void 0,e,!0)):delete i[o]);if(o!==a)for(const e in o)t&&h(t,e)||(delete o[e],c=!0)}else if(8&l){const r=e.vnode.dynamicProps;for(let n=0;n<r.length;n++){let l=r[n];if(hi(e.emitsOptions,l))continue;const u=t[l];if(s)if(h(o,l))u!==o[l]&&(o[l]=u,c=!0);else{const t=D(l);i[t]=Rn(s,a,t,u,e,!1)}else u!==o[l]&&(o[l]=u,c=!0)}}c&&Se(e.attrs,"set","")}function Cn(e,t,r,i){const[o,l]=e.propsOptions;let a,s=!1;if(t)for(let n in t){if(P(n))continue;const c=t[n];let u;o&&h(o,u=D(n))?l&&l.includes(u)?(a||(a={}))[u]=c:r[u]=c:hi(e.emitsOptions,n)||n in i&&c===i[n]||(i[n]=c,s=!0)}if(l){const t=At(r),i=a||n;for(let n=0;n<l.length;n++){const a=l[n];r[a]=Rn(o,t,a,i[a],e,!h(i,a))}}return s}function Rn(e,t,r,n,i,o){const l=e[r];if(null!=l){const e=h(l,"default");if(e&&void 0===n){const e=l.default;if(l.type!==Function&&!l.skipFactory&&v(e)){const{propsDefaults:o}=i;if(r in o)n=o[r];else{const l=ro(i);n=o[r]=e.call(null,t),l()}}else n=e}l[0]&&(o&&!e?n=!1:!l[1]||""!==n&&n!==I(r)||(n=!0))}return n}const Dn=new WeakMap;function On(e,t,r=!1){const o=r?Dn:t.propsCache,l=o.get(e);if(l)return l;const a=e.props,s={},u=[];let p=!1;if(!v(e)){const n=e=>{p=!0;const[r,n]=On(e,t,!0);c(s,r),n&&u.push(...n)};!r&&t.mixins.length&&t.mixins.forEach(n),e.extends&&n(e.extends),e.mixins&&e.mixins.forEach(n)}if(!a&&!p)return w(e)&&o.set(e,i),i;if(d(a))for(let i=0;i<a.length;i++){0;const e=D(a[i]);In(e)&&(s[e]=n)}else if(a){0;for(const e in a){const t=D(e);if(In(t)){const r=a[e],n=s[t]=d(r)||v(r)?{type:r}:c({},r),i=n.type;let o=!1,l=!0;if(d(i))for(let e=0;e<i.length;++e){const t=i[e],r=v(t)&&t.name;if("Boolean"===r){o=!0;break}"String"===r&&(l=!1)}else o=v(i)&&"Boolean"===i.name;n[0]=o,n[1]=l,(o||h(n,"default"))&&u.push(t)}}}const f=[s,u];return w(e)&&o.set(e,f),f}function In(e){return"$"!==e[0]&&!P(e)}const Nn=e=>"_"===e[0]||"$stable"===e,Ln=e=>d(e)?e.map(Wi):[Wi(e)],Fn=(e,t,r)=>{if(t._n)return t;const n=ir(((...e)=>Ln(t(...e))),r);return n._c=!1,n},kn=(e,t,r)=>{const n=e._ctx;for(const i in e){if(Nn(i))continue;const r=e[i];if(v(r))t[i]=Fn(i,r,n);else if(null!=r){0;const e=Ln(r);t[i]=()=>e}}},Bn=(e,t)=>{const r=Ln(t);e.slots.default=()=>r},Mn=(e,t,r)=>{for(const n in t)(r||"_"!==n)&&(e[n]=t[n])},zn=(e,t,r)=>{const n=e.slots=xn();if(32&e.vnode.shapeFlag){const e=t._;e?(Mn(n,t,r),r&&B(n,"_",e,!0)):kn(t,n)}else t&&Bn(e,t)},jn=(e,t,r)=>{const{vnode:i,slots:o}=e;let l=!0,a=n;if(32&i.shapeFlag){const e=t._;e?r&&1===e?l=!1:Mn(o,t,r):(l=!t.$stable,kn(t,o)),a=t}else t&&(Bn(e,t),a={default:1});if(l)for(const n in o)Nn(n)||null!=a[n]||delete o[n]};function Un(e,t,r,i,o=!1){if(d(e))return void e.forEach(((e,n)=>Un(e,t&&(d(t)?t[n]:t),r,i,o)));if(_r(i)&&!o)return;const l=4&i.shapeFlag?go(i.component):i.el,a=o?null:l,{i:s,r:c}=e;const p=t&&t.r,f=s.refs===n?s.refs={}:s.refs,g=s.setupState;if(null!=p&&p!==c&&(y(p)?(f[p]=null,h(g,p)&&(g[p]=null)):Pt(p)&&(p.value=null)),v(c))Ot(c,s,12,[a,f]);else{const t=y(c),n=Pt(c);if(t||n){const i=()=>{if(e.f){const r=t?h(g,c)?g[c]:f[c]:c.value;o?d(r)&&u(r,l):d(r)?r.includes(l)||r.push(l):t?(f[c]=[l],h(g,c)&&(g[c]=f[c])):(c.value=[l],e.k&&(f[e.k]=c.value))}else t?(f[c]=a,h(g,c)&&(g[c]=a)):n&&(c.value=a,e.k&&(f[e.k]=a))};a?(i.id=-1,Gn(i,r)):i()}else 0}}const Hn=Symbol("_vte"),Vn=e=>e.__isTeleport;function Wn(){"boolean"!==typeof __VUE_PROD_HYDRATION_MISMATCH_DETAILS__&&(U().__VUE_PROD_HYDRATION_MISMATCH_DETAILS__=!1)}const Gn=wi;function qn(e){return Xn(e)}function Xn(e,t){Wn();const r=U();r.__VUE__=!0;const{insert:l,remove:a,patchProp:s,createElement:c,createText:u,createComment:p,setText:h,setElementText:d,parentNode:f,nextSibling:g,setScopeId:m=o,insertStaticContent:v}=e,y=(e,t,r,n=null,i=null,o=null,l=void 0,a=null,s=!!t.dynamicChildren)=>{if(e===t)return;e&&!Fi(e,t)&&(n=$(e),W(e,i,o,!0),e=null),-2===t.patchFlag&&(s=!1,t.dynamicChildren=null);const{type:c,ref:u,shapeFlag:p}=t;switch(c){case Ti:A(e,t,r,n);break;case bi:w(e,t,r,n);break;case xi:null==e&&_(t,r,n,l);break;case _i:I(e,t,r,n,i,o,l,a,s);break;default:1&p?x(e,t,r,n,i,o,l,a,s):6&p?N(e,t,r,n,i,o,l,a,s):(64&p||128&p)&&c.process(e,t,r,n,i,o,l,a,s,Q)}null!=u&&i&&Un(u,e&&e.ref,o,t||e,!t)},A=(e,t,r,n)=>{if(null==e)l(t.el=u(t.children),r,n);else{const r=t.el=e.el;t.children!==e.children&&h(r,t.children)}},w=(e,t,r,n)=>{null==e?l(t.el=p(t.children||""),r,n):t.el=e.el},_=(e,t,r,n)=>{[e.el,e.anchor]=v(e.children,t,r,n,e.el,e.anchor)},T=({el:e,anchor:t},r,n)=>{let i;while(e&&e!==t)i=g(e),l(e,r,n),e=i;l(t,r,n)},b=({el:e,anchor:t})=>{let r;while(e&&e!==t)r=g(e),a(e),e=r;a(t)},x=(e,t,r,n,i,o,l,a,s)=>{"svg"===t.type?l="svg":"math"===t.type&&(l="mathml"),null==e?E(t,r,n,i,o,l,a,s):R(e,t,i,o,l,a,s)},E=(e,t,r,n,i,o,a,u)=>{let p,h;const{props:f,shapeFlag:g,transition:m,dirs:v}=e;if(p=e.el=c(e.type,o,f&&f.is,f),8&g?d(p,e.children):16&g&&C(e.children,p,null,n,i,Zn(e,o),a,u),v&&lr(e,null,n,"created"),S(p,e,e.scopeId,a,n),f){for(const e in f)"value"===e||P(e)||s(p,e,null,f[e],o,n);"value"in f&&s(p,"value",null,f.value,o),(h=f.onVnodeBeforeMount)&&Zi(h,n,e)}v&&lr(e,null,n,"beforeMount");const y=Yn(i,m);y&&m.beforeEnter(p),l(p,t,r),((h=f&&f.onVnodeMounted)||y||v)&&Gn((()=>{h&&Zi(h,n,e),y&&m.enter(p),v&&lr(e,null,n,"mounted")}),i)},S=(e,t,r,n,i)=>{if(r&&m(e,r),n)for(let o=0;o<n.length;o++)m(e,n[o]);if(i){let r=i.subTree;if(t===r){const t=i.vnode;S(e,t,t.scopeId,t.slotScopeIds,i.parent)}}},C=(e,t,r,n,i,o,l,a,s=0)=>{for(let c=s;c<e.length;c++){const s=e[c]=a?Gi(e[c]):Wi(e[c]);y(null,s,t,r,n,i,o,l,a)}},R=(e,t,r,i,o,l,a)=>{const c=t.el=e.el;let{patchFlag:u,dynamicChildren:p,dirs:h}=t;u|=16&e.patchFlag;const f=e.props||n,g=t.props||n;let m;if(r&&$n(r,!1),(m=g.onVnodeBeforeUpdate)&&Zi(m,r,t,e),h&&lr(t,e,r,"beforeUpdate"),r&&$n(r,!0),(f.innerHTML&&null==g.innerHTML||f.textContent&&null==g.textContent)&&d(c,""),p?D(e.dynamicChildren,p,c,r,i,Zn(t,o),l):a||z(e,t,c,null,r,i,Zn(t,o),l,!1),u>0){if(16&u)O(c,f,g,r,o);else if(2&u&&f.class!==g.class&&s(c,"class",null,g.class,o),4&u&&s(c,"style",f.style,g.style,o),8&u){const e=t.dynamicProps;for(let t=0;t<e.length;t++){const n=e[t],i=f[n],l=g[n];l===i&&"value"!==n||s(c,n,i,l,o,r)}}1&u&&e.children!==t.children&&d(c,t.children)}else a||null!=p||O(c,f,g,r,o);((m=g.onVnodeUpdated)||h)&&Gn((()=>{m&&Zi(m,r,t,e),h&&lr(t,e,r,"updated")}),i)},D=(e,t,r,n,i,o,l)=>{for(let a=0;a<t.length;a++){const s=e[a],c=t[a],u=s.el&&(s.type===_i||!Fi(s,c)||70&s.shapeFlag)?f(s.el):r;y(s,c,u,null,n,i,o,l,!0)}},O=(e,t,r,i,o)=>{if(t!==r){if(t!==n)for(const n in t)P(n)||n in r||s(e,n,t[n],null,o,i);for(const n in r){if(P(n))continue;const l=r[n],a=t[n];l!==a&&"value"!==n&&s(e,n,a,l,o,i)}"value"in r&&s(e,"value",t.value,r.value,o)}},I=(e,t,r,n,i,o,a,s,c)=>{const p=t.el=e?e.el:u(""),h=t.anchor=e?e.anchor:u("");let{patchFlag:d,dynamicChildren:f,slotScopeIds:g}=t;g&&(s=s?s.concat(g):g),null==e?(l(p,r,n),l(h,r,n),C(t.children||[],r,h,i,o,a,s,c)):d>0&&64&d&&f&&e.dynamicChildren?(D(e.dynamicChildren,f,r,i,o,a,s),(null!=t.key||i&&t===i.subTree)&&Kn(e,t,!0)):z(e,t,r,h,i,o,a,s,c)},N=(e,t,r,n,i,o,l,a,s)=>{t.slotScopeIds=a,null==e?512&t.shapeFlag?i.ctx.activate(t,r,n,l,s):L(t,r,n,i,o,l,s):F(e,t,s)},L=(e,t,r,n,i,o,l)=>{const a=e.component=Ki(e,n,i);if(Tr(e)&&(a.ctx.renderer=Q),so(a,!1,l),a.asyncDep){if(i&&i.registerDep(a,B,l),!e.el){const e=a.subTree=zi(bi);w(null,e,t,r)}}else B(a,e,t,r,i,o,l)},F=(e,t,r)=>{const n=t.component=e.component;if(mi(e,t,r)){if(n.asyncDep&&!n.asyncResolved)return void M(n,t,r);n.next=t,Zt(n.update),n.effect.dirty=!0,n.update()}else t.el=e.el,n.vnode=t},B=(e,t,r,n,i,l,a)=>{const s=()=>{if(e.isMounted){let{next:t,bu:r,u:n,parent:o,vnode:c}=e;{const r=Jn(e);if(r)return t&&(t.el=c.el,M(e,t,a)),void r.asyncDep.then((()=>{e.isUnmounted||s()}))}let u,p=t;0,$n(e,!1),t?(t.el=c.el,M(e,t,a)):t=c,r&&k(r),(u=t.props&&t.props.onVnodeBeforeUpdate)&&Zi(u,o,t,c),$n(e,!0);const h=di(e);0;const d=e.subTree;e.subTree=h,y(d,h,f(d.el),$(d),e,i,l),t.el=h.el,null===p&&yi(e,h.el),n&&Gn(n,i),(u=t.props&&t.props.onVnodeUpdated)&&Gn((()=>Zi(u,o,t,c)),i)}else{let o;const{el:a,props:s}=t,{bm:c,m:u,parent:p}=e,h=_r(t);if($n(e,!1),c&&k(c),!h&&(o=s&&s.onVnodeBeforeMount)&&Zi(o,p,t),$n(e,!0),a&&ee){const r=()=>{e.subTree=di(e),ee(a,e.subTree,e,i,null)};h?t.type.__asyncLoader().then((()=>!e.isUnmounted&&r())):r()}else{0;const o=e.subTree=di(e);0,y(null,o,r,n,e,i,l),t.el=o.el}if(u&&Gn(u,i),!h&&(o=s&&s.onVnodeMounted)){const e=t;Gn((()=>Zi(o,p,e)),i)}(256&t.shapeFlag||p&&_r(p.vnode)&&256&p.vnode.shapeFlag)&&e.a&&Gn(e.a,i),e.isMounted=!0,t=r=n=null}},c=e.effect=new le(s,o,(()=>qt(u)),e.scope),u=e.update=()=>{c.dirty&&c.run()};u.i=e,u.id=e.uid,$n(e,!0),u()},M=(e,t,r)=>{t.component=e;const n=e.vnode.props;e.vnode=t,e.next=null,Pn(e,t.props,n,r),jn(e,t.children,r),fe(),Yt(e),ge()},z=(e,t,r,n,i,o,l,a,s=!1)=>{const c=e&&e.children,u=e?e.shapeFlag:0,p=t.children,{patchFlag:h,shapeFlag:f}=t;if(h>0){if(128&h)return void H(c,p,r,n,i,o,l,a,s);if(256&h)return void j(c,p,r,n,i,o,l,a,s)}8&f?(16&u&&Z(c,i,o),p!==c&&d(r,p)):16&u?16&f?H(c,p,r,n,i,o,l,a,s):Z(c,i,o,!0):(8&u&&d(r,""),16&f&&C(p,r,n,i,o,l,a,s))},j=(e,t,r,n,o,l,a,s,c)=>{e=e||i,t=t||i;const u=e.length,p=t.length,h=Math.min(u,p);let d;for(d=0;d<h;d++){const n=t[d]=c?Gi(t[d]):Wi(t[d]);y(e[d],n,r,null,o,l,a,s,c)}u>p?Z(e,o,l,!0,!1,h):C(t,r,n,o,l,a,s,c,h)},H=(e,t,r,n,o,l,a,s,c)=>{let u=0;const p=t.length;let h=e.length-1,d=p-1;while(u<=h&&u<=d){const n=e[u],i=t[u]=c?Gi(t[u]):Wi(t[u]);if(!Fi(n,i))break;y(n,i,r,null,o,l,a,s,c),u++}while(u<=h&&u<=d){const n=e[h],i=t[d]=c?Gi(t[d]):Wi(t[d]);if(!Fi(n,i))break;y(n,i,r,null,o,l,a,s,c),h--,d--}if(u>h){if(u<=d){const e=d+1,i=e<p?t[e].el:n;while(u<=d)y(null,t[u]=c?Gi(t[u]):Wi(t[u]),r,i,o,l,a,s,c),u++}}else if(u>d)while(u<=h)W(e[u],o,l,!0),u++;else{const f=u,g=u,m=new Map;for(u=g;u<=d;u++){const e=t[u]=c?Gi(t[u]):Wi(t[u]);null!=e.key&&m.set(e.key,u)}let v,A=0;const w=d-g+1;let _=!1,T=0;const b=new Array(w);for(u=0;u<w;u++)b[u]=0;for(u=f;u<=h;u++){const n=e[u];if(A>=w){W(n,o,l,!0);continue}let i;if(null!=n.key)i=m.get(n.key);else for(v=g;v<=d;v++)if(0===b[v-g]&&Fi(n,t[v])){i=v;break}void 0===i?W(n,o,l,!0):(b[i-g]=u+1,i>=T?T=i:_=!0,y(n,t[i],r,null,o,l,a,s,c),A++)}const x=_?Qn(b):i;for(v=x.length-1,u=w-1;u>=0;u--){const e=g+u,i=t[e],h=e+1<p?t[e+1].el:n;0===b[u]?y(null,i,r,h,o,l,a,s,c):_&&(v<0||u!==x[v]?V(i,r,h,2):v--)}}},V=(e,t,r,n,i=null)=>{const{el:o,type:a,transition:s,children:c,shapeFlag:u}=e;if(6&u)return void V(e.component.subTree,t,r,n);if(128&u)return void e.suspense.move(t,r,n);if(64&u)return void a.move(e,t,r,Q);if(a===_i){l(o,t,r);for(let e=0;e<c.length;e++)V(c[e],t,r,n);return void l(e.anchor,t,r)}if(a===xi)return void T(e,t,r);const p=2!==n&&1&u&&s;if(p)if(0===n)s.beforeEnter(o),l(o,t,r),Gn((()=>s.enter(o)),i);else{const{leave:e,delayLeave:n,afterLeave:i}=s,a=()=>l(o,t,r),c=()=>{e(o,(()=>{a(),i&&i()}))};n?n(o,a,c):c()}else l(o,t,r)},W=(e,t,r,n=!1,i=!1)=>{const{type:o,props:l,ref:a,children:s,dynamicChildren:c,shapeFlag:u,patchFlag:p,dirs:h,cacheIndex:d}=e;if(-2===p&&(i=!1),null!=a&&Un(a,null,r,e,!0),null!=d&&(t.renderCache[d]=void 0),256&u)return void t.ctx.deactivate(e);const f=1&u&&h,g=!_r(e);let m;if(g&&(m=l&&l.onVnodeBeforeUnmount)&&Zi(m,t,e),6&u)X(e.component,r,n);else{if(128&u)return void e.suspense.unmount(r,n);f&&lr(e,null,t,"beforeUnmount"),64&u?e.type.remove(e,t,r,Q,n):c&&!c.hasOnce&&(o!==_i||p>0&&64&p)?Z(c,t,r,!1,!0):(o===_i&&384&p||!i&&16&u)&&Z(s,t,r),n&&G(e)}(g&&(m=l&&l.onVnodeUnmounted)||f)&&Gn((()=>{m&&Zi(m,t,e),f&&lr(e,null,t,"unmounted")}),r)},G=e=>{const{type:t,el:r,anchor:n,transition:i}=e;if(t===_i)return void q(r,n);if(t===xi)return void b(e);const o=()=>{a(r),i&&!i.persisted&&i.afterLeave&&i.afterLeave()};if(1&e.shapeFlag&&i&&!i.persisted){const{leave:t,delayLeave:n}=i,l=()=>t(r,o);n?n(e.el,o,l):l()}else o()},q=(e,t)=>{let r;while(e!==t)r=g(e),a(e),e=r;a(t)},X=(e,t,r)=>{const{bum:n,scope:i,update:o,subTree:l,um:a,m:s,a:c}=e;ei(s),ei(c),n&&k(n),i.stop(),o&&(o.active=!1,W(l,e,t,r)),a&&Gn(a,t),Gn((()=>{e.isUnmounted=!0}),t),t&&t.pendingBranch&&!t.isUnmounted&&e.asyncDep&&!e.asyncResolved&&e.suspenseId===t.pendingId&&(t.deps--,0===t.deps&&t.resolve())},Z=(e,t,r,n=!1,i=!1,o=0)=>{for(let l=o;l<e.length;l++)W(e[l],t,r,n,i)},$=e=>{if(6&e.shapeFlag)return $(e.component.subTree);if(128&e.shapeFlag)return e.suspense.next();const t=g(e.anchor||e.el),r=t&&t[Hn];return r?g(r):t};let Y=!1;const K=(e,t,r)=>{null==e?t._vnode&&W(t._vnode,null,null,!0):y(t._vnode||null,e,t,null,null,null,r),t._vnode=e,Y||(Y=!0,Yt(),Kt(),Y=!1)},Q={p:y,um:W,m:V,r:G,mt:L,mc:C,pc:z,pbc:D,n:$,o:e};let J,ee;return t&&([J,ee]=t(Q)),{render:K,hydrate:J,createApp:An(K,J)}}function Zn({type:e,props:t},r){return"svg"===r&&"foreignObject"===e||"mathml"===r&&"annotation-xml"===e&&t&&t.encoding&&t.encoding.includes("html")?void 0:r}function $n({effect:e,update:t},r){e.allowRecurse=t.allowRecurse=r}function Yn(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function Kn(e,t,r=!1){const n=e.children,i=t.children;if(d(n)&&d(i))for(let o=0;o<n.length;o++){const e=n[o];let t=i[o];1&t.shapeFlag&&!t.dynamicChildren&&((t.patchFlag<=0||32===t.patchFlag)&&(t=i[o]=Gi(i[o]),t.el=e.el),r||-2===t.patchFlag||Kn(e,t)),t.type===Ti&&(t.el=e.el)}}function Qn(e){const t=e.slice(),r=[0];let n,i,o,l,a;const s=e.length;for(n=0;n<s;n++){const s=e[n];if(0!==s){if(i=r[r.length-1],e[i]<s){t[n]=i,r.push(n);continue}o=0,l=r.length-1;while(o<l)a=o+l>>1,e[r[a]]<s?o=a+1:l=a;s<e[r[o]]&&(o>0&&(t[n]=r[o-1]),r[o]=n)}}o=r.length,l=r[o-1];while(o-- >0)r[o]=l,l=t[l];return r}function Jn(e){const t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:Jn(t)}function ei(e){if(e)for(let t=0;t<e.length;t++)e[t].active=!1}const ti=Symbol.for("v-scx"),ri=()=>{{const e=Tn(ti);return e}};const ni={};function ii(e,t,r){return oi(e,t,r)}function oi(e,t,{immediate:r,deep:i,flush:l,once:a,onTrack:s,onTrigger:c}=n){if(t&&a){const e=t;t=(...t)=>{e(...t),S()}}const p=Qi,h=e=>!0===i?e:si(e,!1===i?1:void 0);let f,g,m=!1,y=!1;if(Pt(e)?(f=()=>e.value,m=vt(e)):gt(e)?(f=()=>h(e),m=!0):d(e)?(y=!0,m=e.some((e=>gt(e)||vt(e))),f=()=>e.map((e=>Pt(e)?e.value:gt(e)?h(e):v(e)?Ot(e,p,2):void 0))):f=v(e)?t?()=>Ot(e,p,2):()=>(g&&g(),It(e,p,3,[w])):o,t&&i){const e=f;f=()=>si(e())}let A,w=e=>{g=x.onStop=()=>{Ot(e,p,4),g=x.onStop=void 0}};if(ao){if(w=o,t?r&&It(t,p,3,[f(),y?[]:void 0,w]):f(),"sync"!==l)return o;{const e=ri();A=e.__watcherHandles||(e.__watcherHandles=[])}}let _=y?new Array(e.length).fill(ni):ni;const T=()=>{if(x.active&&x.dirty)if(t){const e=x.run();(i||m||(y?e.some(((e,t)=>F(e,_[t]))):F(e,_)))&&(g&&g(),It(t,p,3,[e,_===ni?void 0:y&&_[0]===ni?[]:_,w]),_=e)}else x.run()};let b;T.allowRecurse=!!t,"sync"===l?b=T:"post"===l?b=()=>Gn(T,p&&p.suspense):(T.pre=!0,p&&(T.id=p.uid),b=()=>qt(T));const x=new le(f,o,b),E=oe(),S=()=>{x.stop(),E&&u(E.effects,x)};return t?r?T():_=x.run():"post"===l?Gn(x.run.bind(x),p&&p.suspense):x.run(),A&&A.push(S),S}function li(e,t,r){const n=this.proxy,i=y(e)?e.includes(".")?ai(n,e):()=>n[e]:e.bind(n,n);let o;v(t)?o=t:(o=t.handler,r=t);const l=ro(this),a=oi(i,o.bind(n),r);return l(),a}function ai(e,t){const r=t.split(".");return()=>{let t=e;for(let e=0;e<r.length&&t;e++)t=t[r[e]];return t}}function si(e,t=1/0,r){if(t<=0||!w(e)||e["__v_skip"])return e;if(r=r||new Set,r.has(e))return e;if(r.add(e),t--,Pt(e))si(e.value,t,r);else if(d(e))for(let n=0;n<e.length;n++)si(e[n],t,r);else if(g(e)||f(e))e.forEach((e=>{si(e,t,r)}));else if(E(e)){for(const n in e)si(e[n],t,r);for(const n of Object.getOwnPropertySymbols(e))Object.prototype.propertyIsEnumerable.call(e,n)&&si(e[n],t,r)}return e}const ci=(e,t)=>"modelValue"===t||"model-value"===t?e.modelModifiers:e[`${t}Modifiers`]||e[`${D(t)}Modifiers`]||e[`${I(t)}Modifiers`];function ui(e,t,...r){if(e.isUnmounted)return;const i=e.vnode.props||n;let o=r;const l=t.startsWith("update:"),a=l&&ci(i,t.slice(7));let s;a&&(a.trim&&(o=r.map((e=>y(e)?e.trim():e))),a.number&&(o=r.map(M)));let c=i[s=L(t)]||i[s=L(D(t))];!c&&l&&(c=i[s=L(I(t))]),c&&It(c,e,6,o);const u=i[s+"Once"];if(u){if(e.emitted){if(e.emitted[s])return}else e.emitted={};e.emitted[s]=!0,It(u,e,6,o)}}function pi(e,t,r=!1){const n=t.emitsCache,i=n.get(e);if(void 0!==i)return i;const o=e.emits;let l={},a=!1;if(!v(e)){const n=e=>{const r=pi(e,t,!0);r&&(a=!0,c(l,r))};!r&&t.mixins.length&&t.mixins.forEach(n),e.extends&&n(e.extends),e.mixins&&e.mixins.forEach(n)}return o||a?(d(o)?o.forEach((e=>l[e]=null)):c(l,o),w(e)&&n.set(e,l),l):(w(e)&&n.set(e,null),null)}function hi(e,t){return!(!e||!a(t))&&(t=t.slice(2).replace(/Once$/,""),h(e,t[0].toLowerCase()+t.slice(1))||h(e,I(t))||h(e,t))}function di(e){const{type:t,vnode:r,proxy:n,withProxy:i,propsOptions:[o],slots:l,attrs:a,emit:c,render:u,renderCache:p,props:h,data:d,setupState:f,ctx:g,inheritAttrs:m}=e,v=nr(e);let y,A;try{if(4&r.shapeFlag){const e=i||n,t=e;y=Wi(u.call(t,e,p,h,f,d,g)),A=a}else{const e=t;0,y=Wi(e.length>1?e(h,{attrs:a,slots:l,emit:c}):e(h,null)),A=t.props?a:fi(a)}}catch(_){Ei.length=0,Nt(_,e,1),y=zi(bi)}let w=y;if(A&&!1!==m){const e=Object.keys(A),{shapeFlag:t}=w;e.length&&7&t&&(o&&e.some(s)&&(A=gi(A,o)),w=Hi(w,A,!1,!0))}return r.dirs&&(w=Hi(w,null,!1,!0),w.dirs=w.dirs?w.dirs.concat(r.dirs):r.dirs),r.transition&&(w.transition=r.transition),y=w,nr(v),y}const fi=e=>{let t;for(const r in e)("class"===r||"style"===r||a(r))&&((t||(t={}))[r]=e[r]);return t},gi=(e,t)=>{const r={};for(const n in e)s(n)&&n.slice(9)in t||(r[n]=e[n]);return r};function mi(e,t,r){const{props:n,children:i,component:o}=e,{props:l,children:a,patchFlag:s}=t,c=o.emitsOptions;if(t.dirs||t.transition)return!0;if(!(r&&s>=0))return!(!i&&!a||a&&a.$stable)||n!==l&&(n?!l||vi(n,l,c):!!l);if(1024&s)return!0;if(16&s)return n?vi(n,l,c):!!l;if(8&s){const e=t.dynamicProps;for(let t=0;t<e.length;t++){const r=e[t];if(l[r]!==n[r]&&!hi(c,r))return!0}}return!1}function vi(e,t,r){const n=Object.keys(t);if(n.length!==Object.keys(e).length)return!0;for(let i=0;i<n.length;i++){const o=n[i];if(t[o]!==e[o]&&!hi(r,o))return!0}return!1}function yi({vnode:e,parent:t},r){while(t){const n=t.subTree;if(n.suspense&&n.suspense.activeBranch===e&&(n.el=e.el),n!==e)break;(e=t.vnode).el=r,t=t.parent}}const Ai=e=>e.__isSuspense;function wi(e,t){t&&t.pendingBranch?d(e)?t.effects.push(...e):t.effects.push(e):$t(e)}const _i=Symbol.for("v-fgt"),Ti=Symbol.for("v-txt"),bi=Symbol.for("v-cmt"),xi=Symbol.for("v-stc"),Ei=[];let Si=null;function Pi(e=!1){Ei.push(Si=e?null:[])}function Ci(){Ei.pop(),Si=Ei[Ei.length-1]||null}let Ri=1;function Di(e){Ri+=e,e<0&&Si&&(Si.hasOnce=!0)}function Oi(e){return e.dynamicChildren=Ri>0?Si||i:null,Ci(),Ri>0&&Si&&Si.push(e),e}function Ii(e,t,r,n,i,o){return Oi(Mi(e,t,r,n,i,o,!0))}function Ni(e,t,r,n,i){return Oi(zi(e,t,r,n,i,!0))}function Li(e){return!!e&&!0===e.__v_isVNode}function Fi(e,t){return e.type===t.type&&e.key===t.key}const ki=({key:e})=>null!=e?e:null,Bi=({ref:e,ref_key:t,ref_for:r})=>("number"===typeof e&&(e=""+e),null!=e?y(e)||Pt(e)||v(e)?{i:tr,r:e,k:t,f:!!r}:e:null);function Mi(e,t=null,r=null,n=0,i=null,o=(e===_i?0:1),l=!1,a=!1){const s={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&ki(t),ref:t&&Bi(t),scopeId:rr,slotScopeIds:null,children:r,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:o,patchFlag:n,dynamicProps:i,dynamicChildren:null,appContext:null,ctx:tr};return a?(qi(s,r),128&o&&e.normalize(s)):r&&(s.shapeFlag|=y(r)?8:16),Ri>0&&!l&&Si&&(s.patchFlag>0||6&o)&&32!==s.patchFlag&&Si.push(s),s}const zi=ji;function ji(e,t=null,r=null,n=0,i=null,o=!1){if(e&&e!==Gr||(e=bi),Li(e)){const n=Hi(e,t,!0);return r&&qi(n,r),Ri>0&&!o&&Si&&(6&n.shapeFlag?Si[Si.indexOf(e)]=n:Si.push(n)),n.patchFlag=-2,n}if(vo(e)&&(e=e.__vccOpts),t){t=Ui(t);let{class:e,style:r}=t;e&&!y(e)&&(t.class=X(e)),w(r)&&(yt(r)&&!d(r)&&(r=c({},r)),t.style=H(r))}const l=y(e)?1:Ai(e)?128:Vn(e)?64:w(e)?4:v(e)?2:0;return Mi(e,t,r,n,i,l,o,!0)}function Ui(e){return e?yt(e)||En(e)?c({},e):e:null}function Hi(e,t,r=!1,n=!1){const{props:i,ref:o,patchFlag:l,children:a,transition:s}=e,c=t?Xi(i||{},t):i,u={__v_isVNode:!0,__v_skip:!0,type:e.type,props:c,key:c&&ki(c),ref:t&&t.ref?r&&o?d(o)?o.concat(Bi(t)):[o,Bi(t)]:Bi(t):o,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:a,target:e.target,targetStart:e.targetStart,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==_i?-1===l?16:16|l:l,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:s,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&Hi(e.ssContent),ssFallback:e.ssFallback&&Hi(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce};return s&&n&&Ar(u,s.clone(u)),u}function Vi(e=" ",t=0){return zi(Ti,null,e,t)}function Wi(e){return null==e||"boolean"===typeof e?zi(bi):d(e)?zi(_i,null,e.slice()):"object"===typeof e?Gi(e):zi(Ti,null,String(e))}function Gi(e){return null===e.el&&-1!==e.patchFlag||e.memo?e:Hi(e)}function qi(e,t){let r=0;const{shapeFlag:n}=e;if(null==t)t=null;else if(d(t))r=16;else if("object"===typeof t){if(65&n){const r=t.default;return void(r&&(r._c&&(r._d=!1),qi(e,r()),r._c&&(r._d=!0)))}{r=32;const n=t._;n||En(t)?3===n&&tr&&(1===tr.slots._?t._=1:(t._=2,e.patchFlag|=1024)):t._ctx=tr}}else v(t)?(t={default:t,_ctx:tr},r=32):(t=String(t),64&n?(r=16,t=[Vi(t)]):r=8);e.children=t,e.shapeFlag|=r}function Xi(...e){const t={};for(let r=0;r<e.length;r++){const n=e[r];for(const e in n)if("class"===e)t.class!==n.class&&(t.class=X([t.class,n.class]));else if("style"===e)t.style=H([t.style,n.style]);else if(a(e)){const r=t[e],i=n[e];!i||r===i||d(r)&&r.includes(i)||(t[e]=r?[].concat(r,i):i)}else""!==e&&(t[e]=n[e])}return t}function Zi(e,t,r,n=null){It(e,t,7,[r,n])}const $i=vn();let Yi=0;function Ki(e,t,r){const i=e.type,o=(t?t.appContext:e.appContext)||$i,l={uid:Yi++,vnode:e,type:i,parent:t,appContext:o,root:null,next:null,subTree:null,effect:null,update:null,scope:new ne(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(o.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:On(i,o),emitsOptions:pi(i,o),emit:null,emitted:null,propsDefaults:n,inheritAttrs:i.inheritAttrs,ctx:n,data:n,props:n,attrs:n,slots:n,refs:n,setupState:n,setupContext:null,suspense:r,suspenseId:r?r.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return l.ctx={_:l},l.root=t?t.root:l,l.emit=ui.bind(null,l),e.ce&&e.ce(l),l}let Qi=null;const Ji=()=>Qi||tr;let eo,to;{const e=U(),t=(t,r)=>{let n;return(n=e[t])||(n=e[t]=[]),n.push(r),e=>{n.length>1?n.forEach((t=>t(e))):n[0](e)}};eo=t("__VUE_INSTANCE_SETTERS__",(e=>Qi=e)),to=t("__VUE_SSR_SETTERS__",(e=>ao=e))}const ro=e=>{const t=Qi;return eo(e),e.scope.on(),()=>{e.scope.off(),eo(t)}},no=()=>{Qi&&Qi.scope.off(),eo(null)};function io(e){return 4&e.vnode.shapeFlag}let oo,lo,ao=!1;function so(e,t=!1,r=!1){t&&to(t);const{props:n,children:i}=e.vnode,o=io(e);Sn(e,n,o,t),zn(e,i,r);const l=o?co(e,t):void 0;return t&&to(!1),l}function co(e,t){const r=e.type;e.accessCache=Object.create(null),e.proxy=new Proxy(e.ctx,Jr);const{setup:n}=r;if(n){const r=e.setupContext=n.length>1?fo(e):null,i=ro(e);fe();const o=Ot(n,e,0,[e.props,r]);if(ge(),i(),_(o)){if(o.then(no,no),t)return o.then((r=>{uo(e,r,t)})).catch((t=>{Nt(t,e,0)}));e.asyncDep=o}else uo(e,o,t)}else po(e,t)}function uo(e,t,r){v(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:w(t)&&(e.setupState=Dt(t)),po(e,r)}function po(e,t,r){const n=e.type;if(!e.render){if(!t&&oo&&!n.render){const t=n.template||an(e).template;if(t){0;const{isCustomElement:r,compilerOptions:i}=e.appContext.config,{delimiters:o,compilerOptions:l}=n,a=c(c({isCustomElement:r,delimiters:o},i),l);n.render=oo(t,a)}}e.render=n.render||o,lo&&lo(e)}{const t=ro(e);fe();try{rn(e)}finally{ge(),t()}}}const ho={get(e,t){return Ee(e,"get",""),e[t]}};function fo(e){const t=t=>{e.exposed=t||{}};return{attrs:new Proxy(e.attrs,ho),slots:e.slots,emit:e.emit,expose:t}}function go(e){return e.exposed?e.exposeProxy||(e.exposeProxy=new Proxy(Dt(wt(e.exposed)),{get(t,r){return r in t?t[r]:r in Kr?Kr[r](e):void 0},has(e,t){return t in e||t in Kr}})):e.proxy}function mo(e,t=!0){return v(e)?e.displayName||e.name:e.name||t&&e.__name}function vo(e){return v(e)&&"__vccOpts"in e}const yo=(e,t)=>{const r=xt(e,t,ao);return r};function Ao(e,t,r){const n=arguments.length;return 2===n?w(t)&&!d(t)?Li(t)?zi(e,null,[t]):zi(e,t):zi(e,null,t):(n>3?r=Array.prototype.slice.call(arguments,2):3===n&&Li(r)&&(r=[r]),zi(e,t,r))}const wo="3.4.38",_o="http://www.w3.org/2000/svg",To="http://www.w3.org/1998/Math/MathML",bo="undefined"!==typeof document?document:null,xo=bo&&bo.createElement("template"),Eo={insert:(e,t,r)=>{t.insertBefore(e,r||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,r,n)=>{const i="svg"===t?bo.createElementNS(_o,e):"mathml"===t?bo.createElementNS(To,e):r?bo.createElement(e,{is:r}):bo.createElement(e);return"select"===e&&n&&null!=n.multiple&&i.setAttribute("multiple",n.multiple),i},createText:e=>bo.createTextNode(e),createComment:e=>bo.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>bo.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,r,n,i,o){const l=r?r.previousSibling:t.lastChild;if(i&&(i===o||i.nextSibling)){while(1)if(t.insertBefore(i.cloneNode(!0),r),i===o||!(i=i.nextSibling))break}else{xo.innerHTML="svg"===n?`<svg>${e}</svg>`:"mathml"===n?`<math>${e}</math>`:e;const i=xo.content;if("svg"===n||"mathml"===n){const e=i.firstChild;while(e.firstChild)i.appendChild(e.firstChild);i.removeChild(e)}t.insertBefore(i,r)}return[l?l.nextSibling:t.firstChild,r?r.previousSibling:t.lastChild]}},So="transition",Po="animation",Co=Symbol("_vtc"),Ro=(e,{slots:t})=>Ao(fr,Lo(e),t);Ro.displayName="Transition";const Do={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},Oo=Ro.props=c({},pr,Do),Io=(e,t=[])=>{d(e)?e.forEach((e=>e(...t))):e&&e(...t)},No=e=>!!e&&(d(e)?e.some((e=>e.length>1)):e.length>1);function Lo(e){const t={};for(const c in e)c in Do||(t[c]=e[c]);if(!1===e.css)return t;const{name:r="v",type:n,duration:i,enterFromClass:o=`${r}-enter-from`,enterActiveClass:l=`${r}-enter-active`,enterToClass:a=`${r}-enter-to`,appearFromClass:s=o,appearActiveClass:u=l,appearToClass:p=a,leaveFromClass:h=`${r}-leave-from`,leaveActiveClass:d=`${r}-leave-active`,leaveToClass:f=`${r}-leave-to`}=e,g=Fo(i),m=g&&g[0],v=g&&g[1],{onBeforeEnter:y,onEnter:A,onEnterCancelled:w,onLeave:_,onLeaveCancelled:T,onBeforeAppear:b=y,onAppear:x=A,onAppearCancelled:E=w}=t,S=(e,t,r)=>{Mo(e,t?p:a),Mo(e,t?u:l),r&&r()},P=(e,t)=>{e._isLeaving=!1,Mo(e,h),Mo(e,f),Mo(e,d),t&&t()},C=e=>(t,r)=>{const i=e?x:A,l=()=>S(t,e,r);Io(i,[t,l]),zo((()=>{Mo(t,e?s:o),Bo(t,e?p:a),No(i)||Uo(t,n,m,l)}))};return c(t,{onBeforeEnter(e){Io(y,[e]),Bo(e,o),Bo(e,l)},onBeforeAppear(e){Io(b,[e]),Bo(e,s),Bo(e,u)},onEnter:C(!1),onAppear:C(!0),onLeave(e,t){e._isLeaving=!0;const r=()=>P(e,t);Bo(e,h),Bo(e,d),Go(),zo((()=>{e._isLeaving&&(Mo(e,h),Bo(e,f),No(_)||Uo(e,n,v,r))})),Io(_,[e,r])},onEnterCancelled(e){S(e,!1),Io(w,[e])},onAppearCancelled(e){S(e,!0),Io(E,[e])},onLeaveCancelled(e){P(e),Io(T,[e])}})}function Fo(e){if(null==e)return null;if(w(e))return[ko(e.enter),ko(e.leave)];{const t=ko(e);return[t,t]}}function ko(e){const t=z(e);return t}function Bo(e,t){t.split(/\s+/).forEach((t=>t&&e.classList.add(t))),(e[Co]||(e[Co]=new Set)).add(t)}function Mo(e,t){t.split(/\s+/).forEach((t=>t&&e.classList.remove(t)));const r=e[Co];r&&(r.delete(t),r.size||(e[Co]=void 0))}function zo(e){requestAnimationFrame((()=>{requestAnimationFrame(e)}))}let jo=0;function Uo(e,t,r,n){const i=e._endId=++jo,o=()=>{i===e._endId&&n()};if(r)return setTimeout(o,r);const{type:l,timeout:a,propCount:s}=Ho(e,t);if(!l)return n();const c=l+"end";let u=0;const p=()=>{e.removeEventListener(c,h),o()},h=t=>{t.target===e&&++u>=s&&p()};setTimeout((()=>{u<s&&p()}),a+1),e.addEventListener(c,h)}function Ho(e,t){const r=window.getComputedStyle(e),n=e=>(r[e]||"").split(", "),i=n(`${So}Delay`),o=n(`${So}Duration`),l=Vo(i,o),a=n(`${Po}Delay`),s=n(`${Po}Duration`),c=Vo(a,s);let u=null,p=0,h=0;t===So?l>0&&(u=So,p=l,h=o.length):t===Po?c>0&&(u=Po,p=c,h=s.length):(p=Math.max(l,c),u=p>0?l>c?So:Po:null,h=u?u===So?o.length:s.length:0);const d=u===So&&/\b(transform|all)(,|$)/.test(n(`${So}Property`).toString());return{type:u,timeout:p,propCount:h,hasTransform:d}}function Vo(e,t){while(e.length<t.length)e=e.concat(e);return Math.max(...t.map(((t,r)=>Wo(t)+Wo(e[r]))))}function Wo(e){return"auto"===e?0:1e3*Number(e.slice(0,-1).replace(",","."))}function Go(){return document.body.offsetHeight}function qo(e,t,r){const n=e[Co];n&&(t=(t?[t,...n]:[...n]).join(" ")),null==t?e.removeAttribute("class"):r?e.setAttribute("class",t):e.className=t}const Xo=Symbol("_vod"),Zo=Symbol("_vsh");const $o=Symbol("");const Yo=/(^|;)\s*display\s*:/;function Ko(e,t,r){const n=e.style,i=y(r);let o=!1;if(r&&!i){if(t)if(y(t))for(const e of t.split(";")){const t=e.slice(0,e.indexOf(":")).trim();null==r[t]&&Jo(n,t,"")}else for(const e in t)null==r[e]&&Jo(n,e,"");for(const e in r)"display"===e&&(o=!0),Jo(n,e,r[e])}else if(i){if(t!==r){const e=n[$o];e&&(r+=";"+e),n.cssText=r,o=Yo.test(r)}}else t&&e.removeAttribute("style");Xo in e&&(e[Xo]=o?n.display:"",e[Zo]&&(n.display="none"))}const Qo=/\s*!important$/;function Jo(e,t,r){if(d(r))r.forEach((r=>Jo(e,t,r)));else if(null==r&&(r=""),t.startsWith("--"))e.setProperty(t,r);else{const n=rl(e,t);Qo.test(r)?e.setProperty(I(n),r.replace(Qo,""),"important"):e[n]=r}}const el=["Webkit","Moz","ms"],tl={};function rl(e,t){const r=tl[t];if(r)return r;let n=D(t);if("filter"!==n&&n in e)return tl[t]=n;n=N(n);for(let i=0;i<el.length;i++){const r=el[i]+n;if(r in e)return tl[t]=r}return t}const nl="http://www.w3.org/1999/xlink";function il(e,t,r,n,i,o=$(t)){n&&t.startsWith("xlink:")?null==r?e.removeAttributeNS(nl,t.slice(6,t.length)):e.setAttributeNS(nl,t,r):null==r||o&&!Y(r)?e.removeAttribute(t):e.setAttribute(t,o?"":A(r)?String(r):r)}function ol(e,t,r,n){if("innerHTML"===t||"textContent"===t){if(null==r)return;return void(e[t]=r)}const i=e.tagName;if("value"===t&&"PROGRESS"!==i&&!i.includes("-")){const n="OPTION"===i?e.getAttribute("value")||"":e.value,o=null==r?"":String(r);return n===o&&"_value"in e||(e.value=o),null==r&&e.removeAttribute(t),void(e._value=r)}let o=!1;if(""===r||null==r){const n=typeof e[t];"boolean"===n?r=Y(r):null==r&&"string"===n?(r="",o=!0):"number"===n&&(r=0,o=!0)}try{e[t]=r}catch(l){0}o&&e.removeAttribute(t)}function ll(e,t,r,n){e.addEventListener(t,r,n)}function al(e,t,r,n){e.removeEventListener(t,r,n)}const sl=Symbol("_vei");function cl(e,t,r,n,i=null){const o=e[sl]||(e[sl]={}),l=o[t];if(n&&l)l.value=n;else{const[r,a]=pl(t);if(n){const l=o[t]=gl(n,i);ll(e,r,l,a)}else l&&(al(e,r,l,a),o[t]=void 0)}}const ul=/(?:Once|Passive|Capture)$/;function pl(e){let t;if(ul.test(e)){let r;t={};while(r=e.match(ul))e=e.slice(0,e.length-r[0].length),t[r[0].toLowerCase()]=!0}const r=":"===e[2]?e.slice(3):I(e.slice(2));return[r,t]}let hl=0;const dl=Promise.resolve(),fl=()=>hl||(dl.then((()=>hl=0)),hl=Date.now());function gl(e,t){const r=e=>{if(e._vts){if(e._vts<=r.attached)return}else e._vts=Date.now();It(ml(e,r.value),t,5,[e])};return r.value=e,r.attached=fl(),r}function ml(e,t){if(d(t)){const r=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{r.call(e),e._stopped=!0},t.map((e=>t=>!t._stopped&&e&&e(t)))}return t}const vl=e=>111===e.charCodeAt(0)&&110===e.charCodeAt(1)&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,yl=(e,t,r,n,i,o)=>{const l="svg"===i;"class"===t?qo(e,n,l):"style"===t?Ko(e,r,n):a(t)?s(t)||cl(e,t,r,n,o):("."===t[0]?(t=t.slice(1),1):"^"===t[0]?(t=t.slice(1),0):Al(e,t,n,l))?(ol(e,t,n),e.tagName.includes("-")||"value"!==t&&"checked"!==t&&"selected"!==t||il(e,t,n,l,o,"value"!==t)):("true-value"===t?e._trueValue=n:"false-value"===t&&(e._falseValue=n),il(e,t,n,l))};function Al(e,t,r,n){if(n)return"innerHTML"===t||"textContent"===t||!!(t in e&&vl(t)&&v(r));if("spellcheck"===t||"draggable"===t||"translate"===t)return!1;if("form"===t)return!1;if("list"===t&&"INPUT"===e.tagName)return!1;if("type"===t&&"TEXTAREA"===e.tagName)return!1;if("width"===t||"height"===t){const t=e.tagName;if("IMG"===t||"VIDEO"===t||"CANVAS"===t||"SOURCE"===t)return!1}return(!vl(t)||!y(r))&&t in e}
/*! #__NO_SIDE_EFFECTS__ */
/*! #__NO_SIDE_EFFECTS__ */
"undefined"!==typeof HTMLElement&&HTMLElement;const wl=new WeakMap,_l=new WeakMap,Tl=Symbol("_moveCb"),bl=Symbol("_enterCb"),xl={name:"TransitionGroup",props:c({},Oo,{tag:String,moveClass:String}),setup(e,{slots:t}){const r=Ji(),n=cr();let i,o;return Fr((()=>{if(!i.length)return;const t=e.moveClass||`${e.name||"v"}-move`;if(!Cl(i[0].el,r.vnode.el,t))return;i.forEach(El),i.forEach(Sl);const n=i.filter(Pl);Go(),n.forEach((e=>{const r=e.el,n=r.style;Bo(r,t),n.transform=n.webkitTransform=n.transitionDuration="";const i=r[Tl]=e=>{e&&e.target!==r||e&&!/transform$/.test(e.propertyName)||(r.removeEventListener("transitionend",i),r[Tl]=null,Mo(r,t))};r.addEventListener("transitionend",i)}))})),()=>{const l=At(e),a=Lo(l);let s=l.tag||_i;if(i=[],o)for(let e=0;e<o.length;e++){const t=o[e];t.el&&t.el instanceof Element&&(i.push(t),Ar(t,mr(t,a,n,r)),wl.set(t,t.el.getBoundingClientRect()))}o=t.default?wr(t.default()):[];for(let e=0;e<o.length;e++){const t=o[e];null!=t.key&&Ar(t,mr(t,a,n,r))}return zi(s,null,o)}}};xl.props;function El(e){const t=e.el;t[Tl]&&t[Tl](),t[bl]&&t[bl]()}function Sl(e){_l.set(e,e.el.getBoundingClientRect())}function Pl(e){const t=wl.get(e),r=_l.get(e),n=t.left-r.left,i=t.top-r.top;if(n||i){const t=e.el.style;return t.transform=t.webkitTransform=`translate(${n}px,${i}px)`,t.transitionDuration="0s",e}}function Cl(e,t,r){const n=e.cloneNode(),i=e[Co];i&&i.forEach((e=>{e.split(/\s+/).forEach((e=>e&&n.classList.remove(e)))})),r.split(/\s+/).forEach((e=>e&&n.classList.add(e))),n.style.display="none";const o=1===t.nodeType?t:t.parentNode;o.appendChild(n);const{hasTransform:l}=Ho(n);return o.removeChild(n),l}const Rl=e=>{const t=e.props["onUpdate:modelValue"]||!1;return d(t)?e=>k(t,e):t};function Dl(e){e.target.composing=!0}function Ol(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const Il=Symbol("_assign"),Nl={created(e,{modifiers:{lazy:t,trim:r,number:n}},i){e[Il]=Rl(i);const o=n||i.props&&"number"===i.props.type;ll(e,t?"change":"input",(t=>{if(t.target.composing)return;let n=e.value;r&&(n=n.trim()),o&&(n=M(n)),e[Il](n)})),r&&ll(e,"change",(()=>{e.value=e.value.trim()})),t||(ll(e,"compositionstart",Dl),ll(e,"compositionend",Ol),ll(e,"change",Ol))},mounted(e,{value:t}){e.value=null==t?"":t},beforeUpdate(e,{value:t,oldValue:r,modifiers:{lazy:n,trim:i,number:o}},l){if(e[Il]=Rl(l),e.composing)return;const a=!o&&"number"!==e.type||/^0\d/.test(e.value)?e.value:M(e.value),s=null==t?"":t;if(a!==s){if(document.activeElement===e&&"range"!==e.type){if(n&&t===r)return;if(i&&e.value.trim()===s)return}e.value=s}}};const Ll=["ctrl","shift","alt","meta"],Fl={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&0!==e.button,middle:e=>"button"in e&&1!==e.button,right:e=>"button"in e&&2!==e.button,exact:(e,t)=>Ll.some((r=>e[`${r}Key`]&&!t.includes(r)))},kl=(e,t)=>{const r=e._withMods||(e._withMods={}),n=t.join(".");return r[n]||(r[n]=(r,...n)=>{for(let e=0;e<t.length;e++){const n=Fl[t[e]];if(n&&n(r,t))return}return e(r,...n)})},Bl={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},Ml=(e,t)=>{const r=e._withKeys||(e._withKeys={}),n=t.join(".");return r[n]||(r[n]=r=>{if(!("key"in r))return;const n=I(r.key);return t.some((e=>e===n||Bl[e]===n))?e(r):void 0})},zl=c({patchProp:yl},Eo);let jl;function Ul(){return jl||(jl=qn(zl))}const Hl=(...e)=>{const t=Ul().createApp(...e);const{mount:r}=t;return t.mount=e=>{const n=Wl(e);if(!n)return;const i=t._component;v(i)||i.render||i.template||(i.template=n.innerHTML),n.innerHTML="";const o=r(n,!1,Vl(n));return n instanceof Element&&(n.removeAttribute("v-cloak"),n.setAttribute("data-v-app","")),o},t};function Vl(e){return e instanceof SVGElement?"svg":"function"===typeof MathMLElement&&e instanceof MathMLElement?"mathml":void 0}function Wl(e){if(y(e)){const t=document.querySelector(e);return t}return e}var Gl=(e=>(e["LOADING"]="loading",e["LOADED"]="loaded",e["ERROR"]="error",e))(Gl||{});const ql="undefined"!==typeof window&&null!==window,Xl=Jl(),Zl=Object.prototype.propertyIsEnumerable,$l=Object.getOwnPropertySymbols;function Yl(e){return"function"===typeof e||"[object Object]"===toString.call(e)}function Kl(e){return"object"===typeof e?null===e:"function"!==typeof e}function Ql(e){return"__proto__"!==e&&"constructor"!==e&&"prototype"!==e}function Jl(){return!!(ql&&"IntersectionObserver"in window&&"IntersectionObserverEntry"in window&&"intersectionRatio"in window.IntersectionObserverEntry.prototype)&&("isIntersecting"in window.IntersectionObserverEntry.prototype||Object.defineProperty(window.IntersectionObserverEntry.prototype,"isIntersecting",{get(){return this.intersectionRatio>0}}),!0)}function ea(e,...t){if(!Yl(e))throw new TypeError("expected the first argument to be an object");if(0===t.length||"function"!==typeof Symbol||"function"!==typeof $l)return e;for(const r of t){const t=$l(r);for(const n of t)Zl.call(r,n)&&(e[n]=r[n])}return e}function ta(e,...t){let r=0;for(Kl(e)&&(e=t[r++]),e||(e={});r<t.length;r++)if(Yl(t[r])){for(const n of Object.keys(t[r]))Ql(n)&&(Yl(e[n])&&Yl(t[r][n])?ta(e[n],t[r][n]):e[n]=t[r][n]);ea(e,t[r])}return e}const ra="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",na="",ia={rootMargin:"0px",threshold:0},oa="data-lazy-timeout-id";class la{constructor(e){this.options={loading:ra,error:na,observerOptions:ia,log:!0,lifecycle:{},logLevel:"error"},this._images=new WeakMap,this.config(e)}config(e={}){ta(this.options,e)}mount(e,t){if(!e)return;const{src:r,loading:n,error:i,lifecycle:o,delay:l}=this._valueFormatter("string"===typeof t?t:t.value);this._lifecycle(Gl.LOADING,o,e),e.setAttribute("src",n||ra),Xl||(this.loadImages(e,r,i,o),this._log((()=>{this._logger("Not support IntersectionObserver!")}))),this._initIntersectionObserver(e,r,i,o,l)}update(e,t){if(!e)return;this._realObserver(e)?.unobserve(e);const{src:r,error:n,lifecycle:i,delay:o}=this._valueFormatter("string"===typeof t?t:t.value);this._initIntersectionObserver(e,r,n,i,o)}unmount(e){e&&(this._realObserver(e)?.unobserve(e),this._images.delete(e))}loadImages(e,t,r,n){this._setImageSrc(e,t,r,n)}_setImageSrc(e,t,r,n){if("img"===e.tagName.toLowerCase()){if(t){const r=e.getAttribute("src");r!==t&&e.setAttribute("src",t)}this._listenImageStatus(e,(()=>{this._lifecycle(Gl.LOADED,n,e)}),(()=>{if(e.onload=null,this._lifecycle(Gl.ERROR,n,e),this._realObserver(e)?.disconnect(),r){const t=e.getAttribute("src");t!==r&&e.setAttribute("src",r)}this._log((()=>{this._logger(`Image failed to load!And failed src was: ${t} `)}))}))}else e.style.backgroundImage=`url('${t}')`}_initIntersectionObserver(e,t,r,n,i){const o=this.options.observerOptions;this._images.set(e,new IntersectionObserver((o=>{Array.prototype.forEach.call(o,(o=>{i&&i>0?this._delayedIntersectionCallback(e,o,i,t,r,n):this._intersectionCallback(e,o,t,r,n)}))}),o)),this._realObserver(e)?.observe(e)}_intersectionCallback(e,t,r,n,i){t.isIntersecting&&(this._realObserver(e)?.unobserve(t.target),this._setImageSrc(e,r,n,i))}_delayedIntersectionCallback(e,t,r,n,i,o){if(t.isIntersecting){if(t.target.hasAttribute(oa))return;const l=setTimeout((()=>{this._intersectionCallback(e,t,n,i,o),t.target.removeAttribute(oa)}),r);t.target.setAttribute(oa,String(l))}else t.target.hasAttribute(oa)&&(clearTimeout(Number(t.target.getAttribute(oa))),t.target.removeAttribute(oa))}_listenImageStatus(e,t,r){e.onload=t,e.onerror=r}_valueFormatter(e){let t=e,r=this.options.loading,n=this.options.error,i=this.options.lifecycle,o=this.options.delay;return Yl(e)&&(t=e.src,r=e.loading||this.options.loading,n=e.error||this.options.error,i=e.lifecycle||this.options.lifecycle,o=e.delay||this.options.delay),{src:t,loading:r,error:n,lifecycle:i,delay:o}}_log(e){this.options.log&&e()}_lifecycle(e,t,r){switch(e){case Gl.LOADING:r?.setAttribute("lazy",Gl.LOADING),t?.loading&&t.loading(r);break;case Gl.LOADED:r?.setAttribute("lazy",Gl.LOADED),t?.loaded&&t.loaded(r);break;case Gl.ERROR:r?.setAttribute("lazy",Gl.ERROR),t?.error&&t.error(r);break}}_realObserver(e){return this._images.get(e)}_logger(e,...t){let r=console.error;switch(this.options.logLevel){case"error":r=console.error;break;case"warn":r=console.warn;break;case"info":r=console.info;break;case"debug":r=console.debug;break}r(e,t)}}const aa={install(e,t){const r=new la(t);e.config.globalProperties.$Lazyload=r,e.provide("Lazyload",r),e.directive("lazy",{mounted:r.mount.bind(r),updated:r.update.bind(r),unmounted:r.unmount.bind(r)})}};function sa(e,t,r,n,i,o){const l=Wr("osd");return Pi(),Ni(l)}const ca={id:"head"},ua={id:"search_area"},pa={role:"search"},ha={for:"search_box"},da=Mi("span",null,"検索",-1),fa={id:"page_area"},ga=["value"],ma=Mi("span",null,"／",-1),va={id:"side"},ya={id:"tmb_area"},Aa=["onClick","onKeyup","id"],wa=["alt"],_a=Mi("div",{id:"test"},null,-1),Ta={id:"result_area"},ba=Mi("div",{id:"txt0"},null,-1),xa=["id"],Ea=["onClick","onKeyup"],Sa={id:"viewer-image",ref:"image"},Pa=["disabled"],Ca=["disabled"],Ra={id:"foot"},Da={id:"operation_buttons"},Oa=Mi("button",{id:"fullscreen","aria-label":"全画面表示"},null,-1),Ia=Mi("button",{id:"zoom-in","aria-label":"拡大"},null,-1),Na=Mi("button",{id:"zoom-out","aria-label":"縮小"},null,-1),La=Mi("button",{id:"rotate-left","aria-label":"左回転"},null,-1),Fa=Mi("button",{id:"rotate-right","aria-label":"右回転"},null,-1);function ka(e,t,r,n,i,o){const l=qr("lazy");return Pi(),Ii("div",null,[Mi("div",ca,[Mi("div",ua,[Mi("form",pa,[Mi("label",ha,[da,or(Mi("input",{id:"search_box",type:"text",placeholder:"キーワード","onUpdate:modelValue":t[0]||(t[0]=t=>e.searchKw=t),onKeyup:t[1]||(t[1]=Ml((e=>o.isSearch()),["enter"]))},null,544),[[Nl,e.searchKw]]),Mi("button",{id:"search_btn",onClick:t[2]||(t[2]=kl((e=>o.isSearch()),["prevent"]))},"検索")]),Mi("span",{ref:"msg",id:"msg"},Q(e.msg),513)])]),Mi("div",fa,[Mi("input",{id:"page_box",value:e.selectedPage,onInput:t[3]||(t[3]=t=>e.selectedPage=t.target.value),onKeyup:t[4]||(t[4]=Ml(((...e)=>o.toSelectedPage&&o.toSelectedPage(...e)),["enter"]))},null,40,ga),ma,Mi("span",null,Q(e.totalPage),1)])]),Mi("div",{id:"wrap",class:X({result_opn:"result"===e.sideFlg})},[Mi("div",va,[Mi("div",ya,[Mi("dl",null,[(Pi(!0),Ii(_i,null,$r(e.tileSourcesArray,((t,r)=>(Pi(),Ii("div",{onClick:e=>o.toPage(r),onKeyup:Ml((e=>o.toPage(r)),["enter"]),key:r,class:X({current_img:"./data/"+e.currentImg===t.url}),tabindex:"0",role:"button",id:"p"+(r+1)},[Mi("dt",null,[or(Mi("img",{alt:r+1+"ページ"},null,8,wa),[[l,{src:t.url,loading:"./images/loading.png"}]])]),Mi("dd",null,Q(r+1),1)],42,Aa)))),128))]),_a]),Mi("div",Ta,[ba,(Pi(!0),Ii(_i,null,$r(e.filteredData,((t,r)=>(Pi(),Ii("div",{key:r,id:"txt"+(r+1)},[(Pi(!0),Ii(_i,null,$r(t,((t,n)=>(Pi(),Ii("div",{key:n},[Mi("span",{class:X({selected:e.selectedFlg===r+"_"+n}),onClick:e=>o.toPage(r,t.$.X,t.$.Y,t.$.WIDTH,t.$.HEIGHT,n),onKeyup:Ml((e=>o.toPage(r,t.$.X,t.$.Y,t.$.WIDTH,t.$.HEIGHT,n)),["enter"]),role:"button",tabIndex:"0"}," 【"+Q(r+1)+"】"+Q(t.$.STRING),43,Ea)])))),128))],8,xa)))),128))])]),Mi("div",Sa,null,512),Mi("button",{id:"left_arrow","aria-label":"前頁",onClick:t[5]||(t[5]=e=>o.toNextPage()),onKeyup:t[6]||(t[6]=Ml((e=>o.toNextPage()),["enter"])),disabled:"last"==e.inactive},null,40,Pa),Mi("button",{id:"right_arrow","aria-label":"次頁",onClick:t[7]||(t[7]=e=>o.toPreviousPage()),onKeyup:t[8]||(t[8]=Ml((e=>o.toPreviousPage()),["enter"])),disabled:"first"==e.inactive},null,40,Ca)],2),Mi("div",Ra,[Mi("div",Da,[Mi("button",{id:"next",onClick:t[9]||(t[9]=e=>{o.getPage(),o.execRemoveOverlay()}),"aria-label":"前頁"}),Mi("button",{id:"previous",onClick:t[10]||(t[10]=e=>{o.getPage(),o.execRemoveOverlay()}),"aria-label":"次頁"}),Oa,Mi("button",{id:"reset","aria-label":"リセット",onClick:t[11]||(t[11]=e=>o.isReset()),onKeyup:t[12]||(t[12]=Ml((e=>o.isReset()),["enter"]))},null,32),Ia,Na,La,Fa])])])}r(4603),r(7566),r(8721),r(6573),r(8100),r(7936),r(7467),r(4732),r(9577),r(9848);function Ba(e,t){return function(){return e.apply(t,arguments)}}const{toString:Ma}=Object.prototype,{getPrototypeOf:za}=Object,ja=(e=>t=>{const r=Ma.call(t);return e[r]||(e[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),Ua=e=>(e=e.toLowerCase(),t=>ja(t)===e),Ha=e=>t=>typeof t===e,{isArray:Va}=Array,Wa=Ha("undefined");function Ga(e){return null!==e&&!Wa(e)&&null!==e.constructor&&!Wa(e.constructor)&&$a(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const qa=Ua("ArrayBuffer");function Xa(e){let t;return t="undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&qa(e.buffer),t}const Za=Ha("string"),$a=Ha("function"),Ya=Ha("number"),Ka=e=>null!==e&&"object"===typeof e,Qa=e=>!0===e||!1===e,Ja=e=>{if("object"!==ja(e))return!1;const t=za(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},es=Ua("Date"),ts=Ua("File"),rs=Ua("Blob"),ns=Ua("FileList"),is=e=>Ka(e)&&$a(e.pipe),os=e=>{let t;return e&&("function"===typeof FormData&&e instanceof FormData||$a(e.append)&&("formdata"===(t=ja(e))||"object"===t&&$a(e.toString)&&"[object FormData]"===e.toString()))},ls=Ua("URLSearchParams"),[as,ss,cs,us]=["ReadableStream","Request","Response","Headers"].map(Ua),ps=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function hs(e,t,{allOwnKeys:r=!1}={}){if(null===e||"undefined"===typeof e)return;let n,i;if("object"!==typeof e&&(e=[e]),Va(e))for(n=0,i=e.length;n<i;n++)t.call(null,e[n],n,e);else{const i=r?Object.getOwnPropertyNames(e):Object.keys(e),o=i.length;let l;for(n=0;n<o;n++)l=i[n],t.call(null,e[l],l,e)}}function ds(e,t){t=t.toLowerCase();const r=Object.keys(e);let n,i=r.length;while(i-- >0)if(n=r[i],t===n.toLowerCase())return n;return null}const fs=(()=>"undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self?self:"undefined"!==typeof window?window:global)(),gs=e=>!Wa(e)&&e!==fs;function ms(){const{caseless:e}=gs(this)&&this||{},t={},r=(r,n)=>{const i=e&&ds(t,n)||n;Ja(t[i])&&Ja(r)?t[i]=ms(t[i],r):Ja(r)?t[i]=ms({},r):Va(r)?t[i]=r.slice():t[i]=r};for(let n=0,i=arguments.length;n<i;n++)arguments[n]&&hs(arguments[n],r);return t}const vs=(e,t,r,{allOwnKeys:n}={})=>(hs(t,((t,n)=>{r&&$a(t)?e[n]=Ba(t,r):e[n]=t}),{allOwnKeys:n}),e),ys=e=>(65279===e.charCodeAt(0)&&(e=e.slice(1)),e),As=(e,t,r,n)=>{e.prototype=Object.create(t.prototype,n),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),r&&Object.assign(e.prototype,r)},ws=(e,t,r,n)=>{let i,o,l;const a={};if(t=t||{},null==e)return t;do{i=Object.getOwnPropertyNames(e),o=i.length;while(o-- >0)l=i[o],n&&!n(l,e,t)||a[l]||(t[l]=e[l],a[l]=!0);e=!1!==r&&za(e)}while(e&&(!r||r(e,t))&&e!==Object.prototype);return t},_s=(e,t,r)=>{e=String(e),(void 0===r||r>e.length)&&(r=e.length),r-=t.length;const n=e.indexOf(t,r);return-1!==n&&n===r},Ts=e=>{if(!e)return null;if(Va(e))return e;let t=e.length;if(!Ya(t))return null;const r=new Array(t);while(t-- >0)r[t]=e[t];return r},bs=(e=>t=>e&&t instanceof e)("undefined"!==typeof Uint8Array&&za(Uint8Array)),xs=(e,t)=>{const r=e&&e[Symbol.iterator],n=r.call(e);let i;while((i=n.next())&&!i.done){const r=i.value;t.call(e,r[0],r[1])}},Es=(e,t)=>{let r;const n=[];while(null!==(r=e.exec(t)))n.push(r);return n},Ss=Ua("HTMLFormElement"),Ps=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,(function(e,t,r){return t.toUpperCase()+r})),Cs=(({hasOwnProperty:e})=>(t,r)=>e.call(t,r))(Object.prototype),Rs=Ua("RegExp"),Ds=(e,t)=>{const r=Object.getOwnPropertyDescriptors(e),n={};hs(r,((r,i)=>{let o;!1!==(o=t(r,i,e))&&(n[i]=o||r)})),Object.defineProperties(e,n)},Os=e=>{Ds(e,((t,r)=>{if($a(e)&&-1!==["arguments","caller","callee"].indexOf(r))return!1;const n=e[r];$a(n)&&(t.enumerable=!1,"writable"in t?t.writable=!1:t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")}))}))},Is=(e,t)=>{const r={},n=e=>{e.forEach((e=>{r[e]=!0}))};return Va(e)?n(e):n(String(e).split(t)),r},Ns=()=>{},Ls=(e,t)=>null!=e&&Number.isFinite(e=+e)?e:t,Fs="abcdefghijklmnopqrstuvwxyz",ks="0123456789",Bs={DIGIT:ks,ALPHA:Fs,ALPHA_DIGIT:Fs+Fs.toUpperCase()+ks},Ms=(e=16,t=Bs.ALPHA_DIGIT)=>{let r="";const{length:n}=t;while(e--)r+=t[Math.random()*n|0];return r};function zs(e){return!!(e&&$a(e.append)&&"FormData"===e[Symbol.toStringTag]&&e[Symbol.iterator])}const js=e=>{const t=new Array(10),r=(e,n)=>{if(Ka(e)){if(t.indexOf(e)>=0)return;if(!("toJSON"in e)){t[n]=e;const i=Va(e)?[]:{};return hs(e,((e,t)=>{const o=r(e,n+1);!Wa(o)&&(i[t]=o)})),t[n]=void 0,i}}return e};return r(e,0)},Us=Ua("AsyncFunction"),Hs=e=>e&&(Ka(e)||$a(e))&&$a(e.then)&&$a(e.catch),Vs=((e,t)=>e?setImmediate:t?((e,t)=>(fs.addEventListener("message",(({source:r,data:n})=>{r===fs&&n===e&&t.length&&t.shift()()}),!1),r=>{t.push(r),fs.postMessage(e,"*")}))(`axios@${Math.random()}`,[]):e=>setTimeout(e))("function"===typeof setImmediate,$a(fs.postMessage)),Ws="undefined"!==typeof queueMicrotask?queueMicrotask.bind(fs):"undefined"!==typeof process&&process.nextTick||Vs;var Gs={isArray:Va,isArrayBuffer:qa,isBuffer:Ga,isFormData:os,isArrayBufferView:Xa,isString:Za,isNumber:Ya,isBoolean:Qa,isObject:Ka,isPlainObject:Ja,isReadableStream:as,isRequest:ss,isResponse:cs,isHeaders:us,isUndefined:Wa,isDate:es,isFile:ts,isBlob:rs,isRegExp:Rs,isFunction:$a,isStream:is,isURLSearchParams:ls,isTypedArray:bs,isFileList:ns,forEach:hs,merge:ms,extend:vs,trim:ps,stripBOM:ys,inherits:As,toFlatObject:ws,kindOf:ja,kindOfTest:Ua,endsWith:_s,toArray:Ts,forEachEntry:xs,matchAll:Es,isHTMLForm:Ss,hasOwnProperty:Cs,hasOwnProp:Cs,reduceDescriptors:Ds,freezeMethods:Os,toObjectSet:Is,toCamelCase:Ps,noop:Ns,toFiniteNumber:Ls,findKey:ds,global:fs,isContextDefined:gs,ALPHABET:Bs,generateString:Ms,isSpecCompliantForm:zs,toJSONObject:js,isAsyncFn:Us,isThenable:Hs,setImmediate:Vs,asap:Ws};function qs(e,t,r,n,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=e,this.name="AxiosError",t&&(this.code=t),r&&(this.config=r),n&&(this.request=n),i&&(this.response=i,this.status=i.status?i.status:null)}Gs.inherits(qs,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Gs.toJSONObject(this.config),code:this.code,status:this.status}}});const Xs=qs.prototype,Zs={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach((e=>{Zs[e]={value:e}})),Object.defineProperties(qs,Zs),Object.defineProperty(Xs,"isAxiosError",{value:!0}),qs.from=(e,t,r,n,i,o)=>{const l=Object.create(Xs);return Gs.toFlatObject(e,l,(function(e){return e!==Error.prototype}),(e=>"isAxiosError"!==e)),qs.call(l,e.message,t,r,n,i),l.cause=e,l.name=e.name,o&&Object.assign(l,o),l};var $s=qs,Ys=null;function Ks(e){return Gs.isPlainObject(e)||Gs.isArray(e)}function Qs(e){return Gs.endsWith(e,"[]")?e.slice(0,-2):e}function Js(e,t,r){return e?e.concat(t).map((function(e,t){return e=Qs(e),!r&&t?"["+e+"]":e})).join(r?".":""):t}function ec(e){return Gs.isArray(e)&&!e.some(Ks)}const tc=Gs.toFlatObject(Gs,{},null,(function(e){return/^is[A-Z]/.test(e)}));function rc(e,t,r){if(!Gs.isObject(e))throw new TypeError("target must be an object");t=t||new(Ys||FormData),r=Gs.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,(function(e,t){return!Gs.isUndefined(t[e])}));const n=r.metaTokens,i=r.visitor||u,o=r.dots,l=r.indexes,a=r.Blob||"undefined"!==typeof Blob&&Blob,s=a&&Gs.isSpecCompliantForm(t);if(!Gs.isFunction(i))throw new TypeError("visitor must be a function");function c(e){if(null===e)return"";if(Gs.isDate(e))return e.toISOString();if(!s&&Gs.isBlob(e))throw new $s("Blob is not supported. Use a Buffer instead.");return Gs.isArrayBuffer(e)||Gs.isTypedArray(e)?s&&"function"===typeof Blob?new Blob([e]):Buffer.from(e):e}function u(e,r,i){let a=e;if(e&&!i&&"object"===typeof e)if(Gs.endsWith(r,"{}"))r=n?r:r.slice(0,-2),e=JSON.stringify(e);else if(Gs.isArray(e)&&ec(e)||(Gs.isFileList(e)||Gs.endsWith(r,"[]"))&&(a=Gs.toArray(e)))return r=Qs(r),a.forEach((function(e,n){!Gs.isUndefined(e)&&null!==e&&t.append(!0===l?Js([r],n,o):null===l?r:r+"[]",c(e))})),!1;return!!Ks(e)||(t.append(Js(i,r,o),c(e)),!1)}const p=[],h=Object.assign(tc,{defaultVisitor:u,convertValue:c,isVisitable:Ks});function d(e,r){if(!Gs.isUndefined(e)){if(-1!==p.indexOf(e))throw Error("Circular reference detected in "+r.join("."));p.push(e),Gs.forEach(e,(function(e,n){const o=!(Gs.isUndefined(e)||null===e)&&i.call(t,e,Gs.isString(n)?n.trim():n,r,h);!0===o&&d(e,r?r.concat(n):[n])})),p.pop()}}if(!Gs.isObject(e))throw new TypeError("data must be an object");return d(e),t}var nc=rc;function ic(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,(function(e){return t[e]}))}function oc(e,t){this._pairs=[],e&&nc(e,this,t)}const lc=oc.prototype;lc.append=function(e,t){this._pairs.push([e,t])},lc.toString=function(e){const t=e?function(t){return e.call(this,t,ic)}:ic;return this._pairs.map((function(e){return t(e[0])+"="+t(e[1])}),"").join("&")};var ac=oc;function sc(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function cc(e,t,r){if(!t)return e;const n=r&&r.encode||sc,i=r&&r.serialize;let o;if(o=i?i(t,r):Gs.isURLSearchParams(t)?t.toString():new ac(t,r).toString(n),o){const t=e.indexOf("#");-1!==t&&(e=e.slice(0,t)),e+=(-1===e.indexOf("?")?"?":"&")+o}return e}class uc{constructor(){this.handlers=[]}use(e,t,r){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!r&&r.synchronous,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){Gs.forEach(this.handlers,(function(t){null!==t&&e(t)}))}}var pc=uc,hc={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},dc="undefined"!==typeof URLSearchParams?URLSearchParams:ac,fc="undefined"!==typeof FormData?FormData:null,gc="undefined"!==typeof Blob?Blob:null,mc={isBrowser:!0,classes:{URLSearchParams:dc,FormData:fc,Blob:gc},protocols:["http","https","file","blob","url","data"]};const vc="undefined"!==typeof window&&"undefined"!==typeof document,yc="object"===typeof navigator&&navigator||void 0,Ac=vc&&(!yc||["ReactNative","NativeScript","NS"].indexOf(yc.product)<0),wc=(()=>"undefined"!==typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"===typeof self.importScripts)(),_c=vc&&window.location.href||"http://localhost";var Tc={...e,...mc};function bc(e,t){return nc(e,new Tc.classes.URLSearchParams,Object.assign({visitor:function(e,t,r,n){return Tc.isNode&&Gs.isBuffer(e)?(this.append(t,e.toString("base64")),!1):n.defaultVisitor.apply(this,arguments)}},t))}function xc(e){return Gs.matchAll(/\w+|\[(\w*)]/g,e).map((e=>"[]"===e[0]?"":e[1]||e[0]))}function Ec(e){const t={},r=Object.keys(e);let n;const i=r.length;let o;for(n=0;n<i;n++)o=r[n],t[o]=e[o];return t}function Sc(e){function t(e,r,n,i){let o=e[i++];if("__proto__"===o)return!0;const l=Number.isFinite(+o),a=i>=e.length;if(o=!o&&Gs.isArray(n)?n.length:o,a)return Gs.hasOwnProp(n,o)?n[o]=[n[o],r]:n[o]=r,!l;n[o]&&Gs.isObject(n[o])||(n[o]=[]);const s=t(e,r,n[o],i);return s&&Gs.isArray(n[o])&&(n[o]=Ec(n[o])),!l}if(Gs.isFormData(e)&&Gs.isFunction(e.entries)){const r={};return Gs.forEachEntry(e,((e,n)=>{t(xc(e),n,r,0)})),r}return null}var Pc=Sc;function Cc(e,t,r){if(Gs.isString(e))try{return(t||JSON.parse)(e),Gs.trim(e)}catch(n){if("SyntaxError"!==n.name)throw n}return(r||JSON.stringify)(e)}const Rc={transitional:hc,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const r=t.getContentType()||"",n=r.indexOf("application/json")>-1,i=Gs.isObject(e);i&&Gs.isHTMLForm(e)&&(e=new FormData(e));const o=Gs.isFormData(e);if(o)return n?JSON.stringify(Pc(e)):e;if(Gs.isArrayBuffer(e)||Gs.isBuffer(e)||Gs.isStream(e)||Gs.isFile(e)||Gs.isBlob(e)||Gs.isReadableStream(e))return e;if(Gs.isArrayBufferView(e))return e.buffer;if(Gs.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let l;if(i){if(r.indexOf("application/x-www-form-urlencoded")>-1)return bc(e,this.formSerializer).toString();if((l=Gs.isFileList(e))||r.indexOf("multipart/form-data")>-1){const t=this.env&&this.env.FormData;return nc(l?{"files[]":e}:e,t&&new t,this.formSerializer)}}return i||n?(t.setContentType("application/json",!1),Cc(e)):e}],transformResponse:[function(e){const t=this.transitional||Rc.transitional,r=t&&t.forcedJSONParsing,n="json"===this.responseType;if(Gs.isResponse(e)||Gs.isReadableStream(e))return e;if(e&&Gs.isString(e)&&(r&&!this.responseType||n)){const r=t&&t.silentJSONParsing,o=!r&&n;try{return JSON.parse(e)}catch(i){if(o){if("SyntaxError"===i.name)throw $s.from(i,$s.ERR_BAD_RESPONSE,this,null,this.response);throw i}}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Tc.classes.FormData,Blob:Tc.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Gs.forEach(["delete","get","head","post","put","patch"],(e=>{Rc.headers[e]={}}));var Dc=Rc;const Oc=Gs.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]);var Ic=e=>{const t={};let r,n,i;return e&&e.split("\n").forEach((function(e){i=e.indexOf(":"),r=e.substring(0,i).trim().toLowerCase(),n=e.substring(i+1).trim(),!r||t[r]&&Oc[r]||("set-cookie"===r?t[r]?t[r].push(n):t[r]=[n]:t[r]=t[r]?t[r]+", "+n:n)})),t};const Nc=Symbol("internals");function Lc(e){return e&&String(e).trim().toLowerCase()}function Fc(e){return!1===e||null==e?e:Gs.isArray(e)?e.map(Fc):String(e)}function kc(e){const t=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;while(n=r.exec(e))t[n[1]]=n[2];return t}const Bc=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function Mc(e,t,r,n,i){return Gs.isFunction(n)?n.call(this,t,r):(i&&(t=r),Gs.isString(t)?Gs.isString(n)?-1!==t.indexOf(n):Gs.isRegExp(n)?n.test(t):void 0:void 0)}function zc(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,((e,t,r)=>t.toUpperCase()+r))}function jc(e,t){const r=Gs.toCamelCase(" "+t);["get","set","has"].forEach((n=>{Object.defineProperty(e,n+r,{value:function(e,r,i){return this[n].call(this,t,e,r,i)},configurable:!0})}))}class Uc{constructor(e){e&&this.set(e)}set(e,t,r){const n=this;function i(e,t,r){const i=Lc(t);if(!i)throw new Error("header name must be a non-empty string");const o=Gs.findKey(n,i);(!o||void 0===n[o]||!0===r||void 0===r&&!1!==n[o])&&(n[o||t]=Fc(e))}const o=(e,t)=>Gs.forEach(e,((e,r)=>i(e,r,t)));if(Gs.isPlainObject(e)||e instanceof this.constructor)o(e,t);else if(Gs.isString(e)&&(e=e.trim())&&!Bc(e))o(Ic(e),t);else if(Gs.isHeaders(e))for(const[l,a]of e.entries())i(a,l,r);else null!=e&&i(t,e,r);return this}get(e,t){if(e=Lc(e),e){const r=Gs.findKey(this,e);if(r){const e=this[r];if(!t)return e;if(!0===t)return kc(e);if(Gs.isFunction(t))return t.call(this,e,r);if(Gs.isRegExp(t))return t.exec(e);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=Lc(e),e){const r=Gs.findKey(this,e);return!(!r||void 0===this[r]||t&&!Mc(this,this[r],r,t))}return!1}delete(e,t){const r=this;let n=!1;function i(e){if(e=Lc(e),e){const i=Gs.findKey(r,e);!i||t&&!Mc(r,r[i],i,t)||(delete r[i],n=!0)}}return Gs.isArray(e)?e.forEach(i):i(e),n}clear(e){const t=Object.keys(this);let r=t.length,n=!1;while(r--){const i=t[r];e&&!Mc(this,this[i],i,e,!0)||(delete this[i],n=!0)}return n}normalize(e){const t=this,r={};return Gs.forEach(this,((n,i)=>{const o=Gs.findKey(r,i);if(o)return t[o]=Fc(n),void delete t[i];const l=e?zc(i):String(i).trim();l!==i&&delete t[i],t[l]=Fc(n),r[l]=!0})),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const t=Object.create(null);return Gs.forEach(this,((r,n)=>{null!=r&&!1!==r&&(t[n]=e&&Gs.isArray(r)?r.join(", "):r)})),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map((([e,t])=>e+": "+t)).join("\n")}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...t){const r=new this(e);return t.forEach((e=>r.set(e))),r}static accessor(e){const t=this[Nc]=this[Nc]={accessors:{}},r=t.accessors,n=this.prototype;function i(e){const t=Lc(e);r[t]||(jc(n,e),r[t]=!0)}return Gs.isArray(e)?e.forEach(i):i(e),this}}Uc.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),Gs.reduceDescriptors(Uc.prototype,(({value:e},t)=>{let r=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(e){this[r]=e}}})),Gs.freezeMethods(Uc);var Hc=Uc;function Vc(e,t){const r=this||Dc,n=t||r,i=Hc.from(n.headers);let o=n.data;return Gs.forEach(e,(function(e){o=e.call(r,o,i.normalize(),t?t.status:void 0)})),i.normalize(),o}function Wc(e){return!(!e||!e.__CANCEL__)}function Gc(e,t,r){$s.call(this,null==e?"canceled":e,$s.ERR_CANCELED,t,r),this.name="CanceledError"}Gs.inherits(Gc,$s,{__CANCEL__:!0});var qc=Gc;function Xc(e,t,r){const n=r.config.validateStatus;r.status&&n&&!n(r.status)?t(new $s("Request failed with status code "+r.status,[$s.ERR_BAD_REQUEST,$s.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r)):e(r)}function Zc(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function $c(e,t){e=e||10;const r=new Array(e),n=new Array(e);let i,o=0,l=0;return t=void 0!==t?t:1e3,function(a){const s=Date.now(),c=n[l];i||(i=s),r[o]=a,n[o]=s;let u=l,p=0;while(u!==o)p+=r[u++],u%=e;if(o=(o+1)%e,o===l&&(l=(l+1)%e),s-i<t)return;const h=c&&s-c;return h?Math.round(1e3*p/h):void 0}}var Yc=$c;function Kc(e,t){let r,n,i=0,o=1e3/t;const l=(t,o=Date.now())=>{i=o,r=null,n&&(clearTimeout(n),n=null),e.apply(null,t)},a=(...e)=>{const t=Date.now(),a=t-i;a>=o?l(e,t):(r=e,n||(n=setTimeout((()=>{n=null,l(r)}),o-a)))},s=()=>r&&l(r);return[a,s]}var Qc=Kc;const Jc=(e,t,r=3)=>{let n=0;const i=Yc(50,250);return Qc((r=>{const o=r.loaded,l=r.lengthComputable?r.total:void 0,a=o-n,s=i(a),c=o<=l;n=o;const u={loaded:o,total:l,progress:l?o/l:void 0,bytes:a,rate:s||void 0,estimated:s&&l&&c?(l-o)/s:void 0,event:r,lengthComputable:null!=l,[t?"download":"upload"]:!0};e(u)}),r)},eu=(e,t)=>{const r=null!=e;return[n=>t[0]({lengthComputable:r,total:e,loaded:n}),t[1]]},tu=e=>(...t)=>Gs.asap((()=>e(...t)));r(4979);var ru=Tc.hasStandardBrowserEnv?function(){const e=Tc.navigator&&/(msie|trident)/i.test(Tc.navigator.userAgent),t=document.createElement("a");let r;function n(r){let n=r;return e&&(t.setAttribute("href",n),n=t.href),t.setAttribute("href",n),{href:t.href,protocol:t.protocol?t.protocol.replace(/:$/,""):"",host:t.host,search:t.search?t.search.replace(/^\?/,""):"",hash:t.hash?t.hash.replace(/^#/,""):"",hostname:t.hostname,port:t.port,pathname:"/"===t.pathname.charAt(0)?t.pathname:"/"+t.pathname}}return r=n(window.location.href),function(e){const t=Gs.isString(e)?n(e):e;return t.protocol===r.protocol&&t.host===r.host}}():function(){return function(){return!0}}(),nu=Tc.hasStandardBrowserEnv?{write(e,t,r,n,i,o){const l=[e+"="+encodeURIComponent(t)];Gs.isNumber(r)&&l.push("expires="+new Date(r).toGMTString()),Gs.isString(n)&&l.push("path="+n),Gs.isString(i)&&l.push("domain="+i),!0===o&&l.push("secure"),document.cookie=l.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function iu(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function ou(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function lu(e,t){return e&&!iu(t)?ou(e,t):t}const au=e=>e instanceof Hc?{...e}:e;function su(e,t){t=t||{};const r={};function n(e,t,r){return Gs.isPlainObject(e)&&Gs.isPlainObject(t)?Gs.merge.call({caseless:r},e,t):Gs.isPlainObject(t)?Gs.merge({},t):Gs.isArray(t)?t.slice():t}function i(e,t,r){return Gs.isUndefined(t)?Gs.isUndefined(e)?void 0:n(void 0,e,r):n(e,t,r)}function o(e,t){if(!Gs.isUndefined(t))return n(void 0,t)}function l(e,t){return Gs.isUndefined(t)?Gs.isUndefined(e)?void 0:n(void 0,e):n(void 0,t)}function a(r,i,o){return o in t?n(r,i):o in e?n(void 0,r):void 0}const s={url:o,method:o,data:o,baseURL:l,transformRequest:l,transformResponse:l,paramsSerializer:l,timeout:l,timeoutMessage:l,withCredentials:l,withXSRFToken:l,adapter:l,responseType:l,xsrfCookieName:l,xsrfHeaderName:l,onUploadProgress:l,onDownloadProgress:l,decompress:l,maxContentLength:l,maxBodyLength:l,beforeRedirect:l,transport:l,httpAgent:l,httpsAgent:l,cancelToken:l,socketPath:l,responseEncoding:l,validateStatus:a,headers:(e,t)=>i(au(e),au(t),!0)};return Gs.forEach(Object.keys(Object.assign({},e,t)),(function(n){const o=s[n]||i,l=o(e[n],t[n],n);Gs.isUndefined(l)&&o!==a||(r[n]=l)})),r}var cu=e=>{const t=su({},e);let r,{data:n,withXSRFToken:i,xsrfHeaderName:o,xsrfCookieName:l,headers:a,auth:s}=t;if(t.headers=a=Hc.from(a),t.url=cc(lu(t.baseURL,t.url),e.params,e.paramsSerializer),s&&a.set("Authorization","Basic "+btoa((s.username||"")+":"+(s.password?unescape(encodeURIComponent(s.password)):""))),Gs.isFormData(n))if(Tc.hasStandardBrowserEnv||Tc.hasStandardBrowserWebWorkerEnv)a.setContentType(void 0);else if(!1!==(r=a.getContentType())){const[e,...t]=r?r.split(";").map((e=>e.trim())).filter(Boolean):[];a.setContentType([e||"multipart/form-data",...t].join("; "))}if(Tc.hasStandardBrowserEnv&&(i&&Gs.isFunction(i)&&(i=i(t)),i||!1!==i&&ru(t.url))){const e=o&&l&&nu.read(l);e&&a.set(o,e)}return t};const uu="undefined"!==typeof XMLHttpRequest;var pu=uu&&function(e){return new Promise((function(t,r){const n=cu(e);let i=n.data;const o=Hc.from(n.headers).normalize();let l,a,s,c,u,{responseType:p,onUploadProgress:h,onDownloadProgress:d}=n;function f(){c&&c(),u&&u(),n.cancelToken&&n.cancelToken.unsubscribe(l),n.signal&&n.signal.removeEventListener("abort",l)}let g=new XMLHttpRequest;function m(){if(!g)return;const n=Hc.from("getAllResponseHeaders"in g&&g.getAllResponseHeaders()),i=p&&"text"!==p&&"json"!==p?g.response:g.responseText,o={data:i,status:g.status,statusText:g.statusText,headers:n,config:e,request:g};Xc((function(e){t(e),f()}),(function(e){r(e),f()}),o),g=null}g.open(n.method.toUpperCase(),n.url,!0),g.timeout=n.timeout,"onloadend"in g?g.onloadend=m:g.onreadystatechange=function(){g&&4===g.readyState&&(0!==g.status||g.responseURL&&0===g.responseURL.indexOf("file:"))&&setTimeout(m)},g.onabort=function(){g&&(r(new $s("Request aborted",$s.ECONNABORTED,e,g)),g=null)},g.onerror=function(){r(new $s("Network Error",$s.ERR_NETWORK,e,g)),g=null},g.ontimeout=function(){let t=n.timeout?"timeout of "+n.timeout+"ms exceeded":"timeout exceeded";const i=n.transitional||hc;n.timeoutErrorMessage&&(t=n.timeoutErrorMessage),r(new $s(t,i.clarifyTimeoutError?$s.ETIMEDOUT:$s.ECONNABORTED,e,g)),g=null},void 0===i&&o.setContentType(null),"setRequestHeader"in g&&Gs.forEach(o.toJSON(),(function(e,t){g.setRequestHeader(t,e)})),Gs.isUndefined(n.withCredentials)||(g.withCredentials=!!n.withCredentials),p&&"json"!==p&&(g.responseType=n.responseType),d&&([s,u]=Jc(d,!0),g.addEventListener("progress",s)),h&&g.upload&&([a,c]=Jc(h),g.upload.addEventListener("progress",a),g.upload.addEventListener("loadend",c)),(n.cancelToken||n.signal)&&(l=t=>{g&&(r(!t||t.type?new qc(null,e,g):t),g.abort(),g=null)},n.cancelToken&&n.cancelToken.subscribe(l),n.signal&&(n.signal.aborted?l():n.signal.addEventListener("abort",l)));const v=Zc(n.url);v&&-1===Tc.protocols.indexOf(v)?r(new $s("Unsupported protocol "+v+":",$s.ERR_BAD_REQUEST,e)):g.send(i||null)}))};const hu=(e,t)=>{let r,n=new AbortController;const i=function(e){if(!r){r=!0,l();const t=e instanceof Error?e:this.reason;n.abort(t instanceof $s?t:new qc(t instanceof Error?t.message:t))}};let o=t&&setTimeout((()=>{i(new $s(`timeout ${t} of ms exceeded`,$s.ETIMEDOUT))}),t);const l=()=>{e&&(o&&clearTimeout(o),o=null,e.forEach((e=>{e&&(e.removeEventListener?e.removeEventListener("abort",i):e.unsubscribe(i))})),e=null)};e.forEach((e=>e&&e.addEventListener&&e.addEventListener("abort",i)));const{signal:a}=n;return a.unsubscribe=l,[a,()=>{o&&clearTimeout(o),o=null}]};var du=hu;const fu=function*(e,t){let r=e.byteLength;if(!t||r<t)return void(yield e);let n,i=0;while(i<r)n=i+t,yield e.slice(i,n),i=n},gu=async function*(e,t,r){for await(const n of e)yield*fu(ArrayBuffer.isView(n)?n:await r(String(n)),t)},mu=(e,t,r,n,i)=>{const o=gu(e,t,i);let l,a=0,s=e=>{l||(l=!0,n&&n(e))};return new ReadableStream({async pull(e){try{const{done:t,value:n}=await o.next();if(t)return s(),void e.close();let i=n.byteLength;if(r){let e=a+=i;r(e)}e.enqueue(new Uint8Array(n))}catch(t){throw s(t),t}},cancel(e){return s(e),o.return()}},{highWaterMark:2})},vu="function"===typeof fetch&&"function"===typeof Request&&"function"===typeof Response,yu=vu&&"function"===typeof ReadableStream,Au=vu&&("function"===typeof TextEncoder?(e=>t=>e.encode(t))(new TextEncoder):async e=>new Uint8Array(await new Response(e).arrayBuffer())),wu=(e,...t)=>{try{return!!e(...t)}catch(r){return!1}},_u=yu&&wu((()=>{let e=!1;const t=new Request(Tc.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t})),Tu=65536,bu=yu&&wu((()=>Gs.isReadableStream(new Response("").body))),xu={stream:bu&&(e=>e.body)};vu&&(e=>{["text","arrayBuffer","blob","formData","stream"].forEach((t=>{!xu[t]&&(xu[t]=Gs.isFunction(e[t])?e=>e[t]():(e,r)=>{throw new $s(`Response type '${t}' is not supported`,$s.ERR_NOT_SUPPORT,r)})}))})(new Response);const Eu=async e=>null==e?0:Gs.isBlob(e)?e.size:Gs.isSpecCompliantForm(e)?(await new Request(e).arrayBuffer()).byteLength:Gs.isArrayBufferView(e)||Gs.isArrayBuffer(e)?e.byteLength:(Gs.isURLSearchParams(e)&&(e+=""),Gs.isString(e)?(await Au(e)).byteLength:void 0),Su=async(e,t)=>{const r=Gs.toFiniteNumber(e.getContentLength());return null==r?Eu(t):r};var Pu=vu&&(async e=>{let{url:t,method:r,data:n,signal:i,cancelToken:o,timeout:l,onDownloadProgress:a,onUploadProgress:s,responseType:c,headers:u,withCredentials:p="same-origin",fetchOptions:h}=cu(e);c=c?(c+"").toLowerCase():"text";let d,f,[g,m]=i||o||l?du([i,o],l):[];const v=()=>{!d&&setTimeout((()=>{g&&g.unsubscribe()})),d=!0};let y;try{if(s&&_u&&"get"!==r&&"head"!==r&&0!==(y=await Su(u,n))){let e,r=new Request(t,{method:"POST",body:n,duplex:"half"});if(Gs.isFormData(n)&&(e=r.headers.get("content-type"))&&u.setContentType(e),r.body){const[e,t]=eu(y,Jc(tu(s)));n=mu(r.body,Tu,e,t,Au)}}Gs.isString(p)||(p=p?"include":"omit");const i="credentials"in Request.prototype;f=new Request(t,{...h,signal:g,method:r.toUpperCase(),headers:u.normalize().toJSON(),body:n,duplex:"half",credentials:i?p:void 0});let o=await fetch(f);const l=bu&&("stream"===c||"response"===c);if(bu&&(a||l)){const e={};["status","statusText","headers"].forEach((t=>{e[t]=o[t]}));const t=Gs.toFiniteNumber(o.headers.get("content-length")),[r,n]=a&&eu(t,Jc(tu(a),!0))||[];o=new Response(mu(o.body,Tu,r,(()=>{n&&n(),l&&v()}),Au),e)}c=c||"text";let d=await xu[Gs.findKey(xu,c)||"text"](o,e);return!l&&v(),m&&m(),await new Promise(((t,r)=>{Xc(t,r,{data:d,headers:Hc.from(o.headers),status:o.status,statusText:o.statusText,config:e,request:f})}))}catch(A){if(v(),A&&"TypeError"===A.name&&/fetch/i.test(A.message))throw Object.assign(new $s("Network Error",$s.ERR_NETWORK,e,f),{cause:A.cause||A});throw $s.from(A,A&&A.code,e,f)}});const Cu={http:Ys,xhr:pu,fetch:Pu};Gs.forEach(Cu,((e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch(r){}Object.defineProperty(e,"adapterName",{value:t})}}));const Ru=e=>`- ${e}`,Du=e=>Gs.isFunction(e)||null===e||!1===e;var Ou={getAdapter:e=>{e=Gs.isArray(e)?e:[e];const{length:t}=e;let r,n;const i={};for(let o=0;o<t;o++){let t;if(r=e[o],n=r,!Du(r)&&(n=Cu[(t=String(r)).toLowerCase()],void 0===n))throw new $s(`Unknown adapter '${t}'`);if(n)break;i[t||"#"+o]=n}if(!n){const e=Object.entries(i).map((([e,t])=>`adapter ${e} `+(!1===t?"is not supported by the environment":"is not available in the build")));let r=t?e.length>1?"since :\n"+e.map(Ru).join("\n"):" "+Ru(e[0]):"as no adapter specified";throw new $s("There is no suitable adapter to dispatch the request "+r,"ERR_NOT_SUPPORT")}return n},adapters:Cu};function Iu(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new qc(null,e)}function Nu(e){Iu(e),e.headers=Hc.from(e.headers),e.data=Vc.call(e,e.transformRequest),-1!==["post","put","patch"].indexOf(e.method)&&e.headers.setContentType("application/x-www-form-urlencoded",!1);const t=Ou.getAdapter(e.adapter||Dc.adapter);return t(e).then((function(t){return Iu(e),t.data=Vc.call(e,e.transformResponse,t),t.headers=Hc.from(t.headers),t}),(function(t){return Wc(t)||(Iu(e),t&&t.response&&(t.response.data=Vc.call(e,e.transformResponse,t.response),t.response.headers=Hc.from(t.response.headers))),Promise.reject(t)}))}const Lu="1.7.5",Fu={};["object","boolean","number","function","string","symbol"].forEach(((e,t)=>{Fu[e]=function(r){return typeof r===e||"a"+(t<1?"n ":" ")+e}}));const ku={};function Bu(e,t,r){if("object"!==typeof e)throw new $s("options must be an object",$s.ERR_BAD_OPTION_VALUE);const n=Object.keys(e);let i=n.length;while(i-- >0){const o=n[i],l=t[o];if(l){const t=e[o],r=void 0===t||l(t,o,e);if(!0!==r)throw new $s("option "+o+" must be "+r,$s.ERR_BAD_OPTION_VALUE)}else if(!0!==r)throw new $s("Unknown option "+o,$s.ERR_BAD_OPTION)}}Fu.transitional=function(e,t,r){function n(e,t){return"[Axios v"+Lu+"] Transitional option '"+e+"'"+t+(r?". "+r:"")}return(r,i,o)=>{if(!1===e)throw new $s(n(i," has been removed"+(t?" in "+t:"")),$s.ERR_DEPRECATED);return t&&!ku[i]&&(ku[i]=!0,console.warn(n(i," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(r,i,o)}};var Mu={assertOptions:Bu,validators:Fu};const zu=Mu.validators;class ju{constructor(e){this.defaults=e,this.interceptors={request:new pc,response:new pc}}async request(e,t){try{return await this._request(e,t)}catch(r){if(r instanceof Error){let e;Error.captureStackTrace?Error.captureStackTrace(e={}):e=new Error;const t=e.stack?e.stack.replace(/^.+\n/,""):"";try{r.stack?t&&!String(r.stack).endsWith(t.replace(/^.+\n.+\n/,""))&&(r.stack+="\n"+t):r.stack=t}catch(n){}}throw r}}_request(e,t){"string"===typeof e?(t=t||{},t.url=e):t=e||{},t=su(this.defaults,t);const{transitional:r,paramsSerializer:n,headers:i}=t;void 0!==r&&Mu.assertOptions(r,{silentJSONParsing:zu.transitional(zu.boolean),forcedJSONParsing:zu.transitional(zu.boolean),clarifyTimeoutError:zu.transitional(zu.boolean)},!1),null!=n&&(Gs.isFunction(n)?t.paramsSerializer={serialize:n}:Mu.assertOptions(n,{encode:zu.function,serialize:zu.function},!0)),t.method=(t.method||this.defaults.method||"get").toLowerCase();let o=i&&Gs.merge(i.common,i[t.method]);i&&Gs.forEach(["delete","get","head","post","put","patch","common"],(e=>{delete i[e]})),t.headers=Hc.concat(o,i);const l=[];let a=!0;this.interceptors.request.forEach((function(e){"function"===typeof e.runWhen&&!1===e.runWhen(t)||(a=a&&e.synchronous,l.unshift(e.fulfilled,e.rejected))}));const s=[];let c;this.interceptors.response.forEach((function(e){s.push(e.fulfilled,e.rejected)}));let u,p=0;if(!a){const e=[Nu.bind(this),void 0];e.unshift.apply(e,l),e.push.apply(e,s),u=e.length,c=Promise.resolve(t);while(p<u)c=c.then(e[p++],e[p++]);return c}u=l.length;let h=t;p=0;while(p<u){const e=l[p++],t=l[p++];try{h=e(h)}catch(d){t.call(this,d);break}}try{c=Nu.call(this,h)}catch(d){return Promise.reject(d)}p=0,u=s.length;while(p<u)c=c.then(s[p++],s[p++]);return c}getUri(e){e=su(this.defaults,e);const t=lu(e.baseURL,e.url);return cc(t,e.params,e.paramsSerializer)}}Gs.forEach(["delete","get","head","options"],(function(e){ju.prototype[e]=function(t,r){return this.request(su(r||{},{method:e,url:t,data:(r||{}).data}))}})),Gs.forEach(["post","put","patch"],(function(e){function t(t){return function(r,n,i){return this.request(su(i||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:r,data:n}))}}ju.prototype[e]=t(),ju.prototype[e+"Form"]=t(!0)}));var Uu=ju;class Hu{constructor(e){if("function"!==typeof e)throw new TypeError("executor must be a function.");let t;this.promise=new Promise((function(e){t=e}));const r=this;this.promise.then((e=>{if(!r._listeners)return;let t=r._listeners.length;while(t-- >0)r._listeners[t](e);r._listeners=null})),this.promise.then=e=>{let t;const n=new Promise((e=>{r.subscribe(e),t=e})).then(e);return n.cancel=function(){r.unsubscribe(t)},n},e((function(e,n,i){r.reason||(r.reason=new qc(e,n,i),t(r.reason))}))}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}static source(){let e;const t=new Hu((function(t){e=t}));return{token:t,cancel:e}}}var Vu=Hu;function Wu(e){return function(t){return e.apply(null,t)}}function Gu(e){return Gs.isObject(e)&&!0===e.isAxiosError}const qu={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(qu).forEach((([e,t])=>{qu[t]=e}));var Xu=qu;function Zu(e){const t=new Uu(e),r=Ba(Uu.prototype.request,t);return Gs.extend(r,Uu.prototype,t,{allOwnKeys:!0}),Gs.extend(r,t,null,{allOwnKeys:!0}),r.create=function(t){return Zu(su(e,t))},r}const $u=Zu(Dc);$u.Axios=Uu,$u.CanceledError=qc,$u.CancelToken=Vu,$u.isCancel=Wc,$u.VERSION=Lu,$u.toFormData=nc,$u.AxiosError=$s,$u.Cancel=$u.CanceledError,$u.all=function(e){return Promise.all(e)},$u.spread=Wu,$u.isAxiosError=Gu,$u.mergeConfig=su,$u.AxiosHeaders=Hc,$u.formToJSON=e=>Pc(Gs.isHTMLForm(e)?new FormData(e):e),$u.getAdapter=Ou.getAdapter,$u.HttpStatusCode=Xu,$u.default=$u;var Yu=$u,Ku=r(8626),Qu=r.n(Ku),Ju=r(6604),ep=r.n(Ju),tp=r(7934),rp=r.n(tp);window.OpenSeadragon=rp();var np={name:"OsdComponent",data:function(){return{xmlFile:"./xml/samp.xml",allData:[],filteredData:[],searchKw:"",tileSourcesArray:[],totalPage:"",currentImg:"",currentPage:"",selectedPage:"",inactive:"first",sideFlg:"",selectedFlg:"",msg:""}},async mounted(){console.log("start"),this.msg="データを読み込み中です",await Yu.get(this.xmlFile).then((e=>{ep().parseString(e.data,((e,t)=>{if(e)console.log(e);else{this.allData=t.OCRDATASET.PAGE.flat(0),console.log("got"),this.msg="",this.totalPage=t.OCRDATASET.PAGE.length;for(var r=[],n=0;n<this.totalPage;n++)r.push(this.allData[n].$.IMAGENAME);this.tileSourcesArray=r.map(((e,t)=>({type:"image",url:"./data/"+r[t]})))}}))})),this.initViewer(),this.getPage(),this.toFocus(),this.paramsCheck()},methods:{initViewer:function(){this.viewer=rp()({id:"viewer-image",prefixUrl:"./images/",tileSources:this.tileSourcesArray,showRotationControl:!0,sequenceMode:!0,showNavigator:!0,fullPageButton:"fullscreen",rotateLeftButton:"rotate-left",rotateRightButton:"rotate-right",zoomInButton:"zoom-in",zoomOutButton:"zoom-out",homeButton:"reset",nextButton:"next",previousButton:"previous"})},isSearch:function(e){var t=this.allData,r=this.searchKw.trim();if(this.msg="",e&&(r=e),r){r=r.replace(/</g," "),r=r.replace(/>/g," "),r=r.replace(/'/g," "),r=r.replace(/&/g," "),r=r.replace(/"/g," "),r=r.replace(/\//g," "),r=r.replace(/　/g," ");let e=r.split(" ");e=e.filter((e=>""!==e)),e=e.map((e=>this.laceAllByConvertTable(e))),this.filteredData=Qu().map(t,(t=>Qu().filter(t.LINE,(t=>Qu().every(e,(e=>Qu().includes(this.laceAllByConvertTable(t.$.STRING),e)))))));var n=Qu().flatten(this.filteredData).length;0===n?(this.msg="該当ワードはありません",this.sideFlg=""):this.sideFlg="result"}else this.msg="キーワードを入力して下さい",this.sideFlg="";this.execRemoveOverlay(),this.toPage(0);let i=document.getElementById("txt0");i.scrollIntoView({behavior:"smooth",block:"start"})},toPage:function(e,t,r,n,i,o){this.viewer.goToPage(e);var l=this.allData[e].$.WIDTH,a=t/l,s=r/l,c=n/l,u=i/l;this.viewer.removeOverlay("runtime-overlay");var p=document.createElement("div");p.id="runtime-overlay",p.className="current-ocr",this.viewer.addOverlay({element:p,location:new(rp().Rect)(a,s,c,u)}),this.selectedFlg=e+"_"+o,this.getPage()},getPage:function(){const e=this.viewer.currentPage();this.currentPage=e,this.selectedPage=this.currentPage+1,this.currentImg=this.allData[e].$.IMAGENAME,0===e?this.inactive="first":e===this.totalPage-1?this.inactive="last":this.inactive=""},toSelectedPage:function(){const e=Number(this.selectedPage.trim()),t="1～"+this.totalPage+"の間の数字を入力して下さい";isNaN(e)?this.msg=t:e>=1&&e<=this.totalPage?this.toPage(e-1):this.msg=t},execRemoveOverlay:function(){this.selectedFlg="",this.viewer.removeOverlay("runtime-overlay")},toNextPage:function(){const e=this.currentPage+1;this.toPage(e)},toPreviousPage:function(){const e=this.currentPage-1;this.toPage(e)},exeZoomIn:function(){this.viewer.zoomInButton(!0)},isReset:function(){this.viewer.goToPage(0),this.searchKw="",this.sideFlg=!1,this.msg="",this.execRemoveOverlay(),this.getPage()},toFocus:function(){const e=this.msg;e&&this.$refs.msg.focus()},paramsCheck:function(){let e=0,t=new URLSearchParams(window.location.search),r=parseInt(t.get("pagecode")),n=parseInt(t.get("p")),i=t.get("word");r||n?(n?e=n:r&&(e=r),e--,e>=0&&e<=this.totalPage-1||(e=0)):e=0,i&&(this.isSearch(i),this.searchKw=i),n&&this.moveTo("p"+(e+1)),this.sideFlg&&this.moveTo("txt"+(e+1)),this.toPage(e)},moveTo:function(e){window.onload=()=>{let t=document.getElementById(e);t.scrollIntoView({behavior:"smooth",block:"start"})}},laceAllByConvertTable:function(e){var t="";return t=e,t=t.toUpperCase(),t=t.trim(),t=t.replaceAll("&nbsp;"," "),t=t.replaceAll("&ensp;"," "),t=t.replaceAll("&emsp;"," "),t=t.replaceAll("&thinsp;"," "),t=t.replaceAll("!"," "),t=t.replaceAll('"'," "),t=t.replaceAll("#"," "),t=t.replaceAll("$"," "),t=t.replaceAll("%"," "),t=t.replaceAll("&"," "),t=t.replaceAll("'"," "),t=t.replaceAll("("," "),t=t.replaceAll(")"," "),t=t.replaceAll("*"," "),t=t.replaceAll("+"," "),t=t.replaceAll(","," "),t=t.replaceAll("-"," "),t=t.replaceAll("/"," "),t=t.replaceAll("["," "),t=t.replaceAll("\\"," "),t=t.replaceAll("]"," "),t=t.replaceAll("^"," "),t=t.replaceAll("_"," "),t=t.replaceAll("`"," "),t=t.replaceAll(":"," "),t=t.replaceAll(";"," "),t=t.replaceAll("<"," "),t=t.replaceAll("="," "),t=t.replaceAll(">"," "),t=t.replaceAll("?"," "),t=t.replaceAll("@"," "),t=t.replaceAll("{"," "),t=t.replaceAll("|"," "),t=t.replaceAll("}"," "),t=t.replaceAll("~"," "),t=t.replaceAll("¡"," "),t=t.replaceAll("¢"," "),t=t.replaceAll("£"," "),t=t.replaceAll("¤"," "),t=t.replaceAll("¥"," "),t=t.replaceAll("¦"," "),t=t.replaceAll("§"," "),t=t.replaceAll("¨"," "),t=t.replaceAll("©"," "),t=t.replaceAll("«"," "),t=t.replaceAll("¬"," "),t=t.replaceAll("®"," "),t=t.replaceAll("°"," "),t=t.replaceAll("±"," "),t=t.replaceAll("´"," "),t=t.replaceAll("μ"," "),t=t.replaceAll("¶"," "),t=t.replaceAll("»"," "),t=t.replaceAll("¿"," "),t=t.replaceAll("×"," "),t=t.replaceAll("÷"," "),t=t.replaceAll("̀"," "),t=t.replaceAll("́"," "),t=t.replaceAll("̂"," "),t=t.replaceAll("̃"," "),t=t.replaceAll("̄"," "),t=t.replaceAll("̇"," "),t=t.replaceAll("̈"," "),t=t.replaceAll("̌"," "),t=t.replaceAll("Ъ"," "),t=t.replaceAll("Ь"," "),t=t.replaceAll("ъ"," "),t=t.replaceAll("ь"," "),t=t.replaceAll("‐"," "),t=t.replaceAll("—"," "),t=t.replaceAll("―"," "),t=t.replaceAll("‖"," "),t=t.replaceAll("‘"," "),t=t.replaceAll("’"," "),t=t.replaceAll("‚"," "),t=t.replaceAll("‛"," "),t=t.replaceAll("“"," "),t=t.replaceAll("”"," "),t=t.replaceAll("„"," "),t=t.replaceAll("‟"," "),t=t.replaceAll("†"," "),t=t.replaceAll("‡"," "),t=t.replaceAll("‥"," "),t=t.replaceAll("…"," "),t=t.replaceAll("‰"," "),t=t.replaceAll("′"," "),t=t.replaceAll("″"," "),t=t.replaceAll("‵"," "),t=t.replaceAll("‶"," "),t=t.replaceAll("※"," "),t=t.replaceAll("‾"," "),t=t.replaceAll("℃"," "),t=t.replaceAll("℉"," "),t=t.replaceAll("№"," "),t=t.replaceAll("℡"," "),t=t.replaceAll("Å"," "),t=t.replaceAll("←"," "),t=t.replaceAll("↑"," "),t=t.replaceAll("→"," "),t=t.replaceAll("↓"," "),t=t.replaceAll("↔"," "),t=t.replaceAll("⇄"," "),t=t.replaceAll("⇒"," "),t=t.replaceAll("⇔"," "),t=t.replaceAll("⇨"," "),t=t.replaceAll("∀"," "),t=t.replaceAll("∂"," "),t=t.replaceAll("∃"," "),t=t.replaceAll("∇"," "),t=t.replaceAll("∈"," "),t=t.replaceAll("∋"," "),t=t.replaceAll("∑"," "),t=t.replaceAll("−"," "),t=t.replaceAll("√"," "),t=t.replaceAll("∝"," "),t=t.replaceAll("∞"," "),t=t.replaceAll("∟"," "),t=t.replaceAll("∠"," "),t=t.replaceAll("∥"," "),t=t.replaceAll("∧"," "),t=t.replaceAll("∨"," "),t=t.replaceAll("∩"," "),t=t.replaceAll("∪"," "),t=t.replaceAll("∫"," "),t=t.replaceAll("∬"," "),t=t.replaceAll("∮"," "),t=t.replaceAll("∴"," "),t=t.replaceAll("∵"," "),t=t.replaceAll("∽"," "),t=t.replaceAll("≒"," "),t=t.replaceAll("≠"," "),t=t.replaceAll("≡"," "),t=t.replaceAll("≦"," "),t=t.replaceAll("≧"," "),t=t.replaceAll("≪"," "),t=t.replaceAll("≫"," "),t=t.replaceAll("⊂"," "),t=t.replaceAll("⊃"," "),t=t.replaceAll("⊆"," "),t=t.replaceAll("⊇"," "),t=t.replaceAll("⊥"," "),t=t.replaceAll("⊿"," "),t=t.replaceAll("⌒"," "),t=t.replaceAll("■"," "),t=t.replaceAll("□"," "),t=t.replaceAll("▲"," "),t=t.replaceAll("△"," "),t=t.replaceAll("▷"," "),t=t.replaceAll("▼"," "),t=t.replaceAll("▽"," "),t=t.replaceAll("◆"," "),t=t.replaceAll("◇"," "),t=t.replaceAll("○"," "),t=t.replaceAll("◎"," "),t=t.replaceAll("●"," "),t=t.replaceAll("◯"," "),t=t.replaceAll("★"," "),t=t.replaceAll("☆"," "),t=t.replaceAll("♀"," "),t=t.replaceAll("♂"," "),t=t.replaceAll("♠"," "),t=t.replaceAll("♡"," "),t=t.replaceAll("♣"," "),t=t.replaceAll("♥"," "),t=t.replaceAll("♦"," "),t=t.replaceAll("♪"," "),t=t.replaceAll("♭"," "),t=t.replaceAll("♯"," "),t=t.replaceAll("　"," "),t=t.replaceAll("、"," "),t=t.replaceAll("。"," "),t=t.replaceAll("〃"," "),t=t.replaceAll("〆"," "),t=t.replaceAll("〇"," "),t=t.replaceAll("〈"," "),t=t.replaceAll("〉"," "),t=t.replaceAll("《"," "),t=t.replaceAll("》"," "),t=t.replaceAll("「"," "),t=t.replaceAll("」"," "),t=t.replaceAll("『"," "),t=t.replaceAll("』"," "),t=t.replaceAll("【"," "),t=t.replaceAll("】"," "),t=t.replaceAll("〒"," "),t=t.replaceAll("〔"," "),t=t.replaceAll("〕"," "),t=t.replaceAll("〖"," "),t=t.replaceAll("〗"," "),t=t.replaceAll("〘"," "),t=t.replaceAll("〙"," "),t=t.replaceAll("〚"," "),t=t.replaceAll("〛"," "),t=t.replaceAll("〜"," "),t=t.replaceAll("〝"," "),t=t.replaceAll("〞"," "),t=t.replaceAll("〟"," "),t=t.replaceAll("゛"," "),t=t.replaceAll("゜"," "),t=t.replaceAll("・"," "),t=t.replaceAll("！"," "),t=t.replaceAll("＂"," "),t=t.replaceAll("＃"," "),t=t.replaceAll("＄"," "),t=t.replaceAll("％"," "),t=t.replaceAll("＆"," "),t=t.replaceAll("＇"," "),t=t.replaceAll("（"," "),t=t.replaceAll("）"," "),t=t.replaceAll("＊"," "),t=t.replaceAll("＋"," "),t=t.replaceAll("，"," "),t=t.replaceAll("－"," "),t=t.replaceAll("／"," "),t=t.replaceAll("："," "),t=t.replaceAll("；"," "),t=t.replaceAll("＜"," "),t=t.replaceAll("＝"," "),t=t.replaceAll("＞"," "),t=t.replaceAll("？"," "),t=t.replaceAll("＠"," "),t=t.replaceAll("［"," "),t=t.replaceAll("＼"," "),t=t.replaceAll("］"," "),t=t.replaceAll("＾"," "),t=t.replaceAll("＿"," "),t=t.replaceAll("｀"," "),t=t.replaceAll("｛"," "),t=t.replaceAll("｜"," "),t=t.replaceAll("｝"," "),t=t.replaceAll("～"," "),t=t.replaceAll("｟"," "),t=t.replaceAll("｠"," "),t=t.replaceAll("｡"," "),t=t.replaceAll("｢"," "),t=t.replaceAll("｣"," "),t=t.replaceAll("､"," "),t=t.replaceAll("･"," "),t=t.replaceAll("￠"," "),t=t.replaceAll("￡"," "),t=t.replaceAll("￣"," "),t=t.replaceAll("￥"," "),t=t.replaceAll("亞","亜"),t=t.replaceAll("啞","唖"),t=t.replaceAll("龝","穐"),t=t.replaceAll("惡","悪"),t=t.replaceAll("蘆","芦"),t=t.replaceAll("鰺","鯵"),t=t.replaceAll("杍","梓"),t=t.replaceAll("壓","圧"),t=t.replaceAll("蝱","虻"),t=t.replaceAll("菴","庵"),t=t.replaceAll("葊","庵"),t=t.replaceAll("盦","庵"),t=t.replaceAll("桉","案"),t=t.replaceAll("㠯","以"),t=t.replaceAll("圍","囲"),t=t.replaceAll("爲","為"),t=t.replaceAll("醫","医"),t=t.replaceAll("毉","医"),t=t.replaceAll("毓","育"),t=t.replaceAll("壹","壱"),t=t.replaceAll("逸","逸"),t=t.replaceAll("稻","稲"),t=t.replaceAll("飮","飲"),t=t.replaceAll("婬","淫"),t=t.replaceAll("𦹥","蔭"),t=t.replaceAll("䕃","蔭"),t=t.replaceAll("𨼲","蔭"),t=t.replaceAll("阴","陰"),t=t.replaceAll("隂","陰"),t=t.replaceAll("侌","陰"),t=t.replaceAll("阥","陰"),t=t.replaceAll("隱","隠"),t=t.replaceAll("乚","隠"),t=t.replaceAll("韵","韻"),t=t.replaceAll("𡧃","宇"),t=t.replaceAll("㝢","宇"),t=t.replaceAll("夘","卯"),t=t.replaceAll("闚","窺"),t=t.replaceAll("丒","丑"),t=t.replaceAll("噓","嘘"),t=t.replaceAll("鬱","欝"),t=t.replaceAll("廐","厩"),t=t.replaceAll("廏","厩"),t=t.replaceAll("閠","閏"),t=t.replaceAll("睿","叡"),t=t.replaceAll("壡","叡"),t=t.replaceAll("營","営"),t=t.replaceAll("暎","映"),t=t.replaceAll("曵","曳"),t=t.replaceAll("榮","栄"),t=t.replaceAll("荣","栄"),t=t.replaceAll("偀","英"),t=t.replaceAll("衞","衛"),t=t.replaceAll("咏","詠"),t=t.replaceAll("驛","駅"),t=t.replaceAll("謁","謁"),t=t.replaceAll("猒","厭"),t=t.replaceAll("圓","円"),t=t.replaceAll("焱","炎"),t=t.replaceAll("焰","焔"),t=t.replaceAll("燄","焔"),t=t.replaceAll("㷔","焔"),t=t.replaceAll("熖","焔"),t=t.replaceAll("烟","煙"),t=t.replaceAll("𤇆","煙"),t=t.replaceAll("猨","猿"),t=t.replaceAll("緣","縁"),t=t.replaceAll("艷","艶"),t=t.replaceAll("豔","艶"),t=t.replaceAll("鹽","塩"),t=t.replaceAll("𦣪","塩"),t=t.replaceAll("汙","汚"),t=t.replaceAll("奧","奥"),t=t.replaceAll("徃","往"),t=t.replaceAll("應","応"),t=t.replaceAll("橫","横"),t=t.replaceAll("歐","欧"),t=t.replaceAll("毆","殴"),t=t.replaceAll("鶯","鴬"),t=t.replaceAll("鸎","鴬"),t=t.replaceAll("鷗","鴎"),t=t.replaceAll("黃","黄"),t=t.replaceAll("崗","岡"),t=t.replaceAll("冲","沖"),t=t.replaceAll("藡","荻"),t=t.replaceAll("溫","温"),t=t.replaceAll("穩","穏"),t=t.replaceAll("假","仮"),t=t.replaceAll("價","価"),t=t.replaceAll("禍","禍"),t=t.replaceAll("芲","花"),t=t.replaceAll("蘤","花"),t=t.replaceAll("譁","嘩"),t=t.replaceAll("𠵅","嘩"),t=t.replaceAll("蚉","蚊"),t=t.replaceAll("蟁","蚊"),t=t.replaceAll("峩","峨"),t=t.replaceAll("畫","画"),t=t.replaceAll("卧","臥"),t=t.replaceAll("䖸","蛾"),t=t.replaceAll("會","会"),t=t.replaceAll("觧","解"),t=t.replaceAll("囘","回"),t=t.replaceAll("壞","壊"),t=t.replaceAll("𢌞","廻"),t=t.replaceAll("廽","廻"),t=t.replaceAll("恠","怪"),t=t.replaceAll("悔","悔"),t=t.replaceAll("懷","懐"),t=t.replaceAll("海","海"),t=t.replaceAll("畍","界"),t=t.replaceAll("繪","絵"),t=t.replaceAll("蠏","蟹"),t=t.replaceAll("蛽","貝"),t=t.replaceAll("崕","崖"),t=t.replaceAll("慨","慨"),t=t.replaceAll("槩","概"),t=t.replaceAll("槪","概"),t=t.replaceAll("礙","碍"),t=t.replaceAll("盖","蓋"),t=t.replaceAll("葢","蓋"),t=t.replaceAll("䵷","蛙"),t=t.replaceAll("鼃","蛙"),t=t.replaceAll("柹","柿"),t=t.replaceAll("𣏕","柿"),t=t.replaceAll("蠣","蛎"),t=t.replaceAll("鉤","鈎"),t=t.replaceAll("擴","拡"),t=t.replaceAll("攪","撹"),t=t.replaceAll("殼","殻"),t=t.replaceAll("壳","殻"),t=t.replaceAll("碻","確"),t=t.replaceAll("覺","覚"),t=t.replaceAll("覐","覚"),t=t.replaceAll("爀","赫"),t=t.replaceAll("學","学"),t=t.replaceAll("斈","学"),t=t.replaceAll("斅","学"),t=t.replaceAll("嶽","岳"),t=t.replaceAll("樂","楽"),t=t.replaceAll("喝","喝"),t=t.replaceAll("渴","渇"),t=t.replaceAll("褐","褐"),t=t.replaceAll("鎋","轄"),t=t.replaceAll("兠","兜"),t=t.replaceAll("竈","竃"),t=t.replaceAll("𥧄","竃"),t=t.replaceAll("灶","竃"),t=t.replaceAll("䆴","竃"),t=t.replaceAll("釡","釜"),t=t.replaceAll("嚙","噛"),t=t.replaceAll("蘐","萱"),t=t.replaceAll("蕿","萱"),t=t.replaceAll("藼","萱"),t=t.replaceAll("鬻","粥"),t=t.replaceAll("刋","刊"),t=t.replaceAll("勸","勧"),t=t.replaceAll("卷","巻"),t=t.replaceAll("奸","姦"),t=t.replaceAll("姧","姦"),t=t.replaceAll("寬","寛"),t=t.replaceAll("榦","幹"),t=t.replaceAll("欵","款"),t=t.replaceAll("歡","歓"),t=t.replaceAll("漢","漢"),t=t.replaceAll("礀","澗"),t=t.replaceAll("灌","潅"),t=t.replaceAll("罐","缶"),t=t.replaceAll("缻","缶"),t=t.replaceAll("觀","観"),t=t.replaceAll("鑒","鑑"),t=t.replaceAll("鍳","鑑"),t=t.replaceAll("關","関"),t=t.replaceAll("陷","陥"),t=t.replaceAll("㟁","岸"),t=t.replaceAll("𡶜","岸"),t=t.replaceAll("巖","巌"),t=t.replaceAll("巗","巌"),t=t.replaceAll("鴈","雁"),t=t.replaceAll("鳫","雁"),t=t.replaceAll("顏","顔"),t=t.replaceAll("㐂","喜"),t=t.replaceAll("歖","喜"),t=t.replaceAll("噐","器"),t=t.replaceAll("器","器"),t=t.replaceAll("竒","奇"),t=t.replaceAll("既","既"),t=t.replaceAll("餼","既"),t=t.replaceAll("旣","既"),t=t.replaceAll("朞","期"),t=t.replaceAll("棊","棋"),t=t.replaceAll("弃","棄"),t=t.replaceAll("歸","帰"),t=t.replaceAll("皈","帰"),t=t.replaceAll("氣","気"),t=t.replaceAll("炁","気"),t=t.replaceAll("祈","祈"),t=t.replaceAll("䂓","規"),t=t.replaceAll("𧪄","記"),t=t.replaceAll("䡄","軌"),t=t.replaceAll("龜","亀"),t=t.replaceAll("僞","偽"),t=t.replaceAll("冝","宜"),t=t.replaceAll("宐","宜"),t=t.replaceAll("戲","戯"),t=t.replaceAll("犧","犠"),t=t.replaceAll("匊","掬"),t=t.replaceAll("毱","鞠"),t=t.replaceAll("卻","却"),t=t.replaceAll("屰","逆"),t=t.replaceAll("坵","丘"),t=t.replaceAll("镹","久"),t=t.replaceAll("糺","糾"),t=t.replaceAll("舊","旧"),t=t.replaceAll("𦾔","旧"),t=t.replaceAll("據","拠"),t=t.replaceAll("擧","挙"),t=t.replaceAll("舉","挙"),t=t.replaceAll("虗","虚"),t=t.replaceAll("虛","虚"),t=t.replaceAll("譃","虚"),t=t.replaceAll("亰","京"),t=t.replaceAll("俠","侠"),t=t.replaceAll("竸","競"),t=t.replaceAll("峽","峡"),t=t.replaceAll("挾","挟"),t=t.replaceAll("𣘺","橋"),t=t.replaceAll("槗","橋"),t=t.replaceAll("况","況"),t=t.replaceAll("狹","狭"),t=t.replaceAll("鄕","郷"),t=t.replaceAll("響","響"),t=t.replaceAll("响","響"),t=t.replaceAll("堯","尭"),t=t.replaceAll("曉","暁"),t=t.replaceAll("勤","勤"),t=t.replaceAll("珡","琴"),t=t.replaceAll("琹","琴"),t=t.replaceAll("荕","筋"),t=t.replaceAll("觔","筋"),t=t.replaceAll("竻","筋"),t=t.replaceAll("謹","謹"),t=t.replaceAll("訡","吟"),t=t.replaceAll("俱","倶"),t=t.replaceAll("區","区"),t=t.replaceAll("㺃","狗"),t=t.replaceAll("榘","矩"),t=t.replaceAll("軀","躯"),t=t.replaceAll("驅","駆"),t=t.replaceAll("敺","駆"),t=t.replaceAll("鞾","靴"),t=t.replaceAll("漥","窪"),t=t.replaceAll("桒","桑"),t=t.replaceAll("枽","桑"),t=t.replaceAll("鍫","鍬"),t=t.replaceAll("勳","勲"),t=t.replaceAll("勛","勲"),t=t.replaceAll("薰","薫"),t=t.replaceAll("羣","群"),t=t.replaceAll("徑","径"),t=t.replaceAll("逕","径"),t=t.replaceAll("惠","恵"),t=t.replaceAll("僡","恵"),t=t.replaceAll("憇","憩"),t=t.replaceAll("揭","掲"),t=t.replaceAll("搩","掲"),t=t.replaceAll("攜","携"),t=t.replaceAll("擕","携"),t=t.replaceAll("溪","渓"),t=t.replaceAll("谿","渓"),t=t.replaceAll("磎","渓"),t=t.replaceAll("𧮾","渓"),t=t.replaceAll("經","経"),t=t.replaceAll("巠","経"),t=t.replaceAll("繼","継"),t=t.replaceAll("繫","繋"),t=t.replaceAll("莖","茎"),t=t.replaceAll("螢","蛍"),t=t.replaceAll("輕","軽"),t=t.replaceAll("頸","頚"),t=t.replaceAll("鷄","鶏"),t=t.replaceAll("雞","鶏"),t=t.replaceAll("𨿸","鶏"),t=t.replaceAll("藝","芸"),t=t.replaceAll("蓺","芸"),t=t.replaceAll("秇","芸"),t=t.replaceAll("擊","撃"),t=t.replaceAll("杰","傑"),t=t.replaceAll("缺","欠"),t=t.replaceAll("𡙇","欠"),t=t.replaceAll("缼","欠"),t=t.replaceAll("决","決"),t=t.replaceAll("洯","潔"),t=t.replaceAll("儉","倹"),t=t.replaceAll("勌","倦"),t=t.replaceAll("徤","健"),t=t.replaceAll("劍","剣"),t=t.replaceAll("劔","剣"),t=t.replaceAll("劒","剣"),t=t.replaceAll("剱","剣"),t=t.replaceAll("釼","剣"),t=t.replaceAll("𠝏","剣"),t=t.replaceAll("圈","圏"),t=t.replaceAll("檢","検"),t=t.replaceAll("權","権"),t=t.replaceAll("獻","献"),t=t.replaceAll("硏","研"),t=t.replaceAll("縣","県"),t=t.replaceAll("贒","賢"),t=t.replaceAll("臤","賢"),t=t.replaceAll("險","険"),t=t.replaceAll("顯","顕"),t=t.replaceAll("㬎","顕"),t=t.replaceAll("驗","験"),t=t.replaceAll("騐","験"),t=t.replaceAll("鹼","鹸"),t=t.replaceAll("鹻","鹸"),t=t.replaceAll("碱","鹸"),t=t.replaceAll("嚴","厳"),t=t.replaceAll("褲","袴"),t=t.replaceAll("絝","袴"),t=t.replaceAll("苽","菰"),t=t.replaceAll("乕","虎"),t=t.replaceAll("虝","虎"),t=t.replaceAll("皷","鼓"),t=t.replaceAll("忢","悟"),t=t.replaceAll("矦","侯"),t=t.replaceAll("炗","光"),t=t.replaceAll("灮","光"),t=t.replaceAll("㓛","功"),t=t.replaceAll("效","効"),t=t.replaceAll("㫗","厚"),t=t.replaceAll("垕","厚"),t=t.replaceAll("阬","坑"),t=t.replaceAll("廣","広"),t=t.replaceAll("恆","恒"),t=t.replaceAll("抅","拘"),t=t.replaceAll("晄","晃"),t=t.replaceAll("熀","晃"),t=t.replaceAll("挍","校"),t=t.replaceAll("澔","浩"),t=t.replaceAll("稾","稿"),t=t.replaceAll("藳","稿"),t=t.replaceAll("綋","紘"),t=t.replaceAll("畊","耕"),t=t.replaceAll("厷","肱"),t=t.replaceAll("礦","鉱"),t=t.replaceAll("鑛","鉱"),t=t.replaceAll("磺","鉱"),t=t.replaceAll("夅","降"),t=t.replaceAll("刧","劫"),t=t.replaceAll("刼","劫"),t=t.replaceAll("號","号"),t=t.replaceAll("軣","轟"),t=t.replaceAll("輷","轟"),t=t.replaceAll("麯","麹"),t=t.replaceAll("麴","麹"),t=t.replaceAll("國","国"),t=t.replaceAll("囶","国"),t=t.replaceAll("圀","国"),t=t.replaceAll("穀","穀"),t=t.replaceAll("黑","黒"),t=t.replaceAll("嵳","嵯"),t=t.replaceAll("鏁","鎖"),t=t.replaceAll("冣","最"),t=t.replaceAll("㝡","最"),t=t.replaceAll("濟","済"),t=t.replaceAll("灾","災"),t=t.replaceAll("烖","災"),t=t.replaceAll("碎","砕"),t=t.replaceAll("齋","斎"),t=t.replaceAll("劑","剤"),t=t.replaceAll("戝","財"),t=t.replaceAll("冱","冴"),t=t.replaceAll("沍","冴"),t=t.replaceAll("餚","肴"),t=t.replaceAll("嵜","崎"),t=t.replaceAll("㟢","崎"),t=t.replaceAll("﨑","崎"),t=t.replaceAll("𥔎","碕"),t=t.replaceAll("萗","策"),t=t.replaceAll("櫻","桜"),t=t.replaceAll("册","冊"),t=t.replaceAll("殺","殺"),t=t.replaceAll("煞","殺"),t=t.replaceAll("蕯","薩"),t=t.replaceAll("雜","雑"),t=t.replaceAll("襍","雑"),t=t.replaceAll("皋","皐"),t=t.replaceAll("曬","晒"),t=t.replaceAll("參","参"),t=t.replaceAll("叅","参"),t=t.replaceAll("慘","惨"),t=t.replaceAll("棧","桟"),t=t.replaceAll("筭","算"),t=t.replaceAll("祘","算"),t=t.replaceAll("蠶","蚕"),t=t.replaceAll("蝅","蚕"),t=t.replaceAll("贊","賛"),t=t.replaceAll("讃","賛"),t=t.replaceAll("讚","賛"),t=t.replaceAll("湌","餐"),t=t.replaceAll("殘","残"),t=t.replaceAll("㫖","旨"),t=t.replaceAll("祉","祉"),t=t.replaceAll("絲","糸"),t=t.replaceAll("帋","紙"),t=t.replaceAll("視","視"),t=t.replaceAll("䳄","雌"),t=t.replaceAll("齒","歯"),t=t.replaceAll("亊","事"),t=t.replaceAll("㕝","事"),t=t.replaceAll("兒","児"),t=t.replaceAll("旹","時"),t=t.replaceAll("𦱳","滋"),t=t.replaceAll("尓","爾"),t=t.replaceAll("尒","爾"),t=t.replaceAll("儞","爾"),t=t.replaceAll("辭","辞"),t=t.replaceAll("辤","辞"),t=t.replaceAll("𠮟","叱"),t=t.replaceAll("濕","湿"),t=t.replaceAll("㯃","漆"),t=t.replaceAll("柒","漆"),t=t.replaceAll("桼","漆"),t=t.replaceAll("貭","質"),t=t.replaceAll("實","実"),t=t.replaceAll("筱","篠"),t=t.replaceAll("筿","篠"),t=t.replaceAll("屢","屡"),t=t.replaceAll("蘂","蕊"),t=t.replaceAll("蕋","蕊"),t=t.replaceAll("舍","舎"),t=t.replaceAll("冩","写"),t=t.replaceAll("寫","写"),t=t.replaceAll("煑","煮"),t=t.replaceAll("煮","煮"),t=t.replaceAll("社","社"),t=t.replaceAll("者","者"),t=t.replaceAll("虵","蛇"),t=t.replaceAll("𣏐","杓"),t=t.replaceAll("𣝣","爵"),t=t.replaceAll("釋","釈"),t=t.replaceAll("垨","守"),t=t.replaceAll("咒","呪"),t=t.replaceAll("壽","寿"),t=t.replaceAll("收","収"),t=t.replaceAll("綉","繍"),t=t.replaceAll("繡","繍"),t=t.replaceAll("臭","臭"),t=t.replaceAll("讎","讐"),t=t.replaceAll("亼","集"),t=t.replaceAll("𠍱","集"),t=t.replaceAll("從","従"),t=t.replaceAll("从","従"),t=t.replaceAll("澁","渋"),t=t.replaceAll("澀","渋"),t=t.replaceAll("獸","獣"),t=t.replaceAll("縱","縦"),t=t.replaceAll("祝","祝"),t=t.replaceAll("肅","粛"),t=t.replaceAll("凖","準"),t=t.replaceAll("處","処"),t=t.replaceAll("暑","暑"),t=t.replaceAll("渚","渚"),t=t.replaceAll("緖","緒"),t=t.replaceAll("署","署"),t=t.replaceAll("諸","諸"),t=t.replaceAll("敍","叙"),t=t.replaceAll("敘","叙"),t=t.replaceAll("甞","嘗"),t=t.replaceAll("奬","奨"),t=t.replaceAll("獎","奨"),t=t.replaceAll("將","将"),t=t.replaceAll("厰","廠"),t=t.replaceAll("曻","昇"),t=t.replaceAll("𣇵","晶"),t=t.replaceAll("枩","松"),t=t.replaceAll("柗","松"),t=t.replaceAll("梥","松"),t=t.replaceAll("㮤","松"),t=t.replaceAll("涉","渉"),t=t.replaceAll("燒","焼"),t=t.replaceAll("祥","祥"),t=t.replaceAll("稱","称"),t=t.replaceAll("穪","称"),t=t.replaceAll("偁","称"),t=t.replaceAll("蔣","蒋"),t=t.replaceAll("證","証"),t=t.replaceAll("醬","醤"),t=t.replaceAll("𠀋","丈"),t=t.replaceAll("乘","乗"),t=t.replaceAll("椉","乗"),t=t.replaceAll("剩","剰"),t=t.replaceAll("塲","場"),t=t.replaceAll("壤","壌"),t=t.replaceAll("孃","嬢"),t=t.replaceAll("條","条"),t=t.replaceAll("淨","浄"),t=t.replaceAll("狀","状"),t=t.replaceAll("疊","畳"),t=t.replaceAll("疉","畳"),t=t.replaceAll("疂","畳"),t=t.replaceAll("叠","畳"),t=t.replaceAll("穰","穣"),t=t.replaceAll("讓","譲"),t=t.replaceAll("釀","醸"),t=t.replaceAll("囑","嘱"),t=t.replaceAll("餝","飾"),t=t.replaceAll("㯰","植"),t=t.replaceAll("𦀗","織"),t=t.replaceAll("觸","触"),t=t.replaceAll("觕","触"),t=t.replaceAll("脣","唇"),t=t.replaceAll("寢","寝"),t=t.replaceAll("愼","慎"),t=t.replaceAll("晉","晋"),t=t.replaceAll("㬜","晋"),t=t.replaceAll("寖","浸"),t=t.replaceAll("濅","浸"),t=t.replaceAll("𤺋","疹"),t=t.replaceAll("眞","真"),t=t.replaceAll("神","神"),t=t.replaceAll("𨐌","辛"),t=t.replaceAll("亻","人"),t=t.replaceAll("𠆢","人"),t=t.replaceAll("刄","刃"),t=t.replaceAll("盡","尽"),t=t.replaceAll("靫","靭"),t=t.replaceAll("靱","靭"),t=t.replaceAll("韌","靭"),t=t.replaceAll("醋","酢"),t=t.replaceAll("圖","図"),t=t.replaceAll("啚","図"),t=t.replaceAll("廚","厨"),t=t.replaceAll("橱","厨"),t=t.replaceAll("埀","垂"),t=t.replaceAll("粹","粋"),t=t.replaceAll("翆","翠"),t=t.replaceAll("醉","酔"),t=t.replaceAll("隨","随"),t=t.replaceAll("膸","髄"),t=t.replaceAll("髓","髄"),t=t.replaceAll("數","数"),t=t.replaceAll("樞","枢"),t=t.replaceAll("鶵","雛"),t=t.replaceAll("杦","杉"),t=t.replaceAll("澂","澄"),t=t.replaceAll("丗","世"),t=t.replaceAll("卋","世"),t=t.replaceAll("瀨","瀬"),t=t.replaceAll("畆","畝"),t=t.replaceAll("㽗","畝"),t=t.replaceAll("𤰖","畝"),t=t.replaceAll("畒","畝"),t=t.replaceAll("畞","畝"),t=t.replaceAll("昰","是"),t=t.replaceAll("淒","凄"),t=t.replaceAll("㔟","勢"),t=t.replaceAll("皨","星"),t=t.replaceAll("暒","晴"),t=t.replaceAll("晴","晴"),t=t.replaceAll("聲","声"),t=t.replaceAll("靜","静"),t=t.replaceAll("齊","斉"),t=t.replaceAll("亝","斉"),t=t.replaceAll("斊","斉"),t=t.replaceAll("攝","摂"),t=t.replaceAll("竊","窃"),t=t.replaceAll("節","節"),t=t.replaceAll("蟬","蝉"),t=t.replaceAll("專","専"),t=t.replaceAll("巛","川"),t=t.replaceAll("戰","戦"),t=t.replaceAll("洤","泉"),t=t.replaceAll("淺","浅"),t=t.replaceAll("潛","潜"),t=t.replaceAll("濳","潜"),t=t.replaceAll("綫","線"),t=t.replaceAll("纖","繊"),t=t.replaceAll("纎","繊"),t=t.replaceAll("舩","船"),t=t.replaceAll("賤","賎"),t=t.replaceAll("踐","践"),t=t.replaceAll("迁","遷"),t=t.replaceAll("錢","銭"),t=t.replaceAll("偂","前"),t=t.replaceAll("歬","前"),t=t.replaceAll("譱","善"),t=t.replaceAll("禪","禅"),t=t.replaceAll("饍","膳"),t=t.replaceAll("𡏄","塑"),t=t.replaceAll("䟽","疏"),t=t.replaceAll("踈","疎"),t=t.replaceAll("祖","祖"),t=t.replaceAll("蘓","蘇"),t=t.replaceAll("穌","蘇"),t=t.replaceAll("溯","遡"),t=t.replaceAll("㴑","遡"),t=t.replaceAll("鼡","鼠"),t=t.replaceAll("僧","僧"),t=t.replaceAll("雙","双"),t=t.replaceAll("壯","壮"),t=t.replaceAll("層","層"),t=t.replaceAll("帀","匝"),t=t.replaceAll("迊","匝"),t=t.replaceAll("搜","捜"),t=t.replaceAll("插","挿"),t=t.replaceAll("揷","挿"),t=t.replaceAll("搔","掻"),t=t.replaceAll("曺","曹"),t=t.replaceAll("巢","巣"),t=t.replaceAll("爭","争"),t=t.replaceAll("瘦","痩"),t=t.replaceAll("膄","痩"),t=t.replaceAll("𥄢","相"),t=t.replaceAll("窗","窓"),t=t.replaceAll("牕","窓"),t=t.replaceAll("窻","窓"),t=t.replaceAll("總","総"),t=t.replaceAll("摠","総"),t=t.replaceAll("揔","総"),t=t.replaceAll("緫","総"),t=t.replaceAll("聰","聡"),t=t.replaceAll("聦","聡"),t=t.replaceAll("莊","荘"),t=t.replaceAll("㽵","荘"),t=t.replaceAll("裝","装"),t=t.replaceAll("赱","走"),t=t.replaceAll("騷","騒"),t=t.replaceAll("增","増"),t=t.replaceAll("憎","憎"),t=t.replaceAll("臟","臓"),t=t.replaceAll("藏","蔵"),t=t.replaceAll("匨","蔵"),t=t.replaceAll("贈","贈"),t=t.replaceAll("卽","即"),t=t.replaceAll("皍","即"),t=t.replaceAll("𧾷","足"),t=t.replaceAll("屬","属"),t=t.replaceAll("續","続"),t=t.replaceAll("賡","続"),t=t.replaceAll("卆","卒"),t=t.replaceAll("邨","村"),t=t.replaceAll("夛","多"),t=t.replaceAll("冭","太"),t=t.replaceAll("墮","堕"),t=t.replaceAll("橢","楕"),t=t.replaceAll("驒","騨"),t=t.replaceAll("躰","体"),t=t.replaceAll("軆","体"),t=t.replaceAll("體","体"),t=t.replaceAll("𠂤","堆"),t=t.replaceAll("對","対"),t=t.replaceAll("帶","帯"),t=t.replaceAll("𣳾","泰"),t=t.replaceAll("㤗","泰"),t=t.replaceAll("滯","滞"),t=t.replaceAll("帒","袋"),t=t.replaceAll("臺","台"),t=t.replaceAll("䑓","台"),t=t.replaceAll("坮","台"),t=t.replaceAll("桌","卓"),t=t.replaceAll("擇","択"),t=t.replaceAll("澤","沢"),t=t.replaceAll("琢","琢"),t=t.replaceAll("鈬","鐸"),t=t.replaceAll("逹","達"),t=t.replaceAll("达","達"),t=t.replaceAll("豎","竪"),t=t.replaceAll("貍","狸"),t=t.replaceAll("墫","樽"),t=t.replaceAll("罇","樽"),t=t.replaceAll("單","単"),t=t.replaceAll("嘆","嘆"),t=t.replaceAll("擔","担"),t=t.replaceAll("耑","端"),t=t.replaceAll("簞","箪"),t=t.replaceAll("膽","胆"),t=t.replaceAll("團","団"),t=t.replaceAll("彈","弾"),t=t.replaceAll("斷","断"),t=t.replaceAll("耻","恥"),t=t.replaceAll("癡","痴"),t=t.replaceAll("穉","稚"),t=t.replaceAll("遲","遅"),t=t.replaceAll("稸","蓄"),t=t.replaceAll("𢭆","抽"),t=t.replaceAll("晝","昼"),t=t.replaceAll("蟲","虫"),t=t.replaceAll("䖝","虫"),t=t.replaceAll("鑄","鋳"),t=t.replaceAll("潴","瀦"),t=t.replaceAll("豬","猪"),t=t.replaceAll("猪","猪"),t=t.replaceAll("䐗","猪"),t=t.replaceAll("著","著"),t=t.replaceAll("廳","庁"),t=t.replaceAll("廰","庁"),t=t.replaceAll("徵","徴"),t=t.replaceAll("懲","懲"),t=t.replaceAll("甼","町"),t=t.replaceAll("聽","聴"),t=t.replaceAll("膓","腸"),t=t.replaceAll("镸","長"),t=t.replaceAll("敕","勅"),t=t.replaceAll("沉","沈"),t=t.replaceAll("珎","珍"),t=t.replaceAll("鎭","鎮"),t=t.replaceAll("塚","塚"),t=t.replaceAll("冢","塚"),t=t.replaceAll("摑","掴"),t=t.replaceAll("壺","壷"),t=t.replaceAll("寉","鶴"),t=t.replaceAll("靍","鶴"),t=t.replaceAll("靎","鶴"),t=t.replaceAll("靏","鶴"),t=t.replaceAll("隺","鶴"),t=t.replaceAll("埞","堤"),t=t.replaceAll("矴","碇"),t=t.replaceAll("椗","碇"),t=t.replaceAll("禎","禎"),t=t.replaceAll("遞","逓"),t=t.replaceAll("𣇄","鼎"),t=t.replaceAll("鼑","鼎"),t=t.replaceAll("埿","泥"),t=t.replaceAll("喆","哲"),t=t.replaceAll("嚞","哲"),t=t.replaceAll("啠","哲"),t=t.replaceAll("悊","哲"),t=t.replaceAll("銕","鉄"),t=t.replaceAll("鐵","鉄"),t=t.replaceAll("鐡","鉄"),t=t.replaceAll("塡","填"),t=t.replaceAll("沗","添"),t=t.replaceAll("𣷹","添"),t=t.replaceAll("纒","纏"),t=t.replaceAll("轉","転"),t=t.replaceAll("顚","顛"),t=t.replaceAll("點","点"),t=t.replaceAll("傳","伝"),t=t.replaceAll("兔","兎"),t=t.replaceAll("莵","兎"),t=t.replaceAll("菟","兎"),t=t.replaceAll("妒","妬"),t=t.replaceAll("都","都"),t=t.replaceAll("礪","砺"),t=t.replaceAll("𡈽","土"),t=t.replaceAll("圡","土"),t=t.replaceAll("黨","党"),t=t.replaceAll("嶌","島"),t=t.replaceAll("隝","島"),t=t.replaceAll("㠀","島"),t=t.replaceAll("嶹","島"),t=t.replaceAll("嶋","島"),t=t.replaceAll("檮","梼"),t=t.replaceAll("盜","盗"),t=t.replaceAll("濤","涛"),t=t.replaceAll("當","当"),t=t.replaceAll("禱","祷"),t=t.replaceAll("筩","筒"),t=t.replaceAll("𥹥","糖"),t=t.replaceAll("迯","逃"),t=t.replaceAll("鬪","闘"),t=t.replaceAll("鬭","闘"),t=t.replaceAll("鬦","闘"),t=t.replaceAll("仂","働"),t=t.replaceAll("衟","道"),t=t.replaceAll("㝵","得"),t=t.replaceAll("悳","徳"),t=t.replaceAll("德","徳"),t=t.replaceAll("𢛳","徳"),t=t.replaceAll("瀆","涜"),t=t.replaceAll("䔍","篤"),t=t.replaceAll("獨","独"),t=t.replaceAll("讀","読"),t=t.replaceAll("杤","栃"),t=t.replaceAll("𣜜","栃"),t=t.replaceAll("突","突"),t=t.replaceAll("屆","届"),t=t.replaceAll("㹠","豚"),t=t.replaceAll("吞","呑"),t=t.replaceAll("柰","奈"),t=t.replaceAll("繩","縄"),t=t.replaceAll("輭","軟"),t=t.replaceAll("難","難"),t=t.replaceAll("貳","弐"),t=t.replaceAll("貮","弐"),t=t.replaceAll("邇","迩"),t=t.replaceAll("韭","韮"),t=t.replaceAll("姙","妊"),t=t.replaceAll("甯","寧"),t=t.replaceAll("寍","寧"),t=t.replaceAll("蔥","葱"),t=t.replaceAll("貓","猫"),t=t.replaceAll("秊","年"),t=t.replaceAll("黏","粘"),t=t.replaceAll("迺","廼"),t=t.replaceAll("𡌛","埜"),t=t.replaceAll("囊","嚢"),t=t.replaceAll("惱","悩"),t=t.replaceAll("腦","脳"),t=t.replaceAll("霸","覇"),t=t.replaceAll("廢","廃"),t=t.replaceAll("拜","拝"),t=t.replaceAll("桮","杯"),t=t.replaceAll("盃","杯"),t=t.replaceAll("梅","梅"),t=t.replaceAll("坆","梅"),t=t.replaceAll("槑","梅"),t=t.replaceAll("賣","売"),t=t.replaceAll("蠅","蝿"),t=t.replaceAll("矤","矧"),t=t.replaceAll("剝","剥"),t=t.replaceAll("愽","博"),t=t.replaceAll("廹","迫"),t=t.replaceAll("麥","麦"),t=t.replaceAll("凾","函"),t=t.replaceAll("枦","櫨"),t=t.replaceAll("𥁊","鉢"),t=t.replaceAll("缽","鉢"),t=t.replaceAll("潑","溌"),t=t.replaceAll("發","発"),t=t.replaceAll("醱","醗"),t=t.replaceAll("髮","髪"),t=t.replaceAll("罸","罰"),t=t.replaceAll("拔","抜"),t=t.replaceAll("㠶","帆"),t=t.replaceAll("䑺","帆"),t=t.replaceAll("繁","繁"),t=t.replaceAll("飰","飯"),t=t.replaceAll("晚","晩"),t=t.replaceAll("𣆶","晩"),t=t.replaceAll("蠻","蛮"),t=t.replaceAll("卑","卑"),t=t.replaceAll("碑","碑"),t=t.replaceAll("祕","秘"),t=t.replaceAll("毗","毘"),t=t.replaceAll("蔆","菱"),t=t.replaceAll("檜","桧"),t=t.replaceAll("冰","氷"),t=t.replaceAll("庿","廟"),t=t.replaceAll("濱","浜"),t=t.replaceAll("濵","浜"),t=t.replaceAll("賓","賓"),t=t.replaceAll("頻","頻"),t=t.replaceAll("敏","敏"),t=t.replaceAll("勄","敏"),t=t.replaceAll("甁","瓶"),t=t.replaceAll("缾","瓶"),t=t.replaceAll("旉","敷"),t=t.replaceAll("𨨞","斧"),t=t.replaceAll("肤","膚"),t=t.replaceAll("侮","侮"),t=t.replaceAll("儛","舞"),t=t.replaceAll("郶","部"),t=t.replaceAll("凮","風"),t=t.replaceAll("福","福"),t=t.replaceAll("渕","淵"),t=t.replaceAll("渊","淵"),t=t.replaceAll("囦","淵"),t=t.replaceAll("拂","払"),t=t.replaceAll("佛","仏"),t=t.replaceAll("燓","焚"),t=t.replaceAll("𥹢","聞"),t=t.replaceAll("倂","併"),t=t.replaceAll("塀","塀"),t=t.replaceAll("幤","幣"),t=t.replaceAll("棅","柄"),t=t.replaceAll("竝","並"),t=t.replaceAll("閇","閉"),t=t.replaceAll("篦","箆"),t=t.replaceAll("變","変"),t=t.replaceAll("邊","辺"),t=t.replaceAll("邉","辺"),t=t.replaceAll("徧","遍"),t=t.replaceAll("勉","勉"),t=t.replaceAll("辨","弁"),t=t.replaceAll("辧","弁"),t=t.replaceAll("瓣","弁"),t=t.replaceAll("辯","弁"),t=t.replaceAll("舖","舗"),t=t.replaceAll("步","歩"),t=t.replaceAll("穗","穂"),t=t.replaceAll("寶","宝"),t=t.replaceAll("寳","宝"),t=t.replaceAll("寚","宝"),t=t.replaceAll("㳒","法"),t=t.replaceAll("灋","法"),t=t.replaceAll("佱","法"),t=t.replaceAll("礮","砲"),t=t.replaceAll("炮","砲"),t=t.replaceAll("萠","萌"),t=t.replaceAll("襃","褒"),t=t.replaceAll("豐","豊"),t=t.replaceAll("冃","帽"),t=t.replaceAll("冐","冒"),t=t.replaceAll("皃","貌"),t=t.replaceAll("㒵","貌"),t=t.replaceAll("頰","頬"),t=t.replaceAll("㒒","僕"),t=t.replaceAll("墨","墨"),t=t.replaceAll("沒","没"),t=t.replaceAll("夲","本"),t=t.replaceAll("飜","翻"),t=t.replaceAll("凢","凡"),t=t.replaceAll("蔴","麻"),t=t.replaceAll("每","毎"),t=t.replaceAll("槇","槙"),t=t.replaceAll("枡","桝"),t=t.replaceAll("枒","桝"),t=t.replaceAll("儘","侭"),t=t.replaceAll("萬","万"),t=t.replaceAll("滿","満"),t=t.replaceAll("鬽","魅"),t=t.replaceAll("簑","蓑"),t=t.replaceAll("簔","蓑"),t=t.replaceAll("脉","脈"),t=t.replaceAll("玅","妙"),t=t.replaceAll("梦","夢"),t=t.replaceAll("夣","夢"),t=t.replaceAll("壻","婿"),t=t.replaceAll("聟","婿"),t=t.replaceAll("朙","明"),t=t.replaceAll("免","免"),t=t.replaceAll("緜","綿"),t=t.replaceAll("麪","麺"),t=t.replaceAll("麵","麺"),t=t.replaceAll("摹","摸"),t=t.replaceAll("橅","模"),t=t.replaceAll("默","黙"),t=t.replaceAll("餠","餅"),t=t.replaceAll("戾","戻"),t=t.replaceAll("彌","弥"),t=t.replaceAll("藥","薬"),t=t.replaceAll("譯","訳"),t=t.replaceAll("竫","靖"),t=t.replaceAll("靖","靖"),t=t.replaceAll("栁","柳"),t=t.replaceAll("桺","柳"),t=t.replaceAll("籔","薮"),t=t.replaceAll("藪","薮"),t=t.replaceAll("䉤","薮"),t=t.replaceAll("𨯯","鑓"),t=t.replaceAll("瘉","癒"),t=t.replaceAll("勈","勇"),t=t.replaceAll("恿","勇"),t=t.replaceAll("祐","祐"),t=t.replaceAll("䧺","雄"),t=t.replaceAll("豫","予"),t=t.replaceAll("餘","余"),t=t.replaceAll("與","与"),t=t.replaceAll("譽","誉"),t=t.replaceAll("搖","揺"),t=t.replaceAll("樣","様"),t=t.replaceAll("窰","窯"),t=t.replaceAll("窑","窯"),t=t.replaceAll("𦍌","羊"),t=t.replaceAll("燿","耀"),t=t.replaceAll("謠","謡"),t=t.replaceAll("踴","踊"),t=t.replaceAll("遙","遥"),t=t.replaceAll("阳","陽"),t=t.replaceAll("昜","陽"),t=t.replaceAll("阦","陽"),t=t.replaceAll("养","養"),t=t.replaceAll("𦐂","翼"),t=t.replaceAll("躶","裸"),t=t.replaceAll("來","来"),t=t.replaceAll("徠","来"),t=t.replaceAll("萊","莱"),t=t.replaceAll("賴","頼"),t=t.replaceAll("靁","雷"),t=t.replaceAll("亂","乱"),t=t.replaceAll("欄","欄"),t=t.replaceAll("覽","覧"),t=t.replaceAll("棃","梨"),t=t.replaceAll("瓈","璃"),t=t.replaceAll("畧","略"),t=t.replaceAll("澑","溜"),t=t.replaceAll("畄","留"),t=t.replaceAll("畱","留"),t=t.replaceAll("隆","隆"),t=t.replaceAll("虜","虜"),t=t.replaceAll("兩","両"),t=t.replaceAll("两","両"),t=t.replaceAll("樑","梁"),t=t.replaceAll("凉","涼"),t=t.replaceAll("獵","猟"),t=t.replaceAll("暸","瞭"),t=t.replaceAll("粮","糧"),t=t.replaceAll("綠","緑"),t=t.replaceAll("鄰","隣"),t=t.replaceAll("厸","隣"),t=t.replaceAll("璢","瑠"),t=t.replaceAll("壘","塁"),t=t.replaceAll("泪","涙"),t=t.replaceAll("淚","涙"),t=t.replaceAll("纍","累"),t=t.replaceAll("類","類"),t=t.replaceAll("勵","励"),t=t.replaceAll("禮","礼"),t=t.replaceAll("隸","隷"),t=t.replaceAll("靈","霊"),t=t.replaceAll("灵","霊"),t=t.replaceAll("㚑","霊"),t=t.replaceAll("䨩","霊"),t=t.replaceAll("霛","霊"),t=t.replaceAll("齡","齢"),t=t.replaceAll("曆","暦"),t=t.replaceAll("厤","暦"),t=t.replaceAll("歷","歴"),t=t.replaceAll("戀","恋"),t=t.replaceAll("練","練"),t=t.replaceAll("聨","聯"),t=t.replaceAll("鍊","錬"),t=t.replaceAll("爐","炉"),t=t.replaceAll("勞","労"),t=t.replaceAll("憥","労"),t=t.replaceAll("廊","廊"),t=t.replaceAll("挊","弄"),t=t.replaceAll("挵","弄"),t=t.replaceAll("朖","朗"),t=t.replaceAll("朗","朗"),t=t.replaceAll("樓","楼"),t=t.replaceAll("窂","牢"),t=t.replaceAll("籠","篭"),t=t.replaceAll("蠟","蝋"),t=t.replaceAll("郞","郎"),t=t.replaceAll("祿","禄"),t=t.replaceAll("錄","録"),t=t.replaceAll("龢","和"),t=t.replaceAll("咊","和"),t=t.replaceAll("𦚰","脇"),t=t.replaceAll("䏮","脇"),t=t.replaceAll("鱷","鰐"),t=t.replaceAll("灣","湾"),t=t.replaceAll("盌","碗"),t=t.replaceAll("𢪸","腕"),t=t.replaceAll("焏","亟"),t=t.replaceAll("仭","仞"),t=t.replaceAll("爼","俎"),t=t.replaceAll("伜","倅"),t=t.replaceAll("𠈓","倆"),t=t.replaceAll("俲","傚"),t=t.replaceAll("慠","傲"),t=t.replaceAll("僲","僊"),t=t.replaceAll("僣","僭"),t=t.replaceAll("㑪","儕"),t=t.replaceAll("俦","儔"),t=t.replaceAll("𠑊","儼"),t=t.replaceAll("兊","兌"),t=t.replaceAll("冋","冂"),t=t.replaceAll("寃","冤"),t=t.replaceAll("寇","冦"),t=t.replaceAll("羃","冪"),t=t.replaceAll("洌","冽"),t=t.replaceAll("涸","凅"),t=t.replaceAll("凜","凛"),t=t.replaceAll("澟","凛"),t=t.replaceAll("𠘨","几"),t=t.replaceAll("凴","凭"),t=t.replaceAll("尅","剋"),t=t.replaceAll("勊","剋"),t=t.replaceAll("箚","剳"),t=t.replaceAll("劄","剳"),t=t.replaceAll("劤","勁"),t=t.replaceAll("勖","勗"),t=t.replaceAll("匇","匆"),t=t.replaceAll("滙","匯"),t=t.replaceAll("奩","匳"),t=t.replaceAll("匲","匳"),t=t.replaceAll("巵","卮"),t=t.replaceAll("庬","厖"),t=t.replaceAll("廁","厠"),t=t.replaceAll("廈","厦"),t=t.replaceAll("廝","厮"),t=t.replaceAll("爕","燮"),t=t.replaceAll("呍","吽"),t=t.replaceAll("吒","咤"),t=t.replaceAll("咜","咤"),t=t.replaceAll("噉","啖"),t=t.replaceAll("咯","喀"),t=t.replaceAll("齅","嗅"),t=t.replaceAll("呕","嘔"),t=t.replaceAll("嘨","嘯"),t=t.replaceAll("譟","噪"),t=t.replaceAll("嚏","嚔"),t=t.replaceAll("齧","囓"),t=t.replaceAll("𪘂","囓"),t=t.replaceAll("阯","址"),t=t.replaceAll("坯","坏"),t=t.replaceAll("确","埆"),t=t.replaceAll("礐","埆"),t=t.replaceAll("埓","埒"),t=t.replaceAll("𡉻","埣"),t=t.replaceAll("壍","塹"),t=t.replaceAll("牆","墻"),t=t.replaceAll("𡋤","壗"),t=t.replaceAll("罎","壜"),t=t.replaceAll("壠","壟"),t=t.replaceAll("弉","奘"),t=t.replaceAll("𡝂","妝"),t=t.replaceAll("侫","佞"),t=t.replaceAll("姸","妍"),t=t.replaceAll("姮","嫦"),t=t.replaceAll("嫰","嫩"),t=t.replaceAll("嫻","嫺"),t=t.replaceAll("嫐","嬲"),t=t.replaceAll("尣","尢"),t=t.replaceAll("𥧔","屁"),t=t.replaceAll("屛","屏"),t=t.replaceAll("崫","崛"),t=t.replaceAll("崐","崑"),t=t.replaceAll("崘","崙"),t=t.replaceAll("篏","嵌"),t=t.replaceAll("嵓","嵒"),t=t.replaceAll("㟴","嵬"),t=t.replaceAll("嶤","嶢"),t=t.replaceAll("𡸳","嶢"),t=t.replaceAll("𡸴","嶮"),t=t.replaceAll("菷","帚"),t=t.replaceAll("伖","帑"),t=t.replaceAll("帮","幇"),t=t.replaceAll("幫","幇"),t=t.replaceAll("幷","并"),t=t.replaceAll("么","幺"),t=t.replaceAll("麽","麼"),t=t.replaceAll("鄽","廛"),t=t.replaceAll("壥","廛"),t=t.replaceAll("迪","廸"),t=t.replaceAll("彜","彝"),t=t.replaceAll("彛","彝"),t=t.replaceAll("弯","彎"),t=t.replaceAll("髴","彿"),t=t.replaceAll("傜","徭"),t=t.replaceAll("忩","怱"),t=t.replaceAll("悤","怱"),t=t.replaceAll("愙","恪"),t=t.replaceAll("䘏","恤"),t=t.replaceAll("卹","恤"),t=t.replaceAll("忰","悴"),t=t.replaceAll("諐","愆"),t=t.replaceAll("媿","愧"),t=t.replaceAll("忼","慷"),t=t.replaceAll("慚","慙"),t=t.replaceAll("憘","憙"),t=t.replaceAll("憗","憖"),t=t.replaceAll("惮","憚"),t=t.replaceAll("愞","懦"),t=t.replaceAll("懧","懦"),t=t.replaceAll("𢡛","懣"),t=t.replaceAll("懴","懺"),t=t.replaceAll("戞","戛"),t=t.replaceAll("扨","扠"),t=t.replaceAll("𢰤","掎"),t=t.replaceAll("𢭐","撈"),t=t.replaceAll("抬","擡"),t=t.replaceAll("𢭏","擣"),t=t.replaceAll("擥","攬"),t=t.replaceAll("攢","攅"),t=t.replaceAll("爴","攫"),t=t.replaceAll("攵","攴"),t=t.replaceAll("搞","敲"),t=t.replaceAll("酙","斟"),t=t.replaceAll("㐬","旒"),t=t.replaceAll("旙","旛"),t=t.replaceAll("暱","昵"),t=t.replaceAll("皓","晧"),t=t.replaceAll("皜","晧"),t=t.replaceAll("晣","晢"),t=t.replaceAll("晳","晰"),t=t.replaceAll("煊","暄"),t=t.replaceAll("昿","曠"),t=t.replaceAll("㬢","曦"),t=t.replaceAll("䒳","朶"),t=t.replaceAll("桿","杆"),t=t.replaceAll("𣑥","栲"),t=t.replaceAll("檔","档"),t=t.replaceAll("檳","梹"),t=t.replaceAll("皁","梍"),t=t.replaceAll("槨","椁"),t=t.replaceAll("槶","椢"),t=t.replaceAll("棬","椦"),t=t.replaceAll("椶","棕"),t=t.replaceAll("檝","楫"),t=t.replaceAll("槀","槁"),t=t.replaceAll("柈","槃"),t=t.replaceAll("櫳","槞"),t=t.replaceAll("櫁","樒"),t=t.replaceAll("𣓤","橈"),t=t.replaceAll("蘗","檗"),t=t.replaceAll("檪","櫟"),t=t.replaceAll("﨔","欅"),t=t.replaceAll("櫱","蘖"),t=t.replaceAll("欞","櫺"),t=t.replaceAll("栾","欒"),t=t.replaceAll("𣠤","欟"),t=t.replaceAll("歺","歹"),t=t.replaceAll("殁","歿"),t=t.replaceAll("歾","歿"),t=t.replaceAll("殱","殲"),t=t.replaceAll("毮","毟"),t=t.replaceAll("氊","氈"),t=t.replaceAll("毡","氈"),t=t.replaceAll("汴","汳"),t=t.replaceAll("淛","浙"),t=t.replaceAll("𣵀","涅"),t=t.replaceAll("㳃","淬"),t=t.replaceAll("㴞","滔"),t=t.replaceAll("霶","滂"),t=t.replaceAll("涁","滲"),t=t.replaceAll("渗","滲"),t=t.replaceAll("澘","潸"),t=t.replaceAll("泻","瀉"),t=t.replaceAll("沪","濾"),t=t.replaceAll("烱","炯"),t=t.replaceAll("熢","烽"),t=t.replaceAll("熈","煕"),t=t.replaceAll("凞","煕"),t=t.replaceAll("凞","煕"),t=t.replaceAll("焈","煕"),t=t.replaceAll("巸","煕"),t=t.replaceAll("熙","煕"),t=t.replaceAll("㷀","煢"),t=t.replaceAll("焭","煢"),t=t.replaceAll("燻","熏"),t=t.replaceAll("烬","燼"),t=t.replaceAll("丬","爿"),t=t.replaceAll("箋","牋"),t=t.replaceAll("㮍","牋"),t=t.replaceAll("䇳","牋"),t=t.replaceAll("犁","犂"),t=t.replaceAll("㸿","犢"),t=t.replaceAll("豺","犲"),t=t.replaceAll("貉","狢"),t=t.replaceAll("倐","倏"),t=t.replaceAll("儵","倏"),t=t.replaceAll("貎","猊"),t=t.replaceAll("貒","猯"),t=t.replaceAll("貘","獏"),t=t.replaceAll("瑇","玳"),t=t.replaceAll("瑯","琅"),t=t.replaceAll("碯","瑙"),t=t.replaceAll("瑤","瑶"),t=t.replaceAll("琁","瓊"),t=t.replaceAll("珱","瓔"),t=t.replaceAll("瓯","甌"),t=t.replaceAll("畬","畭"),t=t.replaceAll("畲","畭"),t=t.replaceAll("壃","疆"),t=t.replaceAll("畺","疆"),t=t.replaceAll("疅","疆"),t=t.replaceAll("畴","疇"),t=t.replaceAll("肬","疣"),t=t.replaceAll("瘘","瘻"),t=t.replaceAll("癕","癰"),t=t.replaceAll("臃","癰"),t=t.replaceAll("晈","皎"),t=t.replaceAll("晥","皖"),t=t.replaceAll("皹","皸"),t=t.replaceAll("蘯","盪"),t=t.replaceAll("眦","眥"),t=t.replaceAll("𥆩","睨"),t=t.replaceAll("瞪","瞠"),t=t.replaceAll("𥈞","瞞"),t=t.replaceAll("𥇥","瞼"),t=t.replaceAll("瞩","矚"),t=t.replaceAll("墝","磽"),t=t.replaceAll("禩","祀"),t=t.replaceAll("禀","稟"),t=t.replaceAll("㝫","窿"),t=t.replaceAll("𨗉","邃"),t=t.replaceAll("筺","筐"),t=t.replaceAll("笋","筍"),t=t.replaceAll("筝","箏"),t=t.replaceAll("籭","篩"),t=t.replaceAll("𥱋","簗"),t=t.replaceAll("筹","籌"),t=t.replaceAll("簱","籏"),t=t.replaceAll("籘","籐"),t=t.replaceAll("籖","籤"),t=t.replaceAll("秔","粳"),t=t.replaceAll("稉","粳"),t=t.replaceAll("糝","糂"),t=t.replaceAll("纊","絋"),t=t.replaceAll("縧","絛"),t=t.replaceAll("縉","縉"),t=t.replaceAll("緕","纃"),t=t.replaceAll("纘","纉"),t=t.replaceAll("䋝","纓"),t=t.replaceAll("䌫","纜"),t=t.replaceAll("䈇","罩"),t=t.replaceAll("羇","羈"),t=t.replaceAll("覊","羈"),t=t.replaceAll("覉","羈"),t=t.replaceAll("羗","羌"),t=t.replaceAll("羮","羹"),t=t.replaceAll("耊","耋"),t=t.replaceAll("伷","胄"),t=t.replaceAll("肧","胚"),t=t.replaceAll("𦙾","脛"),t=t.replaceAll("腟","膣"),t=t.replaceAll("𧸐","膩"),t=t.replaceAll("脍","膾"),t=t.replaceAll("𦜝","臍"),t=t.replaceAll("臈","臘"),t=t.replaceAll("﨟","臘"),t=t.replaceAll("㫪","舂"),t=t.replaceAll("𣇃","舂"),t=t.replaceAll("䑛","舐"),t=t.replaceAll("艣","艪"),t=t.replaceAll("舮","艫"),t=t.replaceAll("𦫿","艾"),t=t.replaceAll("蒭","芻"),t=t.replaceAll("苢","苡"),t=t.replaceAll("莓","苺"),t=t.replaceAll("荔","茘"),t=t.replaceAll("蒞","莅"),t=t.replaceAll("涖","莅"),t=t.replaceAll("蓱","萍"),t=t.replaceAll("茰","萸"),t=t.replaceAll("蕚","萼"),t=t.replaceAll("蔕","蒂"),t=t.replaceAll("薓","蔘"),t=t.replaceAll("䔥","蕭"),t=t.replaceAll("萕","薺"),t=t.replaceAll("蝨","虱"),t=t.replaceAll("螾","蚓"),t=t.replaceAll("蜙","蚣"),t=t.replaceAll("蚘","蛔"),t=t.replaceAll("蛕","蛔"),t=t.replaceAll("猬","蝟"),t=t.replaceAll("蜋","螂"),t=t.replaceAll("蟆","蟇"),t=t.replaceAll("蝼","螻"),t=t.replaceAll("蟒","蠎"),t=t.replaceAll("蠧","蠹"),t=t.replaceAll("螙","蠹"),t=t.replaceAll("衂","衄"),t=t.replaceAll("袵","衽"),t=t.replaceAll("褁","裹"),t=t.replaceAll("裵","裴"),t=t.replaceAll("㐮","襄"),t=t.replaceAll("褝","襌"),t=t.replaceAll("𧜎","襷"),t=t.replaceAll("覔","覓"),t=t.replaceAll("譌","訛"),t=t.replaceAll("諡","謚"),t=t.replaceAll("𧦅","謳"),t=t.replaceAll("讁","謫"),t=t.replaceAll("譛","譖"),t=t.replaceAll("醼","讌"),t=t.replaceAll("岈","谺"),t=t.replaceAll("豼","貔"),t=t.replaceAll("賍","贓"),t=t.replaceAll("𨂻","蹈"),t=t.replaceAll("𠌫","蹕"),t=t.replaceAll("踌","躊"),t=t.replaceAll("躪","躙"),t=t.replaceAll("躳","躬"),t=t.replaceAll("輙","輒"),t=t.replaceAll("輌","輛"),t=t.replaceAll("輀","轜"),t=t.replaceAll("䡎","轤"),t=t.replaceAll("逈","迥"),t=t.replaceAll("逷","逖"),t=t.replaceAll("逎","遒"),t=t.replaceAll("郄","郤"),t=t.replaceAll("𨥫","鉚"),t=t.replaceAll("𨦇","鋏"),t=t.replaceAll("鏥","銹"),t=t.replaceAll("鏽","銹"),t=t.replaceAll("𨪙","鏘"),t=t.replaceAll("鈩","鑪"),t=t.replaceAll("𨫝","鑵"),t=t.replaceAll("鑚","鑽"),t=t.replaceAll("鬧","閙"),t=t.replaceAll("閆","閻"),t=t.replaceAll("濶","闊"),t=t.replaceAll("𤄃","闊"),t=t.replaceAll("閴","闃"),t=t.replaceAll("徏","陟"),t=t.replaceAll("隯","陦"),t=t.replaceAll("騭","隲"),t=t.replaceAll("𨻫","隴"),t=t.replaceAll("隽","雋"),t=t.replaceAll("雝","雍"),t=t.replaceAll("鵰","雕"),t=t.replaceAll("鞱","韜"),t=t.replaceAll("韲","齏"),t=t.replaceAll("虀","齏"),t=t.replaceAll("𦣝","頤"),t=t.replaceAll("頥","頤"),t=t.replaceAll("飃","飄"),t=t.replaceAll("飈","飆"),t=t.replaceAll("颷","飆"),t=t.replaceAll("飇","飆"),t=t.replaceAll("颮","飆"),t=t.replaceAll("饟","餉"),t=t.replaceAll("䬻","餞"),t=t.replaceAll("𩜙","饒"),t=t.replaceAll("駞","駝"),t=t.replaceAll("驘","騾"),t=t.replaceAll("馿","驢"),t=t.replaceAll("髥","髯"),t=t.replaceAll("鬂","鬢"),t=t.replaceAll("髩","鬢"),t=t.replaceAll("䦰","鬮"),t=t.replaceAll("䰗","鬮"),t=t.replaceAll("魦","鯊"),t=t.replaceAll("鰛","鰮"),t=t.replaceAll("𩻄","鰥"),t=t.replaceAll("鼇","鰲"),t=t.replaceAll("魲","鱸"),t=t.replaceAll("鳬","鳧"),t=t.replaceAll("鵶","鴉"),t=t.replaceAll("鴂","鴃"),t=t.replaceAll("鵄","鴟"),t=t.replaceAll("鵞","鵝"),t=t.replaceAll("鶫","鶇"),t=t.replaceAll("鵾","鶤"),t=t.replaceAll("雚","鸛"),t=t.replaceAll("醎","鹹"),t=t.replaceAll("麤","麁"),t=t.replaceAll("麄","麁"),t=t.replaceAll("麸","麩"),t=t.replaceAll("麬","麩"),t=t.replaceAll("鱉","鼈"),t=t.replaceAll("齓","齔"),t=t.replaceAll("𪗱","齟"),t=t.replaceAll("𪘚","齬"),t=t.replaceAll("腭","齶"),t=t.replaceAll("涂","凃"),t=t.replaceAll("匀","勻"),t=t.replaceAll("壎","塤"),t=t.replaceAll("墪","墩"),t=t.replaceAll("𡉴","壚"),t=t.replaceAll("夔","虁"),t=t.replaceAll("孼","孽"),t=t.replaceAll("尩","尫"),t=t.replaceAll("𡶒","岪"),t=t.replaceAll("岭","岺"),t=t.replaceAll("嵇","嵆"),t=t.replaceAll("𡵸","嶧"),t=t.replaceAll("韘","弽"),t=t.replaceAll("𦿶","彅"),t=t.replaceAll("扡","拖"),t=t.replaceAll("拕","拖"),t=t.replaceAll("𢮦","撿"),t=t.replaceAll("昺","昞"),t=t.replaceAll("𣏓","杇"),t=t.replaceAll("梙","槵"),t=t.replaceAll("槖","橐"),t=t.replaceAll("篙","㰏"),t=t.replaceAll("濚","滎"),t=t.replaceAll("𤂖","灝"),t=t.replaceAll("㶚","灞"),t=t.replaceAll("灔","灎"),t=t.replaceAll("灩","灎"),t=t.replaceAll("牗","牖"),t=t.replaceAll("麞","獐"),t=t.replaceAll("珉","玟"),t=t.replaceAll("玨","珏"),t=t.replaceAll("璿","璇"),t=t.replaceAll("瓚","瓉"),t=t.replaceAll("暭","皞"),t=t.replaceAll("皡","皞"),t=t.replaceAll("碊","𥒎"),t=t.replaceAll("秭","𥝱"),t=t.replaceAll("筇","笻"),t=t.replaceAll("籰","篗"),t=t.replaceAll("㝬","簠"),t=t.replaceAll("𥻘","粼"),t=t.replaceAll("餻","糕"),t=t.replaceAll("綷","紣"),t=t.replaceAll("羐","羑"),t=t.replaceAll("聃","耼"),t=t.replaceAll("髕","臏"),t=t.replaceAll("莕","荇"),t=t.replaceAll("虯","虬"),t=t.replaceAll("彲","螭"),t=t.replaceAll("迆","迤"),t=t.replaceAll("䢵","鄖"),t=t.replaceAll("銿","鏞"),t=t.replaceAll("𨩱","鏟"),t=t.replaceAll("囟","顖"),t=t.replaceAll("飡","飧"),t=t.replaceAll("飱","飧"),t=t.replaceAll("鱔","鱓"),t=t.replaceAll("鸜","鴝"),t=t.replaceAll("鶿","鷀"),t=t.replaceAll("𡑭","𡋗"),t=t.replaceAll("掔","孯"),t=t.replaceAll("䆿","寱"),t=t.replaceAll("幮","㡡"),t=t.replaceAll("捙","拽"),t=t.replaceAll("斵","斲"),t=t.replaceAll("㯍","槳"),t=t.replaceAll("櫽","檃"),t=t.replaceAll("簋","𣪘"),t=t.replaceAll("灇","潨"),t=t.replaceAll("爫","爫"),t=t.replaceAll("豭","猳"),t=t.replaceAll("砆","玞"),t=t.replaceAll("瓺","𤭖"),t=t.replaceAll("畎","甽"),t=t.replaceAll("𤹪","痀"),t=t.replaceAll("㿗","㿉"),t=t.replaceAll("籅","𥫣"),t=t.replaceAll("𩝐","糍"),t=t.replaceAll("饎","糦"),t=t.replaceAll("纑","䋆"),t=t.replaceAll("罡","𦊆"),t=t.replaceAll("艹","艹"),t=t.replaceAll("𧑉","蛗"),t=t.replaceAll("覷","覰"),t=t.replaceAll("觿","觽"),t=t.replaceAll("豅","𧯇"),t=t.replaceAll("頳","赬"),t=t.replaceAll("䠖","趦"),t=t.replaceAll("辶","辶"),t=t.replaceAll("酆","鄷"),t=t.replaceAll("銲","釬"),t=t.replaceAll("𨯁","𨫤"),t=t.replaceAll("𩙿","飠"),t=t.replaceAll("鯘","鮾"),t=t.replaceAll("鱰","鱪"),t=t.replaceAll("㑨","俣"),t=t.replaceAll("㘅","銜"),t=t.replaceAll("啣","銜"),t=t.replaceAll("衘","銜"),t=t.replaceAll("亙","亘"),t=t.replaceAll("亯","享"),t=t.replaceAll("仐","傘"),t=t.replaceAll("僃","備"),t=t.replaceAll("兦","亡"),t=t.replaceAll("冨","富"),t=t.replaceAll("劵","券"),t=t.replaceAll("匜","也"),t=t.replaceAll("厡","原"),t=t.replaceAll("嗜","呩"),t=t.replaceAll("嘊","啀"),t=t.replaceAll("囧","冏"),t=t.replaceAll("夓","夏"),t=t.replaceAll("姊","姉"),t=t.replaceAll("嬝","嫋"),t=t.replaceAll("庽","寓"),t=t.replaceAll("彴","仢"),t=t.replaceAll("徰","征"),t=t.replaceAll("忈","仁"),t=t.replaceAll("怘","固"),t=t.replaceAll("恖","思"),t=t.replaceAll("恧","忸"),t=t.replaceAll("悧","俐"),t=t.replaceAll("憁","愡"),t=t.replaceAll("戧","創"),t=t.replaceAll("抉","刔"),t=t.replaceAll("挐","拏"),t=t.replaceAll("拿","拏"),t=t.replaceAll("揑","捏"),t=t.replaceAll("撘","搭"),t=t.replaceAll("擵","摩"),t=t.replaceAll("昦","昊"),t=t.replaceAll("昬","昏"),t=t.replaceAll("昻","昂"),t=t.replaceAll("晘","旱"),t=t.replaceAll("暻","景"),t=t.replaceAll("曾","曽"),t=t.replaceAll("枖","夭"),t=t.replaceAll("柂","柁"),t=t.replaceAll("柺","枴"),t=t.replaceAll("栅","柵"),t=t.replaceAll("榨","搾"),t=t.replaceAll("樃","榔"),t=t.replaceAll("樷","叢"),t=t.replaceAll("欉","叢"),t=t.replaceAll("藂","叢"),t=t.replaceAll("橊","榴"),t=t.replaceAll("欛","杷"),t=t.replaceAll("𣠽","杷"),t=t.replaceAll("氐","柢"),t=t.replaceAll("沲","沱"),t=t.replaceAll("溂","剌"),t=t.replaceAll("瀧","滝"),t=t.replaceAll("灕","漓"),t=t.replaceAll("熯","暵"),t=t.replaceAll("燈","灯"),t=t.replaceAll("爤","爛"),t=t.replaceAll("猂","悍"),t=t.replaceAll("獘","弊"),t=t.replaceAll("瓌","瑰"),t=t.replaceAll("甆","瓷"),t=t.replaceAll("癅","瘤"),t=t.replaceAll("矙","瞰"),t=t.replaceAll("秌","秋"),t=t.replaceAll("窶","寠"),t=t.replaceAll("竆","窮"),t=t.replaceAll("箟","箘"),t=t.replaceAll("箲","筅"),t=t.replaceAll("篇","編"),t=t.replaceAll("籒","籀"),t=t.replaceAll("糉","粽"),t=t.replaceAll("綂","統"),t=t.replaceAll("綗","絅"),t=t.replaceAll("繿","襤"),t=t.replaceAll("罓","网"),t=t.replaceAll("翦","剪"),t=t.replaceAll("脗","吻"),t=t.replaceAll("艢","檣"),t=t.replaceAll("芔","卉"),t=t.replaceAll("苅","刈"),t=t.replaceAll("荆","荊"),t=t.replaceAll("莾","莽"),t=t.replaceAll("蔞","縷"),t=t.replaceAll("蕐","華"),t=t.replaceAll("薶","埋"),t=t.replaceAll("蜄","蜃"),t=t.replaceAll("蜯","蚌"),t=t.replaceAll("蜹","蚋"),t=t.replaceAll("蠭","蜂"),t=t.replaceAll("衖","巷"),t=t.replaceAll("覩","睹"),t=t.replaceAll("訫","信"),t=t.replaceAll("詆","呧"),t=t.replaceAll("誡","戒"),t=t.replaceAll("諌","諫"),t=t.replaceAll("諵","喃"),t=t.replaceAll("謌","歌"),t=t.replaceAll("譼","監"),t=t.replaceAll("賬","帳"),t=t.replaceAll("贁","敗"),t=t.replaceAll("贗","贋"),t=t.replaceAll("趂","趁"),t=t.replaceAll("蹏","蹄"),t=t.replaceAll("蹯","籵"),t=t.replaceAll("躭","耽"),t=t.replaceAll("輺","輜"),t=t.replaceAll("轝","輿"),t=t.replaceAll("逬","迸"),t=t.replaceAll("逯","逮"),t=t.replaceAll("醆","盞"),t=t.replaceAll("鈾","宙"),t=t.replaceAll("錯","厝"),t=t.replaceAll("鍿","錙"),t=t.replaceAll("阱","穽"),t=t.replaceAll("陗","峭"),t=t.replaceAll("隁","堰"),t=t.replaceAll("隖","塢"),t=t.replaceAll("隟","隙"),t=t.replaceAll("隮","躋"),t=t.replaceAll("靃","霍"),t=t.replaceAll("靣","面"),t=t.replaceAll("鞵","鞋"),t=t.replaceAll("韤","襪"),t=t.replaceAll("餧","餒"),t=t.replaceAll("髗","顱"),t=t.replaceAll("髳","髦"),t=t.replaceAll("鬀","剃"),t=t.replaceAll("鬄","髢"),t=t.replaceAll("鰀","鯇"),t=t.replaceAll("鶪","鵙"),t=t.replaceAll("鷏","鷆"),t=t.replaceAll("龍","竜"),t=t.replaceAll("𢈘","鹿"),t=t.replaceAll("𦥑","臼"),t=t.replaceAll("蘒","萩"),t=t.replaceAll("祢","禰"),t=t.replaceAll("薗","園"),t=t.replaceAll("峯","峰"),t=t.replaceAll("羽","羽"),t=t.replaceAll("銳","鋭"),t=t.replaceAll("益","益"),t=t.replaceAll("悅","悦"),t=t.replaceAll("閱","閲"),t=t.replaceAll("閒","間"),t=t.replaceAll("館","館"),t=t.replaceAll("强","強"),t=t.replaceAll("敎","教"),t=t.replaceAll("契","契"),t=t.replaceAll("戶","戸"),t=t.replaceAll("吳","呉"),t=t.replaceAll("娛","娯"),t=t.replaceAll("歲","歳"),t=t.replaceAll("產","産"),t=t.replaceAll("飼","飼"),t=t.replaceAll("尙","尚"),t=t.replaceAll("淸","清"),t=t.replaceAll("精","精"),t=t.replaceAll("靑","青"),t=t.replaceAll("稅","税"),t=t.replaceAll("說","説"),t=t.replaceAll("絕","絶"),t=t.replaceAll("脫","脱"),t=t.replaceAll("彥","彦"),t=t.replaceAll("姬","姫"),t=t.replaceAll("廉","廉"),t=t.replaceAll("髙","高"),t=t.replaceAll("ｰ","ー"),t=t.replaceAll("0","０"),t=t.replaceAll("1","１"),t=t.replaceAll("1.","１"),t=t.replaceAll("2","２"),t=t.replaceAll("2.","２"),t=t.replaceAll("3","３"),t=t.replaceAll("3.","３"),t=t.replaceAll("4","４"),t=t.replaceAll("4.","４"),t=t.replaceAll("5","５"),t=t.replaceAll("5.","５"),t=t.replaceAll("6","６"),t=t.replaceAll("6.","６"),t=t.replaceAll("7","７"),t=t.replaceAll("7.","７"),t=t.replaceAll("8","８"),t=t.replaceAll("8.","８"),t=t.replaceAll("9","９"),t=t.replaceAll("9.","９"),t=t.replaceAll("A","Ａ"),t=t.replaceAll("B","Ｂ"),t=t.replaceAll("C","Ｃ"),t=t.replaceAll("D","Ｄ"),t=t.replaceAll("E","Ｅ"),t=t.replaceAll("F","Ｆ"),t=t.replaceAll("G","Ｇ"),t=t.replaceAll("H","Ｈ"),t=t.replaceAll("I","Ｉ"),t=t.replaceAll("J","Ｊ"),t=t.replaceAll("K","Ｋ"),t=t.replaceAll("L","Ｌ"),t=t.replaceAll("M","Ｍ"),t=t.replaceAll("N","Ｎ"),t=t.replaceAll("O","Ｏ"),t=t.replaceAll("P","Ｐ"),t=t.replaceAll("Q","Ｑ"),t=t.replaceAll("R","Ｒ"),t=t.replaceAll("S","Ｓ"),t=t.replaceAll("T","Ｔ"),t=t.replaceAll("U","Ｕ"),t=t.replaceAll("V","Ｖ"),t=t.replaceAll("W","Ｗ"),t=t.replaceAll("X","Ｘ"),t=t.replaceAll("Y","Ｙ"),t=t.replaceAll("Z","Ｚ"),t=t.replaceAll("a","Ａ"),t=t.replaceAll("b","Ｂ"),t=t.replaceAll("c","Ｃ"),t=t.replaceAll("d","Ｄ"),t=t.replaceAll("e","Ｅ"),t=t.replaceAll("f","Ｆ"),t=t.replaceAll("g","Ｇ"),t=t.replaceAll("h","Ｈ"),t=t.replaceAll("i","Ｉ"),t=t.replaceAll("j","Ｊ"),t=t.replaceAll("k","Ｋ"),t=t.replaceAll("l","Ｌ"),t=t.replaceAll("m","Ｍ"),t=t.replaceAll("n","Ｎ"),t=t.replaceAll("o","Ｏ"),t=t.replaceAll("p","Ｐ"),t=t.replaceAll("q","Ｑ"),t=t.replaceAll("r","Ｒ"),t=t.replaceAll("s","Ｓ"),t=t.replaceAll("t","Ｔ"),t=t.replaceAll("u","Ｕ"),t=t.replaceAll("v","Ｖ"),t=t.replaceAll("w","Ｗ"),t=t.replaceAll("x","Ｘ"),t=t.replaceAll("y","Ｙ"),t=t.replaceAll("z","Ｚ"),t=t.replaceAll("À","Ａ"),t=t.replaceAll("Á","Ａ"),t=t.replaceAll("Â","Ａ"),t=t.replaceAll("Ã","Ａ"),t=t.replaceAll("Ä","Ａ"),t=t.replaceAll("Å","Ａ"),t=t.replaceAll("Æ","ＡＥ"),t=t.replaceAll("Ç","Ｃ"),t=t.replaceAll("È","Ｅ"),t=t.replaceAll("É","Ｅ"),t=t.replaceAll("Ê","Ｅ"),t=t.replaceAll("Ì","Ｉ"),t=t.replaceAll("Í","Ｉ"),t=t.replaceAll("Î","Ｉ"),t=t.replaceAll("Ï","Ｉ"),t=t.replaceAll("Ñ","Ｎ"),t=t.replaceAll("Ò","Ｏ"),t=t.replaceAll("Ó","Ｏ"),t=t.replaceAll("Ô","Ｏ"),t=t.replaceAll("Õ","Ｏ"),t=t.replaceAll("Ö","Ｏ"),t=t.replaceAll("Ø","Ｏ"),t=t.replaceAll("Ù","Ｕ"),t=t.replaceAll("Ú","Ｕ"),t=t.replaceAll("Û","Ｕ"),t=t.replaceAll("Ü","Ｕ"),t=t.replaceAll("Ý","Ｙ"),t=t.replaceAll("ß","ＳＳ"),t=t.replaceAll("à","Ａ"),t=t.replaceAll("á","Ａ"),t=t.replaceAll("â","Ａ"),t=t.replaceAll("ã","Ａ"),t=t.replaceAll("ä","Ａ"),t=t.replaceAll("å","Ａ"),t=t.replaceAll("æ","ＡＥ"),t=t.replaceAll("ç","Ｃ"),t=t.replaceAll("è","Ｅ"),t=t.replaceAll("é","Ｅ"),t=t.replaceAll("ê","Ｅ"),t=t.replaceAll("ì","Ｉ"),t=t.replaceAll("í","Ｉ"),t=t.replaceAll("î","Ｉ"),t=t.replaceAll("ï","Ｉ"),t=t.replaceAll("ñ","Ｎ"),t=t.replaceAll("ò","Ｏ"),t=t.replaceAll("ó","Ｏ"),t=t.replaceAll("ô","Ｏ"),t=t.replaceAll("õ","Ｏ"),t=t.replaceAll("ö","Ｏ"),t=t.replaceAll("ø","Ｏ"),t=t.replaceAll("ù","Ｕ"),t=t.replaceAll("ú","Ｕ"),t=t.replaceAll("û","Ｕ"),t=t.replaceAll("ü","Ｕ"),t=t.replaceAll("ý","Ｙ"),t=t.replaceAll("ÿ","Ｙ"),t=t.replaceAll("Ā","Ａ"),t=t.replaceAll("ā","Ａ"),t=t.replaceAll("Ă","Ａ"),t=t.replaceAll("ă","Ａ"),t=t.replaceAll("Ć","Ｃ"),t=t.replaceAll("ć","Ｃ"),t=t.replaceAll("Ĉ","Ｃ"),t=t.replaceAll("ĉ","Ｃ"),t=t.replaceAll("Ċ","Ｃ"),t=t.replaceAll("ċ","Ｃ"),t=t.replaceAll("Č","Ｃ"),t=t.replaceAll("č","Ｃ"),t=t.replaceAll("Ď","Ｄ"),t=t.replaceAll("ď","Ｄ"),t=t.replaceAll("Ē","Ｅ"),t=t.replaceAll("ē","Ｅ"),t=t.replaceAll("ĕ","Ｅ"),t=t.replaceAll("Ė","Ｅ"),t=t.replaceAll("ė","Ｅ"),t=t.replaceAll("ę","Ｅ"),t=t.replaceAll("Ě","Ｅ"),t=t.replaceAll("ě","Ｅ"),t=t.replaceAll("Ĝ","Ｇ"),t=t.replaceAll("ĝ","Ｇ"),t=t.replaceAll("Ğ","Ｇ"),t=t.replaceAll("ğ","Ｇ"),t=t.replaceAll("Ġ","Ｇ"),t=t.replaceAll("ġ","Ｇ"),t=t.replaceAll("Ĥ","Ｈ"),t=t.replaceAll("ĥ","Ｈ"),t=t.replaceAll("Ĩ","Ｉ"),t=t.replaceAll("ĩ","Ｉ"),t=t.replaceAll("Ī","Ｉ"),t=t.replaceAll("ī","Ｉ"),t=t.replaceAll("Ĭ","Ｉ"),t=t.replaceAll("ĭ","Ｉ"),t=t.replaceAll("İ","Ｉ"),t=t.replaceAll("ı","Ｉ"),t=t.replaceAll("Ĵ","Ｊ"),t=t.replaceAll("ĵ","Ｊ"),t=t.replaceAll("Ĺ","Ｌ"),t=t.replaceAll("ĺ","Ｌ"),t=t.replaceAll("Ľ","Ｌ"),t=t.replaceAll("ľ","Ｌ"),t=t.replaceAll("ł","Ｌ"),t=t.replaceAll("Ń","Ｎ"),t=t.replaceAll("ń","Ｎ"),t=t.replaceAll("Ň","Ｎ"),t=t.replaceAll("ň","Ｎ"),t=t.replaceAll("Ō","Ｏ"),t=t.replaceAll("ō","Ｏ"),t=t.replaceAll("Ŏ","Ｏ"),t=t.replaceAll("ŏ","Ｏ"),t=t.replaceAll("Œ","ＯＥ"),t=t.replaceAll("œ","ＯＥ"),t=t.replaceAll("Ŕ","Ｒ"),t=t.replaceAll("ŕ","Ｒ"),t=t.replaceAll("Ř","Ｒ"),t=t.replaceAll("ř","Ｒ"),t=t.replaceAll("Ś","Ｓ"),t=t.replaceAll("ś","Ｓ"),t=t.replaceAll("Ŝ","Ｓ"),t=t.replaceAll("ŝ","Ｓ"),t=t.replaceAll("ş","Ｓ"),t=t.replaceAll("Š","Ｓ"),t=t.replaceAll("š","Ｓ"),t=t.replaceAll("Ť","Ｔ"),t=t.replaceAll("ť","Ｔ"),t=t.replaceAll("Ũ","Ｕ"),t=t.replaceAll("ũ","Ｕ"),t=t.replaceAll("Ū","Ｕ"),t=t.replaceAll("ū","Ｕ"),t=t.replaceAll("Ŭ","Ｕ"),t=t.replaceAll("ŭ","Ｕ"),t=t.replaceAll("ů","Ｕ"),t=t.replaceAll("Ŵ","Ｗ"),t=t.replaceAll("ŵ","Ｗ"),t=t.replaceAll("Ŷ","Ｙ"),t=t.replaceAll("ŷ","Ｙ"),t=t.replaceAll("Ÿ","Ｙ"),t=t.replaceAll("Ź","Ｚ"),t=t.replaceAll("ź","Ｚ"),t=t.replaceAll("Ż","Ｚ"),t=t.replaceAll("ż","Ｚ"),t=t.replaceAll("Ž","Ｚ"),t=t.replaceAll("ž","Ｚ"),t=t.replaceAll("ǧ","Ｇ"),t=t.replaceAll("Ǵ","Ｇ"),t=t.replaceAll("ǵ","Ｇ"),t=t.replaceAll("Ё","Ｅ"),t=t.replaceAll("А","Ａ"),t=t.replaceAll("Б","Ｂ"),t=t.replaceAll("В","Ｖ"),t=t.replaceAll("Г","Ｇ"),t=t.replaceAll("Д","Ｄ"),t=t.replaceAll("Е","Ｅ"),t=t.replaceAll("Ж","ＺＨ"),t=t.replaceAll("З","Ｚ"),t=t.replaceAll("И","Ｉ"),t=t.replaceAll("Й","Ｉ"),t=t.replaceAll("К","Ｋ"),t=t.replaceAll("Л","Ｌ"),t=t.replaceAll("М","Ｍ"),t=t.replaceAll("Н","Ｎ"),t=t.replaceAll("О","Ｏ"),t=t.replaceAll("П","Ｐ"),t=t.replaceAll("Р","Ｒ"),t=t.replaceAll("С","Ｓ"),t=t.replaceAll("Т","Ｔ"),t=t.replaceAll("У","Ｕ"),t=t.replaceAll("Ф","Ｆ"),t=t.replaceAll("Х","ＫＨ"),t=t.replaceAll("Ц","ＴＳ"),t=t.replaceAll("Ч","ＣＨ"),t=t.replaceAll("Ш","ＳＨ"),t=t.replaceAll("Щ","ＳＨＣＨ"),t=t.replaceAll("Ы","Ｙ"),t=t.replaceAll("Э","Ｅ"),t=t.replaceAll("Ю","ＩＵ"),t=t.replaceAll("Я","ＩＡ"),t=t.replaceAll("а","Ａ"),t=t.replaceAll("б","Ｂ"),t=t.replaceAll("в","Ｖ"),t=t.replaceAll("г","Ｇ"),t=t.replaceAll("д","Ｄ"),t=t.replaceAll("е","Ｅ"),t=t.replaceAll("ж","ＺＨ"),t=t.replaceAll("з","Ｚ"),t=t.replaceAll("и","Ｉ"),t=t.replaceAll("й","Ｉ"),t=t.replaceAll("к","Ｋ"),t=t.replaceAll("л","Ｌ"),t=t.replaceAll("м","Ｍ"),t=t.replaceAll("н","Ｎ"),t=t.replaceAll("о","Ｏ"),t=t.replaceAll("п","Ｐ"),t=t.replaceAll("р","Ｒ"),t=t.replaceAll("с","Ｓ"),t=t.replaceAll("т","Ｔ"),t=t.replaceAll("у","ｕ"),t=t.replaceAll("ф","Ｆ"),t=t.replaceAll("х","ＫＨ"),t=t.replaceAll("ц","ＴＳ"),t=t.replaceAll("ч","ＣＨ"),t=t.replaceAll("ш","ＳＨ"),t=t.replaceAll("щ","ＳＨＣＨ"),t=t.replaceAll("ы","ｙ"),t=t.replaceAll("э","Ｅ"),t=t.replaceAll("ю","ＩＵ"),t=t.replaceAll("я","ＩＡ"),t=t.replaceAll("ё","Ｅ"),t=t.replaceAll("Ḃ","Ｂ"),t=t.replaceAll("ḃ","Ｂ"),t=t.replaceAll("Ḋ","Ｄ"),t=t.replaceAll("ḋ","Ｄ"),t=t.replaceAll("Ḟ","Ｆ"),t=t.replaceAll("ḟ","Ｆ"),t=t.replaceAll("Ḡ","Ｇ"),t=t.replaceAll("ḡ","Ｇ"),t=t.replaceAll("Ḣ","Ｈ"),t=t.replaceAll("ḣ","Ｈ"),t=t.replaceAll("ḥ","Ｈ"),t=t.replaceAll("Ḧ","Ｈ"),t=t.replaceAll("ḧ","Ｈ"),t=t.replaceAll("Ḱ","Ｋ"),t=t.replaceAll("ḱ","Ｋ"),t=t.replaceAll("Ḿ","Ｍ"),t=t.replaceAll("ḿ","Ｍ"),t=t.replaceAll("Ṁ","Ｍ"),t=t.replaceAll("ṁ","Ｍ"),t=t.replaceAll("Ṅ","Ｎ"),t=t.replaceAll("ṅ","Ｎ"),t=t.replaceAll("ṇ","Ｎ"),t=t.replaceAll("Ṕ","Ｐ"),t=t.replaceAll("ṕ","Ｐ"),t=t.replaceAll("Ṗ","Ｐ"),t=t.replaceAll("ṗ","Ｐ"),t=t.replaceAll("Ṙ","Ｒ"),t=t.replaceAll("ṙ","Ｒ"),t=t.replaceAll("ṛ","Ｒ"),t=t.replaceAll("Ṡ","Ｓ"),t=t.replaceAll("ṡ","Ｓ"),t=t.replaceAll("ṣ","Ｓ"),t=t.replaceAll("Ṫ","Ｔ"),t=t.replaceAll("ṫ","Ｔ"),t=t.replaceAll("ṭ","Ｔ"),t=t.replaceAll("Ṽ","Ｖ"),t=t.replaceAll("ṽ","Ｖ"),t=t.replaceAll("Ẁ","Ｗ"),t=t.replaceAll("ẁ","Ｗ"),t=t.replaceAll("Ẃ","Ｗ"),t=t.replaceAll("ẃ","Ｗ"),t=t.replaceAll("Ẅ","Ｗ"),t=t.replaceAll("ẅ","Ｗ"),t=t.replaceAll("Ẇ","Ｗ"),t=t.replaceAll("ẇ","Ｗ"),t=t.replaceAll("Ẋ","Ｘ"),t=t.replaceAll("ẋ","Ｘ"),t=t.replaceAll("Ẍ","Ｘ"),t=t.replaceAll("ẍ","Ｘ"),t=t.replaceAll("Ẏ","Ｙ"),t=t.replaceAll("ẏ","Ｙ"),t=t.replaceAll("Ẑ","Ｚ"),t=t.replaceAll("ẑ","Ｚ"),t=t.replaceAll("ẓ","Ｚ"),t=t.replaceAll("ẗ","Ｔ"),t=t.replaceAll("Ẽ","Ｅ"),t=t.replaceAll("ẽ","Ｅ"),t=t.replaceAll("Ỳ","Ｙ"),t=t.replaceAll("ỳ","Ｙ"),t=t.replaceAll("Ỹ","Ｙ"),t=t.replaceAll("ỹ","Ｙ"),t=t.replaceAll("№","ＮＯ"),t=t.replaceAll("Ⅰ","１"),t=t.replaceAll("Ⅱ","２"),t=t.replaceAll("Ⅲ","３"),t=t.replaceAll("Ⅳ","４"),t=t.replaceAll("Ⅴ","５"),t=t.replaceAll("Ⅵ","６"),t=t.replaceAll("Ⅶ","７"),t=t.replaceAll("Ⅷ","８"),t=t.replaceAll("Ⅸ","９"),t=t.replaceAll("Ⅹ","１０"),t=t.replaceAll("ⅰ","１"),t=t.replaceAll("ⅱ","２"),t=t.replaceAll("ⅲ","３"),t=t.replaceAll("ⅳ","４"),t=t.replaceAll("ⅴ","５"),t=t.replaceAll("ⅵ","６"),t=t.replaceAll("ⅶ","７"),t=t.replaceAll("ⅷ","８"),t=t.replaceAll("ⅸ","９"),t=t.replaceAll("ⅹ","１０"),t=t.replaceAll("①","１"),t=t.replaceAll("②","２"),t=t.replaceAll("③","３"),t=t.replaceAll("④","４"),t=t.replaceAll("⑤","５"),t=t.replaceAll("⑥","６"),t=t.replaceAll("⑦","７"),t=t.replaceAll("⑧","８"),t=t.replaceAll("⑨","９"),t=t.replaceAll("⑩","１０"),t=t.replaceAll("⑪","１１"),t=t.replaceAll("⑫","１２"),t=t.replaceAll("⑬","１３"),t=t.replaceAll("⑭","１４"),t=t.replaceAll("⑮","１５"),t=t.replaceAll("⑯","１６"),t=t.replaceAll("⑰","１７"),t=t.replaceAll("⑱","１８"),t=t.replaceAll("⑲","１９"),t=t.replaceAll("⑳","２０"),t=t.replaceAll("Ⓟ","Ｐ"),t=t.replaceAll("ぁ","ア"),t=t.replaceAll("ぃ","イ"),t=t.replaceAll("ぅ","ウ"),t=t.replaceAll("ぇ","エ"),t=t.replaceAll("ぉ","オ"),t=t.replaceAll("っ","ツ"),t=t.replaceAll("ゃ","ヤ"),t=t.replaceAll("ゅ","ユ"),t=t.replaceAll("ょ","ヨ"),t=t.replaceAll("ゎ","ワ"),t=t.replaceAll("ゐ","イ"),t=t.replaceAll("ゑ","エ"),t=t.replaceAll("ァ","ア"),t=t.replaceAll("ィ","イ"),t=t.replaceAll("ゥ","ウ"),t=t.replaceAll("ェ","エ"),t=t.replaceAll("ォ","オ"),t=t.replaceAll("ヂ","ジ"),t=t.replaceAll("ッ","ツ"),t=t.replaceAll("ヅ","ズ"),t=t.replaceAll("ャ","ヤ"),t=t.replaceAll("ュ","ユ"),t=t.replaceAll("ョ","ヨ"),t=t.replaceAll("ヰ","イ"),t=t.replaceAll("ヱ","エ"),t=t.replaceAll("ヴ","ブ"),t=t.replaceAll("ヴァ","バ"),t=t.replaceAll("ヴィ","ビ"),t=t.replaceAll("ヴゥ","ブ"),t=t.replaceAll("ヴェ","ベ"),t=t.replaceAll("ヴォ","ボ"),t=t.replaceAll("ヵ","カ"),t=t.replaceAll("ヶ","ケ"),t=t.replaceAll("㈱","株"),t=t.replaceAll("㊙","秘"),t=t.replaceAll("㎏","ＫＧ"),t=t.replaceAll("㎝","ＣＭ"),t=t.replaceAll("㎞","ＫＭ"),t=t.replaceAll("㎡","Ｍ２"),t=t.replaceAll("ａ","Ａ"),t=t.replaceAll("ｂ","Ｂ"),t=t.replaceAll("ｃ","Ｃ"),t=t.replaceAll("ｄ","Ｄ"),t=t.replaceAll("ｅ","Ｅ"),t=t.replaceAll("ｆ","Ｆ"),t=t.replaceAll("ｇ","Ｇ"),t=t.replaceAll("ｈ","Ｈ"),t=t.replaceAll("ｉ","Ｉ"),t=t.replaceAll("ｊ","Ｊ"),t=t.replaceAll("ｋ","Ｋ"),t=t.replaceAll("ｌ","Ｌ"),t=t.replaceAll("ｍ","Ｍ"),t=t.replaceAll("ｎ","Ｎ"),t=t.replaceAll("ｏ","Ｏ"),t=t.replaceAll("ｐ","Ｐ"),t=t.replaceAll("ｑ","Ｑ"),t=t.replaceAll("ｒ","Ｒ"),t=t.replaceAll("ｓ","Ｓ"),t=t.replaceAll("ｔ","Ｔ"),t=t.replaceAll("ｕ","Ｕ"),t=t.replaceAll("ｖ","Ｖ"),t=t.replaceAll("ｗ","Ｗ"),t=t.replaceAll("ｘ","Ｘ"),t=t.replaceAll("ｙ","Ｙ"),t=t.replaceAll("ｚ","Ｚ"),t=t.replaceAll("ｦ","ヲ"),t=t.replaceAll("ｧ","ア"),t=t.replaceAll("ｨ","イ"),t=t.replaceAll("ｩ","ウ"),t=t.replaceAll("ｪ","エ"),t=t.replaceAll("ｫ","オ"),t=t.replaceAll("ｬ","ヤ"),t=t.replaceAll("ｭ","ユ"),t=t.replaceAll("ｮ","ヨ"),t=t.replaceAll("ｯ","ツ"),t=t.replaceAll("ｱ","ア"),t=t.replaceAll("ｲ","イ"),t=t.replaceAll("ｳ","ウ"),t=t.replaceAll("ｳﾞ","ブ"),t=t.replaceAll("ｳﾞｧ","バ"),t=t.replaceAll("ｳﾞｨ","ビ"),t=t.replaceAll("ｳﾞｩ","ブ"),t=t.replaceAll("ｳﾞｪ","ベ"),t=t.replaceAll("ｳﾞｫ","ボ"),t=t.replaceAll("ｴ","エ"),t=t.replaceAll("ｵ","オ"),t=t.replaceAll("ｶ","カ"),t=t.replaceAll("ｶﾞ","ガ"),t=t.replaceAll("ｷ","キ"),t=t.replaceAll("ｷﾞ","ギ"),t=t.replaceAll("ｸ","ク"),t=t.replaceAll("ｸﾞ","グ"),t=t.replaceAll("ｹ","ケ"),t=t.replaceAll("ｹﾞ","ゲ"),t=t.replaceAll("ｺ","コ"),t=t.replaceAll("ｺﾞ","ゴ"),t=t.replaceAll("ｻ","サ"),t=t.replaceAll("ｻﾞ","ザ"),t=t.replaceAll("ｼ","シ"),t=t.replaceAll("ｼﾞ","ジ"),t=t.replaceAll("ｽ","ス"),t=t.replaceAll("ｽﾞ","ズ"),t=t.replaceAll("ｾ","セ"),t=t.replaceAll("ｾﾞ","ゼ"),t=t.replaceAll("ｿ","ソ"),t=t.replaceAll("ｿﾞ","ゾ"),t=t.replaceAll("ﾀ","タ"),t=t.replaceAll("ﾀﾞ","ダ"),t=t.replaceAll("ﾁ","チ"),t=t.replaceAll("ﾁﾞ","ジ"),t=t.replaceAll("ﾂ","ツ"),t=t.replaceAll("ﾂﾞ","ズ"),t=t.replaceAll("ﾃ","テ"),t=t.replaceAll("ﾃﾞ","デ"),t=t.replaceAll("ﾄ","ト"),t=t.replaceAll("ﾄﾞ","ド"),t=t.replaceAll("ﾅ","ナ"),t=t.replaceAll("ﾆ","ニ"),t=t.replaceAll("ﾇ","ヌ"),t=t.replaceAll("ﾈ","ネ"),t=t.replaceAll("ﾉ","ノ"),t=t.replaceAll("ﾊ","ハ"),t=t.replaceAll("ﾊﾞ","バ"),t=t.replaceAll("ﾊﾟ","パ"),t=t.replaceAll("ﾋ","ヒ"),t=t.replaceAll("ﾋﾞ","ビ"),t=t.replaceAll("ﾋﾟ","ピ"),t=t.replaceAll("ﾌ","フ"),t=t.replaceAll("ﾌﾞ","ブ"),t=t.replaceAll("ﾌﾟ","プ"),t=t.replaceAll("ﾍ","ヘ"),t=t.replaceAll("ﾍﾞ","ベ"),t=t.replaceAll("ﾍﾟ","ペ"),t=t.replaceAll("ﾎ","ホ"),t=t.replaceAll("ﾎﾞ","ボ"),t=t.replaceAll("ﾎﾟ","ポ"),t=t.replaceAll("ﾏ","マ"),t=t.replaceAll("ﾐ","ミ"),t=t.replaceAll("ﾑ","ム"),t=t.replaceAll("ﾒ","メ"),t=t.replaceAll("ﾓ","モ"),t=t.replaceAll("ﾔ","ヤ"),t=t.replaceAll("ﾕ","ユ"),t=t.replaceAll("ﾖ","ヨ"),t=t.replaceAll("ﾗ","ラ"),t=t.replaceAll("ﾘ","リ"),t=t.replaceAll("ﾙ","ル"),t=t.replaceAll("ﾚ","レ"),t=t.replaceAll("ﾛ","ロ"),t=t.replaceAll("ﾜ","ワ"),t=t.replaceAll("ﾝ","ン"),t=t.replaceAll("新撰組","新選組"),t=t.replaceAll("Ⅺ","１１"),t=t.replaceAll("Ⅻ","１２"),t=t.replaceAll("㋿","令和"),t=t.replaceAll("ⅺ","１１"),t=t.replaceAll("ⅻ","１２"),t=t.replaceAll("あ","ア"),t=t.replaceAll("い","イ"),t=t.replaceAll("う","ウ"),t=t.replaceAll("え","エ"),t=t.replaceAll("お","オ"),t=t.replaceAll("か","カ"),t=t.replaceAll("が","ガ"),t=t.replaceAll("き","キ"),t=t.replaceAll("ぎ","ギ"),t=t.replaceAll("く","ク"),t=t.replaceAll("ぐ","グ"),t=t.replaceAll("け","ケ"),t=t.replaceAll("げ","ゲ"),t=t.replaceAll("こ","コ"),t=t.replaceAll("ご","ゴ"),t=t.replaceAll("さ","サ"),t=t.replaceAll("ざ","ザ"),t=t.replaceAll("し","シ"),t=t.replaceAll("じ","ジ"),t=t.replaceAll("す","ス"),t=t.replaceAll("ず","ズ"),t=t.replaceAll("せ","セ"),t=t.replaceAll("ぜ","ゼ"),t=t.replaceAll("そ","ソ"),t=t.replaceAll("ぞ","ゾ"),t=t.replaceAll("た","タ"),t=t.replaceAll("だ","ダ"),t=t.replaceAll("ち","チ"),t=t.replaceAll("ぢ","ジ"),t=t.replaceAll("つ","ツ"),t=t.replaceAll("づ","ズ"),t=t.replaceAll("て","テ"),t=t.replaceAll("で","デ"),t=t.replaceAll("と","ト"),t=t.replaceAll("ど","ド"),t=t.replaceAll("な","ナ"),t=t.replaceAll("に","ニ"),t=t.replaceAll("ぬ","ヌ"),t=t.replaceAll("ね","ネ"),t=t.replaceAll("の","ノ"),t=t.replaceAll("は","ハ"),t=t.replaceAll("ば","バ"),t=t.replaceAll("ぱ","パ"),t=t.replaceAll("ひ","ヒ"),t=t.replaceAll("び","ビ"),t=t.replaceAll("ぴ","ピ"),t=t.replaceAll("ふ","フ"),t=t.replaceAll("ぶ","ブ"),t=t.replaceAll("ぷ","プ"),t=t.replaceAll("へ","ヘ"),t=t.replaceAll("べ","ベ"),t=t.replaceAll("ぺ","ペ"),t=t.replaceAll("ほ","ホ"),t=t.replaceAll("ぼ","ボ"),t=t.replaceAll("ぽ","ポ"),t=t.replaceAll("ま","マ"),t=t.replaceAll("み","ミ"),t=t.replaceAll("む","ム"),t=t.replaceAll("め","メ"),t=t.replaceAll("も","モ"),t=t.replaceAll("や","ヤ"),t=t.replaceAll("ゆ","ユ"),t=t.replaceAll("よ","ヨ"),t=t.replaceAll("ら","ラ"),t=t.replaceAll("り","リ"),t=t.replaceAll("る","ル"),t=t.replaceAll("れ","レ"),t=t.replaceAll("ろ","ロ"),t=t.replaceAll("わ","ワ"),t=t.replaceAll("を","ヲ"),t=t.replaceAll("ん","ン"),t=t.replaceAll("ゔ","ブ"),t=t.replaceAll("ゕ","カ"),t=t.replaceAll("ゖ","ケ"),t=t.replaceAll("ヷ","ワ"),t=t.replaceAll("ヸ","イ"),t=t.replaceAll("ヹ","エ"),t=t.replaceAll("ヺ","ヲ"),t=t.replaceAll("ㇰ","ク"),t=t.replaceAll("ㇱ","シ"),t=t.replaceAll("ㇲ","ス"),t=t.replaceAll("ㇳ","ト"),t=t.replaceAll("ㇴ","ヌ"),t=t.replaceAll("ㇵ","ハ"),t=t.replaceAll("ㇶ","ヒ"),t=t.replaceAll("ㇷ","フ"),t=t.replaceAll("ㇸ","ヘ"),t=t.replaceAll("ㇹ","ホ"),t=t.replaceAll("ㇺ","ム"),t=t.replaceAll("ㇻ","ラ"),t=t.replaceAll("ㇼ","リ"),t=t.replaceAll("ㇽ","ル"),t=t.replaceAll("ㇾ","レ"),t=t.replaceAll("ㇿ","ロ"),t=t.replaceAll("ゔぁ","バ"),t=t.replaceAll("ゔぃ","ビ"),t=t.replaceAll("ゔぅ","ブ"),t=t.replaceAll("ゔぇ","ベ"),t=t.replaceAll("ゔぉ","ボ"),t=t.replaceAll("　"," "),t=t.replace(/ +/g," "),t=t.trim(),t}}},ip=r(1241);const op=(0,ip.A)(np,[["render",ka]]);var lp=op,ap={name:"App",components:{osd:lp}};const sp=(0,ip.A)(ap,[["render",sa]]);var cp=sp;const up=Hl(cp);up.use(aa,{}),up.mount("#app")}()})();
//# sourceMappingURL=app.js.map