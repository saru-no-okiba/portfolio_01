(function(){var e={34:function(e,t,r){"use strict";var n=r(4901);e.exports=function(e){return"object"==typeof e?null!==e:n(e)}},81:function(e,t,r){"use strict";var n=r(9565),i=r(9306),l=r(8551),o=r(6823),a=r(851),s=TypeError;e.exports=function(e,t){var r=arguments.length<2?a(e):t;if(i(r))return l(n(r,e));throw new s(o(e)+" is not iterable")}},116:function(e,t,r){"use strict";var n=r(6518),i=r(2652),l=r(9306),o=r(8551),a=r(1767);n({target:"Iterator",proto:!0,real:!0},{find:function(e){o(this),l(e);var t=a(this),r=0;return i(t,(function(t,n){if(e(t,r++))return n(t)}),{IS_RECORD:!0,INTERRUPTED:!0}).result}})},283:function(e,t,r){"use strict";var n=r(9504),i=r(9039),l=r(4901),o=r(9297),a=r(3724),s=r(350).CONFIGURABLE,c=r(3706),u=r(1181),p=u.enforce,h=u.get,d=String,f=Object.defineProperty,g=n("".slice),v=n("".replace),m=n([].join),A=a&&!i((function(){return 8!==f((function(){}),"length",{value:8}).length})),y=String(String).split("String"),w=e.exports=function(e,t,r){"Symbol("===g(d(t),0,7)&&(t="["+v(d(t),/^Symbol\(([^)]*)\).*$/,"$1")+"]"),r&&r.getter&&(t="get "+t),r&&r.setter&&(t="set "+t),(!o(e,"name")||s&&e.name!==t)&&(a?f(e,"name",{value:t,configurable:!0}):e.name=t),A&&r&&o(r,"arity")&&e.length!==r.arity&&f(e,"length",{value:r.arity});try{r&&o(r,"constructor")&&r.constructor?a&&f(e,"prototype",{writable:!1}):e.prototype&&(e.prototype=void 0)}catch(i){}var n=p(e);return o(n,"source")||(n.source=m(y,"string"==typeof t?t:"")),e};Function.prototype.toString=w((function(){return l(this)&&h(this).source||c(this)}),"toString")},350:function(e,t,r){"use strict";var n=r(3724),i=r(9297),l=Function.prototype,o=n&&Object.getOwnPropertyDescriptor,a=i(l,"name"),s=a&&"something"===function(){}.name,c=a&&(!n||n&&o(l,"name").configurable);e.exports={EXISTS:a,PROPER:s,CONFIGURABLE:c}},397:function(e,t,r){"use strict";var n=r(7751);e.exports=n("document","documentElement")},421:function(e){"use strict";e.exports={}},507:function(e,t,r){"use strict";var n=r(9565);e.exports=function(e,t,r){var i,l,o=r?e:e.iterator,a=e.next;while(!(i=n(a,o)).done)if(l=t(i.value),void 0!==l)return l}},531:function(e,t,r){"use strict";var n=r(6518),i=r(9565),l=r(9306),o=r(8551),a=r(1767),s=r(8646),c=r(9462),u=r(9539),p=r(6395),h=c((function(){var e,t,r=this.iterator,n=this.mapper;while(1){if(t=this.inner)try{if(e=o(i(t.next,t.iterator)),!e.done)return e.value;this.inner=null}catch(l){u(r,"throw",l)}if(e=o(i(this.next,r)),this.done=!!e.done)return;try{this.inner=s(n(e.value,this.counter++),!1)}catch(l){u(r,"throw",l)}}}));n({target:"Iterator",proto:!0,real:!0,forced:p},{flatMap:function(e){return o(this),l(e),new h(a(this),{mapper:e,inner:null})}})},616:function(e,t,r){"use strict";var n=r(9039);e.exports=!n((function(){var e=function(){}.bind();return"function"!=typeof e||e.hasOwnProperty("prototype")}))},655:function(e,t,r){"use strict";var n=r(6955),i=String;e.exports=function(e){if("Symbol"===n(e))throw new TypeError("Cannot convert a Symbol value to a string");return i(e)}},679:function(e,t,r){"use strict";var n=r(1625),i=TypeError;e.exports=function(e,t){if(n(t,e))return e;throw new i("Incorrect invocation")}},713:function(e,t,r){"use strict";var n=r(9565),i=r(9306),l=r(8551),o=r(1767),a=r(9462),s=r(6319),c=a((function(){var e=this.iterator,t=l(n(this.next,e)),r=this.done=!!t.done;if(!r)return s(e,this.mapper,[t.value,this.counter++],!0)}));e.exports=function(e){return l(this),i(e),new c(o(this),{mapper:e})}},741:function(e){"use strict";var t=Math.ceil,r=Math.floor;e.exports=Math.trunc||function(e){var n=+e;return(n>0?r:t)(n)}},757:function(e,t,r){"use strict";var n=r(7751),i=r(4901),l=r(1625),o=r(7040),a=Object;e.exports=o?function(e){return"symbol"==typeof e}:function(e){var t=n("Symbol");return i(t)&&l(t.prototype,a(e))}},851:function(e,t,r){"use strict";var n=r(6955),i=r(5966),l=r(4117),o=r(6269),a=r(8227),s=a("iterator");e.exports=function(e){if(!l(e))return i(e,s)||i(e,"@@iterator")||o[n(e)]}},1072:function(e,t,r){"use strict";var n=r(1828),i=r(8727);e.exports=Object.keys||function(e){return n(e,i)}},1108:function(e,t,r){"use strict";var n=r(6955);e.exports=function(e){var t=n(e);return"BigInt64Array"===t||"BigUint64Array"===t}},1148:function(e,t,r){"use strict";var n=r(6518),i=r(2652),l=r(9306),o=r(8551),a=r(1767);n({target:"Iterator",proto:!0,real:!0},{every:function(e){o(this),l(e);var t=a(this),r=0;return!i(t,(function(t,n){if(!e(t,r++))return n()}),{IS_RECORD:!0,INTERRUPTED:!0}).stopped}})},1181:function(e,t,r){"use strict";var n,i,l,o=r(8622),a=r(4576),s=r(34),c=r(6699),u=r(9297),p=r(7629),h=r(6119),d=r(421),f="Object already initialized",g=a.TypeError,v=a.WeakMap,m=function(e){return l(e)?i(e):n(e,{})},A=function(e){return function(t){var r;if(!s(t)||(r=i(t)).type!==e)throw new g("Incompatible receiver, "+e+" required");return r}};if(o||p.state){var y=p.state||(p.state=new v);y.get=y.get,y.has=y.has,y.set=y.set,n=function(e,t){if(y.has(e))throw new g(f);return t.facade=e,y.set(e,t),t},i=function(e){return y.get(e)||{}},l=function(e){return y.has(e)}}else{var w=h("state");d[w]=!0,n=function(e,t){if(u(e,w))throw new g(f);return t.facade=e,c(e,w,t),t},i=function(e){return u(e,w)?e[w]:{}},l=function(e){return u(e,w)}}e.exports={set:n,get:i,has:l,enforce:m,getterFor:A}},1241:function(e,t){"use strict";t.A=(e,t)=>{const r=e.__vccOpts||e;for(const[n,i]of t)r[n]=i;return r}},1291:function(e,t,r){"use strict";var n=r(741);e.exports=function(e){var t=+e;return t!==t||0===t?0:n(t)}},1548:function(e,t,r){"use strict";var n=r(4576),i=r(9039),l=r(9519),o=r(4215),a=n.structuredClone;e.exports=!!a&&!i((function(){if("DENO"===o&&l>92||"NODE"===o&&l>94||"BROWSER"===o&&l>97)return!1;var e=new ArrayBuffer(8),t=a(e,{transfer:[e]});return 0!==e.byteLength||8!==t.byteLength}))},1625:function(e,t,r){"use strict";var n=r(9504);e.exports=n({}.isPrototypeOf)},1658:function(e,t,r){"use strict";var n=r(6518),i=r(6469),l=r(6837),o=r(6198),a=r(5610),s=r(5397),c=r(1291),u=Array,p=Math.max,h=Math.min;n({target:"Array",proto:!0},{toSpliced:function(e,t){var r,n,i,d,f=s(this),g=o(f),v=a(e,g),m=arguments.length,A=0;for(0===m?r=n=0:1===m?(r=0,n=g-v):(r=m-2,n=h(p(c(t),0),g-v)),i=l(g+r-n),d=u(i);A<v;A++)d[A]=f[A];for(;A<v+r;A++)d[A]=arguments[A-v+2];for(;A<i;A++)d[A]=f[A+n-r];return d}}),i("toSpliced")},1698:function(e,t,r){"use strict";var n=r(6518),i=r(4204),l=r(4916);n({target:"Set",proto:!0,real:!0,forced:!l("union")},{union:i})},1701:function(e,t,r){"use strict";var n=r(6518),i=r(713),l=r(6395);n({target:"Iterator",proto:!0,real:!0,forced:l},{map:i})},1767:function(e){"use strict";e.exports=function(e){return{iterator:e,next:e.next,done:!1}}},1806:function(e,t,r){"use strict";var n=r(6518),i=r(8551),l=r(2652),o=r(1767),a=[].push;n({target:"Iterator",proto:!0,real:!0},{toArray:function(){var e=[];return l(o(i(this)),a,{that:e,IS_RECORD:!0}),e}})},1828:function(e,t,r){"use strict";var n=r(9504),i=r(9297),l=r(5397),o=r(9617).indexOf,a=r(421),s=n([].push);e.exports=function(e,t){var r,n=l(e),c=0,u=[];for(r in n)!i(a,r)&&i(n,r)&&s(u,r);while(t.length>c)i(n,r=t[c++])&&(~o(u,r)||s(u,r));return u}},2106:function(e,t,r){"use strict";var n=r(283),i=r(4913);e.exports=function(e,t,r){return r.get&&n(r.get,t,{getter:!0}),r.set&&n(r.set,t,{setter:!0}),i.f(e,t,r)}},2140:function(e,t,r){"use strict";var n=r(8227),i=n("toStringTag"),l={};l[i]="z",e.exports="[object z]"===String(l)},2195:function(e,t,r){"use strict";var n=r(9504),i=n({}.toString),l=n("".slice);e.exports=function(e){return l(i(e),8,-1)}},2211:function(e,t,r){"use strict";var n=r(9039);e.exports=!n((function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}))},2360:function(e,t,r){"use strict";var n,i=r(8551),l=r(6801),o=r(8727),a=r(421),s=r(397),c=r(4055),u=r(6119),p=">",h="<",d="prototype",f="script",g=u("IE_PROTO"),v=function(){},m=function(e){return h+f+p+e+h+"/"+f+p},A=function(e){e.write(m("")),e.close();var t=e.parentWindow.Object;return e=null,t},y=function(){var e,t=c("iframe"),r="java"+f+":";return t.style.display="none",s.appendChild(t),t.src=String(r),e=t.contentWindow.document,e.open(),e.write(m("document.F=Object")),e.close(),e.F},w=function(){try{n=new ActiveXObject("htmlfile")}catch(t){}w="undefined"!=typeof document?document.domain&&n?A(n):y():A(n);var e=o.length;while(e--)delete w[d][o[e]];return w()};a[g]=!0,e.exports=Object.create||function(e,t){var r;return null!==e?(v[d]=i(e),r=new v,v[d]=null,r[g]=e):r=w(),void 0===t?r:l.f(r,t)}},2475:function(e,t,r){"use strict";var n=r(6518),i=r(8527),l=r(4916),o=!l("isSupersetOf",(function(e){return!e}));n({target:"Set",proto:!0,real:!0,forced:o},{isSupersetOf:i})},2489:function(e,t,r){"use strict";var n=r(6518),i=r(9565),l=r(9306),o=r(8551),a=r(1767),s=r(9462),c=r(6319),u=r(6395),p=s((function(){var e,t,r,n=this.iterator,l=this.predicate,a=this.next;while(1){if(e=o(i(a,n)),t=this.done=!!e.done,t)return;if(r=e.value,c(n,l,[r,this.counter++],!0))return r}}));n({target:"Iterator",proto:!0,real:!0,forced:u},{filter:function(e){return o(this),l(e),new p(a(this),{predicate:e})}})},2529:function(e){"use strict";e.exports=function(e,t){return{value:e,done:t}}},2603:function(e,t,r){"use strict";var n=r(655);e.exports=function(e,t){return void 0===e?arguments.length<2?"":t:n(e)}},2652:function(e,t,r){"use strict";var n=r(6080),i=r(9565),l=r(8551),o=r(6823),a=r(4209),s=r(6198),c=r(1625),u=r(81),p=r(851),h=r(9539),d=TypeError,f=function(e,t){this.stopped=e,this.result=t},g=f.prototype;e.exports=function(e,t,r){var v,m,A,y,w,_,x,T=r&&r.that,b=!(!r||!r.AS_ENTRIES),E=!(!r||!r.IS_RECORD),S=!(!r||!r.IS_ITERATOR),P=!(!r||!r.INTERRUPTED),R=n(t,T),C=function(e){return v&&h(v,"normal",e),new f(!0,e)},O=function(e){return b?(l(e),P?R(e[0],e[1],C):R(e[0],e[1])):P?R(e,C):R(e)};if(E)v=e.iterator;else if(S)v=e;else{if(m=p(e),!m)throw new d(o(e)+" is not iterable");if(a(m)){for(A=0,y=s(e);y>A;A++)if(w=O(e[A]),w&&c(g,w))return w;return new f(!1)}v=u(e,m)}_=E?e.next:v.next;while(!(x=i(_,v)).done){try{w=O(x.value)}catch(D){h(v,"throw",D)}if("object"==typeof w&&w&&c(g,w))return w}return new f(!1)}},2777:function(e,t,r){"use strict";var n=r(9565),i=r(34),l=r(757),o=r(5966),a=r(4270),s=r(8227),c=TypeError,u=s("toPrimitive");e.exports=function(e,t){if(!i(e)||l(e))return e;var r,s=o(e,u);if(s){if(void 0===t&&(t="default"),r=n(s,e,t),!i(r)||l(r))return r;throw new c("Can't convert object to primitive value")}return void 0===t&&(t="number"),a(e,t)}},2787:function(e,t,r){"use strict";var n=r(9297),i=r(4901),l=r(8981),o=r(6119),a=r(2211),s=o("IE_PROTO"),c=Object,u=c.prototype;e.exports=a?c.getPrototypeOf:function(e){var t=l(e);if(n(t,s))return t[s];var r=t.constructor;return i(r)&&t instanceof r?r.prototype:t instanceof c?u:null}},2796:function(e,t,r){"use strict";var n=r(9039),i=r(4901),l=/#|\.prototype\./,o=function(e,t){var r=s[a(e)];return r===u||r!==c&&(i(t)?n(t):!!t)},a=o.normalize=function(e){return String(e).replace(l,".").toLowerCase()},s=o.data={},c=o.NATIVE="N",u=o.POLYFILL="P";e.exports=o},2812:function(e){"use strict";var t=TypeError;e.exports=function(e,r){if(e<r)throw new t("Not enough arguments");return e}},2839:function(e,t,r){"use strict";var n=r(4576),i=n.navigator,l=i&&i.userAgent;e.exports=l?String(l):""},2967:function(e,t,r){"use strict";var n=r(6706),i=r(34),l=r(7750),o=r(3506);e.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,r={};try{e=n(Object.prototype,"__proto__","set"),e(r,[]),t=r instanceof Array}catch(a){}return function(r,n){return l(r),o(n),i(r)?(t?e(r,n):r.__proto__=n,r):r}}():void 0)},3167:function(e,t,r){"use strict";var n=r(4901),i=r(34),l=r(2967);e.exports=function(e,t,r){var o,a;return l&&n(o=t.constructor)&&o!==r&&i(a=o.prototype)&&a!==r.prototype&&l(e,a),e}},3238:function(e,t,r){"use strict";var n=r(4576),i=r(7811),l=r(7394),o=n.DataView;e.exports=function(e){if(!i||0!==l(e))return!1;try{return new o(e),!1}catch(t){return!0}}},3392:function(e,t,r){"use strict";var n=r(9504),i=0,l=Math.random(),o=n(1..toString);e.exports=function(e){return"Symbol("+(void 0===e?"":e)+")_"+o(++i+l,36)}},3440:function(e,t,r){"use strict";var n=r(7080),i=r(4402),l=r(9286),o=r(5170),a=r(3789),s=r(8469),c=r(507),u=i.has,p=i.remove;e.exports=function(e){var t=n(this),r=a(e),i=l(t);return o(t)<=r.size?s(t,(function(e){r.includes(e)&&p(i,e)})):c(r.getIterator(),(function(e){u(t,e)&&p(i,e)})),i}},3506:function(e,t,r){"use strict";var n=r(3925),i=String,l=TypeError;e.exports=function(e){if(n(e))return e;throw new l("Can't set "+i(e)+" as a prototype")}},3579:function(e,t,r){"use strict";var n=r(6518),i=r(2652),l=r(9306),o=r(8551),a=r(1767);n({target:"Iterator",proto:!0,real:!0},{some:function(e){o(this),l(e);var t=a(this),r=0;return i(t,(function(t,n){if(e(t,r++))return n()}),{IS_RECORD:!0,INTERRUPTED:!0}).stopped}})},3650:function(e,t,r){"use strict";var n=r(7080),i=r(4402),l=r(9286),o=r(3789),a=r(507),s=i.add,c=i.has,u=i.remove;e.exports=function(e){var t=n(this),r=o(e).getIterator(),i=l(t);return a(r,(function(e){c(t,e)?u(i,e):s(i,e)})),i}},3706:function(e,t,r){"use strict";var n=r(9504),i=r(4901),l=r(7629),o=n(Function.toString);i(l.inspectSource)||(l.inspectSource=function(e){return o(e)}),e.exports=l.inspectSource},3717:function(e,t){"use strict";t.f=Object.getOwnPropertySymbols},3724:function(e,t,r){"use strict";var n=r(9039);e.exports=!n((function(){return 7!==Object.defineProperty({},1,{get:function(){return 7}})[1]}))},3789:function(e,t,r){"use strict";var n=r(9306),i=r(8551),l=r(9565),o=r(1291),a=r(1767),s="Invalid size",c=RangeError,u=TypeError,p=Math.max,h=function(e,t){this.set=e,this.size=p(t,0),this.has=n(e.has),this.keys=n(e.keys)};h.prototype={getIterator:function(){return a(i(l(this.keys,this.set)))},includes:function(e){return l(this.has,this.set,e)}},e.exports=function(e){i(e);var t=+e.size;if(t!==t)throw new u(s);var r=o(t);if(r<0)throw new c(s);return new h(e,r)}},3838:function(e,t,r){"use strict";var n=r(7080),i=r(5170),l=r(8469),o=r(3789);e.exports=function(e){var t=n(this),r=o(e);return!(i(t)>r.size)&&!1!==l(t,(function(e){if(!r.includes(e))return!1}),!0)}},3853:function(e,t,r){"use strict";var n=r(6518),i=r(4449),l=r(4916),o=!l("isDisjointFrom",(function(e){return!e}));n({target:"Set",proto:!0,real:!0,forced:o},{isDisjointFrom:i})},3925:function(e,t,r){"use strict";var n=r(34);e.exports=function(e){return n(e)||null===e}},4055:function(e,t,r){"use strict";var n=r(4576),i=r(34),l=n.document,o=i(l)&&i(l.createElement);e.exports=function(e){return o?l.createElement(e):{}}},4114:function(e,t,r){"use strict";var n=r(6518),i=r(8981),l=r(6198),o=r(4527),a=r(6837),s=r(9039),c=s((function(){return 4294967297!==[].push.call({length:4294967296},1)})),u=function(){try{Object.defineProperty([],"length",{writable:!1}).push()}catch(e){return e instanceof TypeError}},p=c||!u();n({target:"Array",proto:!0,arity:1,forced:p},{push:function(e){var t=i(this),r=l(t),n=arguments.length;a(r+n);for(var s=0;s<n;s++)t[r]=arguments[s],r++;return o(t,r),r}})},4117:function(e){"use strict";e.exports=function(e){return null===e||void 0===e}},4124:function(e,t,r){"use strict";var n=r(4576);e.exports=function(e,t){var r=n[e],i=r&&r.prototype;return i&&i[t]}},4149:function(e){"use strict";var t=RangeError;e.exports=function(e){if(e===e)return e;throw new t("NaN is not allowed")}},4204:function(e,t,r){"use strict";var n=r(7080),i=r(4402).add,l=r(9286),o=r(3789),a=r(507);e.exports=function(e){var t=n(this),r=o(e).getIterator(),s=l(t);return a(r,(function(e){i(s,e)})),s}},4209:function(e,t,r){"use strict";var n=r(8227),i=r(6269),l=n("iterator"),o=Array.prototype;e.exports=function(e){return void 0!==e&&(i.Array===e||o[l]===e)}},4215:function(e,t,r){"use strict";var n=r(4576),i=r(2839),l=r(2195),o=function(e){return i.slice(0,e.length)===e};e.exports=function(){return o("Bun/")?"BUN":o("Cloudflare-Workers")?"CLOUDFLARE":o("Deno/")?"DENO":o("Node.js/")?"NODE":n.Bun&&"string"==typeof Bun.version?"BUN":n.Deno&&"object"==typeof Deno.version?"DENO":"process"===l(n.process)?"NODE":n.window&&n.document?"BROWSER":"REST"}()},4270:function(e,t,r){"use strict";var n=r(9565),i=r(4901),l=r(34),o=TypeError;e.exports=function(e,t){var r,a;if("string"===t&&i(r=e.toString)&&!l(a=n(r,e)))return a;if(i(r=e.valueOf)&&!l(a=n(r,e)))return a;if("string"!==t&&i(r=e.toString)&&!l(a=n(r,e)))return a;throw new o("Can't convert object to primitive value")}},4376:function(e,t,r){"use strict";var n=r(2195);e.exports=Array.isArray||function(e){return"Array"===n(e)}},4402:function(e,t,r){"use strict";var n=r(9504),i=Set.prototype;e.exports={Set:Set,add:n(i.add),has:n(i.has),remove:n(i["delete"]),proto:i}},4449:function(e,t,r){"use strict";var n=r(7080),i=r(4402).has,l=r(5170),o=r(3789),a=r(8469),s=r(507),c=r(9539);e.exports=function(e){var t=n(this),r=o(e);if(l(t)<=r.size)return!1!==a(t,(function(e){if(r.includes(e))return!1}),!0);var u=r.getIterator();return!1!==s(u,(function(e){if(i(t,e))return c(u,"normal",!1)}))}},4483:function(e,t,r){"use strict";var n,i,l,o,a=r(4576),s=r(9429),c=r(1548),u=a.structuredClone,p=a.ArrayBuffer,h=a.MessageChannel,d=!1;if(c)d=function(e){u(e,{transfer:[e]})};else if(p)try{h||(n=s("worker_threads"),n&&(h=n.MessageChannel)),h&&(i=new h,l=new p(2),o=function(e){i.port1.postMessage(null,[e])},2===l.byteLength&&(o(l),0===l.byteLength&&(d=o)))}catch(f){}e.exports=d},4495:function(e,t,r){"use strict";var n=r(9519),i=r(9039),l=r(4576),o=l.String;e.exports=!!Object.getOwnPropertySymbols&&!i((function(){var e=Symbol("symbol detection");return!o(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&n&&n<41}))},4527:function(e,t,r){"use strict";var n=r(3724),i=r(4376),l=TypeError,o=Object.getOwnPropertyDescriptor,a=n&&!function(){if(void 0!==this)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(e){return e instanceof TypeError}}();e.exports=a?function(e,t){if(i(e)&&!o(e,"length").writable)throw new l("Cannot set read only .length");return e.length=t}:function(e,t){return e.length=t}},4576:function(e,t,r){"use strict";var n=function(e){return e&&e.Math===Math&&e};e.exports=n("object"==typeof globalThis&&globalThis)||n("object"==typeof window&&window)||n("object"==typeof self&&self)||n("object"==typeof r.g&&r.g)||n("object"==typeof this&&this)||function(){return this}()||Function("return this")()},4603:function(e,t,r){"use strict";var n=r(6840),i=r(9504),l=r(655),o=r(2812),a=URLSearchParams,s=a.prototype,c=i(s.append),u=i(s["delete"]),p=i(s.forEach),h=i([].push),d=new a("a=1&a=2&b=3");d["delete"]("a",1),d["delete"]("b",void 0),d+""!=="a=2"&&n(s,"delete",(function(e){var t=arguments.length,r=t<2?void 0:arguments[1];if(t&&void 0===r)return u(this,e);var n=[];p(this,(function(e,t){h(n,{key:t,value:e})})),o(t,1);var i,a=l(e),s=l(r),d=0,f=0,g=!1,v=n.length;while(d<v)i=n[d++],g||i.key===a?(g=!0,u(this,i.key)):f++;while(f<v)i=n[f++],i.key===a&&i.value===s||c(this,i.key,i.value)}),{enumerable:!0,unsafe:!0})},4644:function(e,t,r){"use strict";var n,i,l,o=r(7811),a=r(3724),s=r(4576),c=r(4901),u=r(34),p=r(9297),h=r(6955),d=r(6823),f=r(6699),g=r(6840),v=r(2106),m=r(1625),A=r(2787),y=r(2967),w=r(8227),_=r(3392),x=r(1181),T=x.enforce,b=x.get,E=s.Int8Array,S=E&&E.prototype,P=s.Uint8ClampedArray,R=P&&P.prototype,C=E&&A(E),O=S&&A(S),D=Object.prototype,I=s.TypeError,k=w("toStringTag"),F=_("TYPED_ARRAY_TAG"),N="TypedArrayConstructor",B=o&&!!y&&"Opera"!==h(s.opera),L=!1,M={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8},z={BigInt64Array:8,BigUint64Array:8},H=function(e){if(!u(e))return!1;var t=h(e);return"DataView"===t||p(M,t)||p(z,t)},j=function(e){var t=A(e);if(u(t)){var r=b(t);return r&&p(r,N)?r[N]:j(t)}},U=function(e){if(!u(e))return!1;var t=h(e);return p(M,t)||p(z,t)},V=function(e){if(U(e))return e;throw new I("Target is not a typed array")},W=function(e){if(c(e)&&(!y||m(C,e)))return e;throw new I(d(e)+" is not a typed array constructor")},G=function(e,t,r,n){if(a){if(r)for(var i in M){var l=s[i];if(l&&p(l.prototype,e))try{delete l.prototype[e]}catch(o){try{l.prototype[e]=t}catch(c){}}}O[e]&&!r||g(O,e,r?t:B&&S[e]||t,n)}},q=function(e,t,r){var n,i;if(a){if(y){if(r)for(n in M)if(i=s[n],i&&p(i,e))try{delete i[e]}catch(l){}if(C[e]&&!r)return;try{return g(C,e,r?t:B&&C[e]||t)}catch(l){}}for(n in M)i=s[n],!i||i[e]&&!r||g(i,e,t)}};for(n in M)i=s[n],l=i&&i.prototype,l?T(l)[N]=i:B=!1;for(n in z)i=s[n],l=i&&i.prototype,l&&(T(l)[N]=i);if((!B||!c(C)||C===Function.prototype)&&(C=function(){throw new I("Incorrect invocation")},B))for(n in M)s[n]&&y(s[n],C);if((!B||!O||O===D)&&(O=C.prototype,B))for(n in M)s[n]&&y(s[n].prototype,O);if(B&&A(R)!==O&&y(R,O),a&&!p(O,k))for(n in L=!0,v(O,k,{configurable:!0,get:function(){return u(this)?this[F]:void 0}}),M)s[n]&&f(s[n],F,n);e.exports={NATIVE_ARRAY_BUFFER_VIEWS:B,TYPED_ARRAY_TAG:L&&F,aTypedArray:V,aTypedArrayConstructor:W,exportTypedArrayMethod:G,exportTypedArrayStaticMethod:q,getTypedArrayConstructor:j,isView:H,isTypedArray:U,TypedArray:C,TypedArrayPrototype:O}},4659:function(e,t,r){"use strict";var n=r(3724),i=r(4913),l=r(6980);e.exports=function(e,t,r){n?i.f(e,t,l(0,r)):e[t]=r}},4732:function(e,t,r){"use strict";var n=r(4644),i=r(9504),l=r(9306),o=r(5370),a=n.aTypedArray,s=n.getTypedArrayConstructor,c=n.exportTypedArrayMethod,u=i(n.TypedArrayPrototype.sort);c("toSorted",(function(e){void 0!==e&&l(e);var t=a(this),r=o(s(t),t);return u(r,e)}))},4901:function(e){"use strict";var t="object"==typeof document&&document.all;e.exports="undefined"==typeof t&&void 0!==t?function(e){return"function"==typeof e||e===t}:function(e){return"function"==typeof e}},4913:function(e,t,r){"use strict";var n=r(3724),i=r(5917),l=r(8686),o=r(8551),a=r(6969),s=TypeError,c=Object.defineProperty,u=Object.getOwnPropertyDescriptor,p="enumerable",h="configurable",d="writable";t.f=n?l?function(e,t,r){if(o(e),t=a(t),o(r),"function"===typeof e&&"prototype"===t&&"value"in r&&d in r&&!r[d]){var n=u(e,t);n&&n[d]&&(e[t]=r.value,r={configurable:h in r?r[h]:n[h],enumerable:p in r?r[p]:n[p],writable:!1})}return c(e,t,r)}:c:function(e,t,r){if(o(e),t=a(t),o(r),i)try{return c(e,t,r)}catch(n){}if("get"in r||"set"in r)throw new s("Accessors not supported");return"value"in r&&(e[t]=r.value),e}},4916:function(e,t,r){"use strict";var n=r(7751),i=function(e){return{size:e,has:function(){return!1},keys:function(){return{next:function(){return{done:!0}}}}}},l=function(e){return{size:e,has:function(){return!0},keys:function(){throw new Error("e")}}};e.exports=function(e,t){var r=n("Set");try{(new r)[e](i(0));try{return(new r)[e](i(-1)),!1}catch(a){if(!t)return!0;try{return(new r)[e](l(-1/0)),!1}catch(s){var o=new r;return o.add(1),o.add(2),t(o[e](l(1/0)))}}}catch(s){return!1}}},4972:function(e,t,r){"use strict";var n=r(6518),i=r(9565),l=r(8551),o=r(1767),a=r(4149),s=r(9590),c=r(9462),u=r(9539),p=r(6395),h=c((function(){var e=this.iterator;if(!this.remaining--)return this.done=!0,u(e,"normal",void 0);var t=l(i(this.next,e)),r=this.done=!!t.done;return r?void 0:t.value}));n({target:"Iterator",proto:!0,real:!0,forced:p},{take:function(e){l(this);var t=s(a(+e));return new h(o(this),{remaining:t})}})},4979:function(e,t,r){"use strict";var n=r(6518),i=r(4576),l=r(7751),o=r(6980),a=r(4913).f,s=r(9297),c=r(679),u=r(3167),p=r(2603),h=r(5002),d=r(8574),f=r(3724),g=r(6395),v="DOMException",m=l("Error"),A=l(v),y=function(){c(this,w);var e=arguments.length,t=p(e<1?void 0:arguments[0]),r=p(e<2?void 0:arguments[1],"Error"),n=new A(t,r),i=new m(t);return i.name=v,a(n,"stack",o(1,d(i.stack,1))),u(n,this,y),n},w=y.prototype=A.prototype,_="stack"in new m(v),x="stack"in new A(1,2),T=A&&f&&Object.getOwnPropertyDescriptor(i,v),b=!!T&&!(T.writable&&T.configurable),E=_&&!b&&!x;n({global:!0,constructor:!0,forced:g||E},{DOMException:E?y:A});var S=l(v),P=S.prototype;if(P.constructor!==S)for(var R in g||a(P,"constructor",o(1,S)),h)if(s(h,R)){var C=h[R],O=C.s;s(S,O)||a(S,O,o(6,C.c))}},5002:function(e){"use strict";e.exports={IndexSizeError:{s:"INDEX_SIZE_ERR",c:1,m:1},DOMStringSizeError:{s:"DOMSTRING_SIZE_ERR",c:2,m:0},HierarchyRequestError:{s:"HIERARCHY_REQUEST_ERR",c:3,m:1},WrongDocumentError:{s:"WRONG_DOCUMENT_ERR",c:4,m:1},InvalidCharacterError:{s:"INVALID_CHARACTER_ERR",c:5,m:1},NoDataAllowedError:{s:"NO_DATA_ALLOWED_ERR",c:6,m:0},NoModificationAllowedError:{s:"NO_MODIFICATION_ALLOWED_ERR",c:7,m:1},NotFoundError:{s:"NOT_FOUND_ERR",c:8,m:1},NotSupportedError:{s:"NOT_SUPPORTED_ERR",c:9,m:1},InUseAttributeError:{s:"INUSE_ATTRIBUTE_ERR",c:10,m:1},InvalidStateError:{s:"INVALID_STATE_ERR",c:11,m:1},SyntaxError:{s:"SYNTAX_ERR",c:12,m:1},InvalidModificationError:{s:"INVALID_MODIFICATION_ERR",c:13,m:1},NamespaceError:{s:"NAMESPACE_ERR",c:14,m:1},InvalidAccessError:{s:"INVALID_ACCESS_ERR",c:15,m:1},ValidationError:{s:"VALIDATION_ERR",c:16,m:0},TypeMismatchError:{s:"TYPE_MISMATCH_ERR",c:17,m:1},SecurityError:{s:"SECURITY_ERR",c:18,m:1},NetworkError:{s:"NETWORK_ERR",c:19,m:1},AbortError:{s:"ABORT_ERR",c:20,m:1},URLMismatchError:{s:"URL_MISMATCH_ERR",c:21,m:1},QuotaExceededError:{s:"QUOTA_EXCEEDED_ERR",c:22,m:1},TimeoutError:{s:"TIMEOUT_ERR",c:23,m:1},InvalidNodeTypeError:{s:"INVALID_NODE_TYPE_ERR",c:24,m:1},DataCloneError:{s:"DATA_CLONE_ERR",c:25,m:1}}},5024:function(e,t,r){"use strict";var n=r(6518),i=r(3650),l=r(4916);n({target:"Set",proto:!0,real:!0,forced:!l("symmetricDifference")},{symmetricDifference:i})},5031:function(e,t,r){"use strict";var n=r(7751),i=r(9504),l=r(8480),o=r(3717),a=r(8551),s=i([].concat);e.exports=n("Reflect","ownKeys")||function(e){var t=l.f(a(e)),r=o.f;return r?s(t,r(e)):t}},5169:function(e,t,r){"use strict";var n=r(3238),i=TypeError;e.exports=function(e){if(n(e))throw new i("ArrayBuffer is detached");return e}},5170:function(e,t,r){"use strict";var n=r(6706),i=r(4402);e.exports=n(i.proto,"size","get")||function(e){return e.size}},5370:function(e,t,r){"use strict";var n=r(6198);e.exports=function(e,t,r){var i=0,l=arguments.length>2?r:n(t),o=new e(l);while(l>i)o[i]=t[i++];return o}},5397:function(e,t,r){"use strict";var n=r(7055),i=r(7750);e.exports=function(e){return n(i(e))}},5610:function(e,t,r){"use strict";var n=r(1291),i=Math.max,l=Math.min;e.exports=function(e,t){var r=n(e);return r<0?i(r+t,0):l(r,t)}},5636:function(e,t,r){"use strict";var n=r(4576),i=r(9504),l=r(6706),o=r(7696),a=r(5169),s=r(7394),c=r(4483),u=r(1548),p=n.structuredClone,h=n.ArrayBuffer,d=n.DataView,f=Math.min,g=h.prototype,v=d.prototype,m=i(g.slice),A=l(g,"resizable","get"),y=l(g,"maxByteLength","get"),w=i(v.getInt8),_=i(v.setInt8);e.exports=(u||c)&&function(e,t,r){var n,i=s(e),l=void 0===t?i:o(t),g=!A||!A(e);if(a(e),u&&(e=p(e,{transfer:[e]}),i===l&&(r||g)))return e;if(i>=l&&(!r||g))n=m(e,0,l);else{var v=r&&!g&&y?{maxByteLength:y(e)}:void 0;n=new h(l,v);for(var x=new d(e),T=new d(n),b=f(l,i),E=0;E<b;E++)_(T,E,w(x,E))}return u||c(e),n}},5745:function(e,t,r){"use strict";var n=r(7629);e.exports=function(e,t){return n[e]||(n[e]=t||{})}},5854:function(e,t,r){"use strict";var n=r(2777),i=TypeError;e.exports=function(e){var t=n(e,"number");if("number"==typeof t)throw new i("Can't convert number to bigint");return BigInt(t)}},5876:function(e,t,r){"use strict";var n=r(6518),i=r(3838),l=r(4916),o=!l("isSubsetOf",(function(e){return e}));n({target:"Set",proto:!0,real:!0,forced:o},{isSubsetOf:i})},5917:function(e,t,r){"use strict";var n=r(3724),i=r(9039),l=r(4055);e.exports=!n&&!i((function(){return 7!==Object.defineProperty(l("div"),"a",{get:function(){return 7}}).a}))},5966:function(e,t,r){"use strict";var n=r(9306),i=r(4117);e.exports=function(e,t){var r=e[t];return i(r)?void 0:n(r)}},6080:function(e,t,r){"use strict";var n=r(7476),i=r(9306),l=r(616),o=n(n.bind);e.exports=function(e,t){return i(e),void 0===t?e:l?o(e,t):function(){return e.apply(t,arguments)}}},6119:function(e,t,r){"use strict";var n=r(5745),i=r(3392),l=n("keys");e.exports=function(e){return l[e]||(l[e]=i(e))}},6193:function(e,t,r){"use strict";var n=r(4215);e.exports="NODE"===n},6198:function(e,t,r){"use strict";var n=r(8014);e.exports=function(e){return n(e.length)}},6269:function(e){"use strict";e.exports={}},6279:function(e,t,r){"use strict";var n=r(6840);e.exports=function(e,t,r){for(var i in t)n(e,i,t[i],r);return e}},6319:function(e,t,r){"use strict";var n=r(8551),i=r(9539);e.exports=function(e,t,r,l){try{return l?t(n(r)[0],r[1]):t(r)}catch(o){i(e,"throw",o)}}},6368:function(e,t,r){"use strict";var n=r(6518),i=r(4576),l=r(9225).clear;n({global:!0,bind:!0,enumerable:!0,forced:i.clearImmediate!==l},{clearImmediate:l})},6395:function(e){"use strict";e.exports=!1},6469:function(e,t,r){"use strict";var n=r(8227),i=r(2360),l=r(4913).f,o=n("unscopables"),a=Array.prototype;void 0===a[o]&&l(a,o,{configurable:!0,value:i(null)}),e.exports=function(e){a[o][e]=!0}},6518:function(e,t,r){"use strict";var n=r(4576),i=r(7347).f,l=r(6699),o=r(6840),a=r(9433),s=r(7740),c=r(2796);e.exports=function(e,t){var r,u,p,h,d,f,g=e.target,v=e.global,m=e.stat;if(u=v?n:m?n[g]||a(g,{}):n[g]&&n[g].prototype,u)for(p in t){if(d=t[p],e.dontCallGetSet?(f=i(u,p),h=f&&f.value):h=u[p],r=c(v?p:g+(m?".":"#")+p,e.forced),!r&&void 0!==h){if(typeof d==typeof h)continue;s(d,h)}(e.sham||h&&h.sham)&&l(d,"sham",!0),o(u,p,d,e)}}},6573:function(e,t,r){"use strict";var n=r(3724),i=r(2106),l=r(3238),o=ArrayBuffer.prototype;n&&!("detached"in o)&&i(o,"detached",{configurable:!0,get:function(){return l(this)}})},6699:function(e,t,r){"use strict";var n=r(3724),i=r(4913),l=r(6980);e.exports=n?function(e,t,r){return i.f(e,t,l(1,r))}:function(e,t,r){return e[t]=r,e}},6706:function(e,t,r){"use strict";var n=r(9504),i=r(9306);e.exports=function(e,t,r){try{return n(i(Object.getOwnPropertyDescriptor(e,t)[r]))}catch(l){}}},6801:function(e,t,r){"use strict";var n=r(3724),i=r(8686),l=r(4913),o=r(8551),a=r(5397),s=r(1072);t.f=n&&!i?Object.defineProperties:function(e,t){o(e);var r,n=a(t),i=s(t),c=i.length,u=0;while(c>u)l.f(e,r=i[u++],n[r]);return e}},6823:function(e){"use strict";var t=String;e.exports=function(e){try{return t(e)}catch(r){return"Object"}}},6837:function(e){"use strict";var t=TypeError,r=9007199254740991;e.exports=function(e){if(e>r)throw t("Maximum allowed index exceeded");return e}},6840:function(e,t,r){"use strict";var n=r(4901),i=r(4913),l=r(283),o=r(9433);e.exports=function(e,t,r,a){a||(a={});var s=a.enumerable,c=void 0!==a.name?a.name:t;if(n(r)&&l(r,c,a),a.global)s?e[t]=r:o(t,r);else{try{a.unsafe?e[t]&&(s=!0):delete e[t]}catch(u){}s?e[t]=r:i.f(e,t,{value:r,enumerable:!1,configurable:!a.nonConfigurable,writable:!a.nonWritable})}return e}},6955:function(e,t,r){"use strict";var n=r(2140),i=r(4901),l=r(2195),o=r(8227),a=o("toStringTag"),s=Object,c="Arguments"===l(function(){return arguments}()),u=function(e,t){try{return e[t]}catch(r){}};e.exports=n?l:function(e){var t,r,n;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(r=u(t=s(e),a))?r:c?l(t):"Object"===(n=l(t))&&i(t.callee)?"Arguments":n}},6969:function(e,t,r){"use strict";var n=r(2777),i=r(757);e.exports=function(e){var t=n(e,"string");return i(t)?t:t+""}},6980:function(e){"use strict";e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},7040:function(e,t,r){"use strict";var n=r(4495);e.exports=n&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},7055:function(e,t,r){"use strict";var n=r(9504),i=r(9039),l=r(2195),o=Object,a=n("".split);e.exports=i((function(){return!o("z").propertyIsEnumerable(0)}))?function(e){return"String"===l(e)?a(e,""):o(e)}:o},7080:function(e,t,r){"use strict";var n=r(4402).has;e.exports=function(e){return n(e),e}},7145:function(e,t,r){"use strict";var n=r(6518),i=r(9504),l=r(9306),o=r(5397),a=r(5370),s=r(4124),c=r(6469),u=Array,p=i(s("Array","sort"));n({target:"Array",proto:!0},{toSorted:function(e){void 0!==e&&l(e);var t=o(this),r=a(u,t);return p(r,e)}}),c("toSorted")},7347:function(e,t,r){"use strict";var n=r(3724),i=r(9565),l=r(8773),o=r(6980),a=r(5397),s=r(6969),c=r(9297),u=r(5917),p=Object.getOwnPropertyDescriptor;t.f=n?p:function(e,t){if(e=a(e),t=s(t),u)try{return p(e,t)}catch(r){}if(c(e,t))return o(!i(l.f,e,t),e[t])}},7394:function(e,t,r){"use strict";var n=r(4576),i=r(6706),l=r(2195),o=n.ArrayBuffer,a=n.TypeError;e.exports=o&&i(o.prototype,"byteLength","get")||function(e){if("ArrayBuffer"!==l(e))throw new a("ArrayBuffer expected");return e.byteLength}},7467:function(e,t,r){"use strict";var n=r(7628),i=r(4644),l=i.aTypedArray,o=i.exportTypedArrayMethod,a=i.getTypedArrayConstructor;o("toReversed",(function(){return n(l(this),a(this))}))},7476:function(e,t,r){"use strict";var n=r(2195),i=r(9504);e.exports=function(e){if("Function"===n(e))return i(e)}},7566:function(e,t,r){"use strict";var n=r(6840),i=r(9504),l=r(655),o=r(2812),a=URLSearchParams,s=a.prototype,c=i(s.getAll),u=i(s.has),p=new a("a=1");!p.has("a",2)&&p.has("a",void 0)||n(s,"has",(function(e){var t=arguments.length,r=t<2?void 0:arguments[1];if(t&&void 0===r)return u(this,e);var n=c(this,e);o(t,1);var i=l(r),a=0;while(a<n.length)if(n[a++]===i)return!0;return!1}),{enumerable:!0,unsafe:!0})},7588:function(e,t,r){"use strict";var n=r(6518),i=r(2652),l=r(9306),o=r(8551),a=r(1767);n({target:"Iterator",proto:!0,real:!0},{forEach:function(e){o(this),l(e);var t=a(this),r=0;i(t,(function(t){e(t,r++)}),{IS_RECORD:!0})}})},7628:function(e,t,r){"use strict";var n=r(6198);e.exports=function(e,t){for(var r=n(e),i=new t(r),l=0;l<r;l++)i[l]=e[r-l-1];return i}},7629:function(e,t,r){"use strict";var n=r(6395),i=r(4576),l=r(9433),o="__core-js_shared__",a=e.exports=i[o]||l(o,{});(a.versions||(a.versions=[])).push({version:"3.41.0",mode:n?"pure":"global",copyright:"© 2014-2025 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.41.0/LICENSE",source:"https://github.com/zloirock/core-js"})},7642:function(e,t,r){"use strict";var n=r(6518),i=r(3440),l=r(4916),o=!l("difference",(function(e){return 0===e.size}));n({target:"Set",proto:!0,real:!0,forced:o},{difference:i})},7657:function(e,t,r){"use strict";var n,i,l,o=r(9039),a=r(4901),s=r(34),c=r(2360),u=r(2787),p=r(6840),h=r(8227),d=r(6395),f=h("iterator"),g=!1;[].keys&&(l=[].keys(),"next"in l?(i=u(u(l)),i!==Object.prototype&&(n=i)):g=!0);var v=!s(n)||o((function(){var e={};return n[f].call(e)!==e}));v?n={}:d&&(n=c(n)),a(n[f])||p(n,f,(function(){return this})),e.exports={IteratorPrototype:n,BUGGY_SAFARI_ITERATORS:g}},7680:function(e,t,r){"use strict";var n=r(9504);e.exports=n([].slice)},7696:function(e,t,r){"use strict";var n=r(1291),i=r(8014),l=RangeError;e.exports=function(e){if(void 0===e)return 0;var t=n(e),r=i(t);if(t!==r)throw new l("Wrong length or index");return r}},7740:function(e,t,r){"use strict";var n=r(9297),i=r(5031),l=r(7347),o=r(4913);e.exports=function(e,t,r){for(var a=i(t),s=o.f,c=l.f,u=0;u<a.length;u++){var p=a[u];n(e,p)||r&&n(r,p)||s(e,p,c(t,p))}}},7750:function(e,t,r){"use strict";var n=r(4117),i=TypeError;e.exports=function(e){if(n(e))throw new i("Can't call method on "+e);return e}},7751:function(e,t,r){"use strict";var n=r(4576),i=r(4901),l=function(e){return i(e)?e:void 0};e.exports=function(e,t){return arguments.length<2?l(n[e]):n[e]&&n[e][t]}},7811:function(e){"use strict";e.exports="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof DataView},7934:function(e,t,r){var n,i,l;//! openseadragon 5.0.1
//! Built on 2024-12-09
//! Git commit: v5.0.1-0-480de92d
//! http://openseadragon.github.io
//! License: http://openseadragon.github.io/license/
function o(e){return new o.Viewer(e)}r(4114),r(6573),r(8100),r(7936),r(8111),r(2489),r(7588),r(1701),r(7467),r(4732),r(9577),r(4603),r(7566),r(8721),function(e){e.version={versionStr:"5.0.1",major:parseInt("5",10),minor:parseInt("0",10),revision:parseInt("1",10)};var t={"[object Boolean]":"boolean","[object Number]":"number","[object String]":"string","[object Function]":"function","[object AsyncFunction]":"function","[object Promise]":"promise","[object Array]":"array","[object Date]":"date","[object RegExp]":"regexp","[object Object]":"object"},r=Object.prototype.toString,n=Object.prototype.hasOwnProperty;e.isFunction=function(t){return"function"===e.type(t)},e.isArray=Array.isArray||function(t){return"array"===e.type(t)},e.isWindow=function(e){return e&&"object"===typeof e&&"setInterval"in e},e.type=function(e){return null===e||void 0===e?String(e):t[r.call(e)]||"object"},e.isPlainObject=function(t){if(!t||"object"!==o.type(t)||t.nodeType||e.isWindow(t))return!1;if(t.constructor&&!n.call(t,"constructor")&&!n.call(t.constructor.prototype,"isPrototypeOf"))return!1;var r;for(var i in t)r=i;return void 0===r||n.call(t,r)},e.isEmptyObject=function(e){for(var t in e)return!1;return!0},e.freezeObject=function(t){return Object.freeze?e.freezeObject=Object.freeze:e.freezeObject=function(e){return e},e.freezeObject(t)},e.supportsCanvas=function(){var t=document.createElement("canvas");return!(!e.isFunction(t.getContext)||!t.getContext("2d"))}(),e.isCanvasTainted=function(e){var t=!1;try{e.getContext("2d").getImageData(0,0,1,1)}catch(r){t=!0}return t},e.supportsAddEventListener=function(){return!(!document.documentElement.addEventListener||!document.addEventListener)}(),e.supportsRemoveEventListener=function(){return!(!document.documentElement.removeEventListener||!document.removeEventListener)}(),e.supportsEventListenerOptions=function(){var t=0;if(e.supportsAddEventListener)try{var r={get capture(){return t++,!1},get once(){return t++,!1},get passive(){return t++,!1}};window.addEventListener("test",null,r),window.removeEventListener("test",null,r)}catch(n){t=0}return t>=3}(),e.getCurrentPixelDensityRatio=function(){if(e.supportsCanvas){var t=document.createElement("canvas").getContext("2d"),r=window.devicePixelRatio||1,n=t.webkitBackingStorePixelRatio||t.mozBackingStorePixelRatio||t.msBackingStorePixelRatio||t.oBackingStorePixelRatio||t.backingStorePixelRatio||1;return Math.max(r,1)/n}return 1},e.pixelDensityRatio=e.getCurrentPixelDensityRatio()}(o),function(e){e.extend=function(){var t,r,n,i,l,a,s=arguments[0]||{},c=arguments.length,u=!1,p=1;for("boolean"===typeof s&&(u=s,s=arguments[1]||{},p=2),"object"===typeof s||o.isFunction(s)||(s={}),c===p&&(s=this,--p);p<c;p++)if(t=arguments[p],null!==t||void 0!==t)for(r in t){var h=Object.getOwnPropertyDescriptor(t,r);void 0!==h?h.get||h.set?Object.defineProperty(s,r,h):(i=h.value,s!==i&&(u&&i&&(o.isPlainObject(i)||(l=o.isArray(i)))?(n=s[r],l?(l=!1,a=n&&o.isArray(n)?n:[]):a=n&&o.isPlainObject(n)?n:{},s[r]=o.extend(u,a,i)):void 0!==i&&(s[r]=i))):e.console.warn('Could not copy inherited property "'+r+'".')}return s};var t=function(){if("object"!==typeof navigator)return!1;var e=navigator.userAgent;return"string"===typeof e&&(-1!==e.indexOf("iPhone")||-1!==e.indexOf("iPad")||-1!==e.indexOf("iPod"))};e.extend(e,{DEFAULT_SETTINGS:{xmlPath:null,tileSources:null,tileHost:null,initialPage:0,crossOriginPolicy:!1,ajaxWithCredentials:!1,loadTilesWithAjax:!1,ajaxHeaders:{},splitHashDataForPost:!1,panHorizontal:!0,panVertical:!0,constrainDuringPan:!1,wrapHorizontal:!1,wrapVertical:!1,visibilityRatio:.5,minPixelRatio:.5,defaultZoomLevel:0,minZoomLevel:null,maxZoomLevel:null,homeFillsViewer:!1,clickTimeThreshold:300,clickDistThreshold:5,dblClickTimeThreshold:300,dblClickDistThreshold:20,springStiffness:6.5,animationTime:1.2,gestureSettingsMouse:{dragToPan:!0,scrollToZoom:!0,clickToZoom:!0,dblClickToZoom:!1,dblClickDragToZoom:!1,pinchToZoom:!1,zoomToRefPoint:!0,flickEnabled:!1,flickMinSpeed:120,flickMomentum:.25,pinchRotate:!1},gestureSettingsTouch:{dragToPan:!0,scrollToZoom:!1,clickToZoom:!1,dblClickToZoom:!0,dblClickDragToZoom:!0,pinchToZoom:!0,zoomToRefPoint:!0,flickEnabled:!0,flickMinSpeed:120,flickMomentum:.25,pinchRotate:!1},gestureSettingsPen:{dragToPan:!0,scrollToZoom:!1,clickToZoom:!0,dblClickToZoom:!1,dblClickDragToZoom:!1,pinchToZoom:!1,zoomToRefPoint:!0,flickEnabled:!1,flickMinSpeed:120,flickMomentum:.25,pinchRotate:!1},gestureSettingsUnknown:{dragToPan:!0,scrollToZoom:!1,clickToZoom:!1,dblClickToZoom:!0,dblClickDragToZoom:!1,pinchToZoom:!0,zoomToRefPoint:!0,flickEnabled:!0,flickMinSpeed:120,flickMomentum:.25,pinchRotate:!1},zoomPerClick:2,zoomPerScroll:1.2,zoomPerDblClickDrag:1.2,zoomPerSecond:1,blendTime:0,alwaysBlend:!1,autoHideControls:!0,immediateRender:!1,minZoomImageRatio:.9,maxZoomPixelRatio:1.1,smoothTileEdgesMinZoom:1.1,iOSDevice:t(),pixelsPerWheelLine:40,pixelsPerArrowPress:40,autoResize:!0,preserveImageSizeOnResize:!1,minScrollDeltaTime:50,rotationIncrement:90,maxTilesPerFrame:1,showSequenceControl:!0,sequenceControlAnchor:null,preserveViewport:!1,preserveOverlays:!1,navPrevNextWrap:!1,showNavigationControl:!0,navigationControlAnchor:null,showZoomControl:!0,showHomeControl:!0,showFullPageControl:!0,showRotationControl:!1,showFlipControl:!1,controlsFadeDelay:2e3,controlsFadeLength:1500,mouseNavEnabled:!0,showNavigator:!1,navigatorElement:null,navigatorId:null,navigatorPosition:null,navigatorSizeRatio:.2,navigatorMaintainSizeRatio:!1,navigatorTop:null,navigatorLeft:null,navigatorHeight:null,navigatorWidth:null,navigatorAutoResize:!0,navigatorAutoFade:!0,navigatorRotate:!0,navigatorBackground:"#000",navigatorOpacity:.8,navigatorBorderColor:"#555",navigatorDisplayRegionColor:"#900",degrees:0,flipped:!1,overlayPreserveContentDirection:!0,opacity:1,compositeOperation:null,drawer:["webgl","canvas","html"],drawerOptions:{webgl:{},canvas:{},html:{},custom:{}},preload:!1,imageSmoothingEnabled:!0,placeholderFillStyle:null,subPixelRoundingForTransparency:null,showReferenceStrip:!1,referenceStripScroll:"horizontal",referenceStripElement:null,referenceStripHeight:null,referenceStripWidth:null,referenceStripPosition:"BOTTOM_LEFT",referenceStripSizeRatio:.2,collectionRows:3,collectionColumns:0,collectionLayout:"horizontal",collectionMode:!1,collectionTileSize:800,collectionTileMargin:80,imageLoaderLimit:0,maxImageCacheCount:200,timeout:3e4,tileRetryMax:0,tileRetryDelay:2500,prefixUrl:"/images/",navImages:{zoomIn:{REST:"zoomin_rest.png",GROUP:"zoomin_grouphover.png",HOVER:"zoomin_hover.png",DOWN:"zoomin_pressed.png"},zoomOut:{REST:"zoomout_rest.png",GROUP:"zoomout_grouphover.png",HOVER:"zoomout_hover.png",DOWN:"zoomout_pressed.png"},home:{REST:"home_rest.png",GROUP:"home_grouphover.png",HOVER:"home_hover.png",DOWN:"home_pressed.png"},fullpage:{REST:"fullpage_rest.png",GROUP:"fullpage_grouphover.png",HOVER:"fullpage_hover.png",DOWN:"fullpage_pressed.png"},rotateleft:{REST:"rotateleft_rest.png",GROUP:"rotateleft_grouphover.png",HOVER:"rotateleft_hover.png",DOWN:"rotateleft_pressed.png"},rotateright:{REST:"rotateright_rest.png",GROUP:"rotateright_grouphover.png",HOVER:"rotateright_hover.png",DOWN:"rotateright_pressed.png"},flip:{REST:"flip_rest.png",GROUP:"flip_grouphover.png",HOVER:"flip_hover.png",DOWN:"flip_pressed.png"},previous:{REST:"previous_rest.png",GROUP:"previous_grouphover.png",HOVER:"previous_hover.png",DOWN:"previous_pressed.png"},next:{REST:"next_rest.png",GROUP:"next_grouphover.png",HOVER:"next_hover.png",DOWN:"next_pressed.png"}},debugMode:!1,debugGridColor:["#437AB2","#1B9E77","#D95F02","#7570B3","#E7298A","#66A61E","#E6AB02","#A6761D","#666666"],silenceMultiImageWarnings:!1},delegate:function(e,t){return function(){var r=arguments;return void 0===r&&(r=[]),t.apply(e,r)}},BROWSERS:{UNKNOWN:0,IE:1,FIREFOX:2,SAFARI:3,CHROME:4,OPERA:5,EDGE:6,CHROMEEDGE:7},SUBPIXEL_ROUNDING_OCCURRENCES:{NEVER:0,ONLY_AT_REST:1,ALWAYS:2},_viewers:new Map,getViewer:function(t){return e._viewers.get(this.getElement(t))},getElement:function(e){return"string"===typeof e&&(e=document.getElementById(e)),e},getElementPosition:function(t){var r,n,i=new e.Point;t=e.getElement(t),r="fixed"===e.getElementStyle(t).position,n=l(t,r);while(n)i.x+=t.offsetLeft,i.y+=t.offsetTop,r&&(i=i.plus(e.getPageScroll())),t=n,r="fixed"===e.getElementStyle(t).position,n=l(t,r);return i},getElementOffset:function(t){t=e.getElement(t);var r,n,i=t&&t.ownerDocument,l={top:0,left:0};return i?(r=i.documentElement,"undefined"!==typeof t.getBoundingClientRect&&(l=t.getBoundingClientRect()),n=i===i.window?i:9===i.nodeType&&(i.defaultView||i.parentWindow),new e.Point(l.left+(n.pageXOffset||r.scrollLeft)-(r.clientLeft||0),l.top+(n.pageYOffset||r.scrollTop)-(r.clientTop||0))):new e.Point},getElementSize:function(t){return t=e.getElement(t),new e.Point(t.clientWidth,t.clientHeight)},getElementStyle:document.documentElement.currentStyle?function(t){return t=e.getElement(t),t.currentStyle}:function(t){return t=e.getElement(t),window.getComputedStyle(t,"")},getCssPropertyWithVendorPrefix:function(t){var r={};return e.getCssPropertyWithVendorPrefix=function(t){if(void 0!==r[t])return r[t];var n=document.createElement("div").style,i=null;if(void 0!==n[t])i=t;else for(var l=["Webkit","Moz","MS","O","webkit","moz","ms","o"],o=e.capitalizeFirstLetter(t),a=0;a<l.length;a++){var s=l[a]+o;if(void 0!==n[s]){i=s;break}}return r[t]=i,i},e.getCssPropertyWithVendorPrefix(t)},capitalizeFirstLetter:function(e){return e.charAt(0).toUpperCase()+e.slice(1)},positiveModulo:function(e,t){var r=e%t;return r<0&&(r+=t),r},pointInElement:function(t,r){t=e.getElement(t);var n=e.getElementOffset(t),i=e.getElementSize(t);return r.x>=n.x&&r.x<n.x+i.x&&r.y<n.y+i.y&&r.y>=n.y},getMousePosition:function(t){if("number"===typeof t.pageX)e.getMousePosition=function(t){var r=new e.Point;return r.x=t.pageX,r.y=t.pageY,r};else{if("number"!==typeof t.clientX)throw new Error("Unknown event mouse position, no known technique.");e.getMousePosition=function(t){var r=new e.Point;return r.x=t.clientX+document.body.scrollLeft+document.documentElement.scrollLeft,r.y=t.clientY+document.body.scrollTop+document.documentElement.scrollTop,r}}return e.getMousePosition(t)},getPageScroll:function(){var t=document.documentElement||{},r=document.body||{};if("number"===typeof window.pageXOffset)e.getPageScroll=function(){return new e.Point(window.pageXOffset,window.pageYOffset)};else if(r.scrollLeft||r.scrollTop)e.getPageScroll=function(){return new e.Point(document.body.scrollLeft,document.body.scrollTop)};else{if(!t.scrollLeft&&!t.scrollTop)return new e.Point(0,0);e.getPageScroll=function(){return new e.Point(document.documentElement.scrollLeft,document.documentElement.scrollTop)}}return e.getPageScroll()},setPageScroll:function(t){if("undefined"!==typeof window.scrollTo)e.setPageScroll=function(e){window.scrollTo(e.x,e.y)};else{var r=e.getPageScroll();if(r.x===t.x&&r.y===t.y)return;document.body.scrollLeft=t.x,document.body.scrollTop=t.y;var n=e.getPageScroll();if(n.x!==r.x&&n.y!==r.y)return void(e.setPageScroll=function(e){document.body.scrollLeft=e.x,document.body.scrollTop=e.y});if(document.documentElement.scrollLeft=t.x,document.documentElement.scrollTop=t.y,n=e.getPageScroll(),n.x!==r.x&&n.y!==r.y)return void(e.setPageScroll=function(e){document.documentElement.scrollLeft=e.x,document.documentElement.scrollTop=e.y});e.setPageScroll=function(e){}}e.setPageScroll(t)},getWindowSize:function(){var t=document.documentElement||{},r=document.body||{};if("number"===typeof window.innerWidth)e.getWindowSize=function(){return new e.Point(window.innerWidth,window.innerHeight)};else if(t.clientWidth||t.clientHeight)e.getWindowSize=function(){return new e.Point(document.documentElement.clientWidth,document.documentElement.clientHeight)};else{if(!r.clientWidth&&!r.clientHeight)throw new Error("Unknown window size, no known technique.");e.getWindowSize=function(){return new e.Point(document.body.clientWidth,document.body.clientHeight)}}return e.getWindowSize()},makeCenteredNode:function(t){t=e.getElement(t);var r=[e.makeNeutralElement("div"),e.makeNeutralElement("div"),e.makeNeutralElement("div")];return e.extend(r[0].style,{display:"table",height:"100%",width:"100%"}),e.extend(r[1].style,{display:"table-row"}),e.extend(r[2].style,{display:"table-cell",verticalAlign:"middle",textAlign:"center"}),r[0].appendChild(r[1]),r[1].appendChild(r[2]),r[2].appendChild(t),r[0]},makeNeutralElement:function(e){var t=document.createElement(e),r=t.style;return r.background="transparent none",r.border="none",r.margin="0px",r.padding="0px",r.position="static",t},now:function(){return Date.now?e.now=Date.now:e.now=function(){return(new Date).getTime()},e.now()},makeTransparentImage:function(t){var r=e.makeNeutralElement("img");return r.src=t,r},setElementOpacity:function(t,r,n){var i,l;t=e.getElement(t),n&&!e.Browser.alpha&&(r=Math.round(r)),e.Browser.opacity?t.style.opacity=r<1?r:"":r<1?(i=Math.round(100*r),l="alpha(opacity="+i+")",t.style.filter=l):t.style.filter=""},setElementTouchActionNone:function(t){t=e.getElement(t),"undefined"!==typeof t.style.touchAction?t.style.touchAction="none":"undefined"!==typeof t.style.msTouchAction&&(t.style.msTouchAction="none")},setElementPointerEvents:function(t,r){t=e.getElement(t),"undefined"!==typeof t.style&&"undefined"!==typeof t.style.pointerEvents&&(t.style.pointerEvents=r)},setElementPointerEventsNone:function(t){e.setElementPointerEvents(t,"none")},addClass:function(t,r){t=e.getElement(t),t.className?-1===(" "+t.className+" ").indexOf(" "+r+" ")&&(t.className+=" "+r):t.className=r},indexOf:function(e,t,r){return Array.prototype.indexOf?this.indexOf=function(e,t,r){return e.indexOf(t,r)}:this.indexOf=function(e,t,r){var n,i,l=r||0;if(!e)throw new TypeError;if(i=e.length,0===i||l>=i)return-1;for(l<0&&(l=i-Math.abs(l)),n=l;n<i;n++)if(e[n]===t)return n;return-1},this.indexOf(e,t,r)},removeClass:function(t,r){var n,i,l=[];for(t=e.getElement(t),n=t.className.split(/\s+/),i=0;i<n.length;i++)n[i]&&n[i]!==r&&l.push(n[i]);t.className=l.join(" ")},normalizeEventListenerOptions:function(t){var r;return r="undefined"!==typeof t?"boolean"===typeof t?e.supportsEventListenerOptions?{capture:t}:t:e.supportsEventListenerOptions?t:"undefined"!==typeof t.capture&&t.capture:!!e.supportsEventListenerOptions&&{capture:!1},r},addEvent:function(){if(e.supportsAddEventListener)return function(t,r,n,i){i=e.normalizeEventListenerOptions(i),t=e.getElement(t),t.addEventListener(r,n,i)};if(document.documentElement.attachEvent&&document.attachEvent)return function(t,r,n){t=e.getElement(t),t.attachEvent("on"+r,n)};throw new Error("No known event model.")}(),removeEvent:function(){if(e.supportsRemoveEventListener)return function(t,r,n,i){i=e.normalizeEventListenerOptions(i),t=e.getElement(t),t.removeEventListener(r,n,i)};if(document.documentElement.detachEvent&&document.detachEvent)return function(t,r,n){t=e.getElement(t),t.detachEvent("on"+r,n)};throw new Error("No known event model.")}(),cancelEvent:function(e){e.preventDefault()},eventIsCanceled:function(e){return e.defaultPrevented},stopEvent:function(e){e.stopPropagation()},createCallback:function(e,t){console.error("The createCallback function is deprecated and will be removed in future versions. Please use alternativeFunction instead.");var r,n=[];for(r=2;r<arguments.length;r++)n.push(arguments[r]);return function(){var r,i=n.concat([]);for(r=0;r<arguments.length;r++)i.push(arguments[r]);return t.apply(e,i)}},getUrlParameter:function(e){var t=i[e];return t||null},getUrlProtocol:function(e){var t=e.match(/^([a-z]+:)\/\//i);return null===t?window.location.protocol:t[1].toLowerCase()},createAjaxRequest:function(){if(window.XMLHttpRequest)return e.createAjaxRequest=function(){return new XMLHttpRequest},new XMLHttpRequest;throw new Error("Browser doesn't support XMLHttpRequest.")},makeAjaxRequest:function(t,r,n){var i,l,o,a;e.isPlainObject(t)&&(r=t.success,n=t.error,i=t.withCredentials,l=t.headers,o=t.responseType||null,a=t.postData||null,t=t.url);var s=e.getUrlProtocol(t),c=e.createAjaxRequest();if(!e.isFunction(r))throw new Error("makeAjaxRequest requires a success callback");c.onreadystatechange=function(){4===c.readyState&&(c.onreadystatechange=function(){},c.status>=200&&c.status<300||0===c.status&&"http:"!==s&&"https:"!==s?r(c):e.isFunction(n)?n(c):e.console.error("AJAX request returned %d: %s",c.status,t))};var u=a?"POST":"GET";try{if(c.open(u,t,!0),o&&(c.responseType=o),l)for(var p in l)Object.prototype.hasOwnProperty.call(l,p)&&l[p]&&c.setRequestHeader(p,l[p]);i&&(c.withCredentials=!0),c.send(a)}catch(h){e.console.error("%s while making AJAX request: %s",h.name,h.message),c.onreadystatechange=function(){},e.isFunction(n)&&n(c,h)}return c},jsonp:function(t){var r,n=t.url,i=document.head||document.getElementsByTagName("head")[0]||document.documentElement,l=t.callbackName||"openseadragon"+e.now(),o=window[l],a="$1"+l+"$2",s=t.param||"callback",c=t.callback;n=n.replace(/(=)\?(&|$)|\?\?/i,a),n+=(/\?/.test(n)?"&":"?")+s+"="+l,window[l]=function(t){if(o)window[l]=o;else try{delete window[l]}catch(r){}c&&e.isFunction(c)&&c(t)},r=document.createElement("script"),void 0===t.async&&!1===t.async||(r.async="async"),t.scriptCharset&&(r.charset=t.scriptCharset),r.src=n,r.onload=r.onreadystatechange=function(e,t){(t||!r.readyState||/loaded|complete/.test(r.readyState))&&(r.onload=r.onreadystatechange=null,i&&r.parentNode&&i.removeChild(r),r=void 0)},i.insertBefore(r,i.firstChild)},createFromDZI:function(){throw"OpenSeadragon.createFromDZI is deprecated, use Viewer.open."},parseXml:function(t){if(!window.DOMParser)throw new Error("Browser doesn't support XML DOM.");return e.parseXml=function(e){var t,r=null;return t=new DOMParser,r=t.parseFromString(e,"text/xml"),r},e.parseXml(t)},parseJSON:function(t){return e.parseJSON=window.JSON.parse,e.parseJSON(t)},imageFormatSupported:function(e){return e=e||"",!!n[e.toLowerCase()]},setImageFormatsSupported:function(t){e.extend(n,t)}});var r=function(e){};e.console=window.console||{log:r,debug:r,info:r,warn:r,error:r,assert:r},e.Browser={vendor:e.BROWSERS.UNKNOWN,version:0,alpha:!0};var n={avif:!0,bmp:!1,jpeg:!0,jpg:!0,png:!0,tif:!1,wdp:!1,webp:!0},i={};function l(e,t){return t&&e!==document.body?document.body:e.offsetParent}(function(){var t,r=navigator.appVersion,n=navigator.userAgent;switch(navigator.appName){case"Microsoft Internet Explorer":window.attachEvent&&window.ActiveXObject&&(e.Browser.vendor=e.BROWSERS.IE,e.Browser.version=parseFloat(n.substring(n.indexOf("MSIE")+5,n.indexOf(";",n.indexOf("MSIE")))));break;case"Netscape":window.addEventListener&&(n.indexOf("Edge")>=0?(e.Browser.vendor=e.BROWSERS.EDGE,e.Browser.version=parseFloat(n.substring(n.indexOf("Edge")+5))):n.indexOf("Edg")>=0?(e.Browser.vendor=e.BROWSERS.CHROMEEDGE,e.Browser.version=parseFloat(n.substring(n.indexOf("Edg")+4))):n.indexOf("Firefox")>=0?(e.Browser.vendor=e.BROWSERS.FIREFOX,e.Browser.version=parseFloat(n.substring(n.indexOf("Firefox")+8))):n.indexOf("Safari")>=0?(e.Browser.vendor=n.indexOf("Chrome")>=0?e.BROWSERS.CHROME:e.BROWSERS.SAFARI,e.Browser.version=parseFloat(n.substring(n.substring(0,n.indexOf("Safari")).lastIndexOf("/")+1,n.indexOf("Safari")))):(t=new RegExp("Trident/.*rv:([0-9]{1,}[.0-9]{0,})"),null!==t.exec(n)&&(e.Browser.vendor=e.BROWSERS.IE,e.Browser.version=parseFloat(RegExp.$1))));break;case"Opera":e.Browser.vendor=e.BROWSERS.OPERA,e.Browser.version=parseFloat(r);break}var l,o,a,s=window.location.search.substring(1),c=s.split("&");for(a=0;a<c.length;a++)if(l=c[a],o=l.indexOf("="),o>0){var u=l.substring(0,o),p=l.substring(o+1);try{i[u]=decodeURIComponent(p)}catch(h){e.console.error("Ignoring malformed URL parameter: %s=%s",u,p)}}e.Browser.alpha=!(e.Browser.vendor===e.BROWSERS.CHROME&&e.Browser.version<2),e.Browser.opacity=!0,e.Browser.vendor===e.BROWSERS.IE&&e.console.error("Internet Explorer is not supported by OpenSeadragon")})(),function(t){var r=t.requestAnimationFrame||t.mozRequestAnimationFrame||t.webkitRequestAnimationFrame||t.msRequestAnimationFrame,n=t.cancelAnimationFrame||t.mozCancelAnimationFrame||t.webkitCancelAnimationFrame||t.msCancelAnimationFrame;if(r&&n)e.requestAnimationFrame=function(){return r.apply(t,arguments)},e.cancelAnimationFrame=function(){return n.apply(t,arguments)};else{var i,l=[],o=[],a=0;e.requestAnimationFrame=function(t){return l.push([++a,t]),i||(i=setInterval((function(){if(l.length){var t=e.now(),r=o;o=l,l=r;while(o.length)o.shift()[1](t)}else clearInterval(i),i=void 0}),20)),a},e.cancelAnimationFrame=function(e){var t,r;for(t=0,r=l.length;t<r;t+=1)if(l[t][0]===e)return void l.splice(t,1);for(t=0,r=o.length;t<r;t+=1)if(o[t][0]===e)return void o.splice(t,1)}}}(window)}(o),function(r,o){i=[],n=o,l="function"===typeof n?n.apply(t,i):n,void 0===l||(e.exports=l)}(0,(function(){return o})),function(e){class t{constructor(e){e||(e=[0,0,0,0,0,0,0,0,0]),this.values=e}static makeIdentity(){return new t([1,0,0,0,1,0,0,0,1])}static makeTranslation(e,r){return new t([1,0,0,0,1,0,e,r,1])}static makeRotation(e){var r=Math.cos(e),n=Math.sin(e);return new t([r,-n,0,n,r,0,0,0,1])}static makeScaling(e,r){return new t([e,0,0,0,r,0,0,0,1])}multiply(e){let r=this.values,n=e.values;var i=r[0],l=r[1],o=r[2],a=r[3],s=r[4],c=r[5],u=r[6],p=r[7],h=r[8],d=n[0],f=n[1],g=n[2],v=n[3],m=n[4],A=n[5],y=n[6],w=n[7],_=n[8];return new t([d*i+f*a+g*u,d*l+f*s+g*p,d*o+f*c+g*h,v*i+m*a+A*u,v*l+m*s+A*p,v*o+m*c+A*h,y*i+w*a+_*u,y*l+w*s+_*p,y*o+w*c+_*h])}}e.Mat3=t}(o),function(e){var t={supportsFullScreen:!1,isFullScreen:function(){return!1},getFullScreenElement:function(){return null},requestFullScreen:function(){},exitFullScreen:function(){},cancelFullScreen:function(){},fullScreenEventName:"",fullScreenErrorEventName:""};document.exitFullscreen?(t.supportsFullScreen=!0,t.getFullScreenElement=function(){return document.fullscreenElement},t.requestFullScreen=function(t){return t.requestFullscreen().catch((function(t){e.console.error("Fullscreen request failed: ",t)}))},t.exitFullScreen=function(){document.exitFullscreen().catch((function(t){e.console.error("Error while exiting fullscreen: ",t)}))},t.fullScreenEventName="fullscreenchange",t.fullScreenErrorEventName="fullscreenerror"):document.msExitFullscreen?(t.supportsFullScreen=!0,t.getFullScreenElement=function(){return document.msFullscreenElement},t.requestFullScreen=function(e){return e.msRequestFullscreen()},t.exitFullScreen=function(){document.msExitFullscreen()},t.fullScreenEventName="MSFullscreenChange",t.fullScreenErrorEventName="MSFullscreenError"):document.webkitExitFullscreen?(t.supportsFullScreen=!0,t.getFullScreenElement=function(){return document.webkitFullscreenElement},t.requestFullScreen=function(e){return e.webkitRequestFullscreen()},t.exitFullScreen=function(){document.webkitExitFullscreen()},t.fullScreenEventName="webkitfullscreenchange",t.fullScreenErrorEventName="webkitfullscreenerror"):document.webkitCancelFullScreen?(t.supportsFullScreen=!0,t.getFullScreenElement=function(){return document.webkitCurrentFullScreenElement},t.requestFullScreen=function(e){return e.webkitRequestFullScreen()},t.exitFullScreen=function(){document.webkitCancelFullScreen()},t.fullScreenEventName="webkitfullscreenchange",t.fullScreenErrorEventName="webkitfullscreenerror"):document.mozCancelFullScreen&&(t.supportsFullScreen=!0,t.getFullScreenElement=function(){return document.mozFullScreenElement},t.requestFullScreen=function(e){return e.mozRequestFullScreen()},t.exitFullScreen=function(){document.mozCancelFullScreen()},t.fullScreenEventName="mozfullscreenchange",t.fullScreenErrorEventName="mozfullscreenerror"),t.isFullScreen=function(){return null!==t.getFullScreenElement()},t.cancelFullScreen=function(){e.console.error("cancelFullScreen is deprecated. Use exitFullScreen instead."),t.exitFullScreen()},e.extend(e,t)}(o),function(e){e.EventSource=function(){this.events={},this._rejectedEventList={}},e.EventSource.prototype={addOnceHandler:function(e,t,r,n,i){var l=this;n=n||1;var o=0,a=function(r){return o++,o===n&&l.removeHandler(e,a),t(r)};return this.addHandler(e,a,r,i)},addHandler:function(t,r,n,i){if(Object.prototype.hasOwnProperty.call(this._rejectedEventList,t))return e.console.error(`Error adding handler for ${t}. ${this._rejectedEventList[t]}`),!1;var l=this.events[t];if(l||(this.events[t]=l=[]),r&&e.isFunction(r)){var o=l.length,a={handler:r,userData:n||null,priority:i||0};l[o]=a;while(o>0&&l[o-1].priority<l[o].priority)l[o]=l[o-1],l[o-1]=a,o--}return!0},removeHandler:function(t,r){var n,i=this.events[t],l=[];if(i&&e.isArray(i)){for(n=0;n<i.length;n++)i[n].handler!==r&&l.push(i[n]);this.events[t]=l}},numberOfHandlers:function(e){var t=this.events[e];return t?t.length:0},removeAllHandlers:function(e){if(e)this.events[e]=[];else for(var t in this.events)this.events[t]=[]},getHandler:function(e){var t=this.events[e];return t&&t.length?(t=1===t.length?[t[0]]:Array.apply(null,t),function(e,r){var n,i=t.length;for(n=0;n<i;n++)t[n]&&(r.eventSource=e,r.userData=t[n].userData,t[n].handler(r))}):null},raiseEvent:function(t,r){if(Object.prototype.hasOwnProperty.call(this._rejectedEventList,t))return e.console.error(`Error adding handler for ${t}. ${this._rejectedEventList[t]}`),!1;var n=this.getHandler(t);return n&&n(this,r||{}),!0},rejectEventHandler(e,t=""){this._rejectedEventList[e]=t},allowEventHandler(e){delete this._rejectedEventList[e]}}}(o),function(e){var t=[],r={};e.MouseTracker=function(n){t.push(this);var i=arguments;e.isPlainObject(n)||(n={element:i[0],clickTimeThreshold:i[1],clickDistThreshold:i[2]}),this.hash=Math.random(),this.element=e.getElement(n.element),this.clickTimeThreshold=n.clickTimeThreshold||e.DEFAULT_SETTINGS.clickTimeThreshold,this.clickDistThreshold=n.clickDistThreshold||e.DEFAULT_SETTINGS.clickDistThreshold,this.dblClickTimeThreshold=n.dblClickTimeThreshold||e.DEFAULT_SETTINGS.dblClickTimeThreshold,this.dblClickDistThreshold=n.dblClickDistThreshold||e.DEFAULT_SETTINGS.dblClickDistThreshold,this.userData=n.userData||null,this.stopDelay=n.stopDelay||50,this.preProcessEventHandler=n.preProcessEventHandler||null,this.contextMenuHandler=n.contextMenuHandler||null,this.enterHandler=n.enterHandler||null,this.leaveHandler=n.leaveHandler||null,this.exitHandler=n.exitHandler||null,this.overHandler=n.overHandler||null,this.outHandler=n.outHandler||null,this.pressHandler=n.pressHandler||null,this.nonPrimaryPressHandler=n.nonPrimaryPressHandler||null,this.releaseHandler=n.releaseHandler||null,this.nonPrimaryReleaseHandler=n.nonPrimaryReleaseHandler||null,this.moveHandler=n.moveHandler||null,this.scrollHandler=n.scrollHandler||null,this.clickHandler=n.clickHandler||null,this.dblClickHandler=n.dblClickHandler||null,this.dragHandler=n.dragHandler||null,this.dragEndHandler=n.dragEndHandler||null,this.pinchHandler=n.pinchHandler||null,this.stopHandler=n.stopHandler||null,this.keyDownHandler=n.keyDownHandler||null,this.keyUpHandler=n.keyUpHandler||null,this.keyHandler=n.keyHandler||null,this.focusHandler=n.focusHandler||null,this.blurHandler=n.blurHandler||null;var l=this;r[this.hash]={click:function(e){A(l,e)},dblclick:function(e){y(l,e)},keydown:function(e){w(l,e)},keyup:function(e){_(l,e)},keypress:function(e){x(l,e)},focus:function(e){T(l,e)},blur:function(e){b(l,e)},contextmenu:function(e){E(l,e)},wheel:function(e){S(l,e)},mousewheel:function(e){P(l,e)},DOMMouseScroll:function(e){P(l,e)},MozMousePixelScroll:function(e){P(l,e)},losecapture:function(e){C(l,e)},mouseenter:function(e){M(l,e)},mouseleave:function(e){z(l,e)},mouseover:function(e){H(l,e)},mouseout:function(e){j(l,e)},mousedown:function(e){U(l,e)},mouseup:function(e){V(l,e)},mousemove:function(e){q(l,e)},touchstart:function(e){O(l,e)},touchend:function(e){D(l,e)},touchmove:function(e){I(l,e)},touchcancel:function(e){k(l,e)},gesturestart:function(e){F(l,e)},gesturechange:function(e){N(l,e)},gotpointercapture:function(e){B(l,e)},lostpointercapture:function(e){L(l,e)},pointerenter:function(e){M(l,e)},pointerleave:function(e){z(l,e)},pointerover:function(e){H(l,e)},pointerout:function(e){j(l,e)},pointerdown:function(e){U(l,e)},pointerup:function(e){V(l,e)},pointermove:function(e){q(l,e)},pointercancel:function(e){X(l,e)},pointerupcaptured:function(e){W(l,e)},pointermovecaptured:function(e){Z(l,e)},tracking:!1,activePointersLists:[],lastClickPos:null,dblClickTimeOut:null,pinchGPoints:[],lastPinchDist:0,currentPinchDist:0,lastPinchCenter:null,currentPinchCenter:null,sentDragEvent:!1},this.hasGestureHandlers=!!(this.pressHandler||this.nonPrimaryPressHandler||this.releaseHandler||this.nonPrimaryReleaseHandler||this.clickHandler||this.dblClickHandler||this.dragHandler||this.dragEndHandler||this.pinchHandler),this.hasScrollHandler=!!this.scrollHandler,e.MouseTracker.havePointerEvents&&e.setElementPointerEvents(this.element,"auto"),this.exitHandler&&e.console.error("MouseTracker.exitHandler is deprecated. Use MouseTracker.leaveHandler instead."),n.startDisabled||this.setTracking(!0)},e.MouseTracker.prototype={destroy:function(){var e;for(a(this),this.element=null,e=0;e<t.length;e++)if(t[e]===this){t.splice(e,1);break}r[this.hash]=null,delete r[this.hash]},isTracking:function(){return r[this.hash].tracking},setTracking:function(e){return e?o(this):a(this),this},getActivePointersListByType:function(t){var n,i,l=r[this.hash],o=l?l.activePointersLists.length:0;for(n=0;n<o;n++)if(l.activePointersLists[n].type===t)return l.activePointersLists[n];return i=new e.MouseTracker.GesturePointList(t),l&&l.activePointersLists.push(i),i},getActivePointerCount:function(){var e,t=r[this.hash],n=t.activePointersLists.length,i=0;for(e=0;e<n;e++)i+=t.activePointersLists[e].getLength();return i},preProcessEventHandler:function(){},contextMenuHandler:function(){},enterHandler:function(){},leaveHandler:function(){},exitHandler:function(){},overHandler:function(){},outHandler:function(){},pressHandler:function(){},nonPrimaryPressHandler:function(){},releaseHandler:function(){},nonPrimaryReleaseHandler:function(){},moveHandler:function(){},scrollHandler:function(){},clickHandler:function(){},dblClickHandler:function(){},dragHandler:function(){},dragEndHandler:function(){},pinchHandler:function(){},stopHandler:function(){},keyDownHandler:function(){},keyUpHandler:function(){},keyHandler:function(){},focusHandler:function(){},blurHandler:function(){}};var n=function(){try{return window.self!==window.top}catch(e){return!0}}();function i(e){try{return e.addEventListener&&e.removeEventListener}catch(t){return!1}}function l(e){var t,n,i,l,o,a=r[e.hash],s=a.activePointersLists.length;for(t=0;t<s;t++)if(i=a.activePointersLists[t],i.getLength()>0){for(o=[],l=i.asArray(),n=0;n<l.length;n++)o.push(l[n]);for(n=0;n<o.length;n++)K(e,i,o[n])}for(t=0;t<s;t++)a.activePointersLists.pop();a.sentDragEvent=!1}function o(t){var n,i,o=r[t.hash];if(!o.tracking){for(i=0;i<e.MouseTracker.subscribeEvents.length;i++)n=e.MouseTracker.subscribeEvents[i],e.addEvent(t.element,n,o[n],n===e.MouseTracker.wheelEventName&&{passive:!1,capture:!1});l(t),o.tracking=!0}}function a(t){var n,i,o=r[t.hash];if(o.tracking){for(i=0;i<e.MouseTracker.subscribeEvents.length;i++)n=e.MouseTracker.subscribeEvents[i],e.removeEvent(t.element,n,o[n],!1);l(t),o.tracking=!1}}function s(e,t){var n=r[e.hash];if("pointerevent"===t)return{upName:"pointerup",upHandler:n.pointerupcaptured,moveName:"pointermove",moveHandler:n.pointermovecaptured};if("mouse"===t)return{upName:"pointerup",upHandler:n.pointerupcaptured,moveName:"pointermove",moveHandler:n.pointermovecaptured};if("touch"===t)return{upName:"touchend",upHandler:n.touchendcaptured,moveName:"touchmove",moveHandler:n.touchmovecaptured};throw new Error("MouseTracker.getCaptureEventParams: Unknown pointer type.")}function c(t,r){var l;if(e.MouseTracker.havePointerCapture)if(e.MouseTracker.havePointerEvents)try{t.element.setPointerCapture(r.id)}catch(o){return void e.console.warn("setPointerCapture() called on invalid pointer ID")}else t.element.setCapture(!0);else l=s(t,e.MouseTracker.havePointerEvents?"pointerevent":r.type),n&&i(window.top)&&e.addEvent(window.top,l.upName,l.upHandler,!0),e.addEvent(e.MouseTracker.captureElement,l.upName,l.upHandler,!0),e.addEvent(e.MouseTracker.captureElement,l.moveName,l.moveHandler,!0);ee(t,r,!0)}function u(t,r){var l,o,a;if(e.MouseTracker.havePointerCapture)if(e.MouseTracker.havePointerEvents){if(o=t.getActivePointersListByType(r.type),a=o.getById(r.id),!a||!a.captured)return;try{t.element.releasePointerCapture(r.id)}catch(c){}}else t.element.releaseCapture();else l=s(t,e.MouseTracker.havePointerEvents?"pointerevent":r.type),n&&i(window.top)&&e.removeEvent(window.top,l.upName,l.upHandler,!0),e.removeEvent(e.MouseTracker.captureElement,l.moveName,l.moveHandler,!0),e.removeEvent(e.MouseTracker.captureElement,l.upName,l.upHandler,!0);ee(t,r,!1)}function p(t){return e.MouseTracker.havePointerEvents?t.pointerId:e.MouseTracker.mousePointerId}function h(t){return e.MouseTracker.havePointerEvents&&t.pointerType?t.pointerType:"mouse"}function d(t){return!e.MouseTracker.havePointerEvents||t.isPrimary}function f(t){return e.getMousePosition(t)}function g(e,t){return v(f(e),t)}function v(t,r){var n=e.getElementOffset(r);return t.minus(n)}function m(t,r){return new e.Point((t.x+r.x)/2,(t.y+r.y)/2)}function A(t,r){var n={originalEvent:r,eventType:"click",pointerType:"mouse",isEmulated:!1};Q(t,n),n.preventDefault&&!n.defaultPrevented&&e.cancelEvent(r),n.stopPropagation&&e.stopEvent(r)}function y(t,r){var n={originalEvent:r,eventType:"dblclick",pointerType:"mouse",isEmulated:!1};Q(t,n),n.preventDefault&&!n.defaultPrevented&&e.cancelEvent(r),n.stopPropagation&&e.stopEvent(r)}function w(t,r){var n=null,i={originalEvent:r,eventType:"keydown",pointerType:"",isEmulated:!1};Q(t,i),!t.keyDownHandler||i.preventGesture||i.defaultPrevented||(n={eventSource:t,keyCode:r.keyCode?r.keyCode:r.charCode,ctrl:r.ctrlKey,shift:r.shiftKey,alt:r.altKey,meta:r.metaKey,originalEvent:r,preventDefault:i.preventDefault||i.defaultPrevented,userData:t.userData},t.keyDownHandler(n)),(n&&n.preventDefault||i.preventDefault&&!i.defaultPrevented)&&e.cancelEvent(r),i.stopPropagation&&e.stopEvent(r)}function _(t,r){var n=null,i={originalEvent:r,eventType:"keyup",pointerType:"",isEmulated:!1};Q(t,i),!t.keyUpHandler||i.preventGesture||i.defaultPrevented||(n={eventSource:t,keyCode:r.keyCode?r.keyCode:r.charCode,ctrl:r.ctrlKey,shift:r.shiftKey,alt:r.altKey,meta:r.metaKey,originalEvent:r,preventDefault:i.preventDefault||i.defaultPrevented,userData:t.userData},t.keyUpHandler(n)),(n&&n.preventDefault||i.preventDefault&&!i.defaultPrevented)&&e.cancelEvent(r),i.stopPropagation&&e.stopEvent(r)}function x(t,r){var n=null,i={originalEvent:r,eventType:"keypress",pointerType:"",isEmulated:!1};Q(t,i),!t.keyHandler||i.preventGesture||i.defaultPrevented||(n={eventSource:t,keyCode:r.keyCode?r.keyCode:r.charCode,ctrl:r.ctrlKey,shift:r.shiftKey,alt:r.altKey,meta:r.metaKey,originalEvent:r,preventDefault:i.preventDefault||i.defaultPrevented,userData:t.userData},t.keyHandler(n)),(n&&n.preventDefault||i.preventDefault&&!i.defaultPrevented)&&e.cancelEvent(r),i.stopPropagation&&e.stopEvent(r)}function T(e,t){var r={originalEvent:t,eventType:"focus",pointerType:"",isEmulated:!1};Q(e,r),e.focusHandler&&!r.preventGesture&&e.focusHandler({eventSource:e,originalEvent:t,userData:e.userData})}function b(e,t){var r={originalEvent:t,eventType:"blur",pointerType:"",isEmulated:!1};Q(e,r),e.blurHandler&&!r.preventGesture&&e.blurHandler({eventSource:e,originalEvent:t,userData:e.userData})}function E(t,r){var n=null,i={originalEvent:r,eventType:"contextmenu",pointerType:"mouse",isEmulated:!1};Q(t,i),!t.contextMenuHandler||i.preventGesture||i.defaultPrevented||(n={eventSource:t,position:v(f(r),t.element),originalEvent:i.originalEvent,preventDefault:i.preventDefault||i.defaultPrevented,userData:t.userData},t.contextMenuHandler(n)),(n&&n.preventDefault||i.preventDefault&&!i.defaultPrevented)&&e.cancelEvent(r),i.stopPropagation&&e.stopEvent(r)}function S(e,t){R(e,t,t)}function P(t,r){var n={target:r.target||r.srcElement,type:"wheel",shiftKey:r.shiftKey||!1,clientX:r.clientX,clientY:r.clientY,pageX:r.pageX?r.pageX:r.clientX,pageY:r.pageY?r.pageY:r.clientY,deltaMode:"MozMousePixelScroll"===r.type?0:1,deltaX:0,deltaZ:0};"mousewheel"===e.MouseTracker.wheelEventName?n.deltaY=-r.wheelDelta/e.DEFAULT_SETTINGS.pixelsPerWheelLine:n.deltaY=r.detail,R(t,n,r)}function R(t,r,n){var i,l=0,o=null;l=r.deltaY?r.deltaY<0?1:-1:0,i={originalEvent:r,eventType:"wheel",pointerType:"mouse",isEmulated:r!==n},Q(t,i),!t.scrollHandler||i.preventGesture||i.defaultPrevented||(o={eventSource:t,pointerType:"mouse",position:g(r,t.element),scroll:l,shift:r.shiftKey,isTouchEvent:!1,originalEvent:n,preventDefault:i.preventDefault||i.defaultPrevented,userData:t.userData},t.scrollHandler(o)),i.stopPropagation&&e.stopEvent(n),(o&&o.preventDefault||i.preventDefault&&!i.defaultPrevented)&&e.cancelEvent(n)}function C(t,r){var n={id:e.MouseTracker.mousePointerId,type:"mouse"},i={originalEvent:r,eventType:"lostpointercapture",pointerType:"mouse",isEmulated:!1};Q(t,i),r.target===t.element&&ee(t,n,!1),i.stopPropagation&&e.stopEvent(r)}function O(t,r){var n,i,l,o=r.changedTouches.length,a=t.getActivePointersListByType("touch");n=e.now(),a.getLength()>r.touches.length-o&&e.console.warn("Tracked touch contact count doesn't match event.touches.length");var s={originalEvent:r,eventType:"pointerdown",pointerType:"touch",isEmulated:!1};for(Q(t,s),i=0;i<o;i++)l={id:r.changedTouches[i].identifier,type:"touch",isPrimary:0===a.getLength(),currentPos:f(r.changedTouches[i]),currentTime:n},te(t,s,l),le(t,s,l,0),ee(t,l,!0);s.preventDefault&&!s.defaultPrevented&&e.cancelEvent(r),s.stopPropagation&&e.stopEvent(r)}function D(t,r){var n,i,l,o=r.changedTouches.length;n=e.now();var a={originalEvent:r,eventType:"pointerup",pointerType:"touch",isEmulated:!1};for(Q(t,a),i=0;i<o;i++)l={id:r.changedTouches[i].identifier,type:"touch",currentPos:f(r.changedTouches[i]),currentTime:n},oe(t,a,l,0),ee(t,l,!1),re(t,a,l);a.preventDefault&&!a.defaultPrevented&&e.cancelEvent(r),a.stopPropagation&&e.stopEvent(r)}function I(t,r){var n,i,l,o=r.changedTouches.length;n=e.now();var a={originalEvent:r,eventType:"pointermove",pointerType:"touch",isEmulated:!1};for(Q(t,a),i=0;i<o;i++)l={id:r.changedTouches[i].identifier,type:"touch",currentPos:f(r.changedTouches[i]),currentTime:n},ae(t,a,l);a.preventDefault&&!a.defaultPrevented&&e.cancelEvent(r),a.stopPropagation&&e.stopEvent(r)}function k(t,r){var n,i,l=r.changedTouches.length,o={originalEvent:r,eventType:"pointercancel",pointerType:"touch",isEmulated:!1};for(Q(t,o),n=0;n<l;n++)i={id:r.changedTouches[n].identifier,type:"touch"},se(t,o,i);o.stopPropagation&&e.stopEvent(r)}function F(t,r){return e.eventIsCanceled(r)||r.preventDefault(),!1}function N(t,r){return e.eventIsCanceled(r)||r.preventDefault(),!1}function B(t,r){var n={originalEvent:r,eventType:"gotpointercapture",pointerType:h(r),isEmulated:!1};Q(t,n),r.target===t.element&&ee(t,{id:r.pointerId,type:h(r)},!0),n.stopPropagation&&e.stopEvent(r)}function L(t,r){var n={originalEvent:r,eventType:"lostpointercapture",pointerType:h(r),isEmulated:!1};Q(t,n),r.target===t.element&&ee(t,{id:r.pointerId,type:h(r)},!1),n.stopPropagation&&e.stopEvent(r)}function M(t,r){var n={id:p(r),type:h(r),isPrimary:d(r),currentPos:f(r),currentTime:e.now()},i={originalEvent:r,eventType:"pointerenter",pointerType:n.type,isEmulated:!1};Q(t,i),te(t,i,n)}function z(t,r){var n={id:p(r),type:h(r),isPrimary:d(r),currentPos:f(r),currentTime:e.now()},i={originalEvent:r,eventType:"pointerleave",pointerType:n.type,isEmulated:!1};Q(t,i),re(t,i,n)}function H(t,r){var n={id:p(r),type:h(r),isPrimary:d(r),currentPos:f(r),currentTime:e.now()},i={originalEvent:r,eventType:"pointerover",pointerType:n.type,isEmulated:!1};Q(t,i),ne(t,i,n),i.preventDefault&&!i.defaultPrevented&&e.cancelEvent(r),i.stopPropagation&&e.stopEvent(r)}function j(t,r){var n={id:p(r),type:h(r),isPrimary:d(r),currentPos:f(r),currentTime:e.now()},i={originalEvent:r,eventType:"pointerout",pointerType:n.type,isEmulated:!1};Q(t,i),ie(t,i,n),i.preventDefault&&!i.defaultPrevented&&e.cancelEvent(r),i.stopPropagation&&e.stopEvent(r)}function U(t,r){var n={id:p(r),type:h(r),isPrimary:d(r),currentPos:f(r),currentTime:e.now()},i=e.MouseTracker.havePointerEvents&&"touch"===n.type,l={originalEvent:r,eventType:"pointerdown",pointerType:n.type,isEmulated:!1};Q(t,l),le(t,l,n,r.button),l.preventDefault&&!l.defaultPrevented&&e.cancelEvent(r),l.stopPropagation&&e.stopEvent(r),l.shouldCapture&&(i?ee(t,n,!0):c(t,n))}function V(e,t){G(e,t)}function W(t,r){var n=t.getActivePointersListByType(h(r));n.getById(r.pointerId)&&G(t,r),e.stopEvent(r)}function G(t,r){var n;n={id:p(r),type:h(r),isPrimary:d(r),currentPos:f(r),currentTime:e.now()};var i={originalEvent:r,eventType:"pointerup",pointerType:n.type,isEmulated:!1};Q(t,i),oe(t,i,n,r.button),i.preventDefault&&!i.defaultPrevented&&e.cancelEvent(r),i.stopPropagation&&e.stopEvent(r),i.shouldReleaseCapture&&(r.target===t.element?u(t,n):ee(t,n,!1))}function q(e,t){$(e,t)}function Z(t,r){var n=t.getActivePointersListByType(h(r));n.getById(r.pointerId)&&$(t,r),e.stopEvent(r)}function $(t,r){var n={id:p(r),type:h(r),isPrimary:d(r),currentPos:f(r),currentTime:e.now()},i={originalEvent:r,eventType:"pointermove",pointerType:n.type,isEmulated:!1};Q(t,i),ae(t,i,n),i.preventDefault&&!i.defaultPrevented&&e.cancelEvent(r),i.stopPropagation&&e.stopEvent(r)}function X(t,r){var n={id:r.pointerId,type:h(r)},i={originalEvent:r,eventType:"pointercancel",pointerType:n.type,isEmulated:!1};Q(t,i),se(t,i,n),i.stopPropagation&&e.stopEvent(r)}function Y(e,t){return t.speed=0,t.direction=0,t.contactPos=t.currentPos,t.contactTime=t.currentTime,t.lastPos=t.currentPos,t.lastTime=t.currentTime,e.add(t)}function K(t,r,n){var i,l=r.getById(n.id);return l?(l.captured&&(e.console.warn("stopTrackingPointer() called on captured pointer"),u(t,l)),r.removeContact(),i=r.removeById(n.id)):i=r.getLength(),i}function J(e,t){switch(t.eventType){case"pointermove":t.isStoppable=!0,t.isCancelable=!0,t.preventDefault=!1,t.preventGesture=!e.hasGestureHandlers,t.stopPropagation=!1;break;case"pointerover":case"pointerout":case"contextmenu":case"keydown":case"keyup":case"keypress":t.isStoppable=!0,t.isCancelable=!0,t.preventDefault=!1,t.preventGesture=!1,t.stopPropagation=!1;break;case"pointerdown":t.isStoppable=!0,t.isCancelable=!0,t.preventDefault=!1,t.preventGesture=!e.hasGestureHandlers,t.stopPropagation=!1;break;case"pointerup":t.isStoppable=!0,t.isCancelable=!0,t.preventDefault=!1,t.preventGesture=!e.hasGestureHandlers,t.stopPropagation=!1;break;case"wheel":t.isStoppable=!0,t.isCancelable=!0,t.preventDefault=!1,t.preventGesture=!e.hasScrollHandler,t.stopPropagation=!1;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":t.isStoppable=!0,t.isCancelable=!1,t.preventDefault=!1,t.preventGesture=!1,t.stopPropagation=!1;break;case"click":t.isStoppable=!0,t.isCancelable=!0,t.preventDefault=!!e.clickHandler,t.preventGesture=!1,t.stopPropagation=!1;break;case"dblclick":t.isStoppable=!0,t.isCancelable=!0,t.preventDefault=!!e.dblClickHandler,t.preventGesture=!1,t.stopPropagation=!1;break;case"focus":case"blur":case"pointerenter":case"pointerleave":default:t.isStoppable=!1,t.isCancelable=!1,t.preventDefault=!1,t.preventGesture=!1,t.stopPropagation=!1;break}}function Q(t,r){r.eventSource=t,r.eventPhase=r.originalEvent&&"undefined"!==typeof r.originalEvent.eventPhase?r.originalEvent.eventPhase:0,r.defaultPrevented=e.eventIsCanceled(r.originalEvent),r.shouldCapture=!1,r.shouldReleaseCapture=!1,r.userData=t.userData,J(t,r),t.preProcessEventHandler&&t.preProcessEventHandler(r)}function ee(t,r,n){var i=t.getActivePointersListByType(r.type),l=i.getById(r.id);l?n&&!l.captured?(l.captured=!0,i.captureCount++):!n&&l.captured&&(l.captured=!1,i.captureCount--,i.captureCount<0&&(i.captureCount=0,e.console.warn("updatePointerCaptured() - pointsList.captureCount went negative"))):e.console.warn("updatePointerCaptured() called on untracked pointer")}function te(e,t,r){var n,i=e.getActivePointersListByType(r.type);n=i.getById(r.id),n?(n.insideElement=!0,n.lastPos=n.currentPos,n.lastTime=n.currentTime,n.currentPos=r.currentPos,n.currentTime=r.currentTime,r=n):(r.captured=!1,r.insideElementPressed=!1,r.insideElement=!0,Y(i,r)),e.enterHandler&&e.enterHandler({eventSource:e,pointerType:r.type,position:v(r.currentPos,e.element),buttons:i.buttons,pointers:e.getActivePointerCount(),insideElementPressed:r.insideElementPressed,buttonDownAny:0!==i.buttons,isTouchEvent:"touch"===r.type,originalEvent:t.originalEvent,userData:e.userData})}function re(e,t,r){var n,i,l=e.getActivePointersListByType(r.type);n=l.getById(r.id),n?(n.captured?(n.insideElement=!1,n.lastPos=n.currentPos,n.lastTime=n.currentTime,n.currentPos=r.currentPos,n.currentTime=r.currentTime):K(e,l,n),r=n):(r.captured=!1,r.insideElementPressed=!1),(e.leaveHandler||e.exitHandler)&&(i={eventSource:e,pointerType:r.type,position:r.currentPos&&v(r.currentPos,e.element),buttons:l.buttons,pointers:e.getActivePointerCount(),insideElementPressed:r.insideElementPressed,buttonDownAny:0!==l.buttons,isTouchEvent:"touch"===r.type,originalEvent:t.originalEvent,userData:e.userData},e.leaveHandler&&e.leaveHandler(i),e.exitHandler&&e.exitHandler(i))}function ne(e,t,r){var n,i;n=e.getActivePointersListByType(r.type),i=n.getById(r.id),i?r=i:(r.captured=!1,r.insideElementPressed=!1),e.overHandler&&e.overHandler({eventSource:e,pointerType:r.type,position:v(r.currentPos,e.element),buttons:n.buttons,pointers:e.getActivePointerCount(),insideElementPressed:r.insideElementPressed,buttonDownAny:0!==n.buttons,isTouchEvent:"touch"===r.type,originalEvent:t.originalEvent,userData:e.userData})}function ie(e,t,r){var n,i;n=e.getActivePointersListByType(r.type),i=n.getById(r.id),i?r=i:(r.captured=!1,r.insideElementPressed=!1),e.outHandler&&e.outHandler({eventSource:e,pointerType:r.type,position:r.currentPos&&v(r.currentPos,e.element),buttons:n.buttons,pointers:e.getActivePointerCount(),insideElementPressed:r.insideElementPressed,buttonDownAny:0!==n.buttons,isTouchEvent:"touch"===r.type,originalEvent:t.originalEvent,userData:e.userData})}function le(t,n,i,l){var o,a=r[t.hash],s=t.getActivePointersListByType(i.type);if("undefined"!==typeof n.originalEvent.buttons?s.buttons=n.originalEvent.buttons:0===l?s.buttons|=1:1===l?s.buttons|=4:2===l?s.buttons|=2:3===l?s.buttons|=8:4===l?s.buttons|=16:5===l&&(s.buttons|=32),0!==l)return n.shouldCapture=!1,n.shouldReleaseCapture=!1,void(!t.nonPrimaryPressHandler||n.preventGesture||n.defaultPrevented||(n.preventDefault=!0,t.nonPrimaryPressHandler({eventSource:t,pointerType:i.type,position:v(i.currentPos,t.element),button:l,buttons:s.buttons,isTouchEvent:"touch"===i.type,originalEvent:n.originalEvent,userData:t.userData})));o=s.getById(i.id),o?(o.insideElementPressed=!0,o.insideElement=!0,o.originalTarget=n.originalEvent.target,o.contactPos=i.currentPos,o.contactTime=i.currentTime,o.lastPos=o.currentPos,o.lastTime=o.currentTime,o.currentPos=i.currentPos,o.currentTime=i.currentTime,i=o):(i.captured=!1,i.insideElementPressed=!0,i.insideElement=!0,i.originalTarget=n.originalEvent.target,Y(s,i)),s.addContact(),n.preventGesture||n.defaultPrevented?(n.shouldCapture=!1,n.shouldReleaseCapture=!1):(n.shouldCapture=!0,n.shouldReleaseCapture=!1,n.preventDefault=!0,(t.dragHandler||t.dragEndHandler||t.pinchHandler)&&e.MouseTracker.gesturePointVelocityTracker.addPoint(t,i),1===s.contacts?t.pressHandler&&!n.preventGesture&&t.pressHandler({eventSource:t,pointerType:i.type,position:v(i.contactPos,t.element),buttons:s.buttons,isTouchEvent:"touch"===i.type,originalEvent:n.originalEvent,userData:t.userData}):2===s.contacts&&t.pinchHandler&&"touch"===i.type&&(a.pinchGPoints=s.asArray(),a.lastPinchDist=a.currentPinchDist=a.pinchGPoints[0].currentPos.distanceTo(a.pinchGPoints[1].currentPos),a.lastPinchCenter=a.currentPinchCenter=m(a.pinchGPoints[0].currentPos,a.pinchGPoints[1].currentPos)))}function oe(t,n,i,l){var o,a,s,c,u=r[t.hash],p=t.getActivePointersListByType(i.type),h=!1;if("undefined"!==typeof n.originalEvent.buttons?p.buttons=n.originalEvent.buttons:0===l?p.buttons^=-2:1===l?p.buttons^=-5:2===l?p.buttons^=-3:3===l?p.buttons^=-9:4===l?p.buttons^=-17:5===l&&(p.buttons^=-33),n.shouldCapture=!1,0!==l)return n.shouldReleaseCapture=!1,void(!t.nonPrimaryReleaseHandler||n.preventGesture||n.defaultPrevented||(n.preventDefault=!0,t.nonPrimaryReleaseHandler({eventSource:t,pointerType:i.type,position:v(i.currentPos,t.element),button:l,buttons:p.buttons,isTouchEvent:"touch"===i.type,originalEvent:n.originalEvent,userData:t.userData})));s=p.getById(i.id),s?(p.removeContact(),s.captured&&(h=!0),s.lastPos=s.currentPos,s.lastTime=s.currentTime,s.currentPos=i.currentPos,s.currentTime=i.currentTime,s.insideElement||K(t,p,s),o=s.currentPos,a=s.currentTime):(i.captured=!1,i.insideElementPressed=!1,i.insideElement=!0,Y(p,i),s=i),n.preventGesture||n.defaultPrevented||(h?(n.shouldReleaseCapture=!0,n.preventDefault=!0,(t.dragHandler||t.dragEndHandler||t.pinchHandler)&&e.MouseTracker.gesturePointVelocityTracker.removePoint(t,s),0===p.contacts?(t.releaseHandler&&o&&t.releaseHandler({eventSource:t,pointerType:s.type,position:v(o,t.element),buttons:p.buttons,insideElementPressed:s.insideElementPressed,insideElementReleased:s.insideElement,isTouchEvent:"touch"===s.type,originalEvent:n.originalEvent,userData:t.userData}),t.dragEndHandler&&u.sentDragEvent&&t.dragEndHandler({eventSource:t,pointerType:s.type,position:v(s.currentPos,t.element),speed:s.speed,direction:s.direction,shift:n.originalEvent.shiftKey,isTouchEvent:"touch"===s.type,originalEvent:n.originalEvent,userData:t.userData}),u.sentDragEvent=!1,(t.clickHandler||t.dblClickHandler)&&s.insideElement&&(c=a-s.contactTime<=t.clickTimeThreshold&&s.contactPos.distanceTo(o)<=t.clickDistThreshold,t.clickHandler&&t.clickHandler({eventSource:t,pointerType:s.type,position:v(s.currentPos,t.element),quick:c,shift:n.originalEvent.shiftKey,isTouchEvent:"touch"===s.type,originalEvent:n.originalEvent,originalTarget:s.originalTarget,userData:t.userData}),t.dblClickHandler&&c&&(p.clicks++,1===p.clicks?(u.lastClickPos=o,u.dblClickTimeOut=setTimeout((function(){p.clicks=0}),t.dblClickTimeThreshold)):2===p.clicks&&(clearTimeout(u.dblClickTimeOut),p.clicks=0,u.lastClickPos.distanceTo(o)<=t.dblClickDistThreshold&&t.dblClickHandler({eventSource:t,pointerType:s.type,position:v(s.currentPos,t.element),shift:n.originalEvent.shiftKey,isTouchEvent:"touch"===s.type,originalEvent:n.originalEvent,userData:t.userData}),u.lastClickPos=null)))):2===p.contacts&&t.pinchHandler&&"touch"===s.type&&(u.pinchGPoints=p.asArray(),u.lastPinchDist=u.currentPinchDist=u.pinchGPoints[0].currentPos.distanceTo(u.pinchGPoints[1].currentPos),u.lastPinchCenter=u.currentPinchCenter=m(u.pinchGPoints[0].currentPos,u.pinchGPoints[1].currentPos))):(n.shouldReleaseCapture=!1,t.releaseHandler&&o&&(t.releaseHandler({eventSource:t,pointerType:s.type,position:v(o,t.element),buttons:p.buttons,insideElementPressed:s.insideElementPressed,insideElementReleased:s.insideElement,isTouchEvent:"touch"===s.type,originalEvent:n.originalEvent,userData:t.userData}),n.preventDefault=!0)))}function ae(e,t,n){var i,l,o,a=r[e.hash],s=e.getActivePointersListByType(n.type);"undefined"!==typeof t.originalEvent.buttons&&(s.buttons=t.originalEvent.buttons),i=s.getById(n.id),i&&(i.lastPos=i.currentPos,i.lastTime=i.currentTime,i.currentPos=n.currentPos,i.currentTime=n.currentTime,t.shouldCapture=!1,t.shouldReleaseCapture=!1,e.stopHandler&&"mouse"===n.type&&(clearTimeout(e.stopTimeOut),e.stopTimeOut=setTimeout((function(){ce(e,t.originalEvent,n.type)}),e.stopDelay)),0===s.contacts?e.moveHandler&&e.moveHandler({eventSource:e,pointerType:n.type,position:v(n.currentPos,e.element),buttons:s.buttons,isTouchEvent:"touch"===n.type,originalEvent:t.originalEvent,userData:e.userData}):1===s.contacts?(e.moveHandler&&(i=s.asArray()[0],e.moveHandler({eventSource:e,pointerType:i.type,position:v(i.currentPos,e.element),buttons:s.buttons,isTouchEvent:"touch"===i.type,originalEvent:t.originalEvent,userData:e.userData})),!e.dragHandler||t.preventGesture||t.defaultPrevented||(i=s.asArray()[0],o=i.currentPos.minus(i.lastPos),e.dragHandler({eventSource:e,pointerType:i.type,position:v(i.currentPos,e.element),buttons:s.buttons,delta:o,speed:i.speed,direction:i.direction,shift:t.originalEvent.shiftKey,isTouchEvent:"touch"===i.type,originalEvent:t.originalEvent,userData:e.userData}),t.preventDefault=!0,a.sentDragEvent=!0)):2===s.contacts&&(e.moveHandler&&(l=s.asArray(),e.moveHandler({eventSource:e,pointerType:l[0].type,position:v(m(l[0].currentPos,l[1].currentPos),e.element),buttons:s.buttons,isTouchEvent:"touch"===l[0].type,originalEvent:t.originalEvent,userData:e.userData})),!e.pinchHandler||"touch"!==n.type||t.preventGesture||t.defaultPrevented||(o=a.pinchGPoints[0].currentPos.distanceTo(a.pinchGPoints[1].currentPos),o!==a.currentPinchDist&&(a.lastPinchDist=a.currentPinchDist,a.currentPinchDist=o,a.lastPinchCenter=a.currentPinchCenter,a.currentPinchCenter=m(a.pinchGPoints[0].currentPos,a.pinchGPoints[1].currentPos),e.pinchHandler({eventSource:e,pointerType:"touch",gesturePoints:a.pinchGPoints,lastCenter:v(a.lastPinchCenter,e.element),center:v(a.currentPinchCenter,e.element),lastDistance:a.lastPinchDist,distance:a.currentPinchDist,shift:t.originalEvent.shiftKey,originalEvent:t.originalEvent,userData:e.userData}),t.preventDefault=!0))))}function se(e,t,r){var n,i=e.getActivePointersListByType(r.type);n=i.getById(r.id),n&&K(e,i,n)}function ce(e,t,r){e.stopHandler&&e.stopHandler({eventSource:e,pointerType:r,position:g(t,e.element),buttons:e.getActivePointersListByType(r).buttons,isTouchEvent:"touch"===r,originalEvent:t,userData:e.userData})}e.MouseTracker.gesturePointVelocityTracker=function(){var t=[],r=0,n=0,i=function(e,t){return e.hash.toString()+t.type+t.id.toString()},l=function(){var r,i,l,o,a,s,c=t.length,u=e.now();for(o=u-n,n=u,r=0;r<c;r++)i=t[r],l=i.gPoint,l.direction=Math.atan2(l.currentPos.y-i.lastPos.y,l.currentPos.x-i.lastPos.x),a=i.lastPos.distanceTo(l.currentPos),i.lastPos=l.currentPos,s=1e3*a/(o+1),l.speed=.75*s+.25*l.speed},o=function(o,a){var s=i(o,a);t.push({guid:s,gPoint:a,lastPos:a.currentPos}),1===t.length&&(n=e.now(),r=window.setInterval(l,50))},a=function(e,n){var l,o=i(e,n),a=t.length;for(l=0;l<a;l++)if(t[l].guid===o){t.splice(l,1),a--,0===a&&window.clearInterval(r);break}};return{addPoint:o,removePoint:a}}(),e.MouseTracker.captureElement=document,e.MouseTracker.wheelEventName="onwheel"in document.createElement("div")?"wheel":void 0!==document.onmousewheel?"mousewheel":"DOMMouseScroll",e.MouseTracker.subscribeEvents=["click","dblclick","keydown","keyup","keypress","focus","blur","contextmenu",e.MouseTracker.wheelEventName],"DOMMouseScroll"===e.MouseTracker.wheelEventName&&e.MouseTracker.subscribeEvents.push("MozMousePixelScroll"),window.PointerEvent?(e.MouseTracker.havePointerEvents=!0,e.MouseTracker.subscribeEvents.push("pointerenter","pointerleave","pointerover","pointerout","pointerdown","pointerup","pointermove","pointercancel"),e.MouseTracker.havePointerCapture=function(){var t=document.createElement("div");return e.isFunction(t.setPointerCapture)&&e.isFunction(t.releasePointerCapture)}(),e.MouseTracker.havePointerCapture&&e.MouseTracker.subscribeEvents.push("gotpointercapture","lostpointercapture")):(e.MouseTracker.havePointerEvents=!1,e.MouseTracker.subscribeEvents.push("mouseenter","mouseleave","mouseover","mouseout","mousedown","mouseup","mousemove"),e.MouseTracker.mousePointerId="legacy-mouse",e.MouseTracker.havePointerCapture=function(){var t=document.createElement("div");return e.isFunction(t.setCapture)&&e.isFunction(t.releaseCapture)}(),e.MouseTracker.havePointerCapture&&e.MouseTracker.subscribeEvents.push("losecapture"),"ontouchstart"in window&&e.MouseTracker.subscribeEvents.push("touchstart","touchend","touchmove","touchcancel"),"ongesturestart"in window&&e.MouseTracker.subscribeEvents.push("gesturestart","gesturechange")),e.MouseTracker.GesturePointList=function(e){this._gPoints=[],this.type=e,this.buttons=0,this.contacts=0,this.clicks=0,this.captureCount=0},e.MouseTracker.GesturePointList.prototype={getLength:function(){return this._gPoints.length},asArray:function(){return this._gPoints},add:function(e){return this._gPoints.push(e)},removeById:function(e){var t,r=this._gPoints.length;for(t=0;t<r;t++)if(this._gPoints[t].id===e){this._gPoints.splice(t,1);break}return this._gPoints.length},getByIndex:function(e){return e<this._gPoints.length?this._gPoints[e]:null},getById:function(e){var t,r=this._gPoints.length;for(t=0;t<r;t++)if(this._gPoints[t].id===e)return this._gPoints[t];return null},getPrimary:function(e){var t,r=this._gPoints.length;for(t=0;t<r;t++)if(this._gPoints[t].isPrimary)return this._gPoints[t];return null},addContact:function(){++this.contacts,this.contacts>1&&("mouse"===this.type||"pen"===this.type)&&(e.console.warn("GesturePointList.addContact() Implausible contacts value"),this.contacts=1)},removeContact:function(){--this.contacts,this.contacts<0&&(this.contacts=0)}}}(o),function(e){e.ControlAnchor={NONE:0,TOP_LEFT:1,TOP_RIGHT:2,BOTTOM_RIGHT:3,BOTTOM_LEFT:4,ABSOLUTE:5},e.Control=function(t,r,n){var i=t.parentNode;"number"===typeof r&&(e.console.error("Passing an anchor directly into the OpenSeadragon.Control constructor is deprecated; please use an options object instead.  Support for this deprecated variant is scheduled for removal in December 2013"),r={anchor:r}),r.attachToViewer="undefined"===typeof r.attachToViewer||r.attachToViewer,this.autoFade="undefined"===typeof r.autoFade||r.autoFade,this.element=t,this.anchor=r.anchor,this.container=n,this.anchor===e.ControlAnchor.ABSOLUTE?(this.wrapper=e.makeNeutralElement("div"),this.wrapper.style.position="absolute",this.wrapper.style.top="number"===typeof r.top?r.top+"px":r.top,this.wrapper.style.left="number"===typeof r.left?r.left+"px":r.left,this.wrapper.style.height="number"===typeof r.height?r.height+"px":r.height,this.wrapper.style.width="number"===typeof r.width?r.width+"px":r.width,this.wrapper.style.margin="0px",this.wrapper.style.padding="0px",this.element.style.position="relative",this.element.style.top="0px",this.element.style.left="0px",this.element.style.height="100%",this.element.style.width="100%"):(this.wrapper=e.makeNeutralElement("div"),this.wrapper.style.display="inline-block",this.anchor===e.ControlAnchor.NONE&&(this.wrapper.style.width=this.wrapper.style.height="100%")),this.wrapper.appendChild(this.element),r.attachToViewer?this.anchor===e.ControlAnchor.TOP_RIGHT||this.anchor===e.ControlAnchor.BOTTOM_RIGHT?this.container.insertBefore(this.wrapper,this.container.firstChild):this.container.appendChild(this.wrapper):i.appendChild(this.wrapper)},e.Control.prototype={destroy:function(){this.wrapper.removeChild(this.element),this.anchor!==e.ControlAnchor.NONE&&this.container.removeChild(this.wrapper)},isVisible:function(){return"none"!==this.wrapper.style.display},setVisible:function(t){this.wrapper.style.display=t?this.anchor===e.ControlAnchor.ABSOLUTE?"block":"inline-block":"none"},setOpacity:function(t){e.setElementOpacity(this.wrapper,t,!0)}}}(o),function(e){function t(e,t){var r,n=e.controls;for(r=n.length-1;r>=0;r--)if(n[r].element===t)return r;return-1}e.ControlDock=function(t){var r,n,i=["topleft","topright","bottomright","bottomleft"];for(e.extend(!0,this,{id:"controldock-"+e.now()+"-"+Math.floor(1e6*Math.random()),container:e.makeNeutralElement("div"),controls:[]},t),this.container.onsubmit=function(){return!1},this.element&&(this.element=e.getElement(this.element),this.element.appendChild(this.container),"static"===e.getElementStyle(this.element).position&&(this.element.style.position="relative"),this.container.style.width="100%",this.container.style.height="100%"),n=0;n<i.length;n++)r=i[n],this.controls[r]=e.makeNeutralElement("div"),this.controls[r].style.position="absolute",r.match("left")&&(this.controls[r].style.left="0px"),r.match("right")&&(this.controls[r].style.right="0px"),r.match("top")&&(this.controls[r].style.top="0px"),r.match("bottom")&&(this.controls[r].style.bottom="0px");this.container.appendChild(this.controls.topleft),this.container.appendChild(this.controls.topright),this.container.appendChild(this.controls.bottomright),this.container.appendChild(this.controls.bottomleft)},e.ControlDock.prototype={addControl:function(r,n){r=e.getElement(r);var i=null;if(!(t(this,r)>=0)){switch(n.anchor){case e.ControlAnchor.TOP_RIGHT:i=this.controls.topright,r.style.position="relative",r.style.paddingRight="0px",r.style.paddingTop="0px";break;case e.ControlAnchor.BOTTOM_RIGHT:i=this.controls.bottomright,r.style.position="relative",r.style.paddingRight="0px",r.style.paddingBottom="0px";break;case e.ControlAnchor.BOTTOM_LEFT:i=this.controls.bottomleft,r.style.position="relative",r.style.paddingLeft="0px",r.style.paddingBottom="0px";break;case e.ControlAnchor.TOP_LEFT:i=this.controls.topleft,r.style.position="relative",r.style.paddingLeft="0px",r.style.paddingTop="0px";break;case e.ControlAnchor.ABSOLUTE:i=this.container,r.style.margin="0px",r.style.padding="0px";break;default:case e.ControlAnchor.NONE:i=this.container,r.style.margin="0px",r.style.padding="0px";break}this.controls.push(new e.Control(r,n,i)),r.style.display="inline-block"}},removeControl:function(r){r=e.getElement(r);var n=t(this,r);return n>=0&&(this.controls[n].destroy(),this.controls.splice(n,1)),this},clearControls:function(){while(this.controls.length>0)this.controls.pop().destroy();return this},areControlsEnabled:function(){var e;for(e=this.controls.length-1;e>=0;e--)if(this.controls[e].isVisible())return!0;return!1},setControlsEnabled:function(e){var t;for(t=this.controls.length-1;t>=0;t--)this.controls[t].setVisible(e);return this}}}(o),function(e){e.Placement=e.freezeObject({CENTER:0,TOP_LEFT:1,TOP:2,TOP_RIGHT:3,RIGHT:4,BOTTOM_RIGHT:5,BOTTOM:6,BOTTOM_LEFT:7,LEFT:8,properties:{0:{isLeft:!1,isHorizontallyCentered:!0,isRight:!1,isTop:!1,isVerticallyCentered:!0,isBottom:!1},1:{isLeft:!0,isHorizontallyCentered:!1,isRight:!1,isTop:!0,isVerticallyCentered:!1,isBottom:!1},2:{isLeft:!1,isHorizontallyCentered:!0,isRight:!1,isTop:!0,isVerticallyCentered:!1,isBottom:!1},3:{isLeft:!1,isHorizontallyCentered:!1,isRight:!0,isTop:!0,isVerticallyCentered:!1,isBottom:!1},4:{isLeft:!1,isHorizontallyCentered:!1,isRight:!0,isTop:!1,isVerticallyCentered:!0,isBottom:!1},5:{isLeft:!1,isHorizontallyCentered:!1,isRight:!0,isTop:!1,isVerticallyCentered:!1,isBottom:!0},6:{isLeft:!1,isHorizontallyCentered:!0,isRight:!1,isTop:!1,isVerticallyCentered:!1,isBottom:!0},7:{isLeft:!0,isHorizontallyCentered:!1,isRight:!1,isTop:!1,isVerticallyCentered:!1,isBottom:!0},8:{isLeft:!0,isHorizontallyCentered:!1,isRight:!1,isTop:!1,isVerticallyCentered:!0,isBottom:!1}}})}(o),function(e){var t={},r=1;function n(t){return t=e.getElement(t),new e.Point(0===t.clientWidth?1:t.clientWidth,0===t.clientHeight?1:t.clientHeight)}function i(t,r,n,i,l){var o=t;if("string"===e.type(r))if(r.match(/^\s*<.*>\s*$/))r=e.parseXml(r);else if(r.match(/^\s*[{[].*[}\]]\s*$/))try{var a=e.parseJSON(r);r=a}catch(c){}function s(e,t){e.ready?i(e):(e.addHandler("ready",(function(){i(e)})),e.addHandler("open-failed",(function(e){l({message:e.message,source:t})})))}setTimeout((function(){if("string"===e.type(r))r=new e.TileSource({url:r,crossOriginPolicy:void 0!==n.crossOriginPolicy?n.crossOriginPolicy:t.crossOriginPolicy,ajaxWithCredentials:t.ajaxWithCredentials,ajaxHeaders:n.ajaxHeaders?n.ajaxHeaders:t.ajaxHeaders,splitHashDataForPost:t.splitHashDataForPost,success:function(e){i(e.tileSource)}}),r.addHandler("open-failed",(function(e){l(e)}));else if(e.isPlainObject(r)||r.nodeType)if(void 0!==r.crossOriginPolicy||void 0===n.crossOriginPolicy&&void 0===t.crossOriginPolicy||(r.crossOriginPolicy=void 0!==n.crossOriginPolicy?n.crossOriginPolicy:t.crossOriginPolicy),void 0===r.ajaxWithCredentials&&(r.ajaxWithCredentials=t.ajaxWithCredentials),e.isFunction(r.getTileUrl)){var a=new e.TileSource(r);a.getTileUrl=r.getTileUrl,i(a)}else{var c=e.TileSource.determineType(o,r);if(!c)return void l({message:"Unable to load TileSource",source:r});var u=c.prototype.configure.apply(o,[r]);s(new c(u),r)}else s(r,r)}))}function l(t,r){if(r instanceof e.Overlay)return r;var n=null;if(r.element)n=e.getElement(r.element);else{var i=r.id?r.id:"openseadragon-overlay-"+Math.floor(1e7*Math.random());n=e.getElement(r.id),n||(n=document.createElement("a"),n.href="#/overlay/"+i),n.id=i,e.addClass(n,r.className?r.className:"openseadragon-overlay")}var l=r.location,o=r.width,a=r.height;if(!l){var s=r.x,c=r.y;if(void 0!==r.px){var u=t.viewport.imageToViewportRectangle(new e.Rect(r.px,r.py,o||0,a||0));s=u.x,c=u.y,o=void 0!==o?u.width:void 0,a=void 0!==a?u.height:void 0}l=new e.Point(s,c)}var p=r.placement;return p&&"string"===e.type(p)&&(p=e.Placement[r.placement.toUpperCase()]),new e.Overlay({element:n,location:l,placement:p,onDraw:r.onDraw,checkResize:r.checkResize,width:o,height:a,rotationMode:r.rotationMode})}function a(e,t){var r;for(r=e.length-1;r>=0;r--)if(e[r].element===t)return r;return-1}function s(t,r){return e.requestAnimationFrame((function(){r(t)}))}function c(t){e.requestAnimationFrame((function(){p(t)}))}function u(t){t.autoHideControls&&(t.controlsShouldFade=!0,t.controlsFadeBeginTime=e.now()+t.controlsFadeDelay,window.setTimeout((function(){c(t)}),t.controlsFadeDelay))}function p(t){var r,n,i,l;if(t.controlsShouldFade){for(r=e.now(),n=r-t.controlsFadeBeginTime,i=1-n/t.controlsFadeLength,i=Math.min(1,i),i=Math.max(0,i),l=t.controls.length-1;l>=0;l--)t.controls[l].autoFade&&t.controls[l].setOpacity(i);i>0&&c(t)}}function h(e){var t;for(e.controlsShouldFade=!1,t=e.controls.length-1;t>=0;t--)e.controls[t].setOpacity(1)}function d(){h(this)}function f(){u(this)}function g(e){var t={tracker:e.eventSource,position:e.position,originalEvent:e.originalEvent,preventDefault:e.preventDefault};this.raiseEvent("canvas-contextmenu",t),e.preventDefault=t.preventDefault}function v(t){var r={originalEvent:t.originalEvent,preventDefaultAction:!1,preventVerticalPan:t.preventVerticalPan||!this.panVertical,preventHorizontalPan:t.preventHorizontalPan||!this.panHorizontal};if(this.raiseEvent("canvas-key",r),r.preventDefaultAction||t.ctrl||t.alt||t.meta)t.preventDefault=!1;else switch(t.keyCode){case 38:r.preventVerticalPan||(t.shift?this.viewport.zoomBy(1.1):this.viewport.panBy(this.viewport.deltaPointsFromPixels(new e.Point(0,-this.pixelsPerArrowPress))),this.viewport.applyConstraints()),t.preventDefault=!0;break;case 40:r.preventVerticalPan||(t.shift?this.viewport.zoomBy(.9):this.viewport.panBy(this.viewport.deltaPointsFromPixels(new e.Point(0,this.pixelsPerArrowPress))),this.viewport.applyConstraints()),t.preventDefault=!0;break;case 37:r.preventHorizontalPan||(this.viewport.panBy(this.viewport.deltaPointsFromPixels(new e.Point(-this.pixelsPerArrowPress,0))),this.viewport.applyConstraints()),t.preventDefault=!0;break;case 39:r.preventHorizontalPan||(this.viewport.panBy(this.viewport.deltaPointsFromPixels(new e.Point(this.pixelsPerArrowPress,0))),this.viewport.applyConstraints()),t.preventDefault=!0;break;case 187:this.viewport.zoomBy(1.1),this.viewport.applyConstraints(),t.preventDefault=!0;break;case 189:this.viewport.zoomBy(.9),this.viewport.applyConstraints(),t.preventDefault=!0;break;case 48:this.viewport.goHome(),this.viewport.applyConstraints(),t.preventDefault=!0;break;case 87:r.preventVerticalPan||(t.shift?this.viewport.zoomBy(1.1):this.viewport.panBy(this.viewport.deltaPointsFromPixels(new e.Point(0,-40))),this.viewport.applyConstraints()),t.preventDefault=!0;break;case 83:r.preventVerticalPan||(t.shift?this.viewport.zoomBy(.9):this.viewport.panBy(this.viewport.deltaPointsFromPixels(new e.Point(0,40))),this.viewport.applyConstraints()),t.preventDefault=!0;break;case 65:r.preventHorizontalPan||(this.viewport.panBy(this.viewport.deltaPointsFromPixels(new e.Point(-40,0))),this.viewport.applyConstraints()),t.preventDefault=!0;break;case 68:r.preventHorizontalPan||(this.viewport.panBy(this.viewport.deltaPointsFromPixels(new e.Point(40,0))),this.viewport.applyConstraints()),t.preventDefault=!0;break;case 82:t.shift?this.viewport.flipped?this.viewport.setRotation(this.viewport.getRotation()+this.rotationIncrement):this.viewport.setRotation(this.viewport.getRotation()-this.rotationIncrement):this.viewport.flipped?this.viewport.setRotation(this.viewport.getRotation()-this.rotationIncrement):this.viewport.setRotation(this.viewport.getRotation()+this.rotationIncrement),this.viewport.applyConstraints(),t.preventDefault=!0;break;case 70:this.viewport.toggleFlip(),t.preventDefault=!0;break;case 74:this.goToPreviousPage();break;case 75:this.goToNextPage();break;default:t.preventDefault=!1;break}}function m(e){var t={originalEvent:e.originalEvent};this.raiseEvent("canvas-key-press",t)}function A(r){var n,i=document.activeElement===this.canvas;i||this.canvas.focus(),this.viewport.flipped&&(r.position.x=this.viewport.getContainerSize().x-r.position.x);var l={tracker:r.eventSource,position:r.position,quick:r.quick,shift:r.shift,originalEvent:r.originalEvent,originalTarget:r.originalTarget,preventDefaultAction:!1};this.raiseEvent("canvas-click",l),!l.preventDefaultAction&&this.viewport&&r.quick&&(n=this.gestureSettingsByDeviceType(r.pointerType),!0===n.clickToZoom&&(this.viewport.zoomBy(r.shift?1/this.zoomPerClick:this.zoomPerClick,n.zoomToRefPoint?this.viewport.pointFromPixel(r.position,!0):null),this.viewport.applyConstraints()),n.dblClickDragToZoom&&(!0===t[this.hash].draggingToZoom?(t[this.hash].lastClickTime=null,t[this.hash].draggingToZoom=!1):t[this.hash].lastClickTime=e.now()))}function y(e){var t,r={tracker:e.eventSource,position:e.position,shift:e.shift,originalEvent:e.originalEvent,preventDefaultAction:!1};this.raiseEvent("canvas-double-click",r),!r.preventDefaultAction&&this.viewport&&(t=this.gestureSettingsByDeviceType(e.pointerType),t.dblClickToZoom&&(this.viewport.zoomBy(e.shift?1/this.zoomPerClick:this.zoomPerClick,t.zoomToRefPoint?this.viewport.pointFromPixel(e.position,!0):null),this.viewport.applyConstraints()))}function w(e){var r,n={tracker:e.eventSource,pointerType:e.pointerType,position:e.position,delta:e.delta,speed:e.speed,direction:e.direction,shift:e.shift,originalEvent:e.originalEvent,preventDefaultAction:!1};if(this.raiseEvent("canvas-drag",n),r=this.gestureSettingsByDeviceType(e.pointerType),!n.preventDefaultAction&&this.viewport)if(r.dblClickDragToZoom&&t[this.hash].draggingToZoom){var i=Math.pow(this.zoomPerDblClickDrag,e.delta.y/50);this.viewport.zoomBy(i)}else if(r.dragToPan&&!t[this.hash].draggingToZoom){if(this.panHorizontal||(e.delta.x=0),this.panVertical||(e.delta.y=0),this.viewport.flipped&&(e.delta.x=-e.delta.x),this.constrainDuringPan){var l=this.viewport.deltaPointsFromPixels(e.delta.negate());this.viewport.centerSpringX.target.value+=l.x,this.viewport.centerSpringY.target.value+=l.y;var o=this.viewport.getConstrainedBounds();this.viewport.centerSpringX.target.value-=l.x,this.viewport.centerSpringY.target.value-=l.y,o.xConstrained&&(e.delta.x=0),o.yConstrained&&(e.delta.y=0)}this.viewport.panBy(this.viewport.deltaPointsFromPixels(e.delta.negate()),r.flickEnabled&&!this.constrainDuringPan)}}function _(r){var n,i={tracker:r.eventSource,pointerType:r.pointerType,position:r.position,speed:r.speed,direction:r.direction,shift:r.shift,originalEvent:r.originalEvent,preventDefaultAction:!1};if(this.raiseEvent("canvas-drag-end",i),n=this.gestureSettingsByDeviceType(r.pointerType),!i.preventDefaultAction&&this.viewport){if(!t[this.hash].draggingToZoom&&n.dragToPan&&n.flickEnabled&&r.speed>=n.flickMinSpeed){var l=0;this.panHorizontal&&(l=n.flickMomentum*r.speed*Math.cos(r.direction));var o=0;this.panVertical&&(o=n.flickMomentum*r.speed*Math.sin(r.direction));var a=this.viewport.pixelFromPoint(this.viewport.getCenter(!0)),s=this.viewport.pointFromPixel(new e.Point(a.x-l,a.y-o));this.viewport.panTo(s,!1)}this.viewport.applyConstraints()}n.dblClickDragToZoom&&!0===t[this.hash].draggingToZoom&&(t[this.hash].draggingToZoom=!1)}function x(e){this.raiseEvent("canvas-enter",{tracker:e.eventSource,pointerType:e.pointerType,position:e.position,buttons:e.buttons,pointers:e.pointers,insideElementPressed:e.insideElementPressed,buttonDownAny:e.buttonDownAny,originalEvent:e.originalEvent})}function T(e){this.raiseEvent("canvas-exit",{tracker:e.eventSource,pointerType:e.pointerType,position:e.position,buttons:e.buttons,pointers:e.pointers,insideElementPressed:e.insideElementPressed,buttonDownAny:e.buttonDownAny,originalEvent:e.originalEvent})}function b(r){var n;if(this.raiseEvent("canvas-press",{tracker:r.eventSource,pointerType:r.pointerType,position:r.position,insideElementPressed:r.insideElementPressed,insideElementReleased:r.insideElementReleased,originalEvent:r.originalEvent}),n=this.gestureSettingsByDeviceType(r.pointerType),n.dblClickDragToZoom){var i=t[this.hash].lastClickTime,l=e.now();if(null===i)return;l-i<this.dblClickTimeThreshold&&(t[this.hash].draggingToZoom=!0),t[this.hash].lastClickTime=null}}function E(e){this.raiseEvent("canvas-release",{tracker:e.eventSource,pointerType:e.pointerType,position:e.position,insideElementPressed:e.insideElementPressed,insideElementReleased:e.insideElementReleased,originalEvent:e.originalEvent})}function S(e){this.raiseEvent("canvas-nonprimary-press",{tracker:e.eventSource,position:e.position,pointerType:e.pointerType,button:e.button,buttons:e.buttons,originalEvent:e.originalEvent})}function P(e){this.raiseEvent("canvas-nonprimary-release",{tracker:e.eventSource,position:e.position,pointerType:e.pointerType,button:e.button,buttons:e.buttons,originalEvent:e.originalEvent})}function R(e){var t,r,n,i,l={tracker:e.eventSource,pointerType:e.pointerType,gesturePoints:e.gesturePoints,lastCenter:e.lastCenter,center:e.center,lastDistance:e.lastDistance,distance:e.distance,shift:e.shift,originalEvent:e.originalEvent,preventDefaultPanAction:!1,preventDefaultZoomAction:!1,preventDefaultRotateAction:!1};if(this.raiseEvent("canvas-pinch",l),this.viewport&&(t=this.gestureSettingsByDeviceType(e.pointerType),!t.pinchToZoom||l.preventDefaultPanAction&&l.preventDefaultZoomAction||(r=this.viewport.pointFromPixel(e.center,!0),t.zoomToRefPoint&&!l.preventDefaultPanAction&&(n=this.viewport.pointFromPixel(e.lastCenter,!0),i=n.minus(r),this.panHorizontal||(i.x=0),this.panVertical||(i.y=0),this.viewport.panBy(i,!0)),l.preventDefaultZoomAction||this.viewport.zoomBy(e.distance/e.lastDistance,r,!0),this.viewport.applyConstraints()),t.pinchRotate&&!l.preventDefaultRotateAction)){var o=Math.atan2(e.gesturePoints[0].currentPos.y-e.gesturePoints[1].currentPos.y,e.gesturePoints[0].currentPos.x-e.gesturePoints[1].currentPos.x),a=Math.atan2(e.gesturePoints[0].lastPos.y-e.gesturePoints[1].lastPos.y,e.gesturePoints[0].lastPos.x-e.gesturePoints[1].lastPos.x);r=this.viewport.pointFromPixel(e.center,!0),this.viewport.rotateTo(this.viewport.getRotation(!0)+(o-a)*(180/Math.PI),r,!0)}}function C(e){this.raiseEvent("canvas-focus",{tracker:e.eventSource,originalEvent:e.originalEvent})}function O(e){this.raiseEvent("canvas-blur",{tracker:e.eventSource,originalEvent:e.originalEvent})}function D(t){var r,n,i,l,o;l=e.now(),o=l-this._lastScrollTime,o>this.minScrollDeltaTime?(this._lastScrollTime=l,r={tracker:t.eventSource,position:t.position,scroll:t.scroll,shift:t.shift,originalEvent:t.originalEvent,preventDefaultAction:!1,preventDefault:!0},this.raiseEvent("canvas-scroll",r),!r.preventDefaultAction&&this.viewport&&(this.viewport.flipped&&(t.position.x=this.viewport.getContainerSize().x-t.position.x),n=this.gestureSettingsByDeviceType(t.pointerType),n.scrollToZoom&&(i=Math.pow(this.zoomPerScroll,t.scroll),this.viewport.zoomBy(i,n.zoomToRefPoint?this.viewport.pointFromPixel(t.position,!0):null),this.viewport.applyConstraints())),t.preventDefault=r.preventDefault):t.preventDefault=!0}function I(e){t[this.hash].mouseInside=!0,h(this),this.raiseEvent("container-enter",{tracker:e.eventSource,pointerType:e.pointerType,position:e.position,buttons:e.buttons,pointers:e.pointers,insideElementPressed:e.insideElementPressed,buttonDownAny:e.buttonDownAny,originalEvent:e.originalEvent})}function k(e){e.pointers<1&&(t[this.hash].mouseInside=!1,t[this.hash].animating||u(this)),this.raiseEvent("container-exit",{tracker:e.eventSource,pointerType:e.pointerType,position:e.position,buttons:e.buttons,pointers:e.pointers,insideElementPressed:e.insideElementPressed,buttonDownAny:e.buttonDownAny,originalEvent:e.originalEvent})}function F(e){B(e),e.isOpen()?e._updateRequestId=s(e,F):e._updateRequestId=!1}function N(r,n){var i,l=r.viewport,o=l.getZoom(),a=l.getCenter();if(l.resize(n,r.preserveImageSizeOnResize),l.panTo(a,!0),r.preserveImageSizeOnResize)i=t[r.hash].prevContainerSize.x/n.x;else{var s=new e.Point(0,0),c=new e.Point(t[r.hash].prevContainerSize.x,t[r.hash].prevContainerSize.y).distanceTo(s),u=new e.Point(n.x,n.y).distanceTo(s);i=u/c*t[r.hash].prevContainerSize.x/n.x}l.zoomTo(o*i,null,!0),t[r.hash].prevContainerSize=n,t[r.hash].forceRedraw=!0,t[r.hash].needsResize=!1,t[r.hash].forceResize=!1}function B(e){if(!e._opening&&t[e.hash]){if(e.autoResize||t[e.hash].forceResize){var r;if(e._autoResizePolling){r=n(e.container);var i=t[e.hash].prevContainerSize;r.equals(i)||(t[e.hash].needsResize=!0)}t[e.hash].needsResize&&N(e,r||n(e.container))}var l=e.viewport.update(),o=e.world.update(l)||l;l&&e.raiseEvent("viewport-change"),e.referenceStrip&&(o=e.referenceStrip.update(e.viewport)||o);var a=t[e.hash].animating;!a&&o&&(e.raiseEvent("animation-start"),h(e));var s=a&&!o;s&&(t[e.hash].animating=!1),(o||s||t[e.hash].forceRedraw||e.world.needsDraw())&&(L(e),e._drawOverlays(),e.navigator&&e.navigator.update(e.viewport),t[e.hash].forceRedraw=!1,o&&e.raiseEvent("animation")),s&&(e.raiseEvent("animation-finish"),t[e.hash].mouseInside||u(e)),t[e.hash].animating=o}}function L(e){e.imageLoader.clear(),e.world.draw(),e.raiseEvent("update-viewport",{})}function M(e,t){return e?e+t:t}function z(){t[this.hash].lastZoomTime=e.now(),t[this.hash].zoomFactor=this.zoomPerSecond,t[this.hash].zooming=!0,U(this)}function H(){t[this.hash].lastZoomTime=e.now(),t[this.hash].zoomFactor=1/this.zoomPerSecond,t[this.hash].zooming=!0,U(this)}function j(){t[this.hash].zooming=!1}function U(t){e.requestAnimationFrame(e.delegate(t,V))}function V(){var r,n,i;t[this.hash].zooming&&this.viewport&&(r=e.now(),n=r-t[this.hash].lastZoomTime,i=Math.pow(t[this.hash].zoomFactor,n/1e3),this.viewport.zoomBy(i),this.viewport.applyConstraints(),t[this.hash].lastZoomTime=r,U(this))}function W(){this.viewport&&(t[this.hash].zooming=!1,this.viewport.zoomBy(this.zoomPerClick/1),this.viewport.applyConstraints())}function G(){this.viewport&&(t[this.hash].zooming=!1,this.viewport.zoomBy(1/this.zoomPerClick),this.viewport.applyConstraints())}function q(){this.buttonGroup&&(this.buttonGroup.emulateEnter(),this.buttonGroup.emulateLeave())}function Z(){this.viewport&&this.viewport.goHome()}function $(){this.isFullPage()&&!e.isFullScreen()?this.setFullPage(!1):this.setFullScreen(!this.isFullPage()),this.buttonGroup&&this.buttonGroup.emulateLeave(),this.fullPageButton.element.focus(),this.viewport&&this.viewport.applyConstraints()}function X(){if(this.viewport){var e=this.viewport.getRotation();this.viewport.flipped?e+=this.rotationIncrement:e-=this.rotationIncrement,this.viewport.setRotation(e)}}function Y(){if(this.viewport){var e=this.viewport.getRotation();this.viewport.flipped?e-=this.rotationIncrement:e+=this.rotationIncrement,this.viewport.setRotation(e)}}function K(){this.viewport.toggleFlip()}e.Viewer=function(i){var l,o=arguments,a=this;e.isPlainObject(i)||(i={id:o[0],xmlPath:o.length>1?o[1]:void 0,prefixUrl:o.length>2?o[2]:void 0,controls:o.length>3?o[3]:void 0,overlays:o.length>4?o[4]:void 0}),i.config&&(e.extend(!0,i,i.config),delete i.config);let c=["useCanvas"];if(i.drawerOptions=Object.assign({},c.reduce(((e,t)=>(e[t]=i[t],delete i[t],e)),{}),i.drawerOptions),e.extend(!0,this,{id:i.id,hash:i.hash||r++,initialPage:0,element:null,container:null,canvas:null,overlays:[],overlaysContainer:null,previousBody:[],customControls:[],source:null,drawer:null,world:null,viewport:null,navigator:null,collectionViewport:null,collectionDrawer:null,navImages:null,buttonGroup:null,profiler:null},e.DEFAULT_SETTINGS,i),"undefined"===typeof this.hash)throw new Error("A hash must be defined, either by specifying options.id or options.hash.");"undefined"!==typeof t[this.hash]&&e.console.warn("Hash "+this.hash+" has already been used."),t[this.hash]={fsBoundsDelta:new e.Point(1,1),prevContainerSize:null,animating:!1,forceRedraw:!1,needsResize:!1,forceResize:!1,mouseInside:!1,group:null,zooming:!1,zoomFactor:null,lastZoomTime:null,fullPage:!1,onfullscreenchange:null,lastClickTime:null,draggingToZoom:!1},this._sequenceIndex=0,this._firstOpen=!0,this._updateRequestId=null,this._loadQueue=[],this.currentOverlays=[],this._updatePixelDensityRatioBind=null,this._lastScrollTime=e.now(),e.EventSource.call(this),this.addHandler("open-failed",(function(t){var r=e.getString("Errors.OpenFailed",t.eventSource,t.message);a._showMessage(r)})),e.ControlDock.call(this,i),this.xmlPath&&(this.tileSources=[this.xmlPath]),this.element=this.element||document.getElementById(this.id),this.canvas=e.makeNeutralElement("div"),this.canvas.className="openseadragon-canvas",function(e){e.width="100%",e.height="100%",e.overflow="hidden",e.position="absolute",e.top="0px",e.left="0px"}(this.canvas.style),e.setElementTouchActionNone(this.canvas),""!==i.tabIndex&&(this.canvas.tabIndex=void 0===i.tabIndex?0:i.tabIndex),this.container.className="openseadragon-container",function(e){e.width="100%",e.height="100%",e.position="relative",e.overflow="hidden",e.left="0px",e.top="0px",e.textAlign="left"}(this.container.style),e.setElementTouchActionNone(this.container),this.container.insertBefore(this.canvas,this.container.firstChild),this.element.appendChild(this.container),this.bodyWidth=document.body.style.width,this.bodyHeight=document.body.style.height,this.bodyOverflow=document.body.style.overflow,this.docOverflow=document.documentElement.style.overflow,this.innerTracker=new e.MouseTracker({userData:"Viewer.innerTracker",element:this.canvas,startDisabled:!this.mouseNavEnabled,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,dblClickTimeThreshold:this.dblClickTimeThreshold,dblClickDistThreshold:this.dblClickDistThreshold,contextMenuHandler:e.delegate(this,g),keyDownHandler:e.delegate(this,v),keyHandler:e.delegate(this,m),clickHandler:e.delegate(this,A),dblClickHandler:e.delegate(this,y),dragHandler:e.delegate(this,w),dragEndHandler:e.delegate(this,_),enterHandler:e.delegate(this,x),leaveHandler:e.delegate(this,T),pressHandler:e.delegate(this,b),releaseHandler:e.delegate(this,E),nonPrimaryPressHandler:e.delegate(this,S),nonPrimaryReleaseHandler:e.delegate(this,P),scrollHandler:e.delegate(this,D),pinchHandler:e.delegate(this,R),focusHandler:e.delegate(this,C),blurHandler:e.delegate(this,O)}),this.outerTracker=new e.MouseTracker({userData:"Viewer.outerTracker",element:this.container,startDisabled:!this.mouseNavEnabled,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,dblClickTimeThreshold:this.dblClickTimeThreshold,dblClickDistThreshold:this.dblClickDistThreshold,enterHandler:e.delegate(this,I),leaveHandler:e.delegate(this,k)}),this.toolbar&&(this.toolbar=new e.ControlDock({element:this.toolbar})),this.bindStandardControls(),t[this.hash].prevContainerSize=n(this.container),window.ResizeObserver?(this._autoResizePolling=!1,this._resizeObserver=new ResizeObserver((function(){t[a.hash].needsResize=!0})),this._resizeObserver.observe(this.container,{})):this._autoResizePolling=!0,this.world=new e.World({viewer:this}),this.world.addHandler("add-item",(function(e){a.source=a.world.getItemAt(0).source,t[a.hash].forceRedraw=!0,a._updateRequestId||(a._updateRequestId=s(a,F))})),this.world.addHandler("remove-item",(function(e){a.world.getItemCount()?a.source=a.world.getItemAt(0).source:a.source=null,t[a.hash].forceRedraw=!0})),this.world.addHandler("metrics-change",(function(e){a.viewport&&a.viewport._setContentBounds(a.world.getHomeBounds(),a.world.getContentFactor())})),this.world.addHandler("item-index-change",(function(e){a.source=a.world.getItemAt(0).source})),this.viewport=new e.Viewport({containerSize:t[this.hash].prevContainerSize,springStiffness:this.springStiffness,animationTime:this.animationTime,minZoomImageRatio:this.minZoomImageRatio,maxZoomPixelRatio:this.maxZoomPixelRatio,visibilityRatio:this.visibilityRatio,wrapHorizontal:this.wrapHorizontal,wrapVertical:this.wrapVertical,defaultZoomLevel:this.defaultZoomLevel,minZoomLevel:this.minZoomLevel,maxZoomLevel:this.maxZoomLevel,viewer:this,degrees:this.degrees,flipped:this.flipped,overlayPreserveContentDirection:this.overlayPreserveContentDirection,navigatorRotate:this.navigatorRotate,homeFillsViewer:this.homeFillsViewer,margins:this.viewportMargins,silenceMultiImageWarnings:this.silenceMultiImageWarnings}),this.viewport._setContentBounds(this.world.getHomeBounds(),this.world.getContentFactor()),this.imageLoader=new e.ImageLoader({jobLimit:this.imageLoaderLimit,timeout:i.timeout,tileRetryMax:this.tileRetryMax,tileRetryDelay:this.tileRetryDelay}),this.tileCache=new e.TileCache({maxImageCacheCount:this.maxImageCacheCount}),Object.prototype.hasOwnProperty.call(this.drawerOptions,"useCanvas")&&(e.console.error('useCanvas is deprecated, use the "drawer" option to indicate preferred drawer(s)'),this.drawerOptions.useCanvas||(this.drawer=e.HTMLDrawer),delete this.drawerOptions.useCanvas);let p=Array.isArray(this.drawer)?this.drawer:[this.drawer];0===p.length&&(p=[e.DEFAULT_SETTINGS.drawer].flat(),e.console.warn("No valid drawers were selected. Using the default value.")),this.drawer=null;for(const e of p){let t=this.requestDrawer(e,{mainDrawer:!0,redrawImmediately:!1});if(t)break}if(!this.drawer)throw e.console.error("No drawer could be created!"),"Error with creating the selected drawer(s)";for(this.drawer.setImageSmoothingEnabled(this.imageSmoothingEnabled),this.overlaysContainer=e.makeNeutralElement("div"),this.canvas.appendChild(this.overlaysContainer),this.drawer.canRotate()||(this.rotateLeft&&(l=this.buttonGroup.buttons.indexOf(this.rotateLeft),this.buttonGroup.buttons.splice(l,1),this.buttonGroup.element.removeChild(this.rotateLeft.element)),this.rotateRight&&(l=this.buttonGroup.buttons.indexOf(this.rotateRight),this.buttonGroup.buttons.splice(l,1),this.buttonGroup.element.removeChild(this.rotateRight.element))),this._addUpdatePixelDensityRatioEvent(),this.showNavigator&&(this.navigator=new e.Navigator({element:this.navigatorElement,id:this.navigatorId,position:this.navigatorPosition,sizeRatio:this.navigatorSizeRatio,maintainSizeRatio:this.navigatorMaintainSizeRatio,top:this.navigatorTop,left:this.navigatorLeft,width:this.navigatorWidth,height:this.navigatorHeight,autoResize:this.navigatorAutoResize,autoFade:this.navigatorAutoFade,prefixUrl:this.prefixUrl,viewer:this,navigatorRotate:this.navigatorRotate,background:this.navigatorBackground,opacity:this.navigatorOpacity,borderColor:this.navigatorBorderColor,displayRegionColor:this.navigatorDisplayRegionColor,crossOriginPolicy:this.crossOriginPolicy,animationTime:this.animationTime,drawer:this.drawer.getType(),loadTilesWithAjax:this.loadTilesWithAjax,ajaxHeaders:this.ajaxHeaders,ajaxWithCredentials:this.ajaxWithCredentials})),this.sequenceMode&&this.bindSequenceControls(),this.tileSources&&this.open(this.tileSources),l=0;l<this.customControls.length;l++)this.addControl(this.customControls[l].id,{anchor:this.customControls[l].anchor});e.requestAnimationFrame((function(){u(a)})),e._viewers.set(this.element,this)},e.extend(e.Viewer.prototype,e.EventSource.prototype,e.ControlDock.prototype,{isOpen:function(){return!!this.world.getItemCount()},openDzi:function(t){return e.console.error("[Viewer.openDzi] this function is deprecated; use Viewer.open() instead."),this.open(t)},openTileSource:function(t){return e.console.error("[Viewer.openTileSource] this function is deprecated; use Viewer.open() instead."),this.open(t)},get buttons(){return e.console.warn("Viewer.buttons is deprecated; Please use Viewer.buttonGroup"),this.buttonGroup},open:function(t,r){var n=this;if(this.close(),!t)return this;if(this.sequenceMode&&e.isArray(t))return this.referenceStrip&&(this.referenceStrip.destroy(),this.referenceStrip=null),"undefined"===typeof r||isNaN(r)||(this.initialPage=r),this.tileSources=t,this._sequenceIndex=Math.max(0,Math.min(this.tileSources.length-1,this.initialPage)),this.tileSources.length&&(this.open(this.tileSources[this._sequenceIndex]),this.showReferenceStrip&&this.addReferenceStrip()),this._updateSequenceButtons(this._sequenceIndex),this;if(e.isArray(t)||(t=[t]),!t.length)return this;this._opening=!0;for(var i,o=t.length,a=0,s=0,c=function(){if(a+s===o)if(a){!n._firstOpen&&n.preserveViewport||(n.viewport.goHome(!0),n.viewport.update()),n._firstOpen=!1;var e=t[0];if(e.tileSource&&(e=e.tileSource),n.overlays&&!n.preserveOverlays)for(var r=0;r<n.overlays.length;r++)n.currentOverlays[r]=l(n,n.overlays[r]);n._drawOverlays(),n._opening=!1,n.raiseEvent("open",{source:e})}else n._opening=!1,n.raiseEvent("open-failed",i)},u=function(t){e.isPlainObject(t)&&t.tileSource||(t={tileSource:t}),void 0!==t.index&&(e.console.error("[Viewer.open] setting indexes here is not supported; use addTiledImage instead"),delete t.index),void 0===t.collectionImmediately&&(t.collectionImmediately=!0);var r=t.success;t.success=function(e){if(a++,t.tileSource.overlays)for(var i=0;i<t.tileSource.overlays.length;i++)n.addOverlay(t.tileSource.overlays[i]);r&&r(e),c()};var l=t.error;t.error=function(e){s++,i||(i=e),l&&l(e),c()},n.addTiledImage(t)},p=0;p<t.length;p++)u(t[p]);return this},close:function(){return t[this.hash]?(this._opening=!1,this.navigator&&this.navigator.close(),this.preserveOverlays||(this.clearOverlays(),this.overlaysContainer.innerHTML=""),t[this.hash].animating=!1,this.world.removeAll(),this.imageLoader.clear(),this.raiseEvent("close"),this):this},destroy:function(){if(t[this.hash]){if(this.raiseEvent("before-destroy"),this._removeUpdatePixelDensityRatioEvent(),this.close(),this.clearOverlays(),this.overlaysContainer.innerHTML="",this._resizeObserver&&this._resizeObserver.disconnect(),this.referenceStrip&&(this.referenceStrip.destroy(),this.referenceStrip=null),null!==this._updateRequestId&&(e.cancelAnimationFrame(this._updateRequestId),this._updateRequestId=null),this.drawer&&this.drawer.destroy(),this.navigator&&(this.navigator.destroy(),t[this.navigator.hash]=null,delete t[this.navigator.hash],this.navigator=null),this.buttonGroup)this.buttonGroup.destroy();else if(this.customButtons)while(this.customButtons.length)this.customButtons.pop().destroy();if(this.paging&&this.paging.destroy(),this.element)while(this.element.firstChild)this.element.removeChild(this.element.firstChild);this.container.onsubmit=null,this.clearControls(),this.innerTracker&&this.innerTracker.destroy(),this.outerTracker&&this.outerTracker.destroy(),t[this.hash]=null,delete t[this.hash],this.canvas=null,this.container=null,e._viewers.delete(this.element),this.element=null,this.raiseEvent("destroy"),this.removeAllHandlers()}},requestDrawer(t,r){const n={mainDrawer:!0,redrawImmediately:!0,drawerOptions:null};r=e.extend(!0,n,r);const i=r.mainDrawer,l=r.redrawImmediately,o=r.drawerOptions,a=this.drawer;let s=null;if(t&&t.prototype instanceof e.DrawerBase?(s=t,t="custom"):"string"===typeof t&&(s=e.determineDrawer(t)),s||e.console.warn("Unsupported drawer! Drawer must be an existing string type, or a class that extends OpenSeadragon.DrawerBase."),s&&s.isSupported()){a&&i&&a.destroy();const e=new s({viewer:this,viewport:this.viewport,element:this.canvas,debugGridColor:this.debugGridColor,options:o||this.drawerOptions[t]});return i&&(this.drawer=e,l&&this.forceRedraw()),e}return!1},isMouseNavEnabled:function(){return this.innerTracker.isTracking()},setMouseNavEnabled:function(e){return this.innerTracker.setTracking(e),this.outerTracker.setTracking(e),this.raiseEvent("mouse-enabled",{enabled:e}),this},areControlsEnabled:function(){var e,t=this.controls.length;for(e=0;e<this.controls.length;e++)t=t&&this.controls[e].isVisible();return t},setControlsEnabled:function(e){return e?h(this):u(this),this.raiseEvent("controls-enabled",{enabled:e}),this},setDebugMode:function(e){for(var t=0;t<this.world.getItemCount();t++)this.world.getItemAt(t).debugMode=e;this.debugMode=e,this.forceRedraw()},setAjaxHeaders:function(t,r){if(null===t&&(t={}),e.isPlainObject(t)){if(void 0===r&&(r=!0),this.ajaxHeaders=t,r){for(var n=0;n<this.world.getItemCount();n++)this.world.getItemAt(n)._updateAjaxHeaders(!0);if(this.navigator&&this.navigator.setAjaxHeaders(this.ajaxHeaders,!0),this.referenceStrip&&this.referenceStrip.miniViewers)for(var i in this.referenceStrip.miniViewers)this.referenceStrip.miniViewers[i].setAjaxHeaders(this.ajaxHeaders,!0)}}else console.error("[Viewer.setAjaxHeaders] Ignoring invalid headers, must be a plain object")},addButton:function(e){this.buttonGroup.addButton(e)},isFullPage:function(){return t[this.hash]&&t[this.hash].fullPage},setFullPage:function(r){var n,i,l=document.body,o=l.style,a=document.documentElement.style,s=this;if(r===this.isFullPage())return this;var c={fullPage:r,preventDefaultAction:!1};if(this.raiseEvent("pre-full-page",c),c.preventDefaultAction)return this;if(r&&this.element){for(this.elementSize=e.getElementSize(this.element),this.pageScroll=e.getPageScroll(),this.elementMargin=this.element.style.margin,this.element.style.margin="0",this.elementPadding=this.element.style.padding,this.element.style.padding="0",this.bodyMargin=o.margin,this.docMargin=a.margin,o.margin="0",a.margin="0",this.bodyPadding=o.padding,this.docPadding=a.padding,o.padding="0",a.padding="0",this.bodyWidth=o.width,this.docWidth=a.width,o.width="100%",a.width="100%",this.bodyHeight=o.height,this.docHeight=a.height,o.height="100%",a.height="100%",this.bodyDisplay=o.display,o.display="block",this.previousBody=[],t[this.hash].prevElementParent=this.element.parentNode,t[this.hash].prevNextSibling=this.element.nextSibling,t[this.hash].prevElementWidth=this.element.style.width,t[this.hash].prevElementHeight=this.element.style.height,n=l.childNodes.length,i=0;i<n;i++)this.previousBody.push(l.childNodes[0]),l.removeChild(l.childNodes[0]);this.toolbar&&this.toolbar.element&&(this.toolbar.parentNode=this.toolbar.element.parentNode,this.toolbar.nextSibling=this.toolbar.element.nextSibling,l.appendChild(this.toolbar.element),e.addClass(this.toolbar.element,"fullpage")),e.addClass(this.element,"fullpage"),l.appendChild(this.element),this.element.style.height="100vh",this.element.style.width="100vw",this.toolbar&&this.toolbar.element&&(this.element.style.height=e.getElementSize(this.element).y-e.getElementSize(this.toolbar.element).y+"px"),t[this.hash].fullPage=!0,e.delegate(this,I)({})}else{for(this.element.style.margin=this.elementMargin,this.element.style.padding=this.elementPadding,o.margin=this.bodyMargin,a.margin=this.docMargin,o.padding=this.bodyPadding,a.padding=this.docPadding,o.width=this.bodyWidth,a.width=this.docWidth,o.height=this.bodyHeight,a.height=this.docHeight,o.display=this.bodyDisplay,l.removeChild(this.element),n=this.previousBody.length,i=0;i<n;i++)l.appendChild(this.previousBody.shift());e.removeClass(this.element,"fullpage"),t[this.hash].prevElementParent.insertBefore(this.element,t[this.hash].prevNextSibling),this.toolbar&&this.toolbar.element&&(l.removeChild(this.toolbar.element),e.removeClass(this.toolbar.element,"fullpage"),this.toolbar.parentNode.insertBefore(this.toolbar.element,this.toolbar.nextSibling),delete this.toolbar.parentNode,delete this.toolbar.nextSibling),this.element.style.width=t[this.hash].prevElementWidth,this.element.style.height=t[this.hash].prevElementHeight;var u=0,p=function(){e.setPageScroll(s.pageScroll);var t=e.getPageScroll();u++,u<10&&(t.x!==s.pageScroll.x||t.y!==s.pageScroll.y)&&e.requestAnimationFrame(p)};e.requestAnimationFrame(p),t[this.hash].fullPage=!1,e.delegate(this,k)({})}return this.navigator&&this.viewport&&this.navigator.update(this.viewport),this.raiseEvent("full-page",{fullPage:r}),this},setFullScreen:function(t){var r=this;if(!e.supportsFullScreen)return this.setFullPage(t);if(e.isFullScreen()===t)return this;var n={fullScreen:t,preventDefaultAction:!1};if(this.raiseEvent("pre-full-screen",n),n.preventDefaultAction)return this;if(t){if(this.setFullPage(!0),!this.isFullPage())return this;this.fullPageStyleWidth=this.element.style.width,this.fullPageStyleHeight=this.element.style.height,this.element.style.width="100%",this.element.style.height="100%";var i=function(){var t=e.isFullScreen();t||(e.removeEvent(document,e.fullScreenEventName,i),e.removeEvent(document,e.fullScreenErrorEventName,i),r.setFullPage(!1),r.isFullPage()&&(r.element.style.width=r.fullPageStyleWidth,r.element.style.height=r.fullPageStyleHeight)),r.navigator&&r.viewport&&setTimeout((function(){r.navigator.update(r.viewport)})),r.raiseEvent("full-screen",{fullScreen:t})};e.addEvent(document,e.fullScreenEventName,i),e.addEvent(document,e.fullScreenErrorEventName,i),e.requestFullScreen(document.body)}else e.exitFullScreen();return this},isVisible:function(){return"hidden"!==this.container.style.visibility},isFullScreen:function(){return e.isFullScreen()&&this.isFullPage()},setVisible:function(e){return this.container.style.visibility=e?"":"hidden",this.raiseEvent("visible",{visible:e}),this},addTiledImage:function(t){e.console.assert(t,"[Viewer.addTiledImage] options is required"),e.console.assert(t.tileSource,"[Viewer.addTiledImage] options.tileSource is required"),e.console.assert(!t.replace||t.index>-1&&t.index<this.world.getItemCount(),"[Viewer.addTiledImage] if options.replace is used, options.index must be a valid index in Viewer.world");var r=this;t.replace&&(t.replaceItem=r.world.getItemAt(t.index)),this._hideMessage(),void 0===t.placeholderFillStyle&&(t.placeholderFillStyle=this.placeholderFillStyle),void 0===t.opacity&&(t.opacity=this.opacity),void 0===t.preload&&(t.preload=this.preload),void 0===t.compositeOperation&&(t.compositeOperation=this.compositeOperation),void 0===t.crossOriginPolicy&&(t.crossOriginPolicy=void 0!==t.tileSource.crossOriginPolicy?t.tileSource.crossOriginPolicy:this.crossOriginPolicy),void 0===t.ajaxWithCredentials&&(t.ajaxWithCredentials=this.ajaxWithCredentials),void 0===t.loadTilesWithAjax&&(t.loadTilesWithAjax=this.loadTilesWithAjax),e.isPlainObject(t.ajaxHeaders)||(t.ajaxHeaders={});var n={options:t};function l(e){for(var i=0;i<r._loadQueue.length;i++)if(r._loadQueue[i]===n){r._loadQueue.splice(i,1);break}0===r._loadQueue.length&&o(n),r.raiseEvent("add-item-failed",e),t.error&&t.error(e)}function o(e){r.collectionMode&&(r.world.arrange({immediately:e.options.collectionImmediately,rows:r.collectionRows,columns:r.collectionColumns,layout:r.collectionLayout,tileSize:r.collectionTileSize,tileMargin:r.collectionTileMargin}),r.world.setAutoRefigureSizes(!0))}function a(){var t,n,i;while(r._loadQueue.length){if(t=r._loadQueue[0],!t.tileSource)break;if(r._loadQueue.splice(0,1),t.options.replace){var l=r.world.getIndexOfItem(t.options.replaceItem);-1!==l&&(t.options.index=l),r.world.removeItem(t.options.replaceItem)}n=new e.TiledImage({viewer:r,source:t.tileSource,viewport:r.viewport,drawer:r.drawer,tileCache:r.tileCache,imageLoader:r.imageLoader,x:t.options.x,y:t.options.y,width:t.options.width,height:t.options.height,fitBounds:t.options.fitBounds,fitBoundsPlacement:t.options.fitBoundsPlacement,clip:t.options.clip,placeholderFillStyle:t.options.placeholderFillStyle,opacity:t.options.opacity,preload:t.options.preload,degrees:t.options.degrees,flipped:t.options.flipped,compositeOperation:t.options.compositeOperation,springStiffness:r.springStiffness,animationTime:r.animationTime,minZoomImageRatio:r.minZoomImageRatio,wrapHorizontal:r.wrapHorizontal,wrapVertical:r.wrapVertical,maxTilesPerFrame:r.maxTilesPerFrame,immediateRender:r.immediateRender,blendTime:r.blendTime,alwaysBlend:r.alwaysBlend,minPixelRatio:r.minPixelRatio,smoothTileEdgesMinZoom:r.smoothTileEdgesMinZoom,iOSDevice:r.iOSDevice,crossOriginPolicy:t.options.crossOriginPolicy,ajaxWithCredentials:t.options.ajaxWithCredentials,loadTilesWithAjax:t.options.loadTilesWithAjax,ajaxHeaders:t.options.ajaxHeaders,debugMode:r.debugMode,subPixelRoundingForTransparency:r.subPixelRoundingForTransparency}),r.collectionMode&&r.world.setAutoRefigureSizes(!1),r.navigator&&(i=e.extend({},t.options,{replace:!1,originalTiledImage:n,tileSource:t.tileSource}),r.navigator.addTiledImage(i)),r.world.addItem(n,{index:t.options.index}),0===r._loadQueue.length&&o(t),1!==r.world.getItemCount()||r.preserveViewport||r.viewport.goHome(!0),t.options.success&&t.options.success({item:n})}}e.isArray(t.tileSource)?setTimeout((function(){l({message:"[Viewer.addTiledImage] Sequences can not be added; add them one at a time instead.",source:t.tileSource,options:t})})):(this._loadQueue.push(n),i(this,t.tileSource,t,(function(e){n.tileSource=e,a()}),(function(e){e.options=t,l(e),a()})))},addSimpleImage:function(t){e.console.assert(t,"[Viewer.addSimpleImage] options is required"),e.console.assert(t.url,"[Viewer.addSimpleImage] options.url is required");var r=e.extend({},t,{tileSource:{type:"image",url:t.url}});delete r.url,this.addTiledImage(r)},addLayer:function(t){var r=this;e.console.error("[Viewer.addLayer] this function is deprecated; use Viewer.addTiledImage() instead.");var n=e.extend({},t,{success:function(e){r.raiseEvent("add-layer",{options:t,drawer:e.item})},error:function(e){r.raiseEvent("add-layer-failed",e)}});return this.addTiledImage(n),this},getLayerAtLevel:function(t){return e.console.error("[Viewer.getLayerAtLevel] this function is deprecated; use World.getItemAt() instead."),this.world.getItemAt(t)},getLevelOfLayer:function(t){return e.console.error("[Viewer.getLevelOfLayer] this function is deprecated; use World.getIndexOfItem() instead."),this.world.getIndexOfItem(t)},getLayersCount:function(){return e.console.error("[Viewer.getLayersCount] this function is deprecated; use World.getItemCount() instead."),this.world.getItemCount()},setLayerLevel:function(t,r){return e.console.error("[Viewer.setLayerLevel] this function is deprecated; use World.setItemIndex() instead."),this.world.setItemIndex(t,r)},removeLayer:function(t){return e.console.error("[Viewer.removeLayer] this function is deprecated; use World.removeItem() instead."),this.world.removeItem(t)},forceRedraw:function(){return t[this.hash].forceRedraw=!0,this},forceResize:function(){t[this.hash].needsResize=!0,t[this.hash].forceResize=!0},bindSequenceControls:function(){var t=e.delegate(this,d),r=e.delegate(this,f),n=e.delegate(this,this.goToNextPage),i=e.delegate(this,this.goToPreviousPage),l=this.navImages,o=!0;return this.showSequenceControl&&((this.previousButton||this.nextButton)&&(o=!1),this.previousButton=new e.Button({element:this.previousButton?e.getElement(this.previousButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:e.getString("Tooltips.PreviousPage"),srcRest:M(this.prefixUrl,l.previous.REST),srcGroup:M(this.prefixUrl,l.previous.GROUP),srcHover:M(this.prefixUrl,l.previous.HOVER),srcDown:M(this.prefixUrl,l.previous.DOWN),onRelease:i,onFocus:t,onBlur:r}),this.nextButton=new e.Button({element:this.nextButton?e.getElement(this.nextButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:e.getString("Tooltips.NextPage"),srcRest:M(this.prefixUrl,l.next.REST),srcGroup:M(this.prefixUrl,l.next.GROUP),srcHover:M(this.prefixUrl,l.next.HOVER),srcDown:M(this.prefixUrl,l.next.DOWN),onRelease:n,onFocus:t,onBlur:r}),this.navPrevNextWrap||this.previousButton.disable(),this.tileSources&&this.tileSources.length||this.nextButton.disable(),o&&(this.paging=new e.ButtonGroup({buttons:[this.previousButton,this.nextButton],clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold}),this.pagingControl=this.paging.element,this.toolbar?this.toolbar.addControl(this.pagingControl,{anchor:e.ControlAnchor.BOTTOM_RIGHT}):this.addControl(this.pagingControl,{anchor:this.sequenceControlAnchor||e.ControlAnchor.TOP_LEFT}))),this},bindStandardControls:function(){var t=e.delegate(this,z),r=e.delegate(this,j),n=e.delegate(this,W),i=e.delegate(this,H),l=e.delegate(this,G),o=e.delegate(this,Z),a=e.delegate(this,$),s=e.delegate(this,X),c=e.delegate(this,Y),u=e.delegate(this,K),p=e.delegate(this,d),h=e.delegate(this,f),g=this.navImages,v=[],m=!0;return this.showNavigationControl&&((this.zoomInButton||this.zoomOutButton||this.homeButton||this.fullPageButton||this.rotateLeftButton||this.rotateRightButton||this.flipButton)&&(m=!1),this.showZoomControl&&(v.push(this.zoomInButton=new e.Button({element:this.zoomInButton?e.getElement(this.zoomInButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:e.getString("Tooltips.ZoomIn"),srcRest:M(this.prefixUrl,g.zoomIn.REST),srcGroup:M(this.prefixUrl,g.zoomIn.GROUP),srcHover:M(this.prefixUrl,g.zoomIn.HOVER),srcDown:M(this.prefixUrl,g.zoomIn.DOWN),onPress:t,onRelease:r,onClick:n,onEnter:t,onExit:r,onFocus:p,onBlur:h})),v.push(this.zoomOutButton=new e.Button({element:this.zoomOutButton?e.getElement(this.zoomOutButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:e.getString("Tooltips.ZoomOut"),srcRest:M(this.prefixUrl,g.zoomOut.REST),srcGroup:M(this.prefixUrl,g.zoomOut.GROUP),srcHover:M(this.prefixUrl,g.zoomOut.HOVER),srcDown:M(this.prefixUrl,g.zoomOut.DOWN),onPress:i,onRelease:r,onClick:l,onEnter:i,onExit:r,onFocus:p,onBlur:h}))),this.showHomeControl&&v.push(this.homeButton=new e.Button({element:this.homeButton?e.getElement(this.homeButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:e.getString("Tooltips.Home"),srcRest:M(this.prefixUrl,g.home.REST),srcGroup:M(this.prefixUrl,g.home.GROUP),srcHover:M(this.prefixUrl,g.home.HOVER),srcDown:M(this.prefixUrl,g.home.DOWN),onRelease:o,onFocus:p,onBlur:h})),this.showFullPageControl&&v.push(this.fullPageButton=new e.Button({element:this.fullPageButton?e.getElement(this.fullPageButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:e.getString("Tooltips.FullPage"),srcRest:M(this.prefixUrl,g.fullpage.REST),srcGroup:M(this.prefixUrl,g.fullpage.GROUP),srcHover:M(this.prefixUrl,g.fullpage.HOVER),srcDown:M(this.prefixUrl,g.fullpage.DOWN),onRelease:a,onFocus:p,onBlur:h})),this.showRotationControl&&(v.push(this.rotateLeftButton=new e.Button({element:this.rotateLeftButton?e.getElement(this.rotateLeftButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:e.getString("Tooltips.RotateLeft"),srcRest:M(this.prefixUrl,g.rotateleft.REST),srcGroup:M(this.prefixUrl,g.rotateleft.GROUP),srcHover:M(this.prefixUrl,g.rotateleft.HOVER),srcDown:M(this.prefixUrl,g.rotateleft.DOWN),onRelease:s,onFocus:p,onBlur:h})),v.push(this.rotateRightButton=new e.Button({element:this.rotateRightButton?e.getElement(this.rotateRightButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:e.getString("Tooltips.RotateRight"),srcRest:M(this.prefixUrl,g.rotateright.REST),srcGroup:M(this.prefixUrl,g.rotateright.GROUP),srcHover:M(this.prefixUrl,g.rotateright.HOVER),srcDown:M(this.prefixUrl,g.rotateright.DOWN),onRelease:c,onFocus:p,onBlur:h}))),this.showFlipControl&&v.push(this.flipButton=new e.Button({element:this.flipButton?e.getElement(this.flipButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:e.getString("Tooltips.Flip"),srcRest:M(this.prefixUrl,g.flip.REST),srcGroup:M(this.prefixUrl,g.flip.GROUP),srcHover:M(this.prefixUrl,g.flip.HOVER),srcDown:M(this.prefixUrl,g.flip.DOWN),onRelease:u,onFocus:p,onBlur:h})),m?(this.buttonGroup=new e.ButtonGroup({buttons:v,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold}),this.navControl=this.buttonGroup.element,this.addHandler("open",e.delegate(this,q)),this.toolbar?this.toolbar.addControl(this.navControl,{anchor:this.navigationControlAnchor||e.ControlAnchor.TOP_LEFT}):this.addControl(this.navControl,{anchor:this.navigationControlAnchor||e.ControlAnchor.TOP_LEFT})):this.customButtons=v),this},currentPage:function(){return this._sequenceIndex},goToPage:function(e){return this.tileSources&&e>=0&&e<this.tileSources.length&&(this._sequenceIndex=e,this._updateSequenceButtons(e),this.open(this.tileSources[e]),this.referenceStrip&&this.referenceStrip.setFocus(e),this.raiseEvent("page",{page:e})),this},addOverlay:function(t,r,n,i){var o;if(o=e.isPlainObject(t)?t:{element:t,location:r,placement:n,onDraw:i},t=e.getElement(o.element),a(this.currentOverlays,t)>=0)return this;var s=l(this,o);return this.currentOverlays.push(s),s.drawHTML(this.overlaysContainer,this.viewport),this.raiseEvent("add-overlay",{element:t,location:o.location,placement:o.placement}),this},updateOverlay:function(r,n,i){var l;return r=e.getElement(r),l=a(this.currentOverlays,r),l>=0&&(this.currentOverlays[l].update(n,i),t[this.hash].forceRedraw=!0,this.raiseEvent("update-overlay",{element:r,location:n,placement:i})),this},removeOverlay:function(r){var n;return r=e.getElement(r),n=a(this.currentOverlays,r),n>=0&&(this.currentOverlays[n].destroy(),this.currentOverlays.splice(n,1),t[this.hash].forceRedraw=!0,this.raiseEvent("remove-overlay",{element:r})),this},clearOverlays:function(){while(this.currentOverlays.length>0)this.currentOverlays.pop().destroy();return t[this.hash].forceRedraw=!0,this.raiseEvent("clear-overlay",{}),this},getOverlayById:function(t){var r;return t=e.getElement(t),r=a(this.currentOverlays,t),r>=0?this.currentOverlays[r]:null},_updateSequenceButtons:function(e){this.nextButton&&(this.tileSources&&this.tileSources.length-1!==e?this.nextButton.enable():this.navPrevNextWrap||this.nextButton.disable()),this.previousButton&&(e>0?this.previousButton.enable():this.navPrevNextWrap||this.previousButton.disable())},_showMessage:function(t){this._hideMessage();var r=e.makeNeutralElement("div");r.appendChild(document.createTextNode(t)),this.messageDiv=e.makeCenteredNode(r),e.addClass(this.messageDiv,"openseadragon-message"),this.container.appendChild(this.messageDiv)},_hideMessage:function(){var e=this.messageDiv;e&&(e.parentNode.removeChild(e),delete this.messageDiv)},gestureSettingsByDeviceType:function(e){switch(e){case"mouse":return this.gestureSettingsMouse;case"touch":return this.gestureSettingsTouch;case"pen":return this.gestureSettingsPen;default:return this.gestureSettingsUnknown}},_drawOverlays:function(){var e,t=this.currentOverlays.length;for(e=0;e<t;e++)this.currentOverlays[e].drawHTML(this.overlaysContainer,this.viewport)},_cancelPendingImages:function(){this._loadQueue=[]},removeReferenceStrip:function(){this.showReferenceStrip=!1,this.referenceStrip&&(this.referenceStrip.destroy(),this.referenceStrip=null)},addReferenceStrip:function(){if(this.showReferenceStrip=!0,this.sequenceMode){if(this.referenceStrip)return;this.tileSources.length&&this.tileSources.length>1&&(this.referenceStrip=new e.ReferenceStrip({id:this.referenceStripElement,position:this.referenceStripPosition,sizeRatio:this.referenceStripSizeRatio,scroll:this.referenceStripScroll,height:this.referenceStripHeight,width:this.referenceStripWidth,tileSources:this.tileSources,prefixUrl:this.prefixUrl,viewer:this}),this.referenceStrip.setFocus(this._sequenceIndex))}else e.console.warn('Attempting to display a reference strip while "sequenceMode" is off.')},_addUpdatePixelDensityRatioEvent:function(){this._updatePixelDensityRatioBind=this._updatePixelDensityRatio.bind(this),e.addEvent(window,"resize",this._updatePixelDensityRatioBind)},_removeUpdatePixelDensityRatioEvent:function(){e.removeEvent(window,"resize",this._updatePixelDensityRatioBind)},_updatePixelDensityRatio:function(){var t=e.pixelDensityRatio,r=e.getCurrentPixelDensityRatio();t!==r&&(e.pixelDensityRatio=r,this.forceResize())},goToPreviousPage:function(){var e=this._sequenceIndex-1;this.navPrevNextWrap&&e<0&&(e+=this.tileSources.length),this.goToPage(e)},goToNextPage:function(){var e=this._sequenceIndex+1;this.navPrevNextWrap&&e>=this.tileSources.length&&(e=0),this.goToPage(e)},isAnimating:function(){return t[this.hash].animating}}),e.determineDrawer=function(t){for(let r in o){const n=o[r],i=n.prototype;if(i&&i instanceof o.DrawerBase&&e.isFunction(i.getType)&&i.getType.call(n)===t)return n}return null}}(o),function(e){function t(e){var t={tracker:e.eventSource,position:e.position,quick:e.quick,shift:e.shift,originalEvent:e.originalEvent,preventDefaultAction:!1};if(this.viewer.raiseEvent("navigator-click",t),!t.preventDefaultAction&&e.quick&&this.viewer.viewport&&(this.panVertical||this.panHorizontal)){this.viewer.viewport.flipped&&(e.position.x=this.viewport.getContainerSize().x-e.position.x);var r=this.viewport.pointFromPixel(e.position);this.panVertical?this.panHorizontal||(r.x=this.viewer.viewport.getCenter(!0).x):r.y=this.viewer.viewport.getCenter(!0).y,this.viewer.viewport.panTo(r),this.viewer.viewport.applyConstraints()}}function r(e){var t={tracker:e.eventSource,position:e.position,delta:e.delta,speed:e.speed,direction:e.direction,shift:e.shift,originalEvent:e.originalEvent,preventDefaultAction:!1};this.viewer.raiseEvent("navigator-drag",t),!t.preventDefaultAction&&this.viewer.viewport&&(this.panHorizontal||(e.delta.x=0),this.panVertical||(e.delta.y=0),this.viewer.viewport.flipped&&(e.delta.x=-e.delta.x),this.viewer.viewport.panBy(this.viewport.deltaPointsFromPixels(e.delta)),this.viewer.constrainDuringPan&&this.viewer.viewport.applyConstraints())}function n(e){e.insideElementPressed&&this.viewer.viewport&&this.viewer.viewport.applyConstraints()}function i(e){var t={tracker:e.eventSource,position:e.position,scroll:e.scroll,shift:e.shift,originalEvent:e.originalEvent,preventDefault:e.preventDefault};this.viewer.raiseEvent("navigator-scroll",t),e.preventDefault=t.preventDefault}function l(e,t){o(e,"rotate("+t+"deg)")}function o(e,t){e.style.webkitTransform=t,e.style.mozTransform=t,e.style.msTransform=t,e.style.oTransform=t,e.style.transform=t}e.Navigator=function(o){var a,s,c=o.viewer,u=this;function p(e,t){l(u.displayRegionContainer,e),l(u.displayRegion,-e),u.viewport.setRotation(e,t)}if(o.element||o.id?(o.element?(o.id&&e.console.warn("Given option.id for Navigator was ignored since option.element was provided and is being used instead."),o.element.id?o.id=o.element.id:o.id="navigator-"+e.now(),this.element=o.element):this.element=document.getElementById(o.id),o.controlOptions={anchor:e.ControlAnchor.NONE,attachToViewer:!1,autoFade:!1}):(o.id="navigator-"+e.now(),this.element=e.makeNeutralElement("div"),o.controlOptions={anchor:e.ControlAnchor.TOP_RIGHT,attachToViewer:!0,autoFade:o.autoFade},o.position&&("BOTTOM_RIGHT"===o.position?o.controlOptions.anchor=e.ControlAnchor.BOTTOM_RIGHT:"BOTTOM_LEFT"===o.position?o.controlOptions.anchor=e.ControlAnchor.BOTTOM_LEFT:"TOP_RIGHT"===o.position?o.controlOptions.anchor=e.ControlAnchor.TOP_RIGHT:"TOP_LEFT"===o.position?o.controlOptions.anchor=e.ControlAnchor.TOP_LEFT:"ABSOLUTE"===o.position&&(o.controlOptions.anchor=e.ControlAnchor.ABSOLUTE,o.controlOptions.top=o.top,o.controlOptions.left=o.left,o.controlOptions.height=o.height,o.controlOptions.width=o.width))),this.element.id=o.id,this.element.className+=" navigator",o=e.extend(!0,{sizeRatio:e.DEFAULT_SETTINGS.navigatorSizeRatio},o,{element:this.element,tabIndex:-1,showNavigator:!1,mouseNavEnabled:!1,showNavigationControl:!1,showSequenceControl:!1,immediateRender:!0,blendTime:0,animationTime:o.animationTime,autoResize:!1,minZoomImageRatio:1,background:o.background,opacity:o.opacity,borderColor:o.borderColor,displayRegionColor:o.displayRegionColor}),o.minPixelRatio=this.minPixelRatio=c.minPixelRatio,e.setElementTouchActionNone(this.element),this.borderWidth=2,this.fudge=new e.Point(1,1),this.totalBorderWidths=new e.Point(2*this.borderWidth,2*this.borderWidth).minus(this.fudge),o.controlOptions.anchor!==e.ControlAnchor.NONE&&function(e,t){e.margin="0px",e.border=t+"px solid "+o.borderColor,e.padding="0px",e.background=o.background,e.opacity=o.opacity,e.overflow="hidden"}(this.element.style,this.borderWidth),this.displayRegion=e.makeNeutralElement("div"),this.displayRegion.id=this.element.id+"-displayregion",this.displayRegion.className="displayregion",function(e,t){e.position="relative",e.top="0px",e.left="0px",e.fontSize="0px",e.overflow="hidden",e.border=t+"px solid "+o.displayRegionColor,e.margin="0px",e.padding="0px",e.background="transparent",e["float"]="left",e.cssFloat="left",e.zIndex=999999999,e.cursor="default",e.boxSizing="content-box"}(this.displayRegion.style,this.borderWidth),e.setElementPointerEventsNone(this.displayRegion),e.setElementTouchActionNone(this.displayRegion),this.displayRegionContainer=e.makeNeutralElement("div"),this.displayRegionContainer.id=this.element.id+"-displayregioncontainer",this.displayRegionContainer.className="displayregioncontainer",this.displayRegionContainer.style.width="100%",this.displayRegionContainer.style.height="100%",e.setElementPointerEventsNone(this.displayRegionContainer),e.setElementTouchActionNone(this.displayRegionContainer),c.addControl(this.element,o.controlOptions),this._resizeWithViewer=o.controlOptions.anchor!==e.ControlAnchor.ABSOLUTE&&o.controlOptions.anchor!==e.ControlAnchor.NONE,o.width&&o.height?(this.setWidth(o.width),this.setHeight(o.height)):this._resizeWithViewer&&(a=e.getElementSize(c.element),this.element.style.height=Math.round(a.y*o.sizeRatio)+"px",this.element.style.width=Math.round(a.x*o.sizeRatio)+"px",this.oldViewerSize=a,s=e.getElementSize(this.element),this.elementArea=s.x*s.y),this.oldContainerSize=new e.Point(0,0),e.Viewer.apply(this,[o]),this.displayRegionContainer.appendChild(this.displayRegion),this.element.getElementsByTagName("div")[0].appendChild(this.displayRegionContainer),o.navigatorRotate){var h=o.viewer.viewport?o.viewer.viewport.getRotation():o.viewer.degrees||0;p(h,!0),o.viewer.addHandler("rotate",(function(e){p(e.degrees,e.immediately)}))}this.innerTracker.destroy(),this.innerTracker=new e.MouseTracker({userData:"Navigator.innerTracker",element:this.element,dragHandler:e.delegate(this,r),clickHandler:e.delegate(this,t),releaseHandler:e.delegate(this,n),scrollHandler:e.delegate(this,i),preProcessEventHandler:function(e){"wheel"===e.eventType&&(e.preventDefault=!0)}}),this.outerTracker.userData="Navigator.outerTracker",e.setElementPointerEventsNone(this.canvas),e.setElementPointerEventsNone(this.container),this.addHandler("reset-size",(function(){u.viewport&&u.viewport.goHome(!0)})),c.world.addHandler("item-index-change",(function(e){window.setTimeout((function(){var t=u.world.getItemAt(e.previousIndex);u.world.setItemIndex(t,e.newIndex)}),1)})),c.world.addHandler("remove-item",(function(e){var t=e.item,r=u._getMatchingItem(t);r&&u.world.removeItem(r)})),this.update(c.viewport)},e.extend(e.Navigator.prototype,e.EventSource.prototype,e.Viewer.prototype,{updateSize:function(){if(this.viewport){var t=new e.Point(0===this.container.clientWidth?1:this.container.clientWidth,0===this.container.clientHeight?1:this.container.clientHeight);t.equals(this.oldContainerSize)||(this.viewport.resize(t,!0),this.viewport.goHome(!0),this.oldContainerSize=t,this.world.update(),this.world.draw(),this.update(this.viewer.viewport))}},setWidth:function(e){this.width=e,this.element.style.width="number"===typeof e?e+"px":e,this._resizeWithViewer=!1,this.updateSize()},setHeight:function(e){this.height=e,this.element.style.height="number"===typeof e?e+"px":e,this._resizeWithViewer=!1,this.updateSize()},setFlip:function(e){return this.viewport.setFlip(e),this.setDisplayTransform(this.viewer.viewport.getFlip()?"scale(-1,1)":"scale(1,1)"),this},setDisplayTransform:function(e){o(this.canvas,e),o(this.element,e)},update:function(t){var r,n,i,o,a,s;if(t||(t=this.viewer.viewport),r=e.getElementSize(this.viewer.element),this._resizeWithViewer&&r.x&&r.y&&!r.equals(this.oldViewerSize)&&(this.oldViewerSize=r,this.maintainSizeRatio||!this.elementArea?(n=r.x*this.sizeRatio,i=r.y*this.sizeRatio):(n=Math.sqrt(this.elementArea*(r.x/r.y)),i=this.elementArea/n),this.element.style.width=Math.round(n)+"px",this.element.style.height=Math.round(i)+"px",this.elementArea||(this.elementArea=n*i),this.updateSize()),t&&this.viewport){if(o=t.getBoundsNoRotate(!0),a=this.viewport.pixelFromPointNoRotate(o.getTopLeft(),!1),s=this.viewport.pixelFromPointNoRotate(o.getBottomRight(),!1).minus(this.totalBorderWidths),!this.navigatorRotate){var c=t.getRotation(!0);l(this.displayRegion,-c)}var u=this.displayRegion.style;u.display=this.world.getItemCount()?"block":"none",u.top=a.y.toFixed(2)+"px",u.left=a.x.toFixed(2)+"px";var p=s.x-a.x,h=s.y-a.y;u.width=Math.round(Math.max(p,0))+"px",u.height=Math.round(Math.max(h,0))+"px"}},addTiledImage:function(t){var r=this,n=t.originalTiledImage;delete t.original;var i=e.extend({},t,{success:function(e){var t=e.item;function i(){r._matchBounds(t,n)}function l(){r._matchOpacity(t,n)}function o(){r._matchCompositeOperation(t,n)}t._originalForNavigator=n,r._matchBounds(t,n,!0),r._matchOpacity(t,n),r._matchCompositeOperation(t,n),n.addHandler("bounds-change",i),n.addHandler("clip-change",i),n.addHandler("opacity-change",l),n.addHandler("composite-operation-change",o)}});return e.Viewer.prototype.addTiledImage.apply(this,[i])},destroy:function(){return e.Viewer.prototype.destroy.apply(this)},_getMatchingItem:function(e){for(var t,r=this.world.getItemCount(),n=0;n<r;n++)if(t=this.world.getItemAt(n),t._originalForNavigator===e)return t;return null},_matchBounds:function(e,t,r){var n=t.getBoundsNoRotate();e.setPosition(n.getTopLeft(),r),e.setWidth(n.width,r),e.setRotation(t.getRotation(),r),e.setClip(t.getClip()),e.setFlip(t.getFlip())},_matchOpacity:function(e,t){e.setOpacity(t.opacity)},_matchCompositeOperation:function(e,t){e.setCompositeOperation(t.compositeOperation)}})}(o),function(e){var t={Errors:{Dzc:"Sorry, we don't support Deep Zoom Collections!",Dzi:"Hmm, this doesn't appear to be a valid Deep Zoom Image.",Xml:"Hmm, this doesn't appear to be a valid Deep Zoom Image.",ImageFormat:"Sorry, we don't support {0}-based Deep Zoom Images.",Security:"It looks like a security restriction stopped us from loading this Deep Zoom Image.",Status:"This space unintentionally left blank ({0} {1}).",OpenFailed:"Unable to open {0}: {1}"},Tooltips:{FullPage:"Toggle full page",Home:"Go home",ZoomIn:"Zoom in",ZoomOut:"Zoom out",NextPage:"Next page",PreviousPage:"Previous page",RotateLeft:"Rotate left",RotateRight:"Rotate right",Flip:"Flip Horizontally"}};e.extend(e,{getString:function(r){var n,i=r.split("."),l=null,o=arguments,a=t;for(n=0;n<i.length-1;n++)a=a[i[n]]||{};return l=a[i[n]],"string"!==typeof l&&(e.console.error("Untranslated source string:",r),l=""),l.replace(/\{\d+\}/g,(function(e){var t=parseInt(e.match(/\d+/),10)+1;return t<o.length?o[t]:""}))},setString:function(e,r){var n,i=e.split("."),l=t;for(n=0;n<i.length-1;n++)l[i[n]]||(l[i[n]]={}),l=l[i[n]];l[i[n]]=r}})}(o),function(e){e.Point=function(e,t){this.x="number"===typeof e?e:0,this.y="number"===typeof t?t:0},e.Point.prototype={clone:function(){return new e.Point(this.x,this.y)},plus:function(t){return new e.Point(this.x+t.x,this.y+t.y)},minus:function(t){return new e.Point(this.x-t.x,this.y-t.y)},times:function(t){return new e.Point(this.x*t,this.y*t)},divide:function(t){return new e.Point(this.x/t,this.y/t)},negate:function(){return new e.Point(-this.x,-this.y)},distanceTo:function(e){return Math.sqrt(Math.pow(this.x-e.x,2)+Math.pow(this.y-e.y,2))},squaredDistanceTo:function(e){return Math.pow(this.x-e.x,2)+Math.pow(this.y-e.y,2)},apply:function(t){return new e.Point(t(this.x),t(this.y))},equals:function(t){return t instanceof e.Point&&this.x===t.x&&this.y===t.y},rotate:function(t,r){var n,i;if(r=r||new e.Point(0,0),t%90===0){var l=e.positiveModulo(t,360);switch(l){case 0:n=1,i=0;break;case 90:n=0,i=1;break;case 180:n=-1,i=0;break;case 270:n=0,i=-1;break}}else{var o=t*Math.PI/180;n=Math.cos(o),i=Math.sin(o)}var a=n*(this.x-r.x)-i*(this.y-r.y)+r.x,s=i*(this.x-r.x)+n*(this.y-r.y)+r.y;return new e.Point(a,s)},toString:function(){return"("+Math.round(100*this.x)/100+","+Math.round(100*this.y)/100+")"}}}(o),function(e){function t(t){var r,n,i=t.responseText,l=t.status;if(!t)throw new Error(e.getString("Errors.Security"));if(200!==t.status&&0!==t.status)throw l=t.status,r=404===l?"Not Found":t.statusText,new Error(e.getString("Errors.Status",l,r));if(i.match(/^\s*<.*/))try{n=t.responseXML&&t.responseXML.documentElement?t.responseXML:e.parseXml(i)}catch(o){n=t.responseText}else if(i.match(/\s*[{[].*/))try{n=e.parseJSON(i)}catch(o){n=i}else n=i;return n}e.TileSource=function(t,r,n,i,l,o){var a,s,c=this,u=arguments;if(a=e.isPlainObject(t)?t:{width:u[0],height:u[1],tileSize:u[2],tileOverlap:u[3],minLevel:u[4],maxLevel:u[5]},e.EventSource.call(this),e.extend(!0,this,a),!this.success)for(s=0;s<arguments.length;s++)if(e.isFunction(arguments[s])){this.success=arguments[s];break}this.success&&this.addHandler("ready",(function(e){c.success(e)})),"string"===e.type(arguments[0])&&(this.url=arguments[0]),this.url?(this.aspectRatio=1,this.dimensions=new e.Point(10,10),this._tileWidth=0,this._tileHeight=0,this.tileOverlap=0,this.minLevel=0,this.maxLevel=0,this.ready=!1,this.getImageInfo(this.url)):(this.ready=!0,this.aspectRatio=a.width&&a.height?a.width/a.height:1,this.dimensions=new e.Point(a.width,a.height),this.tileSize?(this._tileWidth=this._tileHeight=this.tileSize,delete this.tileSize):(this.tileWidth?(this._tileWidth=this.tileWidth,delete this.tileWidth):this._tileWidth=0,this.tileHeight?(this._tileHeight=this.tileHeight,delete this.tileHeight):this._tileHeight=0),this.tileOverlap=a.tileOverlap?a.tileOverlap:0,this.minLevel=a.minLevel?a.minLevel:0,this.maxLevel=void 0!==a.maxLevel&&null!==a.maxLevel?a.maxLevel:a.width&&a.height?Math.ceil(Math.log(Math.max(a.width,a.height))/Math.log(2)):0,this.success&&e.isFunction(this.success)&&this.success(this))},e.TileSource.prototype={getTileSize:function(t){return e.console.error("[TileSource.getTileSize] is deprecated. Use TileSource.getTileWidth() and TileSource.getTileHeight() instead"),this._tileWidth},getTileWidth:function(e){return this._tileWidth?this._tileWidth:this.getTileSize(e)},getTileHeight:function(e){return this._tileHeight?this._tileHeight:this.getTileSize(e)},setMaxLevel:function(e){this.maxLevel=e,this._memoizeLevelScale()},getLevelScale:function(e){return this._memoizeLevelScale(),this.getLevelScale(e)},_memoizeLevelScale:function(){var e,t={};for(e=0;e<=this.maxLevel;e++)t[e]=1/Math.pow(2,this.maxLevel-e);this.getLevelScale=function(e){return t[e]}},getNumTiles:function(t){var r=this.getLevelScale(t),n=Math.ceil(r*this.dimensions.x/this.getTileWidth(t)),i=Math.ceil(r*this.dimensions.y/this.getTileHeight(t));return new e.Point(n,i)},getPixelRatio:function(t){var r=this.dimensions.times(this.getLevelScale(t)),n=1/r.x*e.pixelDensityRatio,i=1/r.y*e.pixelDensityRatio;return new e.Point(n,i)},getClosestLevel:function(){var e,t;for(e=this.minLevel+1;e<=this.maxLevel;e++)if(t=this.getNumTiles(e),t.x>1||t.y>1)break;return e-1},getTileAtPoint:function(t,r){var n=r.x>=0&&r.x<=1&&r.y>=0&&r.y<=1/this.aspectRatio;e.console.assert(n,"[TileSource.getTileAtPoint] must be called with a valid point.");var i=this.dimensions.x*this.getLevelScale(t),l=r.x*i,o=r.y*i,a=Math.floor(l/this.getTileWidth(t)),s=Math.floor(o/this.getTileHeight(t));r.x>=1&&(a=this.getNumTiles(t).x-1);var c=1e-15;return r.y>=1/this.aspectRatio-c&&(s=this.getNumTiles(t).y-1),new e.Point(a,s)},getTileBounds:function(t,r,n,i){var l=this.dimensions.times(this.getLevelScale(t)),o=this.getTileWidth(t),a=this.getTileHeight(t),s=0===r?0:o*r-this.tileOverlap,c=0===n?0:a*n-this.tileOverlap,u=o+(0===r?1:2)*this.tileOverlap,p=a+(0===n?1:2)*this.tileOverlap,h=1/l.x;return u=Math.min(u,l.x-s),p=Math.min(p,l.y-c),i?new e.Rect(0,0,u,p):new e.Rect(s*h,c*h,u*h,p*h)},getImageInfo:function(r){var n,i,l,o,a,s,c,u=this;r&&(a=r.split("/"),s=a[a.length-1],c=s.lastIndexOf("."),c>-1&&(a[a.length-1]=s.slice(0,c)));var p=null;if(this.splitHashDataForPost){var h=r.indexOf("#");-1!==h&&(p=r.substring(h+1),r=r.substr(0,h))}i=function(t){"string"===typeof t&&(t=e.parseXml(t));var n=e.TileSource.determineType(u,t,r);n?(o=n.prototype.configure.apply(u,[t,r,p]),void 0===o.ajaxWithCredentials&&(o.ajaxWithCredentials=u.ajaxWithCredentials),l=new n(o),u.ready=!0,u.raiseEvent("ready",{tileSource:l})):u.raiseEvent("open-failed",{message:"Unable to load TileSource",source:r})},r.match(/\.js$/)?(n=r.split("/").pop().replace(".js",""),e.jsonp({url:r,async:!1,callbackName:n,callback:i})):e.makeAjaxRequest({url:r,postData:p,withCredentials:this.ajaxWithCredentials,headers:this.ajaxHeaders,success:function(e){var r=t(e);i(r)},error:function(t,n){var i;try{i="HTTP "+t.status+" attempting to load TileSource: "+r}catch(o){var l;l="undefined"!==typeof n&&n.toString?n.toString():"Unknown error",i=l+" attempting to load TileSource: "+r}e.console.error(i),u.raiseEvent("open-failed",{message:i,source:r,postData:p})}})},supports:function(e,t){return!1},configure:function(e,t,r){throw new Error("Method not implemented.")},getTileUrl:function(e,t,r){throw new Error("Method not implemented.")},getTilePostData:function(e,t,r){return null},getTileAjaxHeaders:function(e,t,r){return{}},getTileHashKey:function(e,t,r,n,i,l){function o(e){return i?e+"+"+JSON.stringify(i):e}return o("string"!==typeof n?e+"/"+t+"_"+r:n)},tileExists:function(e,t,r){var n=this.getNumTiles(e);return e>=this.minLevel&&e<=this.maxLevel&&t>=0&&r>=0&&t<n.x&&r<n.y},hasTransparency:function(e,t,r,n){return!!e||t.match(".png")},downloadTileStart:function(t){var r=t.userData,n=new Image;r.image=n,r.request=null;var i=function(e){n?(n.onload=n.onerror=n.onabort=null,t.finish(e?null:n,r.request,e)):t.finish(null,r.request,"Image load failed: undefined Image instance.")};n.onload=function(){i()},n.onabort=n.onerror=function(){i("Image load aborted.")},t.loadWithAjax?r.request=e.makeAjaxRequest({url:t.src,withCredentials:t.ajaxWithCredentials,headers:t.ajaxHeaders,responseType:"arraybuffer",postData:t.postData,success:function(e){var t;try{t=new window.Blob([e.response])}catch(o){var r=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder;if("TypeError"===o.name&&r){var l=new r;l.append(e.response),t=l.getBlob()}}0===t.size?i("Empty image response."):n.src=(window.URL||window.webkitURL).createObjectURL(t)},error:function(e){i("Image load aborted - XHR error")}}):(!1!==t.crossOriginPolicy&&(n.crossOrigin=t.crossOriginPolicy),n.src=t.src)},downloadTileAbort:function(e){e.userData.request&&e.userData.request.abort();var t=e.userData.image;e.userData.image&&(t.onload=t.onerror=t.onabort=null)},createTileCache:function(e,t,r){e._data=t},destroyTileCache:function(e){e._data=null,e._renderedContext=null},getTileCacheData:function(e){return e._data},getTileCacheDataAsImage:function(e){return e._data},getTileCacheDataAsContext2D:function(e){if(!e._renderedContext){var t=document.createElement("canvas");t.width=e._data.width,t.height=e._data.height,e._renderedContext=t.getContext("2d"),e._renderedContext.drawImage(e._data,0,0),e._data=null}return e._renderedContext}},e.extend(!0,e.TileSource.prototype,e.EventSource.prototype),e.TileSource.determineType=function(t,r,n){var i;for(i in o)if(i.match(/.+TileSource$/)&&e.isFunction(o[i])&&e.isFunction(o[i].prototype.supports)&&o[i].prototype.supports.call(t,r,n))return o[i];return e.console.error("No TileSource was able to open %s %s",n,r),null}}(o),function(e){function t(t,n){if(!n||!n.documentElement)throw new Error(e.getString("Errors.Xml"));var i,l,o,a,s,c=n.documentElement,u=c.localName||c.tagName,p=n.documentElement.namespaceURI,h=null,d=[];if("Image"===u)try{if(a=c.getElementsByTagName("Size")[0],void 0===a&&(a=c.getElementsByTagNameNS(p,"Size")[0]),h={Image:{xmlns:"http://schemas.microsoft.com/deepzoom/2008",Url:c.getAttribute("Url"),Format:c.getAttribute("Format"),DisplayRect:null,Overlap:parseInt(c.getAttribute("Overlap"),10),TileSize:parseInt(c.getAttribute("TileSize"),10),Size:{Height:parseInt(a.getAttribute("Height"),10),Width:parseInt(a.getAttribute("Width"),10)}}},!e.imageFormatSupported(h.Image.Format))throw new Error(e.getString("Errors.ImageFormat",h.Image.Format.toUpperCase()));for(i=c.getElementsByTagName("DisplayRect"),void 0===i&&(i=c.getElementsByTagNameNS(p,"DisplayRect")[0]),s=0;s<i.length;s++)l=i[s],o=l.getElementsByTagName("Rect")[0],void 0===o&&(o=l.getElementsByTagNameNS(p,"Rect")[0]),d.push({Rect:{X:parseInt(o.getAttribute("X"),10),Y:parseInt(o.getAttribute("Y"),10),Width:parseInt(o.getAttribute("Width"),10),Height:parseInt(o.getAttribute("Height"),10),MinLevel:parseInt(l.getAttribute("MinLevel"),10),MaxLevel:parseInt(l.getAttribute("MaxLevel"),10)}});return d.length&&(h.Image.DisplayRect=d),r(t,h)}catch(v){throw v instanceof Error?v:new Error(e.getString("Errors.Dzi"))}else{if("Collection"===u)throw new Error(e.getString("Errors.Dzc"));if("Error"===u){var f=c.getElementsByTagName("Message")[0],g=f.firstChild.nodeValue;throw new Error(g)}}throw new Error(e.getString("Errors.Dzi"))}function r(t,r){var n,i,l=r.Image,o=l.Url,a=l.Format,s=l.Size,c=l.DisplayRect||[],u=parseInt(s.Width,10),p=parseInt(s.Height,10),h=parseInt(l.TileSize,10),d=parseInt(l.Overlap,10),f=[];for(i=0;i<c.length;i++)n=c[i].Rect,f.push(new e.DisplayRect(parseInt(n.X,10),parseInt(n.Y,10),parseInt(n.Width,10),parseInt(n.Height,10),parseInt(n.MinLevel,10),parseInt(n.MaxLevel,10)));return e.extend(!0,{width:u,height:p,tileSize:h,tileOverlap:d,minLevel:null,maxLevel:null,tilesUrl:o,fileFormat:a,displayRects:f},r)}e.DziTileSource=function(t,r,n,i,l,o,a,s,c){var u,p,h,d;if(d=e.isPlainObject(t)?t:{width:arguments[0],height:arguments[1],tileSize:arguments[2],tileOverlap:arguments[3],tilesUrl:arguments[4],fileFormat:arguments[5],displayRects:arguments[6],minLevel:arguments[7],maxLevel:arguments[8]},this._levelRects={},this.tilesUrl=d.tilesUrl,this.fileFormat=d.fileFormat,this.displayRects=d.displayRects,this.displayRects)for(u=this.displayRects.length-1;u>=0;u--)for(p=this.displayRects[u],h=p.minLevel;h<=p.maxLevel;h++)this._levelRects[h]||(this._levelRects[h]=[]),this._levelRects[h].push(p);e.TileSource.apply(this,[d])},e.extend(e.DziTileSource.prototype,e.TileSource.prototype,{supports:function(e,t){var r;return e.Image?r=e.Image.xmlns:e.documentElement&&("Image"!==e.documentElement.localName&&"Image"!==e.documentElement.tagName||(r=e.documentElement.namespaceURI)),r=(r||"").toLowerCase(),-1!==r.indexOf("schemas.microsoft.com/deepzoom/2008")||-1!==r.indexOf("schemas.microsoft.com/deepzoom/2009")},configure:function(n,i,l){var o;return o=e.isPlainObject(n)?r(this,n):t(this,n),i&&!o.tilesUrl&&(o.tilesUrl=i.replace(/([^/]+?)(\.(dzi|xml|js)?(\?[^/]*)?)?\/?$/,"$1_files/"),-1!==i.search(/\.(dzi|xml|js)\?/)?o.queryParams=i.match(/\?.*/):o.queryParams=""),o},getTileUrl:function(e,t,r){return[this.tilesUrl,e,"/",t,"_",r,".",this.fileFormat,this.queryParams].join("")},tileExists:function(e,t,r){var n,i,l,o,a,s,c,u=this._levelRects[e];if(this.minLevel&&e<this.minLevel||this.maxLevel&&e>this.maxLevel)return!1;if(!u||!u.length)return!0;for(c=u.length-1;c>=0;c--)if(n=u[c],!(e<n.minLevel||e>n.maxLevel)&&(i=this.getLevelScale(e),l=n.x*i,o=n.y*i,a=l+n.width*i,s=o+n.height*i,l=Math.floor(l/this._tileWidth),o=Math.floor(o/this._tileWidth),a=Math.ceil(a/this._tileWidth),s=Math.ceil(s/this._tileWidth),l<=t&&t<a&&o<=r&&r<s))return!0;return!1}})}(o),function(e){function t(e){var t=["http://library.stanford.edu/iiif/image-api/compliance.html#level0","http://library.stanford.edu/iiif/image-api/1.1/compliance.html#level0","http://iiif.io/api/image/2/level0.json","level0","https://iiif.io/api/image/3/level0.json"],r=Array.isArray(e.profile)?e.profile[0]:e.profile,n=-1!==t.indexOf(r),i=!1;return 2===e.version&&e.profile.length>1&&e.profile[1].supports&&(i=-1!==e.profile[1].supports.indexOf("sizeByW")),3===e.version&&e.extraFeatures&&(i=-1!==e.extraFeatures.indexOf("sizeByWh")),!n||i}function r(e){for(var t=[],r=0;r<e.sizes.length;r++)t.push({url:e._id+"/full/"+e.sizes[r].width+","+(3===e.version?e.sizes[r].height:"")+"/0/default."+e.tileFormat,width:e.sizes[r].width,height:e.sizes[r].height});return t.sort((function(e,t){return e.width-t.width}))}function n(t){if(!t||!t.documentElement)throw new Error(e.getString("Errors.Xml"));var r=t.documentElement,n=r.tagName,l=null;if("info"===n)try{return l={},i(r,l),l}catch(o){throw o instanceof Error?o:new Error(e.getString("Errors.IIIF"))}throw new Error(e.getString("Errors.IIIF"))}function i(t,r,n){var l,o;if(3===t.nodeType&&n)o=t.nodeValue.trim(),o.match(/^\d*$/)&&(o=Number(o)),r[n]?(e.isArray(r[n])||(r[n]=[r[n]]),r[n].push(o)):r[n]=o;else if(1===t.nodeType)for(l=0;l<t.childNodes.length;l++)i(t.childNodes[l],r,t.nodeName)}e.IIIFTileSource=function(n){if(e.extend(!0,this,n),this._id=this["@id"]||this["id"]||this["identifier"]||null,!(this.height&&this.width&&this._id))throw new Error("IIIF required parameters (width, height, or id) not provided.");if(n.tileSizePerScaleFactor={},this.tileFormat=this.tileFormat||"jpg",this.version=n.version,this.tile_width&&this.tile_height)n.tileWidth=this.tile_width,n.tileHeight=this.tile_height;else if(this.tile_width)n.tileSize=this.tile_width;else if(this.tile_height)n.tileSize=this.tile_height;else if(this.tiles)if(1===this.tiles.length)n.tileWidth=this.tiles[0].width,n.tileHeight=this.tiles[0].height||this.tiles[0].width,this.scale_factors=this.tiles[0].scaleFactors;else{this.scale_factors=[];for(var i=0;i<this.tiles.length;i++)for(var l=0;l<this.tiles[i].scaleFactors.length;l++){var o=this.tiles[i].scaleFactors[l];this.scale_factors.push(o),n.tileSizePerScaleFactor[o]={width:this.tiles[i].width,height:this.tiles[i].height||this.tiles[i].width}}}else if(t(n)){for(var a=Math.min(this.height,this.width),s=[256,512,1024],c=[],u=0;u<s.length;u++)s[u]<=a&&c.push(s[u]);c.length>0?n.tileSize=Math.max.apply(null,c):n.tileSize=a}else this.sizes&&this.sizes.length>0?(this.emulateLegacyImagePyramid=!0,n.levels=r(this),e.extend(!0,n,{width:n.levels[n.levels.length-1].width,height:n.levels[n.levels.length-1].height,tileSize:Math.max(n.height,n.width),tileOverlap:0,minLevel:0,maxLevel:n.levels.length-1}),this.levels=n.levels):e.console.error("Nothing in the info.json to construct image pyramids from");if(!n.maxLevel&&!this.emulateLegacyImagePyramid)if(this.scale_factors){var p=Math.max.apply(null,this.scale_factors);n.maxLevel=Math.round(Math.log(p)*Math.LOG2E)}else n.maxLevel=Number(Math.round(Math.log(Math.max(this.width,this.height),2)));if(this.sizes){var h=this.sizes.length;h!==n.maxLevel&&h!==n.maxLevel+1||(this.levelSizes=this.sizes.slice().sort(((e,t)=>e.width-t.width)),h===n.maxLevel&&this.levelSizes.push({width:this.width,height:this.height}))}e.TileSource.apply(this,[n])},e.extend(e.IIIFTileSource.prototype,e.TileSource.prototype,{supports:function(e,t){return!(!e.protocol||"http://iiif.io/api/image"!==e.protocol)||(!(!e["@context"]||"http://library.stanford.edu/iiif/image-api/1.1/context.json"!==e["@context"]&&"http://iiif.io/api/image/1/context.json"!==e["@context"])||(!(!e.profile||0!==e.profile.indexOf("http://library.stanford.edu/iiif/image-api/compliance.html"))||(!!(e.identifier&&e.width&&e.height)||!(!e.documentElement||"info"!==e.documentElement.tagName||"http://library.stanford.edu/iiif/image-api/ns/"!==e.documentElement.namespaceURI))))},configure:function(t,r,i){if(e.isPlainObject(t)){if(t["@context"]){var l=t["@context"];if(Array.isArray(l))for(var a=0;a<l.length;a++)if("string"===typeof l[a]&&(/^http:\/\/iiif\.io\/api\/image\/[1-3]\/context\.json$/.test(l[a])||"http://library.stanford.edu/iiif/image-api/1.1/context.json"===l[a])){l=l[a];break}switch(l){case"http://iiif.io/api/image/1/context.json":case"http://library.stanford.edu/iiif/image-api/1.1/context.json":t.version=1;break;case"http://iiif.io/api/image/2/context.json":t.version=2;break;case"http://iiif.io/api/image/3/context.json":t.version=3;break;default:e.console.error("Data has a @context property which contains no known IIIF context URI.")}}else t["@context"]="http://iiif.io/api/image/1.0/context.json",t["@id"]=r.replace("/info.json",""),t.version=1;if(t.preferredFormats)for(var s=0;s<t.preferredFormats.length;s++)if(o.imageFormatSupported(t.preferredFormats[s])){t.tileFormat=t.preferredFormats[s];break}return t}var c=n(t);return c["@context"]="http://iiif.io/api/image/1.0/context.json",c["@id"]=r.replace("/info.xml",""),c.version=1,c},getTileWidth:function(t){if(this.emulateLegacyImagePyramid)return e.TileSource.prototype.getTileWidth.call(this,t);var r=Math.pow(2,this.maxLevel-t);return this.tileSizePerScaleFactor&&this.tileSizePerScaleFactor[r]?this.tileSizePerScaleFactor[r].width:this._tileWidth},getTileHeight:function(t){if(this.emulateLegacyImagePyramid)return e.TileSource.prototype.getTileHeight.call(this,t);var r=Math.pow(2,this.maxLevel-t);return this.tileSizePerScaleFactor&&this.tileSizePerScaleFactor[r]?this.tileSizePerScaleFactor[r].height:this._tileHeight},getLevelScale:function(t){if(this.emulateLegacyImagePyramid){var r=NaN;return this.levels.length>0&&t>=this.minLevel&&t<=this.maxLevel&&(r=this.levels[t].width/this.levels[this.maxLevel].width),r}return e.TileSource.prototype.getLevelScale.call(this,t)},getNumTiles:function(t){if(this.emulateLegacyImagePyramid){var r=this.getLevelScale(t);return r?new e.Point(1,1):new e.Point(0,0)}if(this.levelSizes){var n=this.levelSizes[t],i=Math.ceil(n.width/this.getTileWidth(t)),l=Math.ceil(n.height/this.getTileHeight(t));return new e.Point(i,l)}return e.TileSource.prototype.getNumTiles.call(this,t)},getTileAtPoint:function(t,r){if(this.emulateLegacyImagePyramid)return new e.Point(0,0);if(this.levelSizes){var n=r.x>=0&&r.x<=1&&r.y>=0&&r.y<=1/this.aspectRatio;e.console.assert(n,"[TileSource.getTileAtPoint] must be called with a valid point.");var i=this.levelSizes[t].width,l=r.x*i,o=r.y*i,a=Math.floor(l/this.getTileWidth(t)),s=Math.floor(o/this.getTileHeight(t));r.x>=1&&(a=this.getNumTiles(t).x-1);var c=1e-15;return r.y>=1/this.aspectRatio-c&&(s=this.getNumTiles(t).y-1),new e.Point(a,s)}return e.TileSource.prototype.getTileAtPoint.call(this,t,r)},getTileUrl:function(e,t,r){if(this.emulateLegacyImagePyramid){var n=null;return this.levels.length>0&&e>=this.minLevel&&e<=this.maxLevel&&(n=this.levels[e].url),n}var i,l,o,a,s,c,u,p,h,d,f,g,v,m,A,y,w="0",_=Math.pow(.5,this.maxLevel-e);return this.levelSizes?(i=this.levelSizes[e].width,l=this.levelSizes[e].height):(i=Math.ceil(this.width*_),l=Math.ceil(this.height*_)),o=this.getTileWidth(e),a=this.getTileHeight(e),s=Math.round(o/_),c=Math.round(a/_),A=1===this.version?"native."+this.tileFormat:"default."+this.tileFormat,i<o&&l<a?(g=2===this.version&&i===this.width?"full":3===this.version&&i===this.width&&l===this.height?"max":3===this.version?i+","+l:i+",",u="full"):(p=t*s,h=r*c,d=Math.min(s,this.width-p),f=Math.min(c,this.height-h),u=0===t&&0===r&&d===this.width&&f===this.height?"full":[p,h,d,f].join(","),v=Math.min(o,i-t*o),m=Math.min(a,l-r*a),g=2===this.version&&v===this.width?"full":3===this.version&&v===this.width&&m===this.height?"max":3===this.version?v+","+m:v+","),y=[this._id,u,g,w,A].join("/"),y},__testonly__:{canBeTiled:t,constructLevels:r}})}(o),function(e){e.OsmTileSource=function(t,r,n,i,l){var o;o=e.isPlainObject(t)?t:{width:arguments[0],height:arguments[1],tileSize:arguments[2],tileOverlap:arguments[3],tilesUrl:arguments[4]},o.width&&o.height||(o.width=65572864,o.height=65572864),o.tileSize||(o.tileSize=256,o.tileOverlap=0),o.tilesUrl||(o.tilesUrl="http://tile.openstreetmap.org/"),o.minLevel=8,e.TileSource.apply(this,[o])},e.extend(e.OsmTileSource.prototype,e.TileSource.prototype,{supports:function(e,t){return e.type&&"openstreetmaps"===e.type},configure:function(e,t,r){return e},getTileUrl:function(e,t,r){return this.tilesUrl+(e-8)+"/"+t+"/"+r+".png"}})}(o),function(e){e.TmsTileSource=function(t,r,n,i,l){var o;o=e.isPlainObject(t)?t:{width:arguments[0],height:arguments[1],tileSize:arguments[2],tileOverlap:arguments[3],tilesUrl:arguments[4]};var a,s=256*Math.ceil(o.width/256),c=256*Math.ceil(o.height/256);a=s>c?s/256:c/256,o.maxLevel=Math.ceil(Math.log(a)/Math.log(2))-1,o.tileSize=256,o.width=s,o.height=c,e.TileSource.apply(this,[o])},e.extend(e.TmsTileSource.prototype,e.TileSource.prototype,{supports:function(e,t){return e.type&&"tiledmapservice"===e.type},configure:function(e,t,r){return e},getTileUrl:function(e,t,r){var n=this.getNumTiles(e).y-1;return this.tilesUrl+e+"/"+t+"/"+(n-r)+".png"}})}(o),function(e){e.ZoomifyTileSource=function(e){"undefined"===typeof e.tileSize&&(e.tileSize=256),"undefined"===typeof e.fileFormat&&(e.fileFormat="jpg",this.fileFormat=e.fileFormat);var t={x:e.width,y:e.height};e.imageSizes=[{x:e.width,y:e.height}],e.gridSize=[this._getGridSize(e.width,e.height,e.tileSize)];while(parseInt(t.x,10)>e.tileSize||parseInt(t.y,10)>e.tileSize)t.x=Math.floor(t.x/2),t.y=Math.floor(t.y/2),e.imageSizes.push({x:t.x,y:t.y}),e.gridSize.push(this._getGridSize(t.x,t.y,e.tileSize));e.imageSizes.reverse(),e.gridSize.reverse(),e.minLevel=0,e.maxLevel=e.gridSize.length-1,o.TileSource.apply(this,[e])},e.extend(e.ZoomifyTileSource.prototype,e.TileSource.prototype,{_getGridSize:function(e,t,r){return{x:Math.ceil(e/r),y:Math.ceil(t/r)}},_calculateAbsoluteTileNumber:function(e,t,r){for(var n=0,i={},l=0;l<e;l++)i=this.gridSize[l],n+=i.x*i.y;return i=this.gridSize[e],n+=i.x*r+t,n},supports:function(e,t){return e.type&&"zoomifytileservice"===e.type},configure:function(e,t,r){return e},getTileUrl:function(e,t,r){var n=0,i=this._calculateAbsoluteTileNumber(e,t,r);return n=Math.floor(i/256),this.tilesUrl+"TileGroup"+n+"/"+e+"-"+t+"-"+r+"."+this.fileFormat}})}(o),function(e){function t(t){var r,n,i=[];for(n=0;n<t.length;n++)r=t[n],r.height&&r.width&&r.url?i.push({url:r.url,width:Number(r.width),height:Number(r.height)}):e.console.error("Unsupported image format: %s",r.url?r.url:"<no URL>");return i.sort((function(e,t){return e.height-t.height}))}function r(t,r){if(!r||!r.documentElement)throw new Error(e.getString("Errors.Xml"));var i,l,o=r.documentElement,a=o.tagName,s=null,c=[];if("image"===a)try{for(s={type:o.getAttribute("type"),levels:[]},c=o.getElementsByTagName("level"),l=0;l<c.length;l++)i=c[l],s.levels.push({url:i.getAttribute("url"),width:parseInt(i.getAttribute("width"),10),height:parseInt(i.getAttribute("height"),10)});return n(t,s)}catch(u){throw u instanceof Error?u:new Error("Unknown error parsing Legacy Image Pyramid XML.")}else{if("collection"===a)throw new Error("Legacy Image Pyramid Collections not yet supported.");if("error"===a)throw new Error("Error: "+r)}throw new Error("Unknown element "+a)}function n(e,t){return t.levels}e.LegacyTileSource=function(r){var n,i,l;e.isArray(r)&&(n={type:"legacy-image-pyramid",levels:r}),n.levels=t(n.levels),n.levels.length>0?(i=n.levels[n.levels.length-1].width,l=n.levels[n.levels.length-1].height):(i=0,l=0,e.console.error("No supported image formats found")),e.extend(!0,n,{width:i,height:l,tileSize:Math.max(l,i),tileOverlap:0,minLevel:0,maxLevel:n.levels.length>0?n.levels.length-1:0}),e.TileSource.apply(this,[n]),this.levels=n.levels},e.extend(e.LegacyTileSource.prototype,e.TileSource.prototype,{supports:function(e,t){return e.type&&"legacy-image-pyramid"===e.type||e.documentElement&&"legacy-image-pyramid"===e.documentElement.getAttribute("type")},configure:function(t,i,l){var o;return o=e.isPlainObject(t)?n(this,t):r(this,t),o},getLevelScale:function(e){var t=NaN;return this.levels.length>0&&e>=this.minLevel&&e<=this.maxLevel&&(t=this.levels[e].width/this.levels[this.maxLevel].width),t},getNumTiles:function(t){var r=this.getLevelScale(t);return r?new e.Point(1,1):new e.Point(0,0)},getTileUrl:function(e,t,r){var n=null;return this.levels.length>0&&e>=this.minLevel&&e<=this.maxLevel&&(n=this.levels[e].url),n}})}(o),function(e){e.ImageTileSource=function(t){t=e.extend({buildPyramid:!0,crossOriginPolicy:!1,ajaxWithCredentials:!1},t),e.TileSource.apply(this,[t])},e.extend(e.ImageTileSource.prototype,e.TileSource.prototype,{supports:function(e,t){return e.type&&"image"===e.type},configure:function(e,t,r){return e},getImageInfo:function(t){var r=this._image=new Image,n=this;this.crossOriginPolicy&&(r.crossOrigin=this.crossOriginPolicy),this.ajaxWithCredentials&&(r.useCredentials=this.ajaxWithCredentials),e.addEvent(r,"load",(function(){n.width=r.naturalWidth,n.height=r.naturalHeight,n.aspectRatio=n.width/n.height,n.dimensions=new e.Point(n.width,n.height),n._tileWidth=n.width,n._tileHeight=n.height,n.tileOverlap=0,n.minLevel=0,n.levels=n._buildLevels(),n.maxLevel=n.levels.length-1,n.ready=!0,n.raiseEvent("ready",{tileSource:n})})),e.addEvent(r,"error",(function(){n.raiseEvent("open-failed",{message:"Error loading image at "+t,source:t})})),r.src=t},getLevelScale:function(e){var t=NaN;return e>=this.minLevel&&e<=this.maxLevel&&(t=this.levels[e].width/this.levels[this.maxLevel].width),t},getNumTiles:function(t){var r=this.getLevelScale(t);return r?new e.Point(1,1):new e.Point(0,0)},getTileUrl:function(e,t,r){var n=null;return e>=this.minLevel&&e<=this.maxLevel&&(n=this.levels[e].url),n},getContext2D:function(e,t,r){var n=null;return e>=this.minLevel&&e<=this.maxLevel&&(n=this.levels[e].context2D),n},destroy:function(e){this._freeupCanvasMemory(e)},_buildLevels:function(){var t=[{url:this._image.src,width:this._image.naturalWidth,height:this._image.naturalHeight}];if(!this.buildPyramid||!e.supportsCanvas)return delete this._image,t;var r=this._image.naturalWidth,n=this._image.naturalHeight,i=document.createElement("canvas"),l=i.getContext("2d");if(i.width=r,i.height=n,l.drawImage(this._image,0,0,r,n),t[0].context2D=l,delete this._image,e.isCanvasTainted(i))return t;while(r>=2&&n>=2){r=Math.floor(r/2),n=Math.floor(n/2);var o=document.createElement("canvas"),a=o.getContext("2d");o.width=r,o.height=n,a.drawImage(i,0,0,r,n),t.splice(0,0,{context2D:a,width:r,height:n}),i=o,l=a}return t},_freeupCanvasMemory:function(e){for(var t=0;t<this.levels.length;t++)this.levels[t].context2D&&(this.levels[t].context2D.canvas.height=0,this.levels[t].context2D.canvas.width=0,e&&e.raiseEvent("image-unloaded",{context2D:this.levels[t].context2D}))}})}(o),function(e){e.TileSourceCollection=function(t,r,n,i){e.console.error("TileSourceCollection is deprecated; use World instead")}}(o),function(e){function t(t){e.requestAnimationFrame((function(){r(t)}))}function r(r){var n,i,l;r.shouldFade&&(n=e.now(),i=n-r.fadeBeginTime,l=1-i/r.fadeLength,l=Math.min(1,l),l=Math.max(0,l),r.imgGroup&&e.setElementOpacity(r.imgGroup,l,!0),l>0&&t(r))}function n(r){r.shouldFade=!0,r.fadeBeginTime=e.now()+r.fadeDelay,window.setTimeout((function(){t(r)}),r.fadeDelay)}function i(t){t.shouldFade=!1,t.imgGroup&&e.setElementOpacity(t.imgGroup,1,!0)}function l(t,r){t.element.disabled||(r>=e.ButtonState.GROUP&&t.currentState===e.ButtonState.REST&&(i(t),t.currentState=e.ButtonState.GROUP),r>=e.ButtonState.HOVER&&t.currentState===e.ButtonState.GROUP&&(t.imgHover&&(t.imgHover.style.visibility=""),t.currentState=e.ButtonState.HOVER),r>=e.ButtonState.DOWN&&t.currentState===e.ButtonState.HOVER&&(t.imgDown&&(t.imgDown.style.visibility=""),t.currentState=e.ButtonState.DOWN))}function o(t,r){t.element.disabled||(r<=e.ButtonState.HOVER&&t.currentState===e.ButtonState.DOWN&&(t.imgDown&&(t.imgDown.style.visibility="hidden"),t.currentState=e.ButtonState.HOVER),r<=e.ButtonState.GROUP&&t.currentState===e.ButtonState.HOVER&&(t.imgHover&&(t.imgHover.style.visibility="hidden"),t.currentState=e.ButtonState.GROUP),r<=e.ButtonState.REST&&t.currentState===e.ButtonState.GROUP&&(n(t),t.currentState=e.ButtonState.REST))}e.ButtonState={REST:0,GROUP:1,HOVER:2,DOWN:3},e.Button=function(t){var r=this;e.EventSource.call(this),e.extend(!0,this,{tooltip:null,srcRest:null,srcGroup:null,srcHover:null,srcDown:null,clickTimeThreshold:e.DEFAULT_SETTINGS.clickTimeThreshold,clickDistThreshold:e.DEFAULT_SETTINGS.clickDistThreshold,fadeDelay:0,fadeLength:2e3,onPress:null,onRelease:null,onClick:null,onEnter:null,onExit:null,onFocus:null,onBlur:null,userData:null},t),this.element=t.element||e.makeNeutralElement("div"),t.element||(this.imgRest=e.makeTransparentImage(this.srcRest),this.imgGroup=e.makeTransparentImage(this.srcGroup),this.imgHover=e.makeTransparentImage(this.srcHover),this.imgDown=e.makeTransparentImage(this.srcDown),this.imgRest.alt=this.imgGroup.alt=this.imgHover.alt=this.imgDown.alt=this.tooltip,e.setElementPointerEventsNone(this.imgRest),e.setElementPointerEventsNone(this.imgGroup),e.setElementPointerEventsNone(this.imgHover),e.setElementPointerEventsNone(this.imgDown),this.element.style.position="relative",e.setElementTouchActionNone(this.element),this.imgGroup.style.position=this.imgHover.style.position=this.imgDown.style.position="absolute",this.imgGroup.style.top=this.imgHover.style.top=this.imgDown.style.top="0px",this.imgGroup.style.left=this.imgHover.style.left=this.imgDown.style.left="0px",this.imgHover.style.visibility=this.imgDown.style.visibility="hidden",this.element.appendChild(this.imgRest),this.element.appendChild(this.imgGroup),this.element.appendChild(this.imgHover),this.element.appendChild(this.imgDown)),this.addHandler("press",this.onPress),this.addHandler("release",this.onRelease),this.addHandler("click",this.onClick),this.addHandler("enter",this.onEnter),this.addHandler("exit",this.onExit),this.addHandler("focus",this.onFocus),this.addHandler("blur",this.onBlur),this.currentState=e.ButtonState.GROUP,this.fadeBeginTime=null,this.shouldFade=!1,this.element.style.display="inline-block",this.element.style.position="relative",this.element.title=this.tooltip,this.tracker=new e.MouseTracker({userData:"Button.tracker",element:this.element,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,enterHandler:function(t){t.insideElementPressed?(l(r,e.ButtonState.DOWN),r.raiseEvent("enter",{originalEvent:t.originalEvent})):t.buttonDownAny||l(r,e.ButtonState.HOVER)},focusHandler:function(e){r.tracker.enterHandler(e),r.raiseEvent("focus",{originalEvent:e.originalEvent})},leaveHandler:function(t){o(r,e.ButtonState.GROUP),t.insideElementPressed&&r.raiseEvent("exit",{originalEvent:t.originalEvent})},blurHandler:function(e){r.tracker.leaveHandler(e),r.raiseEvent("blur",{originalEvent:e.originalEvent})},pressHandler:function(t){l(r,e.ButtonState.DOWN),r.raiseEvent("press",{originalEvent:t.originalEvent})},releaseHandler:function(t){t.insideElementPressed&&t.insideElementReleased?(o(r,e.ButtonState.HOVER),r.raiseEvent("release",{originalEvent:t.originalEvent})):t.insideElementPressed?o(r,e.ButtonState.GROUP):l(r,e.ButtonState.HOVER)},clickHandler:function(e){e.quick&&r.raiseEvent("click",{originalEvent:e.originalEvent})},keyHandler:function(e){13===e.keyCode?(r.raiseEvent("click",{originalEvent:e.originalEvent}),r.raiseEvent("release",{originalEvent:e.originalEvent}),e.preventDefault=!0):e.preventDefault=!1}}),o(this,e.ButtonState.REST)},e.extend(e.Button.prototype,e.EventSource.prototype,{notifyGroupEnter:function(){l(this,e.ButtonState.GROUP)},notifyGroupExit:function(){o(this,e.ButtonState.REST)},disable:function(){this.notifyGroupExit(),this.element.disabled=!0,this.tracker.setTracking(!1),e.setElementOpacity(this.element,.2,!0)},enable:function(){this.element.disabled=!1,this.tracker.setTracking(!0),e.setElementOpacity(this.element,1,!0),this.notifyGroupEnter()},destroy:function(){this.imgRest&&(this.element.removeChild(this.imgRest),this.imgRest=null),this.imgGroup&&(this.element.removeChild(this.imgGroup),this.imgGroup=null),this.imgHover&&(this.element.removeChild(this.imgHover),this.imgHover=null),this.imgDown&&(this.element.removeChild(this.imgDown),this.imgDown=null),this.removeAllHandlers(),this.tracker.destroy(),this.element=null}})}(o),function(e){e.ButtonGroup=function(t){e.extend(!0,this,{buttons:[],clickTimeThreshold:e.DEFAULT_SETTINGS.clickTimeThreshold,clickDistThreshold:e.DEFAULT_SETTINGS.clickDistThreshold,labelText:""},t);var r,n=this.buttons.concat([]),i=this;if(this.element=t.element||e.makeNeutralElement("div"),!t.group)for(this.element.style.display="inline-block",r=0;r<n.length;r++)this.element.appendChild(n[r].element);e.setElementTouchActionNone(this.element),this.tracker=new e.MouseTracker({userData:"ButtonGroup.tracker",element:this.element,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,enterHandler:function(e){var t;for(t=0;t<i.buttons.length;t++)i.buttons[t].notifyGroupEnter()},leaveHandler:function(e){var t;if(!e.insideElementPressed)for(t=0;t<i.buttons.length;t++)i.buttons[t].notifyGroupExit()}})},e.ButtonGroup.prototype={addButton:function(e){this.buttons.push(e),this.element.appendChild(e.element)},emulateEnter:function(){this.tracker.enterHandler({eventSource:this.tracker})},emulateLeave:function(){this.tracker.leaveHandler({eventSource:this.tracker})},destroy:function(){while(this.buttons.length){var e=this.buttons.pop();this.element.removeChild(e.element),e.destroy()}this.tracker.destroy(),this.element=null}}}(o),function(e){e.Rect=function(t,r,n,i,l){var o,a;this.x="number"===typeof t?t:0,this.y="number"===typeof r?r:0,this.width="number"===typeof n?n:0,this.height="number"===typeof i?i:0,this.degrees="number"===typeof l?l:0,this.degrees=e.positiveModulo(this.degrees,360),this.degrees>=270?(o=this.getTopRight(),this.x=o.x,this.y=o.y,a=this.height,this.height=this.width,this.width=a,this.degrees-=270):this.degrees>=180?(o=this.getBottomRight(),this.x=o.x,this.y=o.y,this.degrees-=180):this.degrees>=90&&(o=this.getBottomLeft(),this.x=o.x,this.y=o.y,a=this.height,this.height=this.width,this.width=a,this.degrees-=90)},e.Rect.fromSummits=function(t,r,n){var i=t.distanceTo(r),l=t.distanceTo(n),o=r.minus(t),a=Math.atan(o.y/o.x);return o.x<0?a+=Math.PI:o.y<0&&(a+=2*Math.PI),new e.Rect(t.x,t.y,i,l,a/Math.PI*180)},e.Rect.prototype={clone:function(){return new e.Rect(this.x,this.y,this.width,this.height,this.degrees)},getAspectRatio:function(){return this.width/this.height},getTopLeft:function(){return new e.Point(this.x,this.y)},getBottomRight:function(){return new e.Point(this.x+this.width,this.y+this.height).rotate(this.degrees,this.getTopLeft())},getTopRight:function(){return new e.Point(this.x+this.width,this.y).rotate(this.degrees,this.getTopLeft())},getBottomLeft:function(){return new e.Point(this.x,this.y+this.height).rotate(this.degrees,this.getTopLeft())},getCenter:function(){return new e.Point(this.x+this.width/2,this.y+this.height/2).rotate(this.degrees,this.getTopLeft())},getSize:function(){return new e.Point(this.width,this.height)},equals:function(t){return t instanceof e.Rect&&this.x===t.x&&this.y===t.y&&this.width===t.width&&this.height===t.height&&this.degrees===t.degrees},times:function(t){return new e.Rect(this.x*t,this.y*t,this.width*t,this.height*t,this.degrees)},translate:function(t){return new e.Rect(this.x+t.x,this.y+t.y,this.width,this.height,this.degrees)},union:function(t){var r=this.getBoundingBox(),n=t.getBoundingBox(),i=Math.min(r.x,n.x),l=Math.min(r.y,n.y),o=Math.max(r.x+r.width,n.x+n.width),a=Math.max(r.y+r.height,n.y+n.height);return new e.Rect(i,l,o-i,a-l)},intersection:function(t){var r=1e-10,n=[],i=this.getTopLeft();t.containsPoint(i,r)&&n.push(i);var l=this.getTopRight();t.containsPoint(l,r)&&n.push(l);var o=this.getBottomLeft();t.containsPoint(o,r)&&n.push(o);var a=this.getBottomRight();t.containsPoint(a,r)&&n.push(a);var s=t.getTopLeft();this.containsPoint(s,r)&&n.push(s);var c=t.getTopRight();this.containsPoint(c,r)&&n.push(c);var u=t.getBottomLeft();this.containsPoint(u,r)&&n.push(u);var p=t.getBottomRight();this.containsPoint(p,r)&&n.push(p);for(var h=this._getSegments(),d=t._getSegments(),f=0;f<h.length;f++)for(var g=h[f],v=0;v<d.length;v++){var m=d[v],A=y(g[0],g[1],m[0],m[1]);A&&n.push(A)}function y(t,n,i,l){var o=n.minus(t),a=l.minus(i),s=-a.x*o.y+o.x*a.y;if(0===s)return null;var c=(o.x*(t.y-i.y)-o.y*(t.x-i.x))/s,u=(a.x*(t.y-i.y)-a.y*(t.x-i.x))/s;return-r<=c&&c<=1-r&&-r<=u&&u<=1-r?new e.Point(t.x+u*o.x,t.y+u*o.y):null}if(0===n.length)return null;for(var w=n[0].x,_=n[0].x,x=n[0].y,T=n[0].y,b=1;b<n.length;b++){var E=n[b];E.x<w&&(w=E.x),E.x>_&&(_=E.x),E.y<x&&(x=E.y),E.y>T&&(T=E.y)}return new e.Rect(w,x,_-w,T-x)},_getSegments:function(){var e=this.getTopLeft(),t=this.getTopRight(),r=this.getBottomLeft(),n=this.getBottomRight();return[[e,t],[t,n],[n,r],[r,e]]},rotate:function(t,r){if(t=e.positiveModulo(t,360),0===t)return this.clone();r=r||this.getCenter();var n=this.getTopLeft().rotate(t,r),i=this.getTopRight().rotate(t,r),l=i.minus(n);l=l.apply((function(e){var t=1e-15;return Math.abs(e)<t?0:e}));var o=Math.atan(l.y/l.x);return l.x<0?o+=Math.PI:l.y<0&&(o+=2*Math.PI),new e.Rect(n.x,n.y,this.width,this.height,o/Math.PI*180)},getBoundingBox:function(){if(0===this.degrees)return this.clone();var t=this.getTopLeft(),r=this.getTopRight(),n=this.getBottomLeft(),i=this.getBottomRight(),l=Math.min(t.x,r.x,n.x,i.x),o=Math.max(t.x,r.x,n.x,i.x),a=Math.min(t.y,r.y,n.y,i.y),s=Math.max(t.y,r.y,n.y,i.y);return new e.Rect(l,a,o-l,s-a)},getIntegerBoundingBox:function(){var t=this.getBoundingBox(),r=Math.floor(t.x),n=Math.floor(t.y),i=Math.ceil(t.width+t.x-r),l=Math.ceil(t.height+t.y-n);return new e.Rect(r,n,i,l)},containsPoint:function(e,t){t=t||0;var r=this.getTopLeft(),n=this.getTopRight(),i=this.getBottomLeft(),l=n.minus(r),o=i.minus(r);return(e.x-r.x)*l.x+(e.y-r.y)*l.y>=-t&&(e.x-n.x)*l.x+(e.y-n.y)*l.y<=t&&(e.x-r.x)*o.x+(e.y-r.y)*o.y>=-t&&(e.x-i.x)*o.x+(e.y-i.y)*o.y<=t},toString:function(){return"["+Math.round(100*this.x)/100+", "+Math.round(100*this.y)/100+", "+Math.round(100*this.width)/100+"x"+Math.round(100*this.height)/100+", "+Math.round(100*this.degrees)/100+"deg]"}}}(o),function(e){var t={};function r(e){var t;e.quick&&(t="horizontal"===this.scroll?Math.floor(e.position.x/(this.panelWidth+4)):Math.floor(e.position.y/this.panelHeight),this.viewer.goToPage(t));this.element.focus()}function n(t){if(this.dragging=!0,this.element){var r=Number(this.element.style.marginLeft.replace("px","")),n=Number(this.element.style.marginTop.replace("px","")),i=Number(this.element.style.width.replace("px","")),o=Number(this.element.style.height.replace("px","")),a=e.getElementSize(this.viewer.canvas);"horizontal"===this.scroll?-t.delta.x>0?r>-(i-a.x)&&(this.element.style.marginLeft=r+2*t.delta.x+"px",l(this,a.x,r+2*t.delta.x)):-t.delta.x<0&&r<0&&(this.element.style.marginLeft=r+2*t.delta.x+"px",l(this,a.x,r+2*t.delta.x)):-t.delta.y>0?n>-(o-a.y)&&(this.element.style.marginTop=n+2*t.delta.y+"px",l(this,a.y,n+2*t.delta.y)):-t.delta.y<0&&n<0&&(this.element.style.marginTop=n+2*t.delta.y+"px",l(this,a.y,n+2*t.delta.y))}}function i(t){if(this.element){var r=Number(this.element.style.marginLeft.replace("px","")),n=Number(this.element.style.marginTop.replace("px","")),i=Number(this.element.style.width.replace("px","")),o=Number(this.element.style.height.replace("px","")),a=e.getElementSize(this.viewer.canvas);"horizontal"===this.scroll?t.scroll>0?r>-(i-a.x)&&(this.element.style.marginLeft=r-60*t.scroll+"px",l(this,a.x,r-60*t.scroll)):t.scroll<0&&r<0&&(this.element.style.marginLeft=r-60*t.scroll+"px",l(this,a.x,r-60*t.scroll)):t.scroll<0?n>a.y-o&&(this.element.style.marginTop=n+60*t.scroll+"px",l(this,a.y,n+60*t.scroll)):t.scroll>0&&n<0&&(this.element.style.marginTop=n+60*t.scroll+"px",l(this,a.y,n+60*t.scroll)),t.preventDefault=!0}}function l(t,r,n){var i,l,o,a,s,c;for(i="horizontal"===t.scroll?t.panelWidth:t.panelHeight,l=Math.ceil(r/i)+5,o=Math.ceil((Math.abs(n)+r)/i)+1,l=o-l,l=l<0?0:l,s=l;s<o&&s<t.panels.length;s++)if(c=t.panels[s],!c.activePanel){var u,p=t.viewer.tileSources[s];u=p.referenceStripThumbnailUrl?{type:"image",url:p.referenceStripThumbnailUrl}:p,a=new e.Viewer({id:c.id,tileSources:[u],element:c,navigatorSizeRatio:t.sizeRatio,showNavigator:!1,mouseNavEnabled:!1,showNavigationControl:!1,showSequenceControl:!1,immediateRender:!0,blendTime:0,animationTime:0,loadTilesWithAjax:t.viewer.loadTilesWithAjax,ajaxHeaders:t.viewer.ajaxHeaders,drawer:"canvas"}),e.setElementPointerEventsNone(a.canvas),e.setElementPointerEventsNone(a.container),a.innerTracker.setTracking(!1),a.outerTracker.setTracking(!1),t.miniViewers[c.id]=a,c.activePanel=!0}}function o(e){var t=e.eventSource.element;"horizontal"===this.scroll?t.style.marginBottom="0px":t.style.marginLeft="0px"}function a(t){var r=t.eventSource.element;"horizontal"===this.scroll?r.style.marginBottom="-"+e.getElementSize(r).y/2+"px":r.style.marginLeft="-"+e.getElementSize(r).x/2+"px"}function s(e){if(e.ctrl||e.alt||e.meta)e.preventDefault=!1;else switch(e.keyCode){case 38:i.call(this,{eventSource:this.tracker,position:null,scroll:1,shift:null}),e.preventDefault=!0;break;case 40:i.call(this,{eventSource:this.tracker,position:null,scroll:-1,shift:null}),e.preventDefault=!0;break;case 37:i.call(this,{eventSource:this.tracker,position:null,scroll:-1,shift:null}),e.preventDefault=!0;break;case 39:i.call(this,{eventSource:this.tracker,position:null,scroll:1,shift:null}),e.preventDefault=!0;break;default:e.preventDefault=!1;break}}function c(e){if(e.ctrl||e.alt||e.meta)e.preventDefault=!1;else switch(e.keyCode){case 61:i.call(this,{eventSource:this.tracker,position:null,scroll:1,shift:null}),e.preventDefault=!0;break;case 45:i.call(this,{eventSource:this.tracker,position:null,scroll:-1,shift:null}),e.preventDefault=!0;break;case 48:case 119:case 87:i.call(this,{eventSource:this.tracker,position:null,scroll:1,shift:null}),e.preventDefault=!0;break;case 115:case 83:i.call(this,{eventSource:this.tracker,position:null,scroll:-1,shift:null}),e.preventDefault=!0;break;case 97:i.call(this,{eventSource:this.tracker,position:null,scroll:-1,shift:null}),e.preventDefault=!0;break;case 100:i.call(this,{eventSource:this.tracker,position:null,scroll:1,shift:null}),e.preventDefault=!0;break;default:e.preventDefault=!1;break}}e.ReferenceStrip=function(u){var p,h,d,f=this,g=u.viewer,v=e.getElementSize(g.element);for(u.id||(u.id="referencestrip-"+e.now(),this.element=e.makeNeutralElement("div"),this.element.id=u.id,this.element.className="referencestrip"),u=e.extend(!0,{sizeRatio:e.DEFAULT_SETTINGS.referenceStripSizeRatio,position:e.DEFAULT_SETTINGS.referenceStripPosition,scroll:e.DEFAULT_SETTINGS.referenceStripScroll,clickTimeThreshold:e.DEFAULT_SETTINGS.clickTimeThreshold},u,{element:this.element}),e.extend(this,u),t[this.id]={animating:!1},this.minPixelRatio=this.viewer.minPixelRatio,this.element.tabIndex=0,h=this.element.style,h.marginTop="0px",h.marginRight="0px",h.marginBottom="0px",h.marginLeft="0px",h.left="0px",h.bottom="0px",h.border="0px",h.background="#000",h.position="relative",e.setElementTouchActionNone(this.element),e.setElementOpacity(this.element,.8),this.viewer=g,this.tracker=new e.MouseTracker({userData:"ReferenceStrip.tracker",element:this.element,clickHandler:e.delegate(this,r),dragHandler:e.delegate(this,n),scrollHandler:e.delegate(this,i),enterHandler:e.delegate(this,o),leaveHandler:e.delegate(this,a),keyDownHandler:e.delegate(this,s),keyHandler:e.delegate(this,c),preProcessEventHandler:function(e){"wheel"===e.eventType&&(e.preventDefault=!0)}}),u.width&&u.height?(this.element.style.width=u.width+"px",this.element.style.height=u.height+"px",g.addControl(this.element,{anchor:e.ControlAnchor.BOTTOM_LEFT})):"horizontal"===u.scroll?(this.element.style.width=v.x*u.sizeRatio*g.tileSources.length+12*g.tileSources.length+"px",this.element.style.height=v.y*u.sizeRatio+"px",g.addControl(this.element,{anchor:e.ControlAnchor.BOTTOM_LEFT})):(this.element.style.height=v.y*u.sizeRatio*g.tileSources.length+12*g.tileSources.length+"px",this.element.style.width=v.x*u.sizeRatio+"px",g.addControl(this.element,{anchor:e.ControlAnchor.TOP_LEFT})),this.panelWidth=v.x*this.sizeRatio+8,this.panelHeight=v.y*this.sizeRatio+8,this.panels=[],this.miniViewers={},d=0;d<g.tileSources.length;d++)p=e.makeNeutralElement("div"),p.id=this.element.id+"-"+d,p.style.width=f.panelWidth+"px",p.style.height=f.panelHeight+"px",p.style.display="inline",p.style["float"]="left",p.style.cssFloat="left",p.style.padding="2px",e.setElementTouchActionNone(p),e.setElementPointerEventsNone(p),this.element.appendChild(p),p.activePanel=!1,this.panels.push(p);l(this,"vertical"===this.scroll?v.y:v.x,0),this.setFocus(0)},e.ReferenceStrip.prototype={setFocus:function(t){var r,n=this.element.querySelector("#"+this.element.id+"-"+t),i=e.getElementSize(this.viewer.canvas),a=Number(this.element.style.width.replace("px","")),s=Number(this.element.style.height.replace("px","")),c=-Number(this.element.style.marginLeft.replace("px","")),u=-Number(this.element.style.marginTop.replace("px",""));this.currentSelected!==n&&(this.currentSelected&&(this.currentSelected.style.background="#000"),this.currentSelected=n,this.currentSelected.style.background="#999","horizontal"===this.scroll?(r=Number(t)*(this.panelWidth+3),r>c+i.x-this.panelWidth?(r=Math.min(r,a-i.x),this.element.style.marginLeft=-r+"px",l(this,i.x,-r)):r<c&&(r=Math.max(0,r-i.x/2),this.element.style.marginLeft=-r+"px",l(this,i.x,-r))):(r=Number(t)*(this.panelHeight+3),r>u+i.y-this.panelHeight?(r=Math.min(r,s-i.y),this.element.style.marginTop=-r+"px",l(this,i.y,-r)):r<u&&(r=Math.max(0,r-i.y/2),this.element.style.marginTop=-r+"px",l(this,i.y,-r))),this.currentPage=t,o.call(this,{eventSource:this.tracker}))},update:function(){return!!t[this.id].animating},destroy:function(){if(this.miniViewers)for(var e in this.miniViewers)this.miniViewers[e].destroy();this.tracker.destroy(),this.element&&this.viewer.removeControl(this.element)}}}(o),function(e){e.DisplayRect=function(t,r,n,i,l,o){e.Rect.apply(this,[t,r,n,i]),this.minLevel=l,this.maxLevel=o},e.extend(e.DisplayRect.prototype,e.Rect.prototype)}(o),function(e){function t(e,t){return(1-Math.exp(e*-t))/(1-Math.exp(-e))}e.Spring=function(t){var r=arguments;"object"!==typeof t&&(t={initial:r.length&&"number"===typeof r[0]?r[0]:void 0,springStiffness:r.length>1?r[1].springStiffness:5,animationTime:r.length>1?r[1].animationTime:1.5}),e.console.assert("number"===typeof t.springStiffness&&0!==t.springStiffness,"[OpenSeadragon.Spring] options.springStiffness must be a non-zero number"),e.console.assert("number"===typeof t.animationTime&&t.animationTime>=0,"[OpenSeadragon.Spring] options.animationTime must be a number greater than or equal to 0"),t.exponential&&(this._exponential=!0,delete t.exponential),e.extend(!0,this,t),this.current={value:"number"===typeof this.initial?this.initial:this._exponential?0:1,time:e.now()},e.console.assert(!this._exponential||0!==this.current.value,"[OpenSeadragon.Spring] value must be non-zero for exponential springs"),this.start={value:this.current.value,time:this.current.time},this.target={value:this.current.value,time:this.current.time},this._exponential&&(this.start._logValue=Math.log(this.start.value),this.target._logValue=Math.log(this.target.value),this.current._logValue=Math.log(this.current.value))},e.Spring.prototype={resetTo:function(t){e.console.assert(!this._exponential||0!==t,"[OpenSeadragon.Spring.resetTo] target must be non-zero for exponential springs"),this.start.value=this.target.value=this.current.value=t,this.start.time=this.target.time=this.current.time=e.now(),this._exponential&&(this.start._logValue=Math.log(this.start.value),this.target._logValue=Math.log(this.target.value),this.current._logValue=Math.log(this.current.value))},springTo:function(t){e.console.assert(!this._exponential||0!==t,"[OpenSeadragon.Spring.springTo] target must be non-zero for exponential springs"),this.start.value=this.current.value,this.start.time=this.current.time,this.target.value=t,this.target.time=this.start.time+1e3*this.animationTime,this._exponential&&(this.start._logValue=Math.log(this.start.value),this.target._logValue=Math.log(this.target.value))},shiftBy:function(t){this.start.value+=t,this.target.value+=t,this._exponential&&(e.console.assert(0!==this.target.value&&0!==this.start.value,"[OpenSeadragon.Spring.shiftBy] spring value must be non-zero for exponential springs"),this.start._logValue=Math.log(this.start.value),this.target._logValue=Math.log(this.target.value))},setExponential:function(t){this._exponential=t,this._exponential&&(e.console.assert(0!==this.current.value&&0!==this.target.value&&0!==this.start.value,"[OpenSeadragon.Spring.setExponential] spring value must be non-zero for exponential springs"),this.start._logValue=Math.log(this.start.value),this.target._logValue=Math.log(this.target.value),this.current._logValue=Math.log(this.current.value))},update:function(){let r,n;if(this.current.time=e.now(),this._exponential?(r=this.start._logValue,n=this.target._logValue):(r=this.start.value,n=this.target.value),this.current.time>=this.target.time)this.current.value=this.target.value;else{let e=r+(n-r)*t(this.springStiffness,(this.current.time-this.start.time)/(this.target.time-this.start.time));this._exponential?this.current.value=Math.exp(e):this.current.value=e}return this.current.value!==this.target.value},isAtTargetValue:function(){return this.current.value===this.target.value}}}(o),function(e){function t(e,t,r){var n;""!==t.errorMsg&&(null===t.data||void 0===t.data)&&t.tries<1+e.tileRetryMax&&e.failedTiles.push(t),e.jobsInProgress--,(!e.jobLimit||e.jobsInProgress<e.jobLimit)&&e.jobQueue.length>0&&(n=e.jobQueue.shift(),n.start(),e.jobsInProgress++),e.tileRetryMax>0&&0===e.jobQueue.length&&(!e.jobLimit||e.jobsInProgress<e.jobLimit)&&e.failedTiles.length>0&&(n=e.failedTiles.shift(),setTimeout((function(){n.start()}),e.tileRetryDelay),e.jobsInProgress++),r(t.data,t.errorMsg,t.request)}e.ImageJob=function(t){e.extend(!0,this,{timeout:e.DEFAULT_SETTINGS.timeout,jobId:null,tries:0},t),this.data=null,this.userData={},this.errorMsg=null},e.ImageJob.prototype={start:function(){this.tries++;var e=this,t=this.abort;this.jobId=window.setTimeout((function(){e.finish(null,null,"Image load exceeded timeout ("+e.timeout+" ms)")}),this.timeout),this.abort=function(){e.source.downloadTileAbort(e),"function"===typeof t&&t()},this.source.downloadTileStart(this)},finish:function(e,t,r){this.data=e,this.request=t,this.errorMsg=r,this.jobId&&window.clearTimeout(this.jobId),this.callback(this)}},e.ImageLoader=function(t){e.extend(!0,this,{jobLimit:e.DEFAULT_SETTINGS.imageLoaderLimit,timeout:e.DEFAULT_SETTINGS.timeout,jobQueue:[],failedTiles:[],jobsInProgress:0},t)},e.ImageLoader.prototype={addJob:function(r){if(!r.source){e.console.error("ImageLoader.prototype.addJob() requires [options.source]. TileSource since new API defines how images are fetched. Creating a dummy TileSource.");var n=e.TileSource.prototype;r.source={downloadTileStart:n.downloadTileStart,downloadTileAbort:n.downloadTileAbort}}var i=this,l=function(e){t(i,e,r.callback)},o={src:r.src,tile:r.tile||{},source:r.source,loadWithAjax:r.loadWithAjax,ajaxHeaders:r.loadWithAjax?r.ajaxHeaders:null,crossOriginPolicy:r.crossOriginPolicy,ajaxWithCredentials:r.ajaxWithCredentials,postData:r.postData,callback:l,abort:r.abort,timeout:this.timeout},a=new e.ImageJob(o);!this.jobLimit||this.jobsInProgress<this.jobLimit?(a.start(),this.jobsInProgress++):this.jobQueue.push(a)},clear:function(){for(var e=0;e<this.jobQueue.length;e++){var t=this.jobQueue[e];"function"===typeof t.abort&&t.abort()}this.jobQueue=[]}}}(o),function(e){e.Tile=function(t,r,n,i,l,a,s,c,u,p,h,d){this.level=t,this.x=r,this.y=n,this.bounds=i,this.positionedBounds=new o.Rect(i.x,i.y,i.width,i.height),this.sourceBounds=p,this.exists=l,this._url=a,this.postData=h,this.context2D=s,this.loadWithAjax=c,this.ajaxHeaders=u,void 0===d&&(e.console.warn("Tile constructor needs 'cacheKey' variable: creation tile cache in Tile class is deprecated. TileSource.prototype.getTileHashKey will be used."),d=e.TileSource.prototype.getTileHashKey(t,r,n,a,u,h)),this.cacheKey=d,this.loaded=!1,this.loading=!1,this.element=null,this.imgElement=null,this.style=null,this.position=null,this.size=null,this.flipped=!1,this.blendStart=null,this.opacity=null,this.squaredDistance=null,this.visibility=null,this.hasTransparency=!1,this.beingDrawn=!1,this.lastTouchTime=0,this.isRightMost=!1,this.isBottomMost=!1},e.Tile.prototype={toString:function(){return this.level+"/"+this.x+"_"+this.y},_hasTransparencyChannel:function(){return console.warn("Tile.prototype._hasTransparencyChannel() has been deprecated and will be removed in the future. Use TileSource.prototype.hasTransparency() instead."),!!this.context2D||this.getUrl().match(".png")},get image(){return e.console.error("[Tile.image] property has been deprecated. Use [Tile.prototype.getImage] instead."),this.getImage()},get url(){return e.console.error("[Tile.url] property has been deprecated. Use [Tile.prototype.getUrl] instead."),this.getUrl()},getImage:function(){return this.cacheImageRecord.getImage()},getUrl:function(){return"function"===typeof this._url?this._url():this._url},getCanvasContext:function(){return this.context2D||this.cacheImageRecord&&this.cacheImageRecord.getRenderedContext()},getScaleForEdgeSmoothing:function(){var t;if(this.cacheImageRecord)t=this.cacheImageRecord.getRenderedContext();else{if(!this.context2D)return e.console.warn("[Tile.drawCanvas] attempting to get tile scale %s when tile's not cached",this.toString()),1;t=this.context2D}return t.canvas.width/(this.size.x*e.pixelDensityRatio)},getTranslationForEdgeSmoothing:function(t,r,n){var i=Math.max(1,Math.ceil((n.x-r.x)/2)),l=Math.max(1,Math.ceil((n.y-r.y)/2));return new e.Point(i,l).minus(this.position.times(e.pixelDensityRatio).times(t||1).apply((function(e){return e%1})))},unload:function(){this.imgElement&&this.imgElement.parentNode&&this.imgElement.parentNode.removeChild(this.imgElement),this.element&&this.element.parentNode&&this.element.parentNode.removeChild(this.element),this.element=null,this.imgElement=null,this.loaded=!1,this.loading=!1}}}(o),function(e){e.OverlayPlacement=e.Placement,e.OverlayRotationMode=e.freezeObject({NO_ROTATION:1,EXACT:2,BOUNDING_BOX:3}),e.Overlay=function(t,r,n){var i;i=e.isPlainObject(t)?t:{element:t,location:r,placement:n},this.elementWrapper=document.createElement("div"),this.element=i.element,this.elementWrapper.appendChild(this.element),this.element.id?this.elementWrapper.id="overlay-wrapper-"+this.element.id:this.elementWrapper.id="overlay-wrapper",this.style=this.elementWrapper.style,this._init(i)},e.Overlay.prototype={_init:function(t){this.location=t.location,this.placement=void 0===t.placement?e.Placement.TOP_LEFT:t.placement,this.onDraw=t.onDraw,this.checkResize=void 0===t.checkResize||t.checkResize,this.width=void 0===t.width?null:t.width,this.height=void 0===t.height?null:t.height,this.rotationMode=t.rotationMode||e.OverlayRotationMode.EXACT,this.location instanceof e.Rect&&(this.width=this.location.width,this.height=this.location.height,this.location=this.location.getTopLeft(),this.placement=e.Placement.TOP_LEFT),this.scales=null!==this.width&&null!==this.height,this.bounds=new e.Rect(this.location.x,this.location.y,this.width,this.height),this.position=this.location},adjust:function(t,r){var n=e.Placement.properties[this.placement];n&&(n.isHorizontallyCentered?t.x-=r.x/2:n.isRight&&(t.x-=r.x),n.isVerticallyCentered?t.y-=r.y/2:n.isBottom&&(t.y-=r.y))},destroy:function(){var t=this.elementWrapper,r=this.style;t.parentNode&&(t.parentNode.removeChild(t),t.prevElementParent&&(r.display="none",document.body.appendChild(t))),this.onDraw=null,r.top="",r.left="",r.position="",null!==this.width&&(r.width=""),null!==this.height&&(r.height="");var n=e.getCssPropertyWithVendorPrefix("transformOrigin"),i=e.getCssPropertyWithVendorPrefix("transform");n&&i&&(r[n]="",r[i]="")},drawHTML:function(t,r){var n=this.elementWrapper;n.parentNode!==t&&(n.prevElementParent=n.parentNode,n.prevNextSibling=n.nextSibling,t.appendChild(n),this.style.position="absolute",this.size=e.getElementSize(this.elementWrapper));var i=this._getOverlayPositionAndSize(r),l=i.position,o=this.size=i.size,a="";r.overlayPreserveContentDirection&&(a=r.flipped?" scaleX(-1)":" scaleX(1)");var s=r.flipped?-i.rotate:i.rotate,c=r.flipped?" scaleX(-1)":"";if(this.onDraw)this.onDraw(l,o,this.element);else{var u=this.style,p=this.element.style;p.display="block",u.left=l.x+"px",u.top=l.y+"px",null!==this.width&&(p.width=o.x+"px"),null!==this.height&&(p.height=o.y+"px");var h=e.getCssPropertyWithVendorPrefix("transformOrigin"),d=e.getCssPropertyWithVendorPrefix("transform");h&&d&&(s&&!r.flipped?(p[d]="",u[h]=this._getTransformOrigin(),u[d]="rotate("+s+"deg)"):!s&&r.flipped?(p[d]=a,u[h]=this._getTransformOrigin(),u[d]=c):s&&r.flipped?(p[d]=a,u[h]=this._getTransformOrigin(),u[d]="rotate("+s+"deg)"+c):(p[d]="",u[h]="",u[d]="")),u.display="flex"}},_getOverlayPositionAndSize:function(t){var r=t.pixelFromPoint(this.location,!0),n=this._getSizeInPixels(t);this.adjust(r,n);var i=0;if(t.getRotation(!0)&&this.rotationMode!==e.OverlayRotationMode.NO_ROTATION)if(this.rotationMode===e.OverlayRotationMode.BOUNDING_BOX&&null!==this.width&&null!==this.height){var l=new e.Rect(r.x,r.y,n.x,n.y),o=this._getBoundingBox(l,t.getRotation(!0));r=o.getTopLeft(),n=o.getSize()}else i=t.getRotation(!0);return t.flipped&&(r.x=t.getContainerSize().x-r.x),{position:r,size:n,rotate:i}},_getSizeInPixels:function(t){var r=this.size.x,n=this.size.y;if(null!==this.width||null!==this.height){var i=t.deltaPixelsFromPointsNoRotate(new e.Point(this.width||0,this.height||0),!0);null!==this.width&&(r=i.x),null!==this.height&&(n=i.y)}if(this.checkResize&&(null===this.width||null===this.height)){var l=this.size=e.getElementSize(this.elementWrapper);null===this.width&&(r=l.x),null===this.height&&(n=l.y)}return new e.Point(r,n)},_getBoundingBox:function(e,t){var r=this._getPlacementPoint(e);return e.rotate(t,r).getBoundingBox()},_getPlacementPoint:function(t){var r=new e.Point(t.x,t.y),n=e.Placement.properties[this.placement];return n&&(n.isHorizontallyCentered?r.x+=t.width/2:n.isRight&&(r.x+=t.width),n.isVerticallyCentered?r.y+=t.height/2:n.isBottom&&(r.y+=t.height)),r},_getTransformOrigin:function(){var t="",r=e.Placement.properties[this.placement];return r?(r.isLeft?t="left":r.isRight&&(t="right"),r.isTop?t+=" top":r.isBottom&&(t+=" bottom"),t):t},update:function(t,r){var n=e.isPlainObject(t)?t:{location:t,placement:r};this._init({location:n.location||this.location,placement:void 0!==n.placement?n.placement:this.placement,onDraw:n.onDraw||this.onDraw,checkResize:n.checkResize||this.checkResize,width:void 0!==n.width?n.width:this.width,height:void 0!==n.height?n.height:this.height,rotationMode:n.rotationMode||this.rotationMode})},getBounds:function(t){e.console.assert(t,"A viewport must now be passed to Overlay.getBounds.");var r=this.width,n=this.height;if(null===r||null===n){var i=t.deltaPointsFromPixelsNoRotate(this.size,!0);null===r&&(r=i.x),null===n&&(n=i.y)}var l=this.location.clone();return this.adjust(l,new e.Point(r,n)),this._adjustBoundsForRotation(t,new e.Rect(l.x,l.y,r,n))},_adjustBoundsForRotation:function(t,r){if(!t||0===t.getRotation(!0)||this.rotationMode===e.OverlayRotationMode.EXACT)return r;if(this.rotationMode===e.OverlayRotationMode.BOUNDING_BOX){if(null===this.width||null===this.height)return r;var n=this._getOverlayPositionAndSize(t);return t.viewerElementToViewportRectangle(new e.Rect(n.position.x,n.position.y,n.size.x,n.size.y))}return r.rotate(-t.getRotation(!0),this._getPlacementPoint(r))}}}(o),function(e){const t=e;t.DrawerBase=class{constructor(t){e.console.assert(t.viewer,"[Drawer] options.viewer is required"),e.console.assert(t.viewport,"[Drawer] options.viewport is required"),e.console.assert(t.element,"[Drawer] options.element is required"),this.viewer=t.viewer,this.viewport=t.viewport,this.debugGridColor="string"===typeof t.debugGridColor?[t.debugGridColor]:t.debugGridColor||e.DEFAULT_SETTINGS.debugGridColor,this.options=t.options||{},this.container=e.getElement(t.element),this._renderingTarget=this._createDrawingElement(),this.canvas.style.width="100%",this.canvas.style.height="100%",this.canvas.style.position="absolute",this.canvas.style.left="0",e.setElementOpacity(this.canvas,this.viewer.opacity,!0),e.setElementPointerEventsNone(this.canvas),e.setElementTouchActionNone(this.canvas),this.container.style.textAlign="left",this.container.appendChild(this.canvas),this._checkForAPIOverrides()}get canvas(){return this._renderingTarget}get element(){return e.console.error("Drawer.element is deprecated. Use Drawer.container instead."),this.container}getType(){e.console.error("Drawer.getType must be implemented by child class")}static isSupported(){e.console.error("Drawer.isSupported must be implemented by child class")}_createDrawingElement(){return e.console.error("Drawer._createDrawingElement must be implemented by child class"),null}draw(t){e.console.error("Drawer.draw must be implemented by child class")}canRotate(){e.console.error("Drawer.canRotate must be implemented by child class")}destroy(){e.console.error("Drawer.destroy must be implemented by child class")}minimumOverlapRequired(e){return!1}setImageSmoothingEnabled(t){e.console.error("Drawer.setImageSmoothingEnabled must be implemented by child class")}drawDebuggingRect(t){e.console.warn("[drawer].drawDebuggingRect is not implemented by this drawer")}clear(){e.console.warn("[drawer].clear() is deprecated. The drawer is responsible for clearing itself as needed before drawing tiles.")}_checkForAPIOverrides(){if(this._createDrawingElement===e.DrawerBase.prototype._createDrawingElement)throw new Error("[drawer]._createDrawingElement must be implemented by child class");if(this.draw===e.DrawerBase.prototype.draw)throw new Error("[drawer].draw must be implemented by child class");if(this.canRotate===e.DrawerBase.prototype.canRotate)throw new Error("[drawer].canRotate must be implemented by child class");if(this.destroy===e.DrawerBase.prototype.destroy)throw new Error("[drawer].destroy must be implemented by child class");if(this.setImageSmoothingEnabled===e.DrawerBase.prototype.setImageSmoothingEnabled)throw new Error("[drawer].setImageSmoothingEnabled must be implemented by child class")}viewportToDrawerRectangle(t){var r=this.viewport.pixelFromPointNoRotate(t.getTopLeft(),!0),n=this.viewport.deltaPixelsFromPointsNoRotate(t.getSize(),!0);return new e.Rect(r.x*e.pixelDensityRatio,r.y*e.pixelDensityRatio,n.x*e.pixelDensityRatio,n.y*e.pixelDensityRatio)}viewportCoordToDrawerCoord(t){var r=this.viewport.pixelFromPointNoRotate(t,!0);return new e.Point(r.x*e.pixelDensityRatio,r.y*e.pixelDensityRatio)}_calculateCanvasSize(){var r=e.pixelDensityRatio,n=this.viewport.getContainerSize();return new t.Point(Math.round(n.x*r),Math.round(n.y*r))}_raiseTiledImageDrawnEvent(e,t){this.viewer&&this.viewer.raiseEvent("tiled-image-drawn",{tiledImage:e,tiles:t})}_raiseDrawerErrorEvent(e,t){this.viewer&&this.viewer.raiseEvent("drawer-error",{tiledImage:e,drawer:this,error:t})}}}(o),function(e){const t=e;class r extends t.DrawerBase{constructor(e){super(e),this.viewer.rejectEventHandler("tile-drawing","The HTMLDrawer does not raise the tile-drawing event"),this.viewer.allowEventHandler("tile-drawn")}static isSupported(){return!0}getType(){return"html"}minimumOverlapRequired(e){return!0}_createDrawingElement(){let t=e.makeNeutralElement("div");return t}draw(e){var t=this;this._prepareNewFrame(),e.forEach((function(e){0!==e.opacity&&t._drawTiles(e)}))}canRotate(){return!1}destroy(){this.container.removeChild(this.canvas)}setImageSmoothingEnabled(){}_prepareNewFrame(){this.canvas.innerHTML=""}_drawTiles(e){var t=e.getTilesToDraw().map((e=>e.tile));if(0!==e.opacity&&(0!==t.length||e.placeholderFillStyle))for(var r=t.length-1;r>=0;r--){var n=t[r];this._drawTile(n),this.viewer&&this.viewer.raiseEvent("tile-drawn",{tiledImage:e,tile:n})}}_drawTile(t){e.console.assert(t,"[Drawer._drawTile] tile is required");let r=this.canvas;if(t.cacheImageRecord)if(t.loaded){if(!t.element){var n=t.getImage();if(!n)return;t.element=e.makeNeutralElement("div"),t.imgElement=n.cloneNode(),t.imgElement.style.msInterpolationMode="nearest-neighbor",t.imgElement.style.width="100%",t.imgElement.style.height="100%",t.style=t.element.style,t.style.position="absolute"}t.element.parentNode!==r&&r.appendChild(t.element),t.imgElement.parentNode!==t.element&&t.element.appendChild(t.imgElement),t.style.top=t.position.y+"px",t.style.left=t.position.x+"px",t.style.height=t.size.y+"px",t.style.width=t.size.x+"px",t.flipped&&(t.style.transform="scaleX(-1)"),e.setElementOpacity(t.element,t.opacity)}else e.console.warn("Attempting to draw tile %s when it's not yet loaded.",t.toString());else e.console.warn("[Drawer._drawTileToHTML] attempting to draw tile %s when it's not cached",t.toString())}}e.HTMLDrawer=r}(o),function(e){const t=e;class r extends t.DrawerBase{constructor(e){super(e),this.context=this.canvas.getContext("2d"),this.sketchCanvas=null,this.sketchContext=null,this._imageSmoothingEnabled=!0,this.viewer.allowEventHandler("tile-drawn"),this.viewer.allowEventHandler("tile-drawing")}static isSupported(){return e.supportsCanvas}getType(){return"canvas"}_createDrawingElement(){let t=e.makeNeutralElement("canvas"),r=this._calculateCanvasSize();return t.width=r.x,t.height=r.y,t}draw(e){this._prepareNewFrame(),this.viewer.viewport.getFlip()!==this._viewportFlipped&&this._flip();for(const t of e)0!==t.opacity&&this._drawTiles(t)}canRotate(){return!0}destroy(){this.canvas.width=1,this.canvas.height=1,this.sketchCanvas=null,this.sketchContext=null,this.container.removeChild(this.canvas)}minimumOverlapRequired(e){return!0}setImageSmoothingEnabled(e){this._imageSmoothingEnabled=!!e,this._updateImageSmoothingEnabled(this.context),this.viewer.forceRedraw()}drawDebuggingRect(t){var r=this.context;r.save(),r.lineWidth=2*e.pixelDensityRatio,r.strokeStyle=this.debugGridColor[0],r.fillStyle=this.debugGridColor[0],r.strokeRect(t.x*e.pixelDensityRatio,t.y*e.pixelDensityRatio,t.width*e.pixelDensityRatio,t.height*e.pixelDensityRatio),r.restore()}get _viewportFlipped(){return this.context.getTransform().a<0}_raiseTileDrawingEvent(e,t,r,n){this.viewer.raiseEvent("tile-drawing",{tiledImage:e,context:t,tile:r,rendered:n})}_prepareNewFrame(){var e=this._calculateCanvasSize();if((this.canvas.width!==e.x||this.canvas.height!==e.y)&&(this.canvas.width=e.x,this.canvas.height=e.y,this._updateImageSmoothingEnabled(this.context),null!==this.sketchCanvas)){var t=this._calculateSketchCanvasSize();this.sketchCanvas.width=t.x,this.sketchCanvas.height=t.y,this._updateImageSmoothingEnabled(this.sketchContext)}this._clear()}_clear(e,t){var r=this._getContext(e);if(t)r.clearRect(t.x,t.y,t.width,t.height);else{var n=r.canvas;r.clearRect(0,0,n.width,n.height)}}_drawTiles(t){var r=t.getTilesToDraw().map((e=>e.tile));if(0!==t.opacity&&(0!==r.length||t.placeholderFillStyle)){var n,i,l,a=r[0];a&&(n=t.opacity<1||t.compositeOperation&&"source-over"!==t.compositeOperation||!t._isBottomItem()&&t.source.hasTransparency(a.context2D,a.getUrl(),a.ajaxHeaders,a.postData));var s,c=this.viewport.getZoom(!0),u=t.viewportToImageZoom(c);r.length>1&&u>t.smoothTileEdgesMinZoom&&!t.iOSDevice&&t.getRotation(!0)%360===0&&(n=!0,i=a.getScaleForEdgeSmoothing(),l=a.getTranslationForEdgeSmoothing(i,this._getCanvasSize(!1),this._getCanvasSize(!0))),n&&(i||(s=this.viewport.viewportToViewerElementRectangle(t.getClippedBounds(!0)).getIntegerBoundingBox(),s=s.times(e.pixelDensityRatio)),this._clear(!0,s)),i||this._setRotations(t,n);var p=!1;if(t._clip){this._saveContext(n);var h=t.imageToViewportRectangle(t._clip,!0);h=h.rotate(-t.getRotation(!0),t._getRotationPoint(!0));var d=this.viewportToDrawerRectangle(h);i&&(d=d.times(i)),l&&(d=d.translate(l)),this._setClip(d,n),p=!0}if(t._croppingPolygons){var f=this;p||this._saveContext(n);try{var g=t._croppingPolygons.map((function(e){return e.map((function(e){var r=t.imageToViewportCoordinates(e.x,e.y,!0).rotate(-t.getRotation(!0),t._getRotationPoint(!0)),n=f.viewportCoordToDrawerCoord(r);return i&&(n=n.times(i)),l&&(n=n.plus(l)),n}))}));this._clipWithPolygons(g,n)}catch(w){e.console.error(w)}p=!0}if(t._hasOpaqueTile=!1,t.placeholderFillStyle&&!1===t._hasOpaqueTile){let e=this.viewportToDrawerRectangle(t.getBoundsNoRotate(!0));i&&(e=e.times(i)),l&&(e=e.translate(l));let r=null;r="function"===typeof t.placeholderFillStyle?t.placeholderFillStyle(t,this.context):t.placeholderFillStyle,this._drawRectangle(e,r,n)}var v=o(t.subPixelRoundingForTransparency),m=!1;if(v===e.SUBPIXEL_ROUNDING_OCCURRENCES.ALWAYS)m=!0;else if(v===e.SUBPIXEL_ROUNDING_OCCURRENCES.ONLY_AT_REST){var A=this.viewer&&this.viewer.isAnimating();m=!A}for(var y=0;y<r.length;y++)a=r[y],this._drawTile(a,t,n,i,l,m,t.source),this.viewer&&this.viewer.raiseEvent("tile-drawn",{tiledImage:t,tile:a});p&&this._restoreContext(n),i||(t.getRotation(!0)%360!==0&&this._restoreRotationChanges(n),this.viewport.getRotation(!0)%360!==0&&this._restoreRotationChanges(n)),n&&(i&&this._setRotations(t),this.blendSketch({opacity:t.opacity,scale:i,translate:l,compositeOperation:t.compositeOperation,bounds:s}),i&&(t.getRotation(!0)%360!==0&&this._restoreRotationChanges(!1),this.viewport.getRotation(!0)%360!==0&&this._restoreRotationChanges(!1))),this._drawDebugInfo(t,r),this._raiseTiledImageDrawnEvent(t,r)}}_drawDebugInfo(t,r){if(t.debugMode)for(var n=r.length-1;n>=0;n--){var i=r[n];try{this._drawDebugInfoOnTile(i,r.length,n,t)}catch(l){e.console.error(l)}}}_clipWithPolygons(e,t){var r=this._getContext(t);r.beginPath();for(const n of e)for(const[e,t]of n.entries())r[0===e?"moveTo":"lineTo"](t.x,t.y);r.clip()}_drawTile(t,r,n,i,l,o,a){e.console.assert(t,"[Drawer._drawTile] tile is required"),e.console.assert(r,"[Drawer._drawTile] drawingHandler is required");var s=this._getContext(n);i=i||1,this._drawTileToCanvas(t,s,r,i,l,o,a)}_drawTileToCanvas(t,r,n,i,l,o,a){var s,c,u,p=t.position.times(e.pixelDensityRatio),h=t.size.times(e.pixelDensityRatio);t.context2D||t.cacheImageRecord?(s=t.getCanvasContext(),t.loaded&&s?(r.save(),"number"===typeof i&&1!==i&&(p=p.times(i),h=h.times(i)),l instanceof e.Point&&(p=p.plus(l)),1===r.globalAlpha&&t.hasTransparency&&(o&&(p.x=Math.round(p.x),p.y=Math.round(p.y),h.x=Math.round(h.x),h.y=Math.round(h.y)),r.clearRect(p.x,p.y,h.x,h.y)),this._raiseTileDrawingEvent(n,r,t,s),t.sourceBounds?(c=Math.min(t.sourceBounds.width,s.canvas.width),u=Math.min(t.sourceBounds.height,s.canvas.height)):(c=s.canvas.width,u=s.canvas.height),r.translate(p.x+h.x/2,0),t.flipped&&r.scale(-1,1),r.drawImage(s.canvas,0,0,c,u,-h.x/2,p.y,h.x,h.y),r.restore()):e.console.warn("Attempting to draw tile %s when it's not yet loaded.",t.toString())):e.console.warn("[Drawer._drawTileToCanvas] attempting to draw tile %s when it's not cached",t.toString())}_getContext(e){var t=this.context;if(e){if(null===this.sketchCanvas){this.sketchCanvas=document.createElement("canvas");var r=this._calculateSketchCanvasSize();if(this.sketchCanvas.width=r.x,this.sketchCanvas.height=r.y,this.sketchContext=this.sketchCanvas.getContext("2d"),0===this.viewport.getRotation()){var n=this;this.viewer.addHandler("rotate",(function e(){if(0!==n.viewport.getRotation()){n.viewer.removeHandler("rotate",e);var t=n._calculateSketchCanvasSize();n.sketchCanvas.width=t.x,n.sketchCanvas.height=t.y}}))}this._updateImageSmoothingEnabled(this.sketchContext)}t=this.sketchContext}return t}_saveContext(e){this._getContext(e).save()}_restoreContext(e){this._getContext(e).restore()}_setClip(e,t){var r=this._getContext(t);r.beginPath(),r.rect(e.x,e.y,e.width,e.height),r.clip()}_drawRectangle(e,t,r){var n=this._getContext(r);n.save(),n.fillStyle=t,n.fillRect(e.x,e.y,e.width,e.height),n.restore()}blendSketch(t,r,n,i){var l=t;e.isPlainObject(l)||(l={opacity:t,scale:r,translate:n,compositeOperation:i}),t=l.opacity,i=l.compositeOperation;var o=l.bounds;if(this.context.save(),this.context.globalAlpha=t,i&&(this.context.globalCompositeOperation=i),o)o.x<0&&(o.width+=o.x,o.x=0),o.x+o.width>this.canvas.width&&(o.width=this.canvas.width-o.x),o.y<0&&(o.height+=o.y,o.y=0),o.y+o.height>this.canvas.height&&(o.height=this.canvas.height-o.y),this.context.drawImage(this.sketchCanvas,o.x,o.y,o.width,o.height,o.x,o.y,o.width,o.height);else{r=l.scale||1,n=l.translate;var a=n instanceof e.Point?n:new e.Point(0,0),s=0,c=0;if(n){var u=this.sketchCanvas.width-this.canvas.width,p=this.sketchCanvas.height-this.canvas.height;s=Math.round(u/2),c=Math.round(p/2)}this.context.drawImage(this.sketchCanvas,a.x-s*r,a.y-c*r,(this.canvas.width+2*s)*r,(this.canvas.height+2*c)*r,-s,-c,this.canvas.width+2*s,this.canvas.height+2*c)}this.context.restore()}_drawDebugInfoOnTile(t,r,n,i){var l=this.viewer.world.getIndexOfItem(i)%this.debugGridColor.length,o=this.context;o.save(),o.lineWidth=2*e.pixelDensityRatio,o.font="small-caps bold "+13*e.pixelDensityRatio+"px arial",o.strokeStyle=this.debugGridColor[l],o.fillStyle=this.debugGridColor[l],this._setRotations(i),this._viewportFlipped&&this._flip({point:t.position.plus(t.size.divide(2))}),o.strokeRect(t.position.x*e.pixelDensityRatio,t.position.y*e.pixelDensityRatio,t.size.x*e.pixelDensityRatio,t.size.y*e.pixelDensityRatio);var a=(t.position.x+t.size.x/2)*e.pixelDensityRatio,s=(t.position.y+t.size.y/2)*e.pixelDensityRatio;o.translate(a,s);const c=this.viewport.getRotation(!0);o.rotate(Math.PI/180*-c),o.translate(-a,-s),0===t.x&&0===t.y&&(o.fillText("Zoom: "+this.viewport.getZoom(),t.position.x*e.pixelDensityRatio,(t.position.y-30)*e.pixelDensityRatio),o.fillText("Pan: "+this.viewport.getBounds().toString(),t.position.x*e.pixelDensityRatio,(t.position.y-20)*e.pixelDensityRatio)),o.fillText("Level: "+t.level,(t.position.x+10)*e.pixelDensityRatio,(t.position.y+20)*e.pixelDensityRatio),o.fillText("Column: "+t.x,(t.position.x+10)*e.pixelDensityRatio,(t.position.y+30)*e.pixelDensityRatio),o.fillText("Row: "+t.y,(t.position.x+10)*e.pixelDensityRatio,(t.position.y+40)*e.pixelDensityRatio),o.fillText("Order: "+n+" of "+r,(t.position.x+10)*e.pixelDensityRatio,(t.position.y+50)*e.pixelDensityRatio),o.fillText("Size: "+t.size.toString(),(t.position.x+10)*e.pixelDensityRatio,(t.position.y+60)*e.pixelDensityRatio),o.fillText("Position: "+t.position.toString(),(t.position.x+10)*e.pixelDensityRatio,(t.position.y+70)*e.pixelDensityRatio),this.viewport.getRotation(!0)%360!==0&&this._restoreRotationChanges(),i.getRotation(!0)%360!==0&&this._restoreRotationChanges(),o.restore()}_updateImageSmoothingEnabled(e){e.msImageSmoothingEnabled=this._imageSmoothingEnabled,e.imageSmoothingEnabled=this._imageSmoothingEnabled}_getCanvasSize(t){var r=this._getContext(t).canvas;return new e.Point(r.width,r.height)}_getCanvasCenter(){return new e.Point(this.canvas.width/2,this.canvas.height/2)}_setRotations(e,t=!1){var r=!1;this.viewport.getRotation(!0)%360!==0&&(this._offsetForRotation({degrees:this.viewport.getRotation(!0),useSketch:t,saveContext:r}),r=!1),e.getRotation(!0)%360!==0&&this._offsetForRotation({degrees:e.getRotation(!0),point:this.viewport.pixelFromPointNoRotate(e._getRotationPoint(!0),!0),useSketch:t,saveContext:r})}_offsetForRotation(t){var r=t.point?t.point.times(e.pixelDensityRatio):this._getCanvasCenter(),n=this._getContext(t.useSketch);n.save(),n.translate(r.x,r.y),n.rotate(Math.PI/180*t.degrees),n.translate(-r.x,-r.y)}_flip(t){t=t||{};var r=t.point?t.point.times(e.pixelDensityRatio):this._getCanvasCenter(),n=this._getContext(t.useSketch);n.translate(r.x,0),n.scale(-1,1),n.translate(-r.x,0)}_restoreRotationChanges(e){var t=this._getContext(e);t.restore()}_calculateCanvasSize(){var t=e.pixelDensityRatio,r=this.viewport.getContainerSize();return{x:Math.round(r.x*t),y:Math.round(r.y*t)}}_calculateSketchCanvasSize(){var e=this._calculateCanvasSize();if(0===this.viewport.getRotation())return e;var t=Math.ceil(Math.sqrt(e.x*e.x+e.y*e.y));return{x:t,y:t}}}e.CanvasDrawer=r;var n=e.SUBPIXEL_ROUNDING_OCCURRENCES.NEVER;function i(t){return t!==e.SUBPIXEL_ROUNDING_OCCURRENCES.ALWAYS&&t!==e.SUBPIXEL_ROUNDING_OCCURRENCES.ONLY_AT_REST&&t!==e.SUBPIXEL_ROUNDING_OCCURRENCES.NEVER}function l(e){return i(e)?n:e}function o(t){if("number"===typeof t)return l(t);if(!t||!e.Browser)return n;var r=t[e.Browser.vendor];return i(r)&&(r=t["*"]),l(r)}}(o),function(e){const t=e;t.WebGLDrawer=class extends t.DrawerBase{constructor(e){super(e),this._destroyed=!1,this._TextureMap=new Map,this._TileMap=new Map,this._gl=null,this._firstPass=null,this._secondPass=null,this._glFrameBuffer=null,this._renderToTexture=null,this._glFramebufferToCanvasTransform=null,this._outputCanvas=null,this._outputContext=null,this._clippingCanvas=null,this._clippingContext=null,this._renderingCanvas=null,this._backupCanvasDrawer=null,this._imageSmoothingEnabled=!0,this._boundToTileReady=e=>this._tileReadyHandler(e),this._boundToImageUnloaded=e=>this._imageUnloadedHandler(e),this.viewer.addHandler("tile-ready",this._boundToTileReady),this.viewer.addHandler("image-unloaded",this._boundToImageUnloaded),this.viewer.rejectEventHandler("tile-drawn","The WebGLDrawer does not raise the tile-drawn event"),this.viewer.rejectEventHandler("tile-drawing","The WebGLDrawer does not raise the tile-drawing event"),this._setupCanvases(),this._setupRenderer(),this.context=this._outputContext}destroy(){if(this._destroyed)return;let e=this._gl;var t=e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS);for(let n=0;n<t;++n)e.activeTexture(e.TEXTURE0+n),e.bindTexture(e.TEXTURE_2D,null),e.bindTexture(e.TEXTURE_CUBE_MAP,null);e.bindBuffer(e.ARRAY_BUFFER,null),e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,null),e.bindRenderbuffer(e.RENDERBUFFER,null),e.bindFramebuffer(e.FRAMEBUFFER,null),this._unloadTextures(),e.deleteBuffer(this._secondPass.bufferOutputPosition),e.deleteFramebuffer(this._glFrameBuffer),this._renderingCanvas.width=this._renderingCanvas.height=1,this._clippingCanvas.width=this._clippingCanvas.height=1,this._outputCanvas.width=this._outputCanvas.height=1,this._renderingCanvas=null,this._clippingCanvas=this._clippingContext=null,this._outputCanvas=this._outputContext=null;let r=e.getExtension("WEBGL_lose_context");r&&r.loseContext(),this.viewer.removeHandler("tile-ready",this._boundToTileReady),this.viewer.removeHandler("image-unloaded",this._boundToImageUnloaded),this.viewer.removeHandler("resize",this._resizeHandler),this._gl=null,this._backupCanvasDrawer&&(this._backupCanvasDrawer.destroy(),this._backupCanvasDrawer=null),this.container.removeChild(this.canvas),this.viewer.drawer===this&&(this.viewer.drawer=null),this._destroyed=!0}canRotate(){return!0}static isSupported(){let t=document.createElement("canvas"),r=e.isFunction(t.getContext)&&t.getContext("webgl"),n=r&&r.getExtension("WEBGL_lose_context");return n&&n.loseContext(),!!r}getType(){return"webgl"}minimumOverlapRequired(e){return e.isTainted()}_createDrawingElement(){let t=e.makeNeutralElement("canvas"),r=this._calculateCanvasSize();return t.width=r.x,t.height=r.y,t}_getBackupCanvasDrawer(){return this._backupCanvasDrawer||(this._backupCanvasDrawer=this.viewer.requestDrawer("canvas",{mainDrawer:!1}),this._backupCanvasDrawer.canvas.style.setProperty("visibility","hidden")),this._backupCanvasDrawer}draw(r){let n=this._gl;const i=this.viewport.getBoundsNoRotateWithMargins(!0);let l={bounds:i,center:new t.Point(i.x+i.width/2,i.y+i.height/2),rotation:this.viewport.getRotation(!0)*Math.PI/180},o=this.viewport.flipped?-1:1,a=e.Mat3.makeTranslation(-l.center.x,-l.center.y),s=e.Mat3.makeScaling(2/l.bounds.width*o,-2/l.bounds.height),c=e.Mat3.makeRotation(-l.rotation),u=s.multiply(c).multiply(a);n.bindFramebuffer(n.FRAMEBUFFER,null),n.clear(n.COLOR_BUFFER_BIT),this._outputContext.clearRect(0,0,this._outputCanvas.width,this._outputCanvas.height);let p=!1;r.forEach(((t,r)=>{if(t.isTainted()){p&&(this._outputContext.drawImage(this._renderingCanvas,0,0),n.bindFramebuffer(n.FRAMEBUFFER,null),n.clear(n.COLOR_BUFFER_BIT),p=!1);const e=this._getBackupCanvasDrawer();e.draw([t]),this._outputContext.drawImage(e.canvas,0,0)}else{let i=t.getTilesToDraw();if(t.placeholderFillStyle&&!1===t._hasOpaqueTile&&this._drawPlaceholder(t),0===i.length||0===t.getOpacity())return;let l=i[0],o=t.compositeOperation||this.viewer.compositeOperation||t._clip||t._croppingPolygons||t.debugMode,a=o||t.opacity<1||l.hasTransparency;o&&(p&&this._outputContext.drawImage(this._renderingCanvas,0,0),n.bindFramebuffer(n.FRAMEBUFFER,null),n.clear(n.COLOR_BUFFER_BIT)),n.useProgram(this._firstPass.shaderProgram),a?(n.bindFramebuffer(n.FRAMEBUFFER,this._glFrameBuffer),n.clear(n.COLOR_BUFFER_BIT)):n.bindFramebuffer(n.FRAMEBUFFER,null);let s=u,c=t.getRotation(!0);if(c%360!==0){let r=e.Mat3.makeRotation(-c*Math.PI/180),n=t.getBoundsNoRotate(!0).getCenter(),i=e.Mat3.makeTranslation(n.x,n.y),l=e.Mat3.makeTranslation(-n.x,-n.y),o=i.multiply(r).multiply(l);s=u.multiply(o)}let h=this._gl.getParameter(this._gl.MAX_TEXTURE_IMAGE_UNITS);if(h<=0)throw new Error(`WegGL error: bad value for gl parameter MAX_TEXTURE_IMAGE_UNITS (${h}). This could happen\n                        if too many contexts have been created and not released, or there is another problem with the graphics card.`);let d=new Float32Array(12*h),f=new Array(h),g=new Array(h),v=new Array(h);for(let e=0;e<i.length;e++){let r=i[e].tile,l=e%h,o=l+1,a=r.getCanvasContext(),c=a?this._TextureMap.get(a.canvas):null;if(c||(this._tileReadyHandler({tile:r,tiledImage:t}),c=a?this._TextureMap.get(a.canvas):null),c&&this._getTileData(r,t,c,s,l,d,f,g,v),o===h||e===i.length-1){for(let e=0;e<=o;e++)n.activeTexture(n.TEXTURE0+e),n.bindTexture(n.TEXTURE_2D,f[e]);n.bindBuffer(n.ARRAY_BUFFER,this._firstPass.bufferTexturePosition),n.bufferData(n.ARRAY_BUFFER,d,n.DYNAMIC_DRAW),g.forEach(((e,t)=>{n.uniformMatrix3fv(this._firstPass.uTransformMatrices[t],!1,e)})),n.uniform1fv(this._firstPass.uOpacities,new Float32Array(v)),n.bindBuffer(n.ARRAY_BUFFER,this._firstPass.bufferOutputPosition),n.vertexAttribPointer(this._firstPass.aOutputPosition,2,n.FLOAT,!1,0,0),n.bindBuffer(n.ARRAY_BUFFER,this._firstPass.bufferTexturePosition),n.vertexAttribPointer(this._firstPass.aTexturePosition,2,n.FLOAT,!1,0,0),n.bindBuffer(n.ARRAY_BUFFER,this._firstPass.bufferIndex),n.vertexAttribPointer(this._firstPass.aIndex,1,n.FLOAT,!1,0,0),n.drawArrays(n.TRIANGLES,0,6*o)}}a&&(n.useProgram(this._secondPass.shaderProgram),n.bindFramebuffer(n.FRAMEBUFFER,null),n.activeTexture(n.TEXTURE0),n.bindTexture(n.TEXTURE_2D,this._renderToTexture),this._gl.uniform1f(this._secondPass.uOpacityMultiplier,t.opacity),n.bindBuffer(n.ARRAY_BUFFER,this._secondPass.bufferTexturePosition),n.vertexAttribPointer(this._secondPass.aTexturePosition,2,n.FLOAT,!1,0,0),n.bindBuffer(n.ARRAY_BUFFER,this._secondPass.bufferOutputPosition),n.vertexAttribPointer(this._secondPass.aOutputPosition,2,n.FLOAT,!1,0,0),n.drawArrays(n.TRIANGLES,0,6)),p=!0,o&&(this._applyContext2dPipeline(t,i,r),p=!1,n.bindFramebuffer(n.FRAMEBUFFER,null),n.clear(n.COLOR_BUFFER_BIT)),0===r&&this._raiseTiledImageDrawnEvent(t,i.map((e=>e.tile)))}})),p&&this._outputContext.drawImage(this._renderingCanvas,0,0)}setImageSmoothingEnabled(e){this._imageSmoothingEnabled!==e&&(this._imageSmoothingEnabled=e,this._unloadTextures(),this.viewer.world.draw())}drawDebuggingRect(t){let r=this._outputContext;r.save(),r.lineWidth=2*e.pixelDensityRatio,r.strokeStyle=this.debugGridColor[0],r.fillStyle=this.debugGridColor[0],r.strokeRect(t.x*e.pixelDensityRatio,t.y*e.pixelDensityRatio,t.width*e.pixelDensityRatio,t.height*e.pixelDensityRatio),r.restore()}_getTextureDataFromTile(e){return e.getCanvasContext().canvas}_applyContext2dPipeline(e,t,r){if(this._outputContext.save(),this._outputContext.globalCompositeOperation=0===r?null:e.compositeOperation||this.viewer.compositeOperation,e._croppingPolygons||e._clip?(this._renderToClippingCanvas(e),this._outputContext.drawImage(this._clippingCanvas,0,0)):this._outputContext.drawImage(this._renderingCanvas,0,0),this._outputContext.restore(),e.debugMode){const r=this.viewer.viewport.getFlip();r&&this._flip(),this._drawDebugInfo(t,e,r),r&&this._flip()}}_getTileData(t,r,n,i,l,o,a,s,c){let u=n.texture,p=n.position;o.set(p,12*l);let h=this._calculateOverlapFraction(t,r),d=t.positionedBounds.width*h.x,f=t.positionedBounds.height*h.y,g=t.positionedBounds.x+(0===t.x?0:d),v=t.positionedBounds.y+(0===t.y?0:f),m=t.positionedBounds.x+t.positionedBounds.width-(t.isRightMost?0:d),A=t.positionedBounds.y+t.positionedBounds.height-(t.isBottomMost?0:f),y=m-g,w=A-v,_=new e.Mat3([y,0,0,0,w,0,g,v,1]);if(t.flipped){let t=e.Mat3.makeTranslation(.5,0),r=e.Mat3.makeTranslation(-.5,0),n=t.multiply(e.Mat3.makeScaling(-1,1)).multiply(r);_=_.multiply(n)}let x=i.multiply(_);c[l]=t.opacity,a[l]=u,s[l]=x.values}_textureFilter(){return this._imageSmoothingEnabled?this._gl.LINEAR:this._gl.NEAREST}_setupRenderer(){let t=this._gl;t||e.console.error("_setupCanvases must be called before _setupRenderer"),this._unitQuad=this._makeQuadVertexBuffer(0,1,0,1),this._makeFirstPassShaderProgram(),this._makeSecondPassShaderProgram(),this._renderToTexture=t.createTexture(),t.activeTexture(t.TEXTURE0),t.bindTexture(t.TEXTURE_2D,this._renderToTexture),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,this._renderingCanvas.width,this._renderingCanvas.height,0,t.RGBA,t.UNSIGNED_BYTE,null),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,this._textureFilter()),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),this._glFrameBuffer=t.createFramebuffer(),t.bindFramebuffer(t.FRAMEBUFFER,this._glFrameBuffer),t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,this._renderToTexture,0),t.enable(t.BLEND),t.blendFunc(t.ONE,t.ONE_MINUS_SRC_ALPHA)}_makeFirstPassShaderProgram(){let e=this._glNumTextures=this._gl.getParameter(this._gl.MAX_TEXTURE_IMAGE_UNITS),t=()=>[...Array(e).keys()].map((e=>`uniform mat3 u_matrix_${e};`)).join("\n"),r=()=>[...Array(e).keys()].map((e=>`${e>0?"else ":""}if(int(a_index) == ${e}) { transform_matrix = u_matrix_${e}; }`)).join("\n");const n=`\n            attribute vec2 a_output_position;\n            attribute vec2 a_texture_position;\n            attribute float a_index;\n\n            ${t()} // create a uniform mat3 for each potential tile to draw\n\n            varying vec2 v_texture_position;\n            varying float v_image_index;\n\n            void main() {\n\n                mat3 transform_matrix; // value will be set by the if/elses in makeConditional()\n\n                ${r()}\n\n                gl_Position = vec4(transform_matrix * vec3(a_output_position, 1), 1);\n\n                v_texture_position = a_texture_position;\n                v_image_index = a_index;\n            }\n            `,i=`\n            precision mediump float;\n\n            // our textures\n            uniform sampler2D u_images[${e}];\n            // our opacities\n            uniform float u_opacities[${e}];\n\n            // the varyings passed in from the vertex shader.\n            varying vec2 v_texture_position;\n            varying float v_image_index;\n\n            void main() {\n                // can't index directly with a variable, need to use a loop iterator hack\n                for(int i = 0; i < ${e}; ++i){\n                    if(i == int(v_image_index)){\n                        gl_FragColor = texture2D(u_images[i], v_texture_position) * u_opacities[i];\n                    }\n                }\n            }\n            `;let l=this._gl,o=this.constructor.initShaderProgram(l,n,i);l.useProgram(o),this._firstPass={shaderProgram:o,aOutputPosition:l.getAttribLocation(o,"a_output_position"),aTexturePosition:l.getAttribLocation(o,"a_texture_position"),aIndex:l.getAttribLocation(o,"a_index"),uTransformMatrices:[...Array(this._glNumTextures).keys()].map((e=>l.getUniformLocation(o,`u_matrix_${e}`))),uImages:l.getUniformLocation(o,"u_images"),uOpacities:l.getUniformLocation(o,"u_opacities"),bufferOutputPosition:l.createBuffer(),bufferTexturePosition:l.createBuffer(),bufferIndex:l.createBuffer()},l.uniform1iv(this._firstPass.uImages,[...Array(e).keys()]);let a=new Float32Array(12*e);for(let c=0;c<e;++c)a.set(Float32Array.from(this._unitQuad),12*c);l.bindBuffer(l.ARRAY_BUFFER,this._firstPass.bufferOutputPosition),l.bufferData(l.ARRAY_BUFFER,a,l.STATIC_DRAW),l.enableVertexAttribArray(this._firstPass.aOutputPosition),l.bindBuffer(l.ARRAY_BUFFER,this._firstPass.bufferTexturePosition),l.enableVertexAttribArray(this._firstPass.aTexturePosition),l.bindBuffer(l.ARRAY_BUFFER,this._firstPass.bufferIndex);let s=[...Array(this._glNumTextures).keys()].map((e=>Array(6).fill(e))).flat();l.bufferData(l.ARRAY_BUFFER,new Float32Array(s),l.STATIC_DRAW),l.enableVertexAttribArray(this._firstPass.aIndex)}_makeSecondPassShaderProgram(){const t="\n            attribute vec2 a_output_position;\n            attribute vec2 a_texture_position;\n\n            uniform mat3 u_matrix;\n\n            varying vec2 v_texture_position;\n\n            void main() {\n                gl_Position = vec4(u_matrix * vec3(a_output_position, 1), 1);\n\n                v_texture_position = a_texture_position;\n            }\n            ",r="\n            precision mediump float;\n\n            // our texture\n            uniform sampler2D u_image;\n\n            // the texCoords passed in from the vertex shader.\n            varying vec2 v_texture_position;\n\n            // the opacity multiplier for the image\n            uniform float u_opacity_multiplier;\n\n            void main() {\n                gl_FragColor = texture2D(u_image, v_texture_position);\n                gl_FragColor *= u_opacity_multiplier;\n            }\n            ";let n=this._gl,i=this.constructor.initShaderProgram(n,t,r);n.useProgram(i),this._secondPass={shaderProgram:i,aOutputPosition:n.getAttribLocation(i,"a_output_position"),aTexturePosition:n.getAttribLocation(i,"a_texture_position"),uMatrix:n.getUniformLocation(i,"u_matrix"),uImage:n.getUniformLocation(i,"u_image"),uOpacityMultiplier:n.getUniformLocation(i,"u_opacity_multiplier"),bufferOutputPosition:n.createBuffer(),bufferTexturePosition:n.createBuffer()},n.bindBuffer(n.ARRAY_BUFFER,this._secondPass.bufferOutputPosition),n.bufferData(n.ARRAY_BUFFER,this._unitQuad,n.STATIC_DRAW),n.enableVertexAttribArray(this._secondPass.aOutputPosition),n.bindBuffer(n.ARRAY_BUFFER,this._secondPass.bufferTexturePosition),n.bufferData(n.ARRAY_BUFFER,this._unitQuad,n.DYNAMIC_DRAW),n.enableVertexAttribArray(this._secondPass.aTexturePosition);let l=e.Mat3.makeScaling(2,2).multiply(e.Mat3.makeTranslation(-.5,-.5));n.uniformMatrix3fv(this._secondPass.uMatrix,!1,l.values)}_resizeRenderer(){let e=this._gl,t=this._renderingCanvas.width,r=this._renderingCanvas.height;e.viewport(0,0,t,r),e.deleteTexture(this._renderToTexture),this._renderToTexture=e.createTexture(),e.activeTexture(e.TEXTURE0),e.bindTexture(e.TEXTURE_2D,this._renderToTexture),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,t,r,0,e.RGBA,e.UNSIGNED_BYTE,null),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,this._textureFilter()),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),e.bindFramebuffer(e.FRAMEBUFFER,this._glFrameBuffer),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,this._renderToTexture,0)}_setupCanvases(){let e=this;this._outputCanvas=this.canvas,this._outputContext=this._outputCanvas.getContext("2d"),this._renderingCanvas=document.createElement("canvas"),this._clippingCanvas=document.createElement("canvas"),this._clippingContext=this._clippingCanvas.getContext("2d"),this._renderingCanvas.width=this._clippingCanvas.width=this._outputCanvas.width,this._renderingCanvas.height=this._clippingCanvas.height=this._outputCanvas.height,this._gl=this._renderingCanvas.getContext("webgl"),this._resizeHandler=function(){e._outputCanvas!==e.viewer.drawer.canvas&&(e._outputCanvas.style.width=e.viewer.drawer.canvas.clientWidth+"px",e._outputCanvas.style.height=e.viewer.drawer.canvas.clientHeight+"px");let t=e._calculateCanvasSize();e._outputCanvas.width===t.x&&e._outputCanvas.height===t.y||(e._outputCanvas.width=t.x,e._outputCanvas.height=t.y),e._renderingCanvas.style.width=e._outputCanvas.clientWidth+"px",e._renderingCanvas.style.height=e._outputCanvas.clientHeight+"px",e._renderingCanvas.width=e._clippingCanvas.width=e._outputCanvas.width,e._renderingCanvas.height=e._clippingCanvas.height=e._outputCanvas.height,e._resizeRenderer()},this.viewer.addHandler("resize",this._resizeHandler)}_makeQuadVertexBuffer(e,t,r,n){return new Float32Array([e,n,t,n,e,r,e,r,t,n,t,r])}_tileReadyHandler(t){let r=t.tile,n=t.tiledImage;if(n.isTainted())return;let i=r.getCanvasContext(),l=i&&i.canvas;if(!l||e.isCanvasTainted(l)){const t=n.isTainted();return void(t||(n.setTainted(!0),e.console.warn("WebGL cannot be used to draw this TiledImage because it has tainted data. Does crossOriginPolicy need to be set?"),this._raiseDrawerErrorEvent(n,"Tainted data cannot be used by the WebGLDrawer. Falling back to CanvasDrawer for this TiledImage.")))}let o=this._TextureMap.get(l);if(!o){let e,t,o,a=this._gl,s=a.createTexture(),c=n.source.tileOverlap;if(r.sourceBounds?(t=Math.min(r.sourceBounds.width,l.width)/l.width,o=Math.min(r.sourceBounds.height,l.height)/l.height):(t=1,o=1),c>0){let i=this._calculateOverlapFraction(r,n),l=(0===r.x?0:i.x)*t,a=(0===r.y?0:i.y)*o,s=(r.isRightMost?1:1-i.x)*t,c=(r.isBottomMost?1:1-i.y)*o;e=this._makeQuadVertexBuffer(l,s,a,c)}else e=1===t&&1===o?this._unitQuad:this._makeQuadVertexBuffer(0,t,0,o);let u={texture:s,position:e};this._TextureMap.set(l,u),a.activeTexture(a.TEXTURE0),a.bindTexture(a.TEXTURE_2D,s),a.texParameteri(a.TEXTURE_2D,a.TEXTURE_WRAP_S,a.CLAMP_TO_EDGE),a.texParameteri(a.TEXTURE_2D,a.TEXTURE_WRAP_T,a.CLAMP_TO_EDGE),a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MIN_FILTER,this._textureFilter()),a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MAG_FILTER,this._textureFilter()),this._uploadImageData(i)}}_calculateOverlapFraction(e,t){let r=t.source.tileOverlap,n=e.sourceBounds.width,i=e.sourceBounds.height,l=(0===e.x?0:r)+(e.isRightMost?0:r),o=(0===e.y?0:r)+(e.isBottomMost?0:r),a=r/(n+l),s=r/(i+o);return{x:a,y:s}}_unloadTextures(){let e=Array.from(this._TextureMap.keys());e.forEach((e=>{this._cleanupImageData(e)}))}_uploadImageData(t){let r=this._gl,n=t.canvas;try{if(!n)throw t;r.texImage2D(r.TEXTURE_2D,0,r.RGBA,r.RGBA,r.UNSIGNED_BYTE,n)}catch(i){e.console.error("Error uploading image data to WebGL",i)}}_imageUnloadedHandler(e){let t=e.context2D.canvas;this._cleanupImageData(t)}_cleanupImageData(e){let t=this._TextureMap.get(e);this._TextureMap.delete(e),t&&this._gl.deleteTexture(t.texture)}_setClip(){}_renderToClippingCanvas(t){if(this._clippingContext.clearRect(0,0,this._clippingCanvas.width,this._clippingCanvas.height),this._clippingContext.save(),this.viewer.viewport.getFlip()){const t=new e.Point(this.canvas.width/2,this.canvas.height/2);this._clippingContext.translate(t.x,0),this._clippingContext.scale(-1,1),this._clippingContext.translate(-t.x,0)}if(t._clip){const e=[{x:t._clip.x,y:t._clip.y},{x:t._clip.x+t._clip.width,y:t._clip.y},{x:t._clip.x+t._clip.width,y:t._clip.y+t._clip.height},{x:t._clip.x,y:t._clip.y+t._clip.height}];let r=e.map((e=>{let r=t.imageToViewportCoordinates(e.x,e.y,!0).rotate(this.viewer.viewport.getRotation(!0),this.viewer.viewport.getCenter(!0)),n=this.viewportCoordToDrawerCoord(r);return n}));this._clippingContext.beginPath(),r.forEach(((e,t)=>{this._clippingContext[0===t?"moveTo":"lineTo"](e.x,e.y)})),this._clippingContext.clip(),this._setClip()}if(t._croppingPolygons){let e=t._croppingPolygons.map((e=>e.map((e=>{let r=t.imageToViewportCoordinates(e.x,e.y,!0).rotate(this.viewer.viewport.getRotation(!0),this.viewer.viewport.getCenter(!0)),n=this.viewportCoordToDrawerCoord(r);return n}))));this._clippingContext.beginPath(),e.forEach((e=>{e.forEach(((e,t)=>{this._clippingContext[0===t?"moveTo":"lineTo"](e.x,e.y)}))})),this._clippingContext.clip()}if(this.viewer.viewport.getFlip()){const t=new e.Point(this.canvas.width/2,this.canvas.height/2);this._clippingContext.translate(t.x,0),this._clippingContext.scale(-1,1),this._clippingContext.translate(-t.x,0)}this._clippingContext.drawImage(this._renderingCanvas,0,0),this._clippingContext.restore()}_setRotations(e){var t=!1;this.viewport.getRotation(!0)%360!==0&&(this._offsetForRotation({degrees:this.viewport.getRotation(!0),saveContext:t}),t=!1),e.getRotation(!0)%360!==0&&this._offsetForRotation({degrees:e.getRotation(!0),point:this.viewport.pixelFromPointNoRotate(e._getRotationPoint(!0),!0),saveContext:t})}_offsetForRotation(t){var r=t.point?t.point.times(e.pixelDensityRatio):this._getCanvasCenter(),n=this._outputContext;n.save(),n.translate(r.x,r.y),n.rotate(Math.PI/180*t.degrees),n.translate(-r.x,-r.y)}_flip(t){t=t||{};var r=t.point?t.point.times(e.pixelDensityRatio):this._getCanvasCenter(),n=this._outputContext;n.translate(r.x,0),n.scale(-1,1),n.translate(-r.x,0)}_drawDebugInfo(t,r,n){for(var i=t.length-1;i>=0;i--){var l=t[i].tile;try{this._drawDebugInfoOnTile(l,t.length,i,r,n)}catch(o){e.console.error(o)}}}_drawDebugInfoOnTile(t,r,n,i,l){var o=this.viewer.world.getIndexOfItem(i)%this.debugGridColor.length,a=this.context;a.save(),a.lineWidth=2*e.pixelDensityRatio,a.font="small-caps bold "+13*e.pixelDensityRatio+"px arial",a.strokeStyle=this.debugGridColor[o],a.fillStyle=this.debugGridColor[o],this._setRotations(i),l&&this._flip({point:t.position.plus(t.size.divide(2))}),a.strokeRect(t.position.x*e.pixelDensityRatio,t.position.y*e.pixelDensityRatio,t.size.x*e.pixelDensityRatio,t.size.y*e.pixelDensityRatio);var s=(t.position.x+t.size.x/2)*e.pixelDensityRatio,c=(t.position.y+t.size.y/2)*e.pixelDensityRatio;a.translate(s,c);const u=this.viewport.getRotation(!0);a.rotate(Math.PI/180*-u),a.translate(-s,-c),0===t.x&&0===t.y&&(a.fillText("Zoom: "+this.viewport.getZoom(),t.position.x*e.pixelDensityRatio,(t.position.y-30)*e.pixelDensityRatio),a.fillText("Pan: "+this.viewport.getBounds().toString(),t.position.x*e.pixelDensityRatio,(t.position.y-20)*e.pixelDensityRatio)),a.fillText("Level: "+t.level,(t.position.x+10)*e.pixelDensityRatio,(t.position.y+20)*e.pixelDensityRatio),a.fillText("Column: "+t.x,(t.position.x+10)*e.pixelDensityRatio,(t.position.y+30)*e.pixelDensityRatio),a.fillText("Row: "+t.y,(t.position.x+10)*e.pixelDensityRatio,(t.position.y+40)*e.pixelDensityRatio),a.fillText("Order: "+n+" of "+r,(t.position.x+10)*e.pixelDensityRatio,(t.position.y+50)*e.pixelDensityRatio),a.fillText("Size: "+t.size.toString(),(t.position.x+10)*e.pixelDensityRatio,(t.position.y+60)*e.pixelDensityRatio),a.fillText("Position: "+t.position.toString(),(t.position.x+10)*e.pixelDensityRatio,(t.position.y+70)*e.pixelDensityRatio),this.viewport.getRotation(!0)%360!==0&&this._restoreRotationChanges(),i.getRotation(!0)%360!==0&&this._restoreRotationChanges(),a.restore()}_drawPlaceholder(e){const t=e.getBounds(!0),r=this.viewportToDrawerRectangle(e.getBounds(!0)),n=this._outputContext;let i;i="function"===typeof e.placeholderFillStyle?e.placeholderFillStyle(e,n):e.placeholderFillStyle,this._offsetForRotation({degrees:this.viewer.viewport.getRotation(!0)}),n.fillStyle=i,n.translate(r.x,r.y),n.rotate(Math.PI/180*t.degrees),n.translate(-r.x,-r.y),n.fillRect(r.x,r.y,r.width,r.height),this._restoreRotationChanges()}_getCanvasCenter(){return new e.Point(this.canvas.width/2,this.canvas.height/2)}_restoreRotationChanges(){var e=this._outputContext;e.restore()}static initShaderProgram(t,r,n){function i(t,r,n){const i=t.createShader(r);return t.shaderSource(i,n),t.compileShader(i),t.getShaderParameter(i,t.COMPILE_STATUS)?i:(e.console.error(`An error occurred compiling the shaders: ${t.getShaderInfoLog(i)}`),t.deleteShader(i),null)}const l=i(t,t.VERTEX_SHADER,r),o=i(t,t.FRAGMENT_SHADER,n),a=t.createProgram();return t.attachShader(a,l),t.attachShader(a,o),t.linkProgram(a),t.getProgramParameter(a,t.LINK_STATUS)?a:(e.console.error(`Unable to initialize the shader program: ${t.getProgramInfoLog(a)}`),null)}}}(o),function(e){e.Viewport=function(t){var r=arguments;r.length&&r[0]instanceof e.Point&&(t={containerSize:r[0],contentSize:r[1],config:r[2]}),t.config&&(e.extend(!0,t,t.config),delete t.config),this._margins=e.extend({left:0,top:0,right:0,bottom:0},t.margins||{}),delete t.margins,t.initialDegrees=t.degrees,delete t.degrees,e.extend(!0,this,{containerSize:null,contentSize:null,zoomPoint:null,rotationPivot:null,viewer:null,springStiffness:e.DEFAULT_SETTINGS.springStiffness,animationTime:e.DEFAULT_SETTINGS.animationTime,minZoomImageRatio:e.DEFAULT_SETTINGS.minZoomImageRatio,maxZoomPixelRatio:e.DEFAULT_SETTINGS.maxZoomPixelRatio,visibilityRatio:e.DEFAULT_SETTINGS.visibilityRatio,wrapHorizontal:e.DEFAULT_SETTINGS.wrapHorizontal,wrapVertical:e.DEFAULT_SETTINGS.wrapVertical,defaultZoomLevel:e.DEFAULT_SETTINGS.defaultZoomLevel,minZoomLevel:e.DEFAULT_SETTINGS.minZoomLevel,maxZoomLevel:e.DEFAULT_SETTINGS.maxZoomLevel,initialDegrees:e.DEFAULT_SETTINGS.degrees,flipped:e.DEFAULT_SETTINGS.flipped,homeFillsViewer:e.DEFAULT_SETTINGS.homeFillsViewer,silenceMultiImageWarnings:e.DEFAULT_SETTINGS.silenceMultiImageWarnings},t),this._updateContainerInnerSize(),this.centerSpringX=new e.Spring({initial:0,springStiffness:this.springStiffness,animationTime:this.animationTime}),this.centerSpringY=new e.Spring({initial:0,springStiffness:this.springStiffness,animationTime:this.animationTime}),this.zoomSpring=new e.Spring({exponential:!0,initial:1,springStiffness:this.springStiffness,animationTime:this.animationTime}),this.degreesSpring=new e.Spring({initial:t.initialDegrees,springStiffness:this.springStiffness,animationTime:this.animationTime}),this._oldCenterX=this.centerSpringX.current.value,this._oldCenterY=this.centerSpringY.current.value,this._oldZoom=this.zoomSpring.current.value,this._oldDegrees=this.degreesSpring.current.value,this._setContentBounds(new e.Rect(0,0,1,1),1),this.goHome(!0),this.update()},e.Viewport.prototype={get degrees(){return e.console.warn("Accessing [Viewport.degrees] is deprecated. Use viewport.getRotation instead."),this.getRotation()},set degrees(t){e.console.warn("Setting [Viewport.degrees] is deprecated. Use viewport.rotateTo, viewport.rotateBy, or viewport.setRotation instead."),this.rotateTo(t)},resetContentSize:function(t){return e.console.assert(t,"[Viewport.resetContentSize] contentSize is required"),e.console.assert(t instanceof e.Point,"[Viewport.resetContentSize] contentSize must be an OpenSeadragon.Point"),e.console.assert(t.x>0,"[Viewport.resetContentSize] contentSize.x must be greater than 0"),e.console.assert(t.y>0,"[Viewport.resetContentSize] contentSize.y must be greater than 0"),this._setContentBounds(new e.Rect(0,0,1,t.y/t.x),t.x),this},setHomeBounds:function(t,r){e.console.error("[Viewport.setHomeBounds] this function is deprecated; The content bounds should not be set manually."),this._setContentBounds(t,r)},_setContentBounds:function(t,r){e.console.assert(t,"[Viewport._setContentBounds] bounds is required"),e.console.assert(t instanceof e.Rect,"[Viewport._setContentBounds] bounds must be an OpenSeadragon.Rect"),e.console.assert(t.width>0,"[Viewport._setContentBounds] bounds.width must be greater than 0"),e.console.assert(t.height>0,"[Viewport._setContentBounds] bounds.height must be greater than 0"),this._contentBoundsNoRotate=t.clone(),this._contentSizeNoRotate=this._contentBoundsNoRotate.getSize().times(r),this._contentBounds=t.rotate(this.getRotation()).getBoundingBox(),this._contentSize=this._contentBounds.getSize().times(r),this._contentAspectRatio=this._contentSize.x/this._contentSize.y,this.viewer&&this.viewer.raiseEvent("reset-size",{contentSize:this._contentSizeNoRotate.clone(),contentFactor:r,homeBounds:this._contentBoundsNoRotate.clone(),contentBounds:this._contentBounds.clone()})},getHomeZoom:function(){if(this.defaultZoomLevel)return this.defaultZoomLevel;var e,t=this._contentAspectRatio/this.getAspectRatio();return e=this.homeFillsViewer?t>=1?t:1:t>=1?1:t,e/this._contentBounds.width},getHomeBounds:function(){return this.getHomeBoundsNoRotate().rotate(-this.getRotation())},getHomeBoundsNoRotate:function(){var t=this._contentBounds.getCenter(),r=1/this.getHomeZoom(),n=r/this.getAspectRatio();return new e.Rect(t.x-r/2,t.y-n/2,r,n)},goHome:function(e){return this.viewer&&this.viewer.raiseEvent("home",{immediately:e}),this.fitBounds(this.getHomeBounds(),e)},getMinZoom:function(){var e=this.getHomeZoom(),t=this.minZoomLevel?this.minZoomLevel:this.minZoomImageRatio*e;return t},getMaxZoom:function(){var e=this.maxZoomLevel;return e||(e=this._contentSize.x*this.maxZoomPixelRatio/this._containerInnerSize.x,e/=this._contentBounds.width),Math.max(e,this.getHomeZoom())},getAspectRatio:function(){return this._containerInnerSize.x/this._containerInnerSize.y},getContainerSize:function(){return new e.Point(this.containerSize.x,this.containerSize.y)},getMargins:function(){return e.extend({},this._margins)},setMargins:function(t){e.console.assert("object"===e.type(t),"[Viewport.setMargins] margins must be an object"),this._margins=e.extend({left:0,top:0,right:0,bottom:0},t),this._updateContainerInnerSize(),this.viewer&&this.viewer.forceRedraw()},getBounds:function(e){return this.getBoundsNoRotate(e).rotate(-this.getRotation(e))},getBoundsNoRotate:function(t){var r=this.getCenter(t),n=1/this.getZoom(t),i=n/this.getAspectRatio();return new e.Rect(r.x-n/2,r.y-i/2,n,i)},getBoundsWithMargins:function(e){return this.getBoundsNoRotateWithMargins(e).rotate(-this.getRotation(e),this.getCenter(e))},getBoundsNoRotateWithMargins:function(e){var t=this.getBoundsNoRotate(e),r=this._containerInnerSize.x*this.getZoom(e);return t.x-=this._margins.left/r,t.y-=this._margins.top/r,t.width+=(this._margins.left+this._margins.right)/r,t.height+=(this._margins.top+this._margins.bottom)/r,t},getCenter:function(t){var r,n,i,l,o,a,s,c,u=new e.Point(this.centerSpringX.current.value,this.centerSpringY.current.value),p=new e.Point(this.centerSpringX.target.value,this.centerSpringY.target.value);return t?u:this.zoomPoint?(r=this.pixelFromPoint(this.zoomPoint,!0),n=this.getZoom(),i=1/n,l=i/this.getAspectRatio(),o=new e.Rect(u.x-i/2,u.y-l/2,i,l),a=this._pixelFromPoint(this.zoomPoint,o),s=a.minus(r).rotate(-this.getRotation(!0)),c=s.divide(this._containerInnerSize.x*n),p.plus(c)):p},getZoom:function(e){return e?this.zoomSpring.current.value:this.zoomSpring.target.value},_applyZoomConstraints:function(e){return Math.max(Math.min(e,this.getMaxZoom()),this.getMinZoom())},_applyBoundaryConstraints:function(e){var t=this.viewportToViewerElementRectangle(e).getBoundingBox(),r=this.viewportToViewerElementRectangle(this._contentBoundsNoRotate).getBoundingBox(),n=!1,i=!1;if(this.wrapHorizontal);else{var l,o,a,s=t.x+t.width,c=r.x+r.width;l=t.width>r.width?this.visibilityRatio*r.width:this.visibilityRatio*t.width,o=r.x-s+l,a=c-t.x-l,l>r.width?(t.x+=(o+a)/2,n=!0):a<0?(t.x+=a,n=!0):o>0&&(t.x+=o,n=!0)}if(this.wrapVertical);else{var u,p,h,d=t.y+t.height,f=r.y+r.height;u=t.height>r.height?this.visibilityRatio*r.height:this.visibilityRatio*t.height,p=r.y-d+u,h=f-t.y-u,u>r.height?(t.y+=(p+h)/2,i=!0):h<0?(t.y+=h,i=!0):p>0&&(t.y+=p,i=!0)}var g=n||i,v=g?this.viewerElementToViewportRectangle(t):e.clone();return v.xConstrained=n,v.yConstrained=i,v.constraintApplied=g,v},_raiseConstraintsEvent:function(e){this.viewer&&this.viewer.raiseEvent("constrain",{immediately:e})},applyConstraints:function(e){var t=this.getZoom(),r=this._applyZoomConstraints(t);t!==r&&this.zoomTo(r,this.zoomPoint,e);var n=this.getConstrainedBounds(!1);return n.constraintApplied&&(this.fitBounds(n,e),this._raiseConstraintsEvent(e)),this},ensureVisible:function(e){return this.applyConstraints(e)},_fitBounds:function(t,r){r=r||{};var n=r.immediately||!1,i=r.constraints||!1,l=this.getAspectRatio(),o=t.getCenter(),a=new e.Rect(t.x,t.y,t.width,t.height,t.degrees+this.getRotation()).getBoundingBox();a.getAspectRatio()>=l?a.height=a.width/l:a.width=a.height*l,a.x=o.x-a.width/2,a.y=o.y-a.height/2;var s=1/a.width;if(n)return this.panTo(o,!0),this.zoomTo(s,null,!0),i&&this.applyConstraints(!0),this;var c=this.getCenter(!0),u=this.getZoom(!0);this.panTo(c,!0),this.zoomTo(u,null,!0);var p=this.getBounds(),h=this.getZoom();if(0===h||Math.abs(s/h-1)<1e-8)return this.zoomTo(s,null,!0),this.panTo(o,n),i&&this.applyConstraints(!1),this;if(i){this.panTo(o,!1),s=this._applyZoomConstraints(s),this.zoomTo(s,null,!1);var d=this.getConstrainedBounds();this.panTo(c,!0),this.zoomTo(u,null,!0),this.fitBounds(d)}else{var f=a.rotate(-this.getRotation()),g=f.getTopLeft().times(s).minus(p.getTopLeft().times(h)).divide(s-h);this.zoomTo(s,g,n)}return this},fitBounds:function(e,t){return this._fitBounds(e,{immediately:t,constraints:!1})},fitBoundsWithConstraints:function(e,t){return this._fitBounds(e,{immediately:t,constraints:!0})},fitVertically:function(t){var r=new e.Rect(this._contentBounds.x+this._contentBounds.width/2,this._contentBounds.y,0,this._contentBounds.height);return this.fitBounds(r,t)},fitHorizontally:function(t){var r=new e.Rect(this._contentBounds.x,this._contentBounds.y+this._contentBounds.height/2,this._contentBounds.width,0);return this.fitBounds(r,t)},getConstrainedBounds:function(e){var t,r;return t=this.getBounds(e),r=this._applyBoundaryConstraints(t),r},panBy:function(t,r){var n=new e.Point(this.centerSpringX.target.value,this.centerSpringY.target.value);return this.panTo(n.plus(t),r)},panTo:function(e,t){return t?(this.centerSpringX.resetTo(e.x),this.centerSpringY.resetTo(e.y)):(this.centerSpringX.springTo(e.x),this.centerSpringY.springTo(e.y)),this.viewer&&this.viewer.raiseEvent("pan",{center:e,immediately:t}),this},zoomBy:function(e,t,r){return this.zoomTo(this.zoomSpring.target.value*e,t,r)},zoomTo:function(t,r,n){var i=this;return this.zoomPoint=r instanceof e.Point&&!isNaN(r.x)&&!isNaN(r.y)?r:null,n?this._adjustCenterSpringsForZoomPoint((function(){i.zoomSpring.resetTo(t)})):this.zoomSpring.springTo(t),this.viewer&&this.viewer.raiseEvent("zoom",{zoom:t,refPoint:r,immediately:n}),this},setRotation:function(e,t){return this.rotateTo(e,null,t)},getRotation:function(e){return e?this.degreesSpring.current.value:this.degreesSpring.target.value},setRotationWithPivot:function(e,t,r){return this.rotateTo(e,t,r)},rotateTo:function(t,r,n){if(!this.viewer||!this.viewer.drawer.canRotate())return this;if(this.degreesSpring.target.value===t&&this.degreesSpring.isAtTargetValue())return this;if(this.rotationPivot=r instanceof e.Point&&!isNaN(r.x)&&!isNaN(r.y)?r:null,n)if(this.rotationPivot){var i=t-this._oldDegrees;if(!i)return this.rotationPivot=null,this;this._rotateAboutPivot(t)}else this.degreesSpring.resetTo(t);else{var l=e.positiveModulo(this.degreesSpring.current.value,360),o=e.positiveModulo(t,360),a=o-l;a>180?o-=360:a<-180&&(o+=360);var s=l-o;this.degreesSpring.resetTo(t+s),this.degreesSpring.springTo(t)}return this._setContentBounds(this.viewer.world.getHomeBounds(),this.viewer.world.getContentFactor()),this.viewer.forceRedraw(),this.viewer.raiseEvent("rotate",{degrees:t,immediately:!!n,pivot:this.rotationPivot||this.getCenter()}),this},rotateBy:function(e,t,r){return this.rotateTo(this.degreesSpring.target.value+e,t,r)},resize:function(e,t){var r,n=this.getBoundsNoRotate(),i=n;this.containerSize.x=e.x,this.containerSize.y=e.y,this._updateContainerInnerSize(),t&&(r=e.x/this.containerSize.x,i.width=n.width*r,i.height=i.width/this.getAspectRatio()),this.viewer&&this.viewer.raiseEvent("resize",{newContainerSize:e,maintain:t});var l=this.fitBounds(i,!0);return this.viewer&&this.viewer.raiseEvent("after-resize",{newContainerSize:e,maintain:t}),l},_updateContainerInnerSize:function(){this._containerInnerSize=new e.Point(Math.max(1,this.containerSize.x-(this._margins.left+this._margins.right)),Math.max(1,this.containerSize.y-(this._margins.top+this._margins.bottom)))},update:function(){var e=this;this._adjustCenterSpringsForZoomPoint((function(){e.zoomSpring.update()})),this.degreesSpring.isAtTargetValue()&&(this.rotationPivot=null),this.centerSpringX.update(),this.centerSpringY.update(),this.rotationPivot?this._rotateAboutPivot(!0):this.degreesSpring.update();var t=this.centerSpringX.current.value!==this._oldCenterX||this.centerSpringY.current.value!==this._oldCenterY||this.zoomSpring.current.value!==this._oldZoom||this.degreesSpring.current.value!==this._oldDegrees;this._oldCenterX=this.centerSpringX.current.value,this._oldCenterY=this.centerSpringY.current.value,this._oldZoom=this.zoomSpring.current.value,this._oldDegrees=this.degreesSpring.current.value;var r=t||!this.zoomSpring.isAtTargetValue()||!this.centerSpringX.isAtTargetValue()||!this.centerSpringY.isAtTargetValue()||!this.degreesSpring.isAtTargetValue();return r},_rotateAboutPivot:function(e){var t=!0===e,r=this.rotationPivot.minus(this.getCenter());this.centerSpringX.shiftBy(r.x),this.centerSpringY.shiftBy(r.y),t?this.degreesSpring.update():this.degreesSpring.resetTo(e);var n=this.degreesSpring.current.value-this._oldDegrees,i=r.rotate(-1*n).times(-1);this.centerSpringX.shiftBy(i.x),this.centerSpringY.shiftBy(i.y)},_adjustCenterSpringsForZoomPoint:function(e){if(this.zoomPoint){var t=this.pixelFromPoint(this.zoomPoint,!0);e();var r=this.pixelFromPoint(this.zoomPoint,!0),n=r.minus(t),i=this.deltaPointsFromPixels(n,!0);this.centerSpringX.shiftBy(i.x),this.centerSpringY.shiftBy(i.y),this.zoomSpring.isAtTargetValue()&&(this.zoomPoint=null)}else e()},deltaPixelsFromPointsNoRotate:function(e,t){return e.times(this._containerInnerSize.x*this.getZoom(t))},deltaPixelsFromPoints:function(e,t){return this.deltaPixelsFromPointsNoRotate(e.rotate(this.getRotation(t)),t)},deltaPointsFromPixelsNoRotate:function(e,t){return e.divide(this._containerInnerSize.x*this.getZoom(t))},deltaPointsFromPixels:function(e,t){return this.deltaPointsFromPixelsNoRotate(e,t).rotate(-this.getRotation(t))},pixelFromPointNoRotate:function(e,t){return this._pixelFromPointNoRotate(e,this.getBoundsNoRotate(t))},pixelFromPoint:function(e,t){return this._pixelFromPoint(e,this.getBoundsNoRotate(t))},_pixelFromPointNoRotate:function(t,r){return t.minus(r.getTopLeft()).times(this._containerInnerSize.x/r.width).plus(new e.Point(this._margins.left,this._margins.top))},_pixelFromPoint:function(e,t){return this._pixelFromPointNoRotate(e.rotate(this.getRotation(!0),this.getCenter(!0)),t)},pointFromPixelNoRotate:function(t,r){var n=this.getBoundsNoRotate(r);return t.minus(new e.Point(this._margins.left,this._margins.top)).divide(this._containerInnerSize.x/n.width).plus(n.getTopLeft())},pointFromPixel:function(e,t){return this.pointFromPixelNoRotate(e,t).rotate(-this.getRotation(t),this.getCenter(t))},_viewportToImageDelta:function(t,r){var n=this._contentBoundsNoRotate.width;return new e.Point(t*this._contentSizeNoRotate.x/n,r*this._contentSizeNoRotate.x/n)},viewportToImageCoordinates:function(t,r){if(t instanceof e.Point)return this.viewportToImageCoordinates(t.x,t.y);if(this.viewer){var n=this.viewer.world.getItemCount();if(n>1)this.silenceMultiImageWarnings||e.console.error("[Viewport.viewportToImageCoordinates] is not accurate with multi-image; use TiledImage.viewportToImageCoordinates instead.");else if(1===n){var i=this.viewer.world.getItemAt(0);return i.viewportToImageCoordinates(t,r,!0)}}return this._viewportToImageDelta(t-this._contentBoundsNoRotate.x,r-this._contentBoundsNoRotate.y)},_imageToViewportDelta:function(t,r){var n=this._contentBoundsNoRotate.width;return new e.Point(t/this._contentSizeNoRotate.x*n,r/this._contentSizeNoRotate.x*n)},imageToViewportCoordinates:function(t,r){if(t instanceof e.Point)return this.imageToViewportCoordinates(t.x,t.y);if(this.viewer){var n=this.viewer.world.getItemCount();if(n>1)this.silenceMultiImageWarnings||e.console.error("[Viewport.imageToViewportCoordinates] is not accurate with multi-image; use TiledImage.imageToViewportCoordinates instead.");else if(1===n){var i=this.viewer.world.getItemAt(0);return i.imageToViewportCoordinates(t,r,!0)}}var l=this._imageToViewportDelta(t,r);return l.x+=this._contentBoundsNoRotate.x,l.y+=this._contentBoundsNoRotate.y,l},imageToViewportRectangle:function(t,r,n,i){var l=t;if(l instanceof e.Rect||(l=new e.Rect(t,r,n,i)),this.viewer){var o=this.viewer.world.getItemCount();if(o>1)this.silenceMultiImageWarnings||e.console.error("[Viewport.imageToViewportRectangle] is not accurate with multi-image; use TiledImage.imageToViewportRectangle instead.");else if(1===o){var a=this.viewer.world.getItemAt(0);return a.imageToViewportRectangle(t,r,n,i,!0)}}var s=this.imageToViewportCoordinates(l.x,l.y),c=this._imageToViewportDelta(l.width,l.height);return new e.Rect(s.x,s.y,c.x,c.y,l.degrees)},viewportToImageRectangle:function(t,r,n,i){var l=t;if(l instanceof e.Rect||(l=new e.Rect(t,r,n,i)),this.viewer){var o=this.viewer.world.getItemCount();if(o>1)this.silenceMultiImageWarnings||e.console.error("[Viewport.viewportToImageRectangle] is not accurate with multi-image; use TiledImage.viewportToImageRectangle instead.");else if(1===o){var a=this.viewer.world.getItemAt(0);return a.viewportToImageRectangle(t,r,n,i,!0)}}var s=this.viewportToImageCoordinates(l.x,l.y),c=this._viewportToImageDelta(l.width,l.height);return new e.Rect(s.x,s.y,c.x,c.y,l.degrees)},viewerElementToImageCoordinates:function(e){var t=this.pointFromPixel(e,!0);return this.viewportToImageCoordinates(t)},imageToViewerElementCoordinates:function(e){var t=this.imageToViewportCoordinates(e);return this.pixelFromPoint(t,!0)},windowToImageCoordinates:function(t){e.console.assert(this.viewer,"[Viewport.windowToImageCoordinates] the viewport must have a viewer.");var r=t.minus(e.getElementPosition(this.viewer.element));return this.viewerElementToImageCoordinates(r)},imageToWindowCoordinates:function(t){e.console.assert(this.viewer,"[Viewport.imageToWindowCoordinates] the viewport must have a viewer.");var r=this.imageToViewerElementCoordinates(t);return r.plus(e.getElementPosition(this.viewer.element))},viewerElementToViewportCoordinates:function(e){return this.pointFromPixel(e,!0)},viewportToViewerElementCoordinates:function(e){return this.pixelFromPoint(e,!0)},viewerElementToViewportRectangle:function(t){return e.Rect.fromSummits(this.pointFromPixel(t.getTopLeft(),!0),this.pointFromPixel(t.getTopRight(),!0),this.pointFromPixel(t.getBottomLeft(),!0))},viewportToViewerElementRectangle:function(t){return e.Rect.fromSummits(this.pixelFromPoint(t.getTopLeft(),!0),this.pixelFromPoint(t.getTopRight(),!0),this.pixelFromPoint(t.getBottomLeft(),!0))},windowToViewportCoordinates:function(t){e.console.assert(this.viewer,"[Viewport.windowToViewportCoordinates] the viewport must have a viewer.");var r=t.minus(e.getElementPosition(this.viewer.element));return this.viewerElementToViewportCoordinates(r)},viewportToWindowCoordinates:function(t){e.console.assert(this.viewer,"[Viewport.viewportToWindowCoordinates] the viewport must have a viewer.");var r=this.viewportToViewerElementCoordinates(t);return r.plus(e.getElementPosition(this.viewer.element))},viewportToImageZoom:function(t){if(this.viewer){var r=this.viewer.world.getItemCount();if(r>1)this.silenceMultiImageWarnings||e.console.error("[Viewport.viewportToImageZoom] is not accurate with multi-image.");else if(1===r){var n=this.viewer.world.getItemAt(0);return n.viewportToImageZoom(t)}}var i=this._contentSizeNoRotate.x,l=this._containerInnerSize.x,o=this._contentBoundsNoRotate.width,a=l/i*o;return t*a},imageToViewportZoom:function(t){if(this.viewer){var r=this.viewer.world.getItemCount();if(r>1)this.silenceMultiImageWarnings||e.console.error("[Viewport.imageToViewportZoom] is not accurate with multi-image. Instead, use [TiledImage.imageToViewportZoom] for the specific image of interest");else if(1===r){var n=this.viewer.world.getItemAt(0);return n.imageToViewportZoom(t)}}var i=this._contentSizeNoRotate.x,l=this._containerInnerSize.x,o=this._contentBoundsNoRotate.width,a=i/l/o;return t*a},toggleFlip:function(){return this.setFlip(!this.getFlip()),this},getFlip:function(){return this.flipped},setFlip:function(e){return this.flipped===e||(this.flipped=e,this.viewer.navigator&&this.viewer.navigator.setFlip(this.getFlip()),this.viewer.forceRedraw(),this.viewer.raiseEvent("flip",{flipped:e})),this},getMaxZoomPixelRatio:function(){return this.maxZoomPixelRatio},setMaxZoomPixelRatio:function(t,r=!0,n=!1){e.console.assert(!isNaN(t),"[Viewport.setMaxZoomPixelRatio] ratio must be a number"),isNaN(t)||(this.maxZoomPixelRatio=t,r&&this.getZoom()>this.getMaxZoom()&&this.applyConstraints(n))}}}(o),function(e){e.TiledImage=function(t){this._initialized=!1,e.console.assert(t.tileCache,"[TiledImage] options.tileCache is required"),e.console.assert(t.drawer,"[TiledImage] options.drawer is required"),e.console.assert(t.viewer,"[TiledImage] options.viewer is required"),e.console.assert(t.imageLoader,"[TiledImage] options.imageLoader is required"),e.console.assert(t.source,"[TiledImage] options.source is required"),e.console.assert(!t.clip||t.clip instanceof e.Rect,"[TiledImage] options.clip must be an OpenSeadragon.Rect if present"),e.EventSource.call(this),this._tileCache=t.tileCache,delete t.tileCache,this._drawer=t.drawer,delete t.drawer,this._imageLoader=t.imageLoader,delete t.imageLoader,t.clip instanceof e.Rect&&(this._clip=t.clip.clone()),delete t.clip;var r=t.x||0;delete t.x;var n=t.y||0;delete t.y,this.normHeight=t.source.dimensions.y/t.source.dimensions.x,this.contentAspectX=t.source.dimensions.x/t.source.dimensions.y;var i=1;t.width?(i=t.width,delete t.width,t.height&&(e.console.error("specifying both width and height to a tiledImage is not supported"),delete t.height)):t.height&&(i=t.height/this.normHeight,delete t.height);var l=t.fitBounds;delete t.fitBounds;var a=t.fitBoundsPlacement||o.Placement.CENTER;delete t.fitBoundsPlacement;var s=t.degrees||0;delete t.degrees;var c=t.ajaxHeaders;delete t.ajaxHeaders,e.extend(!0,this,{viewer:null,tilesMatrix:{},coverage:{},loadingCoverage:{},lastDrawn:[],lastResetTime:0,_needsDraw:!0,_needsUpdate:!0,_hasOpaqueTile:!1,_tilesLoading:0,_tilesToDraw:[],_lastDrawn:[],_isBlending:!1,_wasBlending:!1,_isTainted:!1,springStiffness:e.DEFAULT_SETTINGS.springStiffness,animationTime:e.DEFAULT_SETTINGS.animationTime,minZoomImageRatio:e.DEFAULT_SETTINGS.minZoomImageRatio,wrapHorizontal:e.DEFAULT_SETTINGS.wrapHorizontal,wrapVertical:e.DEFAULT_SETTINGS.wrapVertical,immediateRender:e.DEFAULT_SETTINGS.immediateRender,blendTime:e.DEFAULT_SETTINGS.blendTime,alwaysBlend:e.DEFAULT_SETTINGS.alwaysBlend,minPixelRatio:e.DEFAULT_SETTINGS.minPixelRatio,smoothTileEdgesMinZoom:e.DEFAULT_SETTINGS.smoothTileEdgesMinZoom,iOSDevice:e.DEFAULT_SETTINGS.iOSDevice,debugMode:e.DEFAULT_SETTINGS.debugMode,crossOriginPolicy:e.DEFAULT_SETTINGS.crossOriginPolicy,ajaxWithCredentials:e.DEFAULT_SETTINGS.ajaxWithCredentials,placeholderFillStyle:e.DEFAULT_SETTINGS.placeholderFillStyle,opacity:e.DEFAULT_SETTINGS.opacity,preload:e.DEFAULT_SETTINGS.preload,compositeOperation:e.DEFAULT_SETTINGS.compositeOperation,subPixelRoundingForTransparency:e.DEFAULT_SETTINGS.subPixelRoundingForTransparency,maxTilesPerFrame:e.DEFAULT_SETTINGS.maxTilesPerFrame},t),this._preload=this.preload,delete this.preload,this._fullyLoaded=!1,this._xSpring=new e.Spring({initial:r,springStiffness:this.springStiffness,animationTime:this.animationTime}),this._ySpring=new e.Spring({initial:n,springStiffness:this.springStiffness,animationTime:this.animationTime}),this._scaleSpring=new e.Spring({initial:i,springStiffness:this.springStiffness,animationTime:this.animationTime}),this._degreesSpring=new e.Spring({initial:s,springStiffness:this.springStiffness,animationTime:this.animationTime}),this._updateForScale(),l&&this.fitBounds(l,a,!0),this._ownAjaxHeaders={},this.setAjaxHeaders(c,!1),this._initialized=!0},e.extend(e.TiledImage.prototype,e.EventSource.prototype,{needsDraw:function(){return this._needsDraw},redraw:function(){this._needsDraw=!0},getFullyLoaded:function(){return this._fullyLoaded},_setFullyLoaded:function(e){e!==this._fullyLoaded&&(this._fullyLoaded=e,this.raiseEvent("fully-loaded-change",{fullyLoaded:this._fullyLoaded}))},reset:function(){this._tileCache.clearTilesFor(this),this.lastResetTime=e.now(),this._needsDraw=!0},update:function(e){let t=this._xSpring.update(),r=this._ySpring.update(),n=this._scaleSpring.update(),i=this._degreesSpring.update(),l=t||r||n||i||this._needsUpdate;if(l||e||!this._fullyLoaded){let e=this._updateLevelsForViewport();this._setFullyLoaded(e)}return this._needsUpdate=!1,!!l&&(this._updateForScale(),this._raiseBoundsChange(),this._needsDraw=!0,!0)},setDrawn:function(){return this._needsDraw=this._isBlending||this._wasBlending,this._needsDraw},setTainted(e){this._isTainted=e},isTainted(){return this._isTainted},destroy:function(){this.reset(),this.source.destroy&&this.source.destroy(this.viewer)},getBounds:function(e){return this.getBoundsNoRotate(e).rotate(this.getRotation(e),this._getRotationPoint(e))},getBoundsNoRotate:function(t){return t?new e.Rect(this._xSpring.current.value,this._ySpring.current.value,this._worldWidthCurrent,this._worldHeightCurrent):new e.Rect(this._xSpring.target.value,this._ySpring.target.value,this._worldWidthTarget,this._worldHeightTarget)},getWorldBounds:function(){return e.console.error("[TiledImage.getWorldBounds] is deprecated; use TiledImage.getBounds instead"),this.getBounds()},getClippedBounds:function(t){var r=this.getBoundsNoRotate(t);if(this._clip){var n=t?this._worldWidthCurrent:this._worldWidthTarget,i=n/this.source.dimensions.x,l=this._clip.times(i);r=new e.Rect(r.x+l.x,r.y+l.y,l.width,l.height)}return r.rotate(this.getRotation(t),this._getRotationPoint(t))},getTileBounds:function(e,t,r){var n=this.source.getNumTiles(e),i=(n.x+t%n.x)%n.x,l=(n.y+r%n.y)%n.y,o=this.source.getTileBounds(e,i,l);return this.getFlip()&&(o.x=Math.max(0,1-o.x-o.width)),o.x+=(t-i)/n.x,o.y+=this._worldHeightCurrent/this._worldWidthCurrent*((r-l)/n.y),o},getContentSize:function(){return new e.Point(this.source.dimensions.x,this.source.dimensions.y)},getSizeInWindowCoordinates:function(){var t=this.imageToWindowCoordinates(new e.Point(0,0)),r=this.imageToWindowCoordinates(this.getContentSize());return new e.Point(r.x-t.x,r.y-t.y)},_viewportToImageDelta:function(t,r,n){var i=n?this._scaleSpring.current.value:this._scaleSpring.target.value;return new e.Point(t*(this.source.dimensions.x/i),r*(this.source.dimensions.y*this.contentAspectX/i))},viewportToImageCoordinates:function(t,r,n){var i;return t instanceof e.Point?(n=r,i=t):i=new e.Point(t,r),i=i.rotate(-this.getRotation(n),this._getRotationPoint(n)),n?this._viewportToImageDelta(i.x-this._xSpring.current.value,i.y-this._ySpring.current.value):this._viewportToImageDelta(i.x-this._xSpring.target.value,i.y-this._ySpring.target.value)},_imageToViewportDelta:function(t,r,n){var i=n?this._scaleSpring.current.value:this._scaleSpring.target.value;return new e.Point(t/this.source.dimensions.x*i,r/this.source.dimensions.y/this.contentAspectX*i)},imageToViewportCoordinates:function(t,r,n){t instanceof e.Point&&(n=r,r=t.y,t=t.x);var i=this._imageToViewportDelta(t,r,n);return n?(i.x+=this._xSpring.current.value,i.y+=this._ySpring.current.value):(i.x+=this._xSpring.target.value,i.y+=this._ySpring.target.value),i.rotate(this.getRotation(n),this._getRotationPoint(n))},imageToViewportRectangle:function(t,r,n,i,l){var o=t;o instanceof e.Rect?l=r:o=new e.Rect(t,r,n,i);var a=this.imageToViewportCoordinates(o.getTopLeft(),l),s=this._imageToViewportDelta(o.width,o.height,l);return new e.Rect(a.x,a.y,s.x,s.y,o.degrees+this.getRotation(l))},viewportToImageRectangle:function(t,r,n,i,l){var o=t;t instanceof e.Rect?l=r:o=new e.Rect(t,r,n,i);var a=this.viewportToImageCoordinates(o.getTopLeft(),l),s=this._viewportToImageDelta(o.width,o.height,l);return new e.Rect(a.x,a.y,s.x,s.y,o.degrees-this.getRotation(l))},viewerElementToImageCoordinates:function(e){var t=this.viewport.pointFromPixel(e,!0);return this.viewportToImageCoordinates(t)},imageToViewerElementCoordinates:function(e){var t=this.imageToViewportCoordinates(e);return this.viewport.pixelFromPoint(t,!0)},windowToImageCoordinates:function(e){var t=e.minus(o.getElementPosition(this.viewer.element));return this.viewerElementToImageCoordinates(t)},imageToWindowCoordinates:function(e){var t=this.imageToViewerElementCoordinates(e);return t.plus(o.getElementPosition(this.viewer.element))},_viewportToTiledImageRectangle:function(t){var r=this._scaleSpring.current.value;return t=t.rotate(-this.getRotation(!0),this._getRotationPoint(!0)),new e.Rect((t.x-this._xSpring.current.value)/r,(t.y-this._ySpring.current.value)/r,t.width/r,t.height/r,t.degrees)},viewportToImageZoom:function(e){var t=this._scaleSpring.current.value*this.viewport._containerInnerSize.x/this.source.dimensions.x;return t*e},imageToViewportZoom:function(e){var t=this._scaleSpring.current.value*this.viewport._containerInnerSize.x/this.source.dimensions.x;return e/t},setPosition:function(e,t){var r=this._xSpring.target.value===e.x&&this._ySpring.target.value===e.y;if(t){if(r&&this._xSpring.current.value===e.x&&this._ySpring.current.value===e.y)return;this._xSpring.resetTo(e.x),this._ySpring.resetTo(e.y),this._needsDraw=!0,this._needsUpdate=!0}else{if(r)return;this._xSpring.springTo(e.x),this._ySpring.springTo(e.y),this._needsDraw=!0,this._needsUpdate=!0}r||this._raiseBoundsChange()},setWidth:function(e,t){this._setScale(e,t)},setHeight:function(e,t){this._setScale(e/this.normHeight,t)},setCroppingPolygons:function(t){var r=function(t){return t instanceof e.Point||"number"===typeof t.x&&"number"===typeof t.y},n=function(e){return e.map((function(e){try{if(r(e))return{x:e.x,y:e.y};throw new Error}catch(t){throw new Error("A Provided cropping polygon point is not supported")}}))};try{if(!e.isArray(t))throw new Error("Provided cropping polygon is not an array");this._croppingPolygons=t.map((function(e){return n(e)})),this._needsDraw=!0}catch(i){e.console.error("[TiledImage.setCroppingPolygons] Cropping polygon format not supported"),e.console.error(i),this.resetCroppingPolygons()}},resetCroppingPolygons:function(){this._croppingPolygons=null,this._needsDraw=!0},fitBounds:function(t,r,n){r=r||e.Placement.CENTER;var i=e.Placement.properties[r],l=this.contentAspectX,o=0,a=0,s=1,c=1;if(this._clip&&(l=this._clip.getAspectRatio(),s=this._clip.width/this.source.dimensions.x,c=this._clip.height/this.source.dimensions.y,t.getAspectRatio()>l?(o=this._clip.x/this._clip.height*t.height,a=this._clip.y/this._clip.height*t.height):(o=this._clip.x/this._clip.width*t.width,a=this._clip.y/this._clip.width*t.width)),t.getAspectRatio()>l){var u=t.height/c,p=0;i.isHorizontallyCentered?p=(t.width-t.height*l)/2:i.isRight&&(p=t.width-t.height*l),this.setPosition(new e.Point(t.x-o+p,t.y-a),n),this.setHeight(u,n)}else{var h=t.width/s,d=0;i.isVerticallyCentered?d=(t.height-t.width/l)/2:i.isBottom&&(d=t.height-t.width/l),this.setPosition(new e.Point(t.x-o,t.y-a+d),n),this.setWidth(h,n)}},getClip:function(){return this._clip?this._clip.clone():null},setClip:function(t){e.console.assert(!t||t instanceof e.Rect,"[TiledImage.setClip] newClip must be an OpenSeadragon.Rect or null"),t instanceof e.Rect?this._clip=t.clone():this._clip=null,this._needsUpdate=!0,this._needsDraw=!0,this.raiseEvent("clip-change")},getFlip:function(){return this.flipped},setFlip:function(e){this.flipped=e},get flipped(){return this._flipped},set flipped(e){let t=this._flipped!==!!e;this._flipped=!!e,t&&(this.update(!0),this._needsDraw=!0,this._raiseBoundsChange())},get wrapHorizontal(){return this._wrapHorizontal},set wrapHorizontal(e){let t=this._wrapHorizontal!==!!e;this._wrapHorizontal=!!e,this._initialized&&t&&(this.update(!0),this._needsDraw=!0)},get wrapVertical(){return this._wrapVertical},set wrapVertical(e){let t=this._wrapVertical!==!!e;this._wrapVertical=!!e,this._initialized&&t&&(this.update(!0),this._needsDraw=!0)},get debugMode(){return this._debugMode},set debugMode(e){this._debugMode=!!e,this._needsDraw=!0},getOpacity:function(){return this.opacity},setOpacity:function(e){this.opacity=e},get opacity(){return this._opacity},set opacity(e){e!==this.opacity&&(this._opacity=e,this._needsDraw=!0,this.raiseEvent("opacity-change",{opacity:this.opacity}))},getPreload:function(){return this._preload},setPreload:function(e){this._preload=!!e,this._needsDraw=!0},getRotation:function(e){return e?this._degreesSpring.current.value:this._degreesSpring.target.value},setRotation:function(e,t){this._degreesSpring.target.value===e&&this._degreesSpring.isAtTargetValue()||(t?this._degreesSpring.resetTo(e):this._degreesSpring.springTo(e),this._needsDraw=!0,this._needsUpdate=!0,this._raiseBoundsChange())},getDrawArea:function(){if(0===this._opacity&&!this._preload)return!1;var e=this._viewportToTiledImageRectangle(this.viewport.getBoundsWithMargins(!0));if(!this.wrapHorizontal&&!this.wrapVertical){var t=this._viewportToTiledImageRectangle(this.getClippedBounds(!0));e=e.intersection(t)}return e},getTilesToDraw:function(){let e=this._tilesToDraw.flat();return this._updateTilesInViewport(e),e=this._tilesToDraw.flat(),e.forEach((e=>{e.tile.beingDrawn=!0})),this._lastDrawn=e,e},_getRotationPoint:function(e){return this.getBoundsNoRotate(e).getCenter()},get compositeOperation(){return this._compositeOperation},set compositeOperation(e){e!==this._compositeOperation&&(this._compositeOperation=e,this._needsDraw=!0,this.raiseEvent("composite-operation-change",{compositeOperation:this._compositeOperation}))},getCompositeOperation:function(){return this._compositeOperation},setCompositeOperation:function(e){this.compositeOperation=e},setAjaxHeaders:function(t,r){null===t&&(t={}),e.isPlainObject(t)?(this._ownAjaxHeaders=t,this._updateAjaxHeaders(r)):console.error("[TiledImage.setAjaxHeaders] Ignoring invalid headers, must be a plain object")},_updateAjaxHeaders:function(t){if(void 0===t&&(t=!0),e.isPlainObject(this.viewer.ajaxHeaders)?this.ajaxHeaders=e.extend({},this.viewer.ajaxHeaders,this._ownAjaxHeaders):this.ajaxHeaders=this._ownAjaxHeaders,t){var r,n,i,l;for(var o in this.tilesMatrix)for(var a in r=this.source.getNumTiles(o),this.tilesMatrix[o])for(var s in n=(r.x+a%r.x)%r.x,this.tilesMatrix[o][a])if(i=(r.y+s%r.y)%r.y,l=this.tilesMatrix[o][a][s],l.loadWithAjax=this.loadTilesWithAjax,l.loadWithAjax){var c=this.source.getTileAjaxHeaders(o,n,i);l.ajaxHeaders=e.extend({},this.ajaxHeaders,c)}else l.ajaxHeaders=null;for(var u=0;u<this._imageLoader.jobQueue.length;u++){var p=this._imageLoader.jobQueue[u];p.loadWithAjax=p.tile.loadWithAjax,p.ajaxHeaders=p.tile.loadWithAjax?p.tile.ajaxHeaders:null}}},_setScale:function(e,t){var r=this._scaleSpring.target.value===e;if(t){if(r&&this._scaleSpring.current.value===e)return;this._scaleSpring.resetTo(e),this._updateForScale(),this._needsDraw=!0,this._needsUpdate=!0}else{if(r)return;this._scaleSpring.springTo(e),this._updateForScale(),this._needsDraw=!0,this._needsUpdate=!0}r||this._raiseBoundsChange()},_updateForScale:function(){this._worldWidthTarget=this._scaleSpring.target.value,this._worldHeightTarget=this.normHeight*this._scaleSpring.target.value,this._worldWidthCurrent=this._scaleSpring.current.value,this._worldHeightCurrent=this.normHeight*this._scaleSpring.current.value},_raiseBoundsChange:function(){this.raiseEvent("bounds-change")},_isBottomItem:function(){return this.viewer.world.getItemAt(0)===this},_getLevelsInterval:function(){var e=Math.max(this.source.minLevel,Math.floor(Math.log(this.minZoomImageRatio)/Math.log(2))),t=this.viewport.deltaPixelsFromPointsNoRotate(this.source.getPixelRatio(0),!0).x*this._scaleSpring.current.value,r=Math.min(Math.abs(this.source.maxLevel),Math.abs(Math.floor(Math.log(t/this.minPixelRatio)/Math.log(2))));return r=Math.max(r,this.source.minLevel||0),e=Math.min(e,r),{lowestLevel:e,highestLevel:r}},_updateLevelsForViewport:function(){var t=this._getLevelsInterval(),r=t.lowestLevel,n=t.highestLevel,i=[],l=this.getDrawArea(),o=e.now();if(this._lastDrawn.forEach((e=>{e.tile.beingDrawn=!1})),this._tilesToDraw=[],this._tilesLoading=0,this.loadingCoverage={},!l)return this._needsDraw=!1,this._fullyLoaded;var a=new Array(n-r+1);for(let e=0,y=n;y>=r;y--,e++)a[e]=y;for(let e=n+1;e<=this.source.maxLevel;e++){var s=this.tilesMatrix[e]&&this.tilesMatrix[e][0]&&this.tilesMatrix[e][0][0];if(s&&s.isBottomMost&&s.isRightMost&&s.loaded){a.push(e);break}}let c=!1;for(let e=0;e<a.length;e++){let t=a[e];var u=this.viewport.deltaPixelsFromPointsNoRotate(this.source.getPixelRatio(t),!0).x*this._scaleSpring.current.value;if(e===a.length-1||u>=this.minPixelRatio)c=!0;else if(!c)continue;var p=this.viewport.deltaPixelsFromPointsNoRotate(this.source.getPixelRatio(t),!1).x*this._scaleSpring.current.value,h=this.viewport.deltaPixelsFromPointsNoRotate(this.source.getPixelRatio(Math.max(this.source.getClosestLevel(),0)),!1).x*this._scaleSpring.current.value,d=this.immediateRender?1:h,f=Math.min(1,(u-.5)/.5),g=d/Math.abs(d-p),v=this._updateLevel(t,f,g,l,o,i);i=v.bestTiles;var m=v.updatedTiles.filter((e=>e.loaded)),A=function(e,t,r){return function(n){return{tile:n,level:e,levelOpacity:t,currentTime:r}}}(t,f,o);if(this._tilesToDraw[t]=m.map(A),this._providesCoverage(this.coverage,t))break}return i&&i.length>0?(i.forEach((function(e){e&&!e.context2D&&this._loadTile(e,o)}),this),this._needsDraw=!0,!1):0===this._tilesLoading},_updateTilesInViewport:function(t){let r=e.now(),n=this;this._tilesLoading=0,this._wasBlending=this._isBlending,this._isBlending=!1,this.loadingCoverage={};let i=t.length?t[0].level:0,l=this.getDrawArea();if(!l)return;function o(e){let t=e.tile;if(t&&t.loaded){let l=n._blendTile(t,t.x,t.y,e.level,e.levelOpacity,r,i);n._isBlending=n._isBlending||l,n._needsDraw=n._needsDraw||l||n._wasBlending}}let a=0;for(let e=0;e<t.length;e++){let r=t[e];o(r),this._providesCoverage(this.coverage,r.level)&&(a=Math.max(a,r.level))}if(a>0)for(let e in this._tilesToDraw)e<a&&delete this._tilesToDraw[e]},_blendTile:function(e,t,r,n,i,l,o){let a,s,c=1e3*this.blendTime;return e.blendStart||(e.blendStart=l),a=l-e.blendStart,s=c?Math.min(1,a/c):1,n===o&&(s=1,a=c),this.alwaysBlend&&(s*=i),e.opacity=s,1===s&&(this._setCoverage(this.coverage,n,t,r,!0),this._hasOpaqueTile=!0),a<c},_updateLevel:function(e,t,r,n,i,l){var o=n.getBoundingBox().getTopLeft(),a=n.getBoundingBox().getBottomRight();this.viewer&&this.viewer.raiseEvent("update-level",{tiledImage:this,havedrawn:!0,level:e,opacity:t,visibility:r,drawArea:n,topleft:o,bottomright:a,currenttime:i,best:l}),this._resetCoverage(this.coverage,e),this._resetCoverage(this.loadingCoverage,e);var s=this._getCornerTiles(e,o,a),c=s.topLeft,u=s.bottomRight,p=this.source.getNumTiles(e),h=this.viewport.pixelFromPoint(this.viewport.getCenter());this.getFlip()&&(u.x+=1,this.wrapHorizontal||(u.x=Math.min(u.x,p.x-1)));for(var d=Math.max(0,(u.x-c.x)*(u.y-c.y)),f=new Array(d),g=0,v=c.x;v<=u.x;v++)for(var m=c.y;m<=u.y;m++){var A;if(this.getFlip()){var y=(p.x+v%p.x)%p.x;A=v+p.x-y-y-1}else A=v;if(null!==n.intersection(this.getTileBounds(e,A,m))){var w=this._updateTile(A,m,e,r,h,p,i,l);l=w.bestTiles,f[g]=w.tile,g+=1}}return{bestTiles:l,updatedTiles:f}},_positionTile:function(t,r,n,i,l){var o=t.bounds.getTopLeft();o.x*=this._scaleSpring.current.value,o.y*=this._scaleSpring.current.value,o.x+=this._xSpring.current.value,o.y+=this._ySpring.current.value;var a=t.bounds.getSize();a.x*=this._scaleSpring.current.value,a.y*=this._scaleSpring.current.value,t.positionedBounds.x=o.x,t.positionedBounds.y=o.y,t.positionedBounds.width=a.x,t.positionedBounds.height=a.y;var s=n.pixelFromPointNoRotate(o,!0),c=n.pixelFromPointNoRotate(o,!1),u=n.deltaPixelsFromPointsNoRotate(a,!0),p=n.deltaPixelsFromPointsNoRotate(a,!1),h=c.plus(p.divide(2)),d=i.squaredDistanceTo(h);this.viewer.drawer.minimumOverlapRequired(this)&&(r||(u=u.plus(new e.Point(1,1))),t.isRightMost&&this.wrapHorizontal&&(u.x+=.75),t.isBottomMost&&this.wrapVertical&&(u.y+=.75)),t.position=s,t.size=u,t.squaredDistance=d,t.visibility=l},_updateTile:function(e,t,r,n,i,l,o,a){var s=this._getTile(e,t,r,o,l);this.viewer&&this.viewer.raiseEvent("update-tile",{tiledImage:this,tile:s}),this._setCoverage(this.coverage,r,e,t,!1);var c=s.loaded||s.loading||this._isCovered(this.loadingCoverage,r,e,t);if(this._setCoverage(this.loadingCoverage,r,e,t,c),!s.exists)return{bestTiles:a,tile:s};if(s.loaded&&1===s.opacity&&this._setCoverage(this.coverage,r,e,t,!0),this._positionTile(s,this.source.tileOverlap,this.viewport,i,n),!s.loaded)if(s.context2D)this._setTileLoaded(s);else{var u=this._tileCache.getImageRecord(s.cacheKey);u&&this._setTileLoaded(s,u.getData())}return s.loading?this._tilesLoading++:c||(a=this._compareTiles(a,s,this.maxTilesPerFrame)),{bestTiles:a,tile:s}},_getCornerTiles:function(t,r,n){var i,l,o,a;this.wrapHorizontal?(i=e.positiveModulo(r.x,1),l=e.positiveModulo(n.x,1)):(i=Math.max(0,r.x),l=Math.min(1,n.x));var s=1/this.source.aspectRatio;this.wrapVertical?(o=e.positiveModulo(r.y,s),a=e.positiveModulo(n.y,s)):(o=Math.max(0,r.y),a=Math.min(s,n.y));var c=this.source.getTileAtPoint(t,new e.Point(i,o)),u=this.source.getTileAtPoint(t,new e.Point(l,a)),p=this.source.getNumTiles(t);return this.wrapHorizontal&&(c.x+=p.x*Math.floor(r.x),u.x+=p.x*Math.floor(n.x)),this.wrapVertical&&(c.y+=p.y*Math.floor(r.y/s),u.y+=p.y*Math.floor(n.y/s)),{topLeft:c,bottomRight:u}},_getTile:function(t,r,n,i,l){var o,a,s,c,u,p,h,d,f,g,v=this.tilesMatrix,m=this.source;return v[n]||(v[n]={}),v[n][t]||(v[n][t]={}),v[n][t][r]&&!v[n][t][r].flipped===!this.flipped||(o=(l.x+t%l.x)%l.x,a=(l.y+r%l.y)%l.y,s=this.getTileBounds(n,t,r),c=m.getTileBounds(n,o,a,!0),u=m.tileExists(n,o,a),p=m.getTileUrl(n,o,a),h=m.getTilePostData(n,o,a),this.loadTilesWithAjax?(d=m.getTileAjaxHeaders(n,o,a),e.isPlainObject(this.ajaxHeaders)&&(d=e.extend({},this.ajaxHeaders,d))):d=null,f=m.getContext2D?m.getContext2D(n,o,a):void 0,g=new e.Tile(n,t,r,s,u,p,f,this.loadTilesWithAjax,d,c,h,m.getTileHashKey(n,o,a,p,d,h)),this.getFlip()?0===o&&(g.isRightMost=!0):o===l.x-1&&(g.isRightMost=!0),a===l.y-1&&(g.isBottomMost=!0),g.flipped=this.flipped,v[n][t][r]=g),g=v[n][t][r],g.lastTouchTime=i,g},_loadTile:function(e,t){var r=this;e.loading=!0,this._imageLoader.addJob({src:e.getUrl(),tile:e,source:this.source,postData:e.postData,loadWithAjax:e.loadWithAjax,ajaxHeaders:e.ajaxHeaders,crossOriginPolicy:this.crossOriginPolicy,ajaxWithCredentials:this.ajaxWithCredentials,callback:function(n,i,l){r._onTileLoad(e,t,n,i,l)},abort:function(){e.loading=!1}})},_onTileLoad:function(t,r,n,i,l){if(!n)return e.console.error("Tile %s failed to load: %s - error: %s",t,t.getUrl(),i),this.viewer.raiseEvent("tile-load-failed",{tile:t,tiledImage:this,time:r,message:i,tileRequest:l}),t.loading=!1,void(t.exists=!1);if(t.exists=!0,r<this.lastResetTime)return e.console.warn("Ignoring tile %s loaded before reset: %s",t,t.getUrl()),void(t.loading=!1);var o=this,a=function(){var e=o.source,r=e.getClosestLevel();o._setTileLoaded(t,n,r,l)};a()},_setTileLoaded:function(t,r,n,i){var l=0,o=!1,a=this;function s(){return o&&e.console.error("Event 'tile-loaded' argument getCompletionCallback must be called synchronously. Its return value should be called asynchronously."),l++,c}function c(){l--,0===l&&(t.loading=!1,t.loaded=!0,t.hasTransparency=a.source.hasTransparency(t.context2D,t.getUrl(),t.ajaxHeaders,t.postData),t.context2D||a._tileCache.cacheTile({data:r,tile:t,cutoff:n,tiledImage:a}),a.viewer.raiseEvent("tile-ready",{tile:t,tiledImage:a,tileRequest:i}),a._needsDraw=!0)}var u=s();this.viewer.raiseEvent("tile-loaded",{tile:t,tiledImage:this,tileRequest:i,get image(){return e.console.error("[tile-loaded] event 'image' has been deprecated. Use 'data' property instead."),r},data:r,getCompletionCallback:s}),o=!0,u()},_compareTiles:function(e,t,r){return e?(e.push(t),this._sortTiles(e),e.length>r&&e.pop(),e):[t]},_sortTiles:function(e){e.sort((function(e,t){return null===e?1:null===t?-1:e.visibility===t.visibility?e.squaredDistance-t.squaredDistance:t.visibility-e.visibility}))},_providesCoverage:function(e,t,r,n){var i,l,o,a;if(!e[t])return!1;if(void 0===r||void 0===n){for(o in i=e[t],i)if(Object.prototype.hasOwnProperty.call(i,o))for(a in l=i[o],l)if(Object.prototype.hasOwnProperty.call(l,a)&&!l[a])return!1;return!0}return void 0===e[t][r]||void 0===e[t][r][n]||!0===e[t][r][n]},_isCovered:function(e,t,r,n){return void 0===r||void 0===n?this._providesCoverage(e,t+1):this._providesCoverage(e,t+1,2*r,2*n)&&this._providesCoverage(e,t+1,2*r,2*n+1)&&this._providesCoverage(e,t+1,2*r+1,2*n)&&this._providesCoverage(e,t+1,2*r+1,2*n+1)},_setCoverage:function(t,r,n,i,l){t[r]?(t[r][n]||(t[r][n]={}),t[r][n][i]=l):e.console.warn("Setting coverage for a tile before its level's coverage has been reset: %s",r)},_resetCoverage:function(e,t){e[t]={}}})}(o),function(e){var t=function(t){e.console.assert(t,"[TileCache.cacheTile] options is required"),e.console.assert(t.tile,"[TileCache.cacheTile] options.tile is required"),e.console.assert(t.tiledImage,"[TileCache.cacheTile] options.tiledImage is required"),this.tile=t.tile,this.tiledImage=t.tiledImage},r=function(t){e.console.assert(t,"[ImageRecord] options is required"),e.console.assert(t.data,"[ImageRecord] options.data is required"),this._tiles=[],t.create.apply(null,[this,t.data,t.ownerTile]),this._destroyImplementation=t.destroy.bind(null,this),this.getImage=t.getImage.bind(null,this),this.getData=t.getData.bind(null,this),this.getRenderedContext=t.getRenderedContext.bind(null,this)};r.prototype={destroy:function(){this._destroyImplementation(),this._tiles=null},addTile:function(t){e.console.assert(t,"[ImageRecord.addTile] tile is required"),this._tiles.push(t)},removeTile:function(t){for(var r=0;r<this._tiles.length;r++)if(this._tiles[r]===t)return void this._tiles.splice(r,1);e.console.warn("[ImageRecord.removeTile] trying to remove unknown tile",t)},getTileCount:function(){return this._tiles.length}},e.TileCache=function(t){t=t||{},this._maxImageCacheCount=t.maxImageCacheCount||e.DEFAULT_SETTINGS.maxImageCacheCount,this._tilesLoaded=[],this._imagesLoaded=[],this._imagesLoadedCount=0},e.TileCache.prototype={numTilesLoaded:function(){return this._tilesLoaded.length},cacheTile:function(n){e.console.assert(n,"[TileCache.cacheTile] options is required"),e.console.assert(n.tile,"[TileCache.cacheTile] options.tile is required"),e.console.assert(n.tile.cacheKey,"[TileCache.cacheTile] options.tile.cacheKey is required"),e.console.assert(n.tiledImage,"[TileCache.cacheTile] options.tiledImage is required");var i=n.cutoff||0,l=this._tilesLoaded.length,o=this._imagesLoaded[n.tile.cacheKey];if(o||(n.data||(e.console.error("[TileCache.cacheTile] options.image was renamed to options.data. '.image' attribute has been deprecated and will be removed in the future."),n.data=n.image),e.console.assert(n.data,"[TileCache.cacheTile] options.data is required to create an ImageRecord"),o=this._imagesLoaded[n.tile.cacheKey]=new r({data:n.data,ownerTile:n.tile,create:n.tiledImage.source.createTileCache,destroy:n.tiledImage.source.destroyTileCache,getImage:n.tiledImage.source.getTileCacheDataAsImage,getData:n.tiledImage.source.getTileCacheData,getRenderedContext:n.tiledImage.source.getTileCacheDataAsContext2D}),this._imagesLoadedCount++),o.addTile(n.tile),n.tile.cacheImageRecord=o,this._imagesLoadedCount>this._maxImageCacheCount){for(var a,s,c,u,p,h,d=null,f=-1,g=null,v=this._tilesLoaded.length-1;v>=0;v--)h=this._tilesLoaded[v],a=h.tile,a.level<=i||a.beingDrawn||(d?(u=a.lastTouchTime,s=d.lastTouchTime,p=a.level,c=d.level,(u<s||u===s&&p>c)&&(d=a,f=v,g=h)):(d=a,f=v,g=h));d&&f>=0&&(this._unloadTile(g),l=f)}this._tilesLoaded[l]=new t({tile:n.tile,tiledImage:n.tiledImage})},clearTilesFor:function(t){var r;e.console.assert(t,"[TileCache.clearTilesFor] tiledImage is required");for(var n=0;n<this._tilesLoaded.length;++n)r=this._tilesLoaded[n],r.tiledImage===t&&(this._unloadTile(r),this._tilesLoaded.splice(n,1),n--)},getImageRecord:function(t){return e.console.assert(t,"[TileCache.getImageRecord] cacheKey is required"),this._imagesLoaded[t]},_unloadTile:function(t){e.console.assert(t,"[TileCache._unloadTile] tileRecord is required");var r=t.tile,n=t.tiledImage;let i=r.getCanvasContext&&r.getCanvasContext();r.unload(),r.cacheImageRecord=null;var l=this._imagesLoaded[r.cacheKey];l&&(l.removeTile(r),l.getTileCount()||(l.destroy(),delete this._imagesLoaded[r.cacheKey],this._imagesLoadedCount--,i&&(i.canvas.width=0,i.canvas.height=0,n.viewer.raiseEvent("image-unloaded",{context2D:i,tile:r}))),n.viewer.raiseEvent("tile-unloaded",{tile:r,tiledImage:n}))}}}(o),function(e){e.World=function(t){var r=this;e.console.assert(t.viewer,"[World] options.viewer is required"),e.EventSource.call(this),this.viewer=t.viewer,this._items=[],this._needsDraw=!1,this._autoRefigureSizes=!0,this._needsSizesFigured=!1,this._delegatedFigureSizes=function(e){r._autoRefigureSizes?r._figureSizes():r._needsSizesFigured=!0},this._figureSizes()},e.extend(e.World.prototype,e.EventSource.prototype,{addItem:function(t,r){if(e.console.assert(t,"[World.addItem] item is required"),e.console.assert(t instanceof e.TiledImage,"[World.addItem] only TiledImages supported at this time"),r=r||{},void 0!==r.index){var n=Math.max(0,Math.min(this._items.length,r.index));this._items.splice(n,0,t)}else this._items.push(t);this._autoRefigureSizes?this._figureSizes():this._needsSizesFigured=!0,this._needsDraw=!0,t.addHandler("bounds-change",this._delegatedFigureSizes),t.addHandler("clip-change",this._delegatedFigureSizes),this.raiseEvent("add-item",{item:t})},getItemAt:function(t){return e.console.assert(void 0!==t,"[World.getItemAt] index is required"),this._items[t]},getIndexOfItem:function(t){return e.console.assert(t,"[World.getIndexOfItem] item is required"),e.indexOf(this._items,t)},getItemCount:function(){return this._items.length},setItemIndex:function(t,r){e.console.assert(t,"[World.setItemIndex] item is required"),e.console.assert(void 0!==r,"[World.setItemIndex] index is required");var n=this.getIndexOfItem(t);if(r>=this._items.length)throw new Error("Index bigger than number of layers.");r!==n&&-1!==n&&(this._items.splice(n,1),this._items.splice(r,0,t),this._needsDraw=!0,this.raiseEvent("item-index-change",{item:t,previousIndex:n,newIndex:r}))},removeItem:function(t){e.console.assert(t,"[World.removeItem] item is required");var r=e.indexOf(this._items,t);-1!==r&&(t.removeHandler("bounds-change",this._delegatedFigureSizes),t.removeHandler("clip-change",this._delegatedFigureSizes),t.destroy(),this._items.splice(r,1),this._figureSizes(),this._needsDraw=!0,this._raiseRemoveItem(t))},removeAll:function(){var e,t;for(this.viewer._cancelPendingImages(),t=0;t<this._items.length;t++)e=this._items[t],e.removeHandler("bounds-change",this._delegatedFigureSizes),e.removeHandler("clip-change",this._delegatedFigureSizes),e.destroy();var r=this._items;for(this._items=[],this._figureSizes(),this._needsDraw=!0,t=0;t<r.length;t++)e=r[t],this._raiseRemoveItem(e)},resetItems:function(){for(var e=0;e<this._items.length;e++)this._items[e].reset()},update:function(e){for(var t=!1,r=0;r<this._items.length;r++)t=this._items[r].update(e)||t;return t},draw:function(){this.viewer.drawer.draw(this._items),this._needsDraw=!1,this._items.forEach((e=>{this._needsDraw=e.setDrawn()||this._needsDraw}))},needsDraw:function(){for(var e=0;e<this._items.length;e++)if(this._items[e].needsDraw())return!0;return this._needsDraw},getHomeBounds:function(){return this._homeBounds.clone()},getContentFactor:function(){return this._contentFactor},setAutoRefigureSizes:function(e){this._autoRefigureSizes=e,e&this._needsSizesFigured&&(this._figureSizes(),this._needsSizesFigured=!1)},arrange:function(t){t=t||{};var r,n=t.immediately||!1,i=t.layout||e.DEFAULT_SETTINGS.collectionLayout,l=t.rows||e.DEFAULT_SETTINGS.collectionRows,o=t.columns||e.DEFAULT_SETTINGS.collectionColumns,a=t.tileSize||e.DEFAULT_SETTINGS.collectionTileSize,s=t.tileMargin||e.DEFAULT_SETTINGS.collectionTileMargin,c=a+s;r=!t.rows&&o?o:Math.ceil(this._items.length/l);var u,p,h,d,f,g=0,v=0;this.setAutoRefigureSizes(!1);for(var m=0;m<this._items.length;m++)m&&m%r===0&&("horizontal"===i?(v+=c,g=0):(g+=c,v=0)),u=this._items[m],p=u.getBounds(),h=p.width>p.height?a:a*(p.width/p.height),d=h*(p.height/p.width),f=new e.Point(g+(a-h)/2,v+(a-d)/2),u.setPosition(f,n),u.setWidth(h,n),"horizontal"===i?g+=c:v+=c;this.setAutoRefigureSizes(!0)},_figureSizes:function(){var t=this._homeBounds?this._homeBounds.clone():null,r=this._contentSize?this._contentSize.clone():null,n=this._contentFactor||0;if(this._items.length){var i=this._items[0],l=i.getBounds();this._contentFactor=i.getContentSize().x/l.width;for(var o=i.getClippedBounds().getBoundingBox(),a=o.x,s=o.y,c=o.x+o.width,u=o.y+o.height,p=1;p<this._items.length;p++)i=this._items[p],l=i.getBounds(),this._contentFactor=Math.max(this._contentFactor,i.getContentSize().x/l.width),o=i.getClippedBounds().getBoundingBox(),a=Math.min(a,o.x),s=Math.min(s,o.y),c=Math.max(c,o.x+o.width),u=Math.max(u,o.y+o.height);this._homeBounds=new e.Rect(a,s,c-a,u-s),this._contentSize=new e.Point(this._homeBounds.width*this._contentFactor,this._homeBounds.height*this._contentFactor)}else this._homeBounds=new e.Rect(0,0,1,1),this._contentSize=new e.Point(1,1),this._contentFactor=1;this._contentFactor===n&&this._homeBounds.equals(t)&&this._contentSize.equals(r)||this.raiseEvent("metrics-change",{})},_raiseRemoveItem:function(e){this.raiseEvent("remove-item",{item:e})}})}(o)},7936:function(e,t,r){"use strict";var n=r(6518),i=r(5636);i&&n({target:"ArrayBuffer",proto:!0},{transferToFixedLength:function(){return i(this,arguments.length?arguments[0]:void 0,!1)}})},7979:function(e,t,r){"use strict";var n=r(8551);e.exports=function(){var e=n(this),t="";return e.hasIndices&&(t+="d"),e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.unicodeSets&&(t+="v"),e.sticky&&(t+="y"),t}},8004:function(e,t,r){"use strict";var n=r(6518),i=r(9039),l=r(8750),o=r(4916),a=!o("intersection",(function(e){return 2===e.size&&e.has(1)&&e.has(2)}))||i((function(){return"3,2"!==String(Array.from(new Set([1,2,3]).intersection(new Set([3,2]))))}));n({target:"Set",proto:!0,real:!0,forced:a},{intersection:l})},8014:function(e,t,r){"use strict";var n=r(1291),i=Math.min;e.exports=function(e){var t=n(e);return t>0?i(t,9007199254740991):0}},8100:function(e,t,r){"use strict";var n=r(6518),i=r(5636);i&&n({target:"ArrayBuffer",proto:!0},{transfer:function(){return i(this,arguments.length?arguments[0]:void 0,!0)}})},8111:function(e,t,r){"use strict";var n=r(6518),i=r(4576),l=r(679),o=r(8551),a=r(4901),s=r(2787),c=r(2106),u=r(4659),p=r(9039),h=r(9297),d=r(8227),f=r(7657).IteratorPrototype,g=r(3724),v=r(6395),m="constructor",A="Iterator",y=d("toStringTag"),w=TypeError,_=i[A],x=v||!a(_)||_.prototype!==f||!p((function(){_({})})),T=function(){if(l(this,f),s(this)===f)throw new w("Abstract class Iterator not directly constructable")},b=function(e,t){g?c(f,e,{configurable:!0,get:function(){return t},set:function(t){if(o(this),this===f)throw new w("You can't redefine this property");h(this,e)?this[e]=t:u(this,e,t)}}):f[e]=t};h(f,y)||b(y,A),!x&&h(f,m)&&f[m]!==Object||b(m,T),T.prototype=f,n({global:!0,constructor:!0,forced:x},{Iterator:T})},8227:function(e,t,r){"use strict";var n=r(4576),i=r(5745),l=r(9297),o=r(3392),a=r(4495),s=r(7040),c=n.Symbol,u=i("wks"),p=s?c["for"]||c:c&&c.withoutSetter||o;e.exports=function(e){return l(u,e)||(u[e]=a&&l(c,e)?c[e]:p("Symbol."+e)),u[e]}},8237:function(e,t,r){"use strict";var n=r(6518),i=r(2652),l=r(9306),o=r(8551),a=r(1767),s=TypeError;n({target:"Iterator",proto:!0,real:!0},{reduce:function(e){o(this),l(e);var t=a(this),r=arguments.length<2,n=r?void 0:arguments[1],c=0;if(i(t,(function(t){r?(r=!1,n=t):n=e(n,t,c),c++}),{IS_RECORD:!0}),r)throw new s("Reduce of empty iterator with no initial value");return n}})},8469:function(e,t,r){"use strict";var n=r(9504),i=r(507),l=r(4402),o=l.Set,a=l.proto,s=n(a.forEach),c=n(a.keys),u=c(new o).next;e.exports=function(e,t,r){return r?i({iterator:c(e),next:u},t):s(e,t)}},8480:function(e,t,r){"use strict";var n=r(1828),i=r(8727),l=i.concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return n(e,l)}},8527:function(e,t,r){"use strict";var n=r(7080),i=r(4402).has,l=r(5170),o=r(3789),a=r(507),s=r(9539);e.exports=function(e){var t=n(this),r=o(e);if(l(t)<r.size)return!1;var c=r.getIterator();return!1!==a(c,(function(e){if(!i(t,e))return s(c,"normal",!1)}))}},8551:function(e,t,r){"use strict";var n=r(34),i=String,l=TypeError;e.exports=function(e){if(n(e))return e;throw new l(i(e)+" is not an object")}},8574:function(e,t,r){"use strict";var n=r(9504),i=Error,l=n("".replace),o=function(e){return String(new i(e).stack)}("zxcasd"),a=/\n\s*at [^:]*:[^\n]*/,s=a.test(o);e.exports=function(e,t){if(s&&"string"==typeof e&&!i.prepareStackTrace)while(t--)e=l(e,a,"");return e}},8622:function(e,t,r){"use strict";var n=r(4576),i=r(4901),l=n.WeakMap;e.exports=i(l)&&/native code/.test(String(l))},8626:function(e,t,r){var n;e=r.nmd(e),r(4114),r(6573),r(8100),r(7936),r(8111),r(9314),r(1148),r(2489),r(116),r(531),r(7588),r(1701),r(8237),r(3579),r(4972),r(1806),function(){var i,l="4.17.21",o=200,a="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",s="Expected a function",c="Invalid `variable` option passed into `_.template`",u="__lodash_hash_undefined__",p=500,h="__lodash_placeholder__",d=1,f=2,g=4,v=1,m=2,A=1,y=2,w=4,_=8,x=16,T=32,b=64,E=128,S=256,P=512,R=30,C="...",O=800,D=16,I=1,k=2,F=3,N=1/0,B=9007199254740991,L=17976931348623157e292,M=NaN,z=4294967295,H=z-1,j=z>>>1,U=[["ary",E],["bind",A],["bindKey",y],["curry",_],["curryRight",x],["flip",P],["partial",T],["partialRight",b],["rearg",S]],V="[object Arguments]",W="[object Array]",G="[object AsyncFunction]",q="[object Boolean]",Z="[object Date]",$="[object DOMException]",X="[object Error]",Y="[object Function]",K="[object GeneratorFunction]",J="[object Map]",Q="[object Number]",ee="[object Null]",te="[object Object]",re="[object Promise]",ne="[object Proxy]",ie="[object RegExp]",le="[object Set]",oe="[object String]",ae="[object Symbol]",se="[object Undefined]",ce="[object WeakMap]",ue="[object WeakSet]",pe="[object ArrayBuffer]",he="[object DataView]",de="[object Float32Array]",fe="[object Float64Array]",ge="[object Int8Array]",ve="[object Int16Array]",me="[object Int32Array]",Ae="[object Uint8Array]",ye="[object Uint8ClampedArray]",we="[object Uint16Array]",_e="[object Uint32Array]",xe=/\b__p \+= '';/g,Te=/\b(__p \+=) '' \+/g,be=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Ee=/&(?:amp|lt|gt|quot|#39);/g,Se=/[&<>"']/g,Pe=RegExp(Ee.source),Re=RegExp(Se.source),Ce=/<%-([\s\S]+?)%>/g,Oe=/<%([\s\S]+?)%>/g,De=/<%=([\s\S]+?)%>/g,Ie=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,ke=/^\w*$/,Fe=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Ne=/[\\^$.*+?()[\]{}|]/g,Be=RegExp(Ne.source),Le=/^\s+/,Me=/\s/,ze=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,He=/\{\n\/\* \[wrapped with (.+)\] \*/,je=/,? & /,Ue=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Ve=/[()=,{}\[\]\/\s]/,We=/\\(\\)?/g,Ge=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,qe=/\w*$/,Ze=/^[-+]0x[0-9a-f]+$/i,$e=/^0b[01]+$/i,Xe=/^\[object .+?Constructor\]$/,Ye=/^0o[0-7]+$/i,Ke=/^(?:0|[1-9]\d*)$/,Je=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Qe=/($^)/,et=/['\n\r\u2028\u2029\\]/g,tt="\\ud800-\\udfff",rt="\\u0300-\\u036f",nt="\\ufe20-\\ufe2f",it="\\u20d0-\\u20ff",lt=rt+nt+it,ot="\\u2700-\\u27bf",at="a-z\\xdf-\\xf6\\xf8-\\xff",st="\\xac\\xb1\\xd7\\xf7",ct="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",ut="\\u2000-\\u206f",pt=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",ht="A-Z\\xc0-\\xd6\\xd8-\\xde",dt="\\ufe0e\\ufe0f",ft=st+ct+ut+pt,gt="['’]",vt="["+tt+"]",mt="["+ft+"]",At="["+lt+"]",yt="\\d+",wt="["+ot+"]",_t="["+at+"]",xt="[^"+tt+ft+yt+ot+at+ht+"]",Tt="\\ud83c[\\udffb-\\udfff]",bt="(?:"+At+"|"+Tt+")",Et="[^"+tt+"]",St="(?:\\ud83c[\\udde6-\\uddff]){2}",Pt="[\\ud800-\\udbff][\\udc00-\\udfff]",Rt="["+ht+"]",Ct="\\u200d",Ot="(?:"+_t+"|"+xt+")",Dt="(?:"+Rt+"|"+xt+")",It="(?:"+gt+"(?:d|ll|m|re|s|t|ve))?",kt="(?:"+gt+"(?:D|LL|M|RE|S|T|VE))?",Ft=bt+"?",Nt="["+dt+"]?",Bt="(?:"+Ct+"(?:"+[Et,St,Pt].join("|")+")"+Nt+Ft+")*",Lt="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Mt="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",zt=Nt+Ft+Bt,Ht="(?:"+[wt,St,Pt].join("|")+")"+zt,jt="(?:"+[Et+At+"?",At,St,Pt,vt].join("|")+")",Ut=RegExp(gt,"g"),Vt=RegExp(At,"g"),Wt=RegExp(Tt+"(?="+Tt+")|"+jt+zt,"g"),Gt=RegExp([Rt+"?"+_t+"+"+It+"(?="+[mt,Rt,"$"].join("|")+")",Dt+"+"+kt+"(?="+[mt,Rt+Ot,"$"].join("|")+")",Rt+"?"+Ot+"+"+It,Rt+"+"+kt,Mt,Lt,yt,Ht].join("|"),"g"),qt=RegExp("["+Ct+tt+lt+dt+"]"),Zt=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,$t=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Xt=-1,Yt={};Yt[de]=Yt[fe]=Yt[ge]=Yt[ve]=Yt[me]=Yt[Ae]=Yt[ye]=Yt[we]=Yt[_e]=!0,Yt[V]=Yt[W]=Yt[pe]=Yt[q]=Yt[he]=Yt[Z]=Yt[X]=Yt[Y]=Yt[J]=Yt[Q]=Yt[te]=Yt[ie]=Yt[le]=Yt[oe]=Yt[ce]=!1;var Kt={};Kt[V]=Kt[W]=Kt[pe]=Kt[he]=Kt[q]=Kt[Z]=Kt[de]=Kt[fe]=Kt[ge]=Kt[ve]=Kt[me]=Kt[J]=Kt[Q]=Kt[te]=Kt[ie]=Kt[le]=Kt[oe]=Kt[ae]=Kt[Ae]=Kt[ye]=Kt[we]=Kt[_e]=!0,Kt[X]=Kt[Y]=Kt[ce]=!1;var Jt={"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss","Ā":"A","Ă":"A","Ą":"A","ā":"a","ă":"a","ą":"a","Ć":"C","Ĉ":"C","Ċ":"C","Č":"C","ć":"c","ĉ":"c","ċ":"c","č":"c","Ď":"D","Đ":"D","ď":"d","đ":"d","Ē":"E","Ĕ":"E","Ė":"E","Ę":"E","Ě":"E","ē":"e","ĕ":"e","ė":"e","ę":"e","ě":"e","Ĝ":"G","Ğ":"G","Ġ":"G","Ģ":"G","ĝ":"g","ğ":"g","ġ":"g","ģ":"g","Ĥ":"H","Ħ":"H","ĥ":"h","ħ":"h","Ĩ":"I","Ī":"I","Ĭ":"I","Į":"I","İ":"I","ĩ":"i","ī":"i","ĭ":"i","į":"i","ı":"i","Ĵ":"J","ĵ":"j","Ķ":"K","ķ":"k","ĸ":"k","Ĺ":"L","Ļ":"L","Ľ":"L","Ŀ":"L","Ł":"L","ĺ":"l","ļ":"l","ľ":"l","ŀ":"l","ł":"l","Ń":"N","Ņ":"N","Ň":"N","Ŋ":"N","ń":"n","ņ":"n","ň":"n","ŋ":"n","Ō":"O","Ŏ":"O","Ő":"O","ō":"o","ŏ":"o","ő":"o","Ŕ":"R","Ŗ":"R","Ř":"R","ŕ":"r","ŗ":"r","ř":"r","Ś":"S","Ŝ":"S","Ş":"S","Š":"S","ś":"s","ŝ":"s","ş":"s","š":"s","Ţ":"T","Ť":"T","Ŧ":"T","ţ":"t","ť":"t","ŧ":"t","Ũ":"U","Ū":"U","Ŭ":"U","Ů":"U","Ű":"U","Ų":"U","ũ":"u","ū":"u","ŭ":"u","ů":"u","ű":"u","ų":"u","Ŵ":"W","ŵ":"w","Ŷ":"Y","ŷ":"y","Ÿ":"Y","Ź":"Z","Ż":"Z","Ž":"Z","ź":"z","ż":"z","ž":"z","Ĳ":"IJ","ĳ":"ij","Œ":"Oe","œ":"oe","ŉ":"'n","ſ":"s"},Qt={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},er={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},tr={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},rr=parseFloat,nr=parseInt,ir="object"==typeof r.g&&r.g&&r.g.Object===Object&&r.g,lr="object"==typeof self&&self&&self.Object===Object&&self,or=ir||lr||Function("return this")(),ar=t&&!t.nodeType&&t,sr=ar&&e&&!e.nodeType&&e,cr=sr&&sr.exports===ar,ur=cr&&ir.process,pr=function(){try{var e=sr&&sr.require&&sr.require("util").types;return e||ur&&ur.binding&&ur.binding("util")}catch(t){}}(),hr=pr&&pr.isArrayBuffer,dr=pr&&pr.isDate,fr=pr&&pr.isMap,gr=pr&&pr.isRegExp,vr=pr&&pr.isSet,mr=pr&&pr.isTypedArray;function Ar(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}function yr(e,t,r,n){var i=-1,l=null==e?0:e.length;while(++i<l){var o=e[i];t(n,o,r(o),e)}return n}function wr(e,t){var r=-1,n=null==e?0:e.length;while(++r<n)if(!1===t(e[r],r,e))break;return e}function _r(e,t){var r=null==e?0:e.length;while(r--)if(!1===t(e[r],r,e))break;return e}function xr(e,t){var r=-1,n=null==e?0:e.length;while(++r<n)if(!t(e[r],r,e))return!1;return!0}function Tr(e,t){var r=-1,n=null==e?0:e.length,i=0,l=[];while(++r<n){var o=e[r];t(o,r,e)&&(l[i++]=o)}return l}function br(e,t){var r=null==e?0:e.length;return!!r&&Br(e,t,0)>-1}function Er(e,t,r){var n=-1,i=null==e?0:e.length;while(++n<i)if(r(t,e[n]))return!0;return!1}function Sr(e,t){var r=-1,n=null==e?0:e.length,i=Array(n);while(++r<n)i[r]=t(e[r],r,e);return i}function Pr(e,t){var r=-1,n=t.length,i=e.length;while(++r<n)e[i+r]=t[r];return e}function Rr(e,t,r,n){var i=-1,l=null==e?0:e.length;n&&l&&(r=e[++i]);while(++i<l)r=t(r,e[i],i,e);return r}function Cr(e,t,r,n){var i=null==e?0:e.length;n&&i&&(r=e[--i]);while(i--)r=t(r,e[i],i,e);return r}function Or(e,t){var r=-1,n=null==e?0:e.length;while(++r<n)if(t(e[r],r,e))return!0;return!1}var Dr=Hr("length");function Ir(e){return e.split("")}function kr(e){return e.match(Ue)||[]}function Fr(e,t,r){var n;return r(e,(function(e,r,i){if(t(e,r,i))return n=r,!1})),n}function Nr(e,t,r,n){var i=e.length,l=r+(n?1:-1);while(n?l--:++l<i)if(t(e[l],l,e))return l;return-1}function Br(e,t,r){return t===t?dn(e,t,r):Nr(e,Mr,r)}function Lr(e,t,r,n){var i=r-1,l=e.length;while(++i<l)if(n(e[i],t))return i;return-1}function Mr(e){return e!==e}function zr(e,t){var r=null==e?0:e.length;return r?Wr(e,t)/r:M}function Hr(e){return function(t){return null==t?i:t[e]}}function jr(e){return function(t){return null==e?i:e[t]}}function Ur(e,t,r,n,i){return i(e,(function(e,i,l){r=n?(n=!1,e):t(r,e,i,l)})),r}function Vr(e,t){var r=e.length;e.sort(t);while(r--)e[r]=e[r].value;return e}function Wr(e,t){var r,n=-1,l=e.length;while(++n<l){var o=t(e[n]);o!==i&&(r=r===i?o:r+o)}return r}function Gr(e,t){var r=-1,n=Array(e);while(++r<e)n[r]=t(r);return n}function qr(e,t){return Sr(t,(function(t){return[t,e[t]]}))}function Zr(e){return e?e.slice(0,mn(e)+1).replace(Le,""):e}function $r(e){return function(t){return e(t)}}function Xr(e,t){return Sr(t,(function(t){return e[t]}))}function Yr(e,t){return e.has(t)}function Kr(e,t){var r=-1,n=e.length;while(++r<n&&Br(t,e[r],0)>-1);return r}function Jr(e,t){var r=e.length;while(r--&&Br(t,e[r],0)>-1);return r}function Qr(e,t){var r=e.length,n=0;while(r--)e[r]===t&&++n;return n}var en=jr(Jt),tn=jr(Qt);function rn(e){return"\\"+tr[e]}function nn(e,t){return null==e?i:e[t]}function ln(e){return qt.test(e)}function on(e){return Zt.test(e)}function an(e){var t,r=[];while(!(t=e.next()).done)r.push(t.value);return r}function sn(e){var t=-1,r=Array(e.size);return e.forEach((function(e,n){r[++t]=[n,e]})),r}function cn(e,t){return function(r){return e(t(r))}}function un(e,t){var r=-1,n=e.length,i=0,l=[];while(++r<n){var o=e[r];o!==t&&o!==h||(e[r]=h,l[i++]=r)}return l}function pn(e){var t=-1,r=Array(e.size);return e.forEach((function(e){r[++t]=e})),r}function hn(e){var t=-1,r=Array(e.size);return e.forEach((function(e){r[++t]=[e,e]})),r}function dn(e,t,r){var n=r-1,i=e.length;while(++n<i)if(e[n]===t)return n;return-1}function fn(e,t,r){var n=r+1;while(n--)if(e[n]===t)return n;return n}function gn(e){return ln(e)?yn(e):Dr(e)}function vn(e){return ln(e)?wn(e):Ir(e)}function mn(e){var t=e.length;while(t--&&Me.test(e.charAt(t)));return t}var An=jr(er);function yn(e){var t=Wt.lastIndex=0;while(Wt.test(e))++t;return t}function wn(e){return e.match(Wt)||[]}function _n(e){return e.match(Gt)||[]}var xn=function e(t){t=null==t?or:Tn.defaults(or.Object(),t,Tn.pick(or,$t));var r=t.Array,n=t.Date,Me=t.Error,Ue=t.Function,tt=t.Math,rt=t.Object,nt=t.RegExp,it=t.String,lt=t.TypeError,ot=r.prototype,at=Ue.prototype,st=rt.prototype,ct=t["__core-js_shared__"],ut=at.toString,pt=st.hasOwnProperty,ht=0,dt=function(){var e=/[^.]+$/.exec(ct&&ct.keys&&ct.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),ft=st.toString,gt=ut.call(rt),vt=or._,mt=nt("^"+ut.call(pt).replace(Ne,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),At=cr?t.Buffer:i,yt=t.Symbol,wt=t.Uint8Array,_t=At?At.allocUnsafe:i,xt=cn(rt.getPrototypeOf,rt),Tt=rt.create,bt=st.propertyIsEnumerable,Et=ot.splice,St=yt?yt.isConcatSpreadable:i,Pt=yt?yt.iterator:i,Rt=yt?yt.toStringTag:i,Ct=function(){try{var e=Zo(rt,"defineProperty");return e({},"",{}),e}catch(t){}}(),Ot=t.clearTimeout!==or.clearTimeout&&t.clearTimeout,Dt=n&&n.now!==or.Date.now&&n.now,It=t.setTimeout!==or.setTimeout&&t.setTimeout,kt=tt.ceil,Ft=tt.floor,Nt=rt.getOwnPropertySymbols,Bt=At?At.isBuffer:i,Lt=t.isFinite,Mt=ot.join,zt=cn(rt.keys,rt),Ht=tt.max,jt=tt.min,Wt=n.now,Gt=t.parseInt,qt=tt.random,Zt=ot.reverse,Jt=Zo(t,"DataView"),Qt=Zo(t,"Map"),er=Zo(t,"Promise"),tr=Zo(t,"Set"),ir=Zo(t,"WeakMap"),lr=Zo(rt,"create"),ar=ir&&new ir,sr={},ur=Ia(Jt),pr=Ia(Qt),Dr=Ia(er),Ir=Ia(tr),jr=Ia(ir),dn=yt?yt.prototype:i,yn=dn?dn.valueOf:i,wn=dn?dn.toString:i;function xn(e){if(Eu(e)&&!su(e)&&!(e instanceof Pn)){if(e instanceof Sn)return e;if(pt.call(e,"__wrapped__"))return Fa(e)}return new Sn(e)}var bn=function(){function e(){}return function(t){if(!bu(t))return{};if(Tt)return Tt(t);e.prototype=t;var r=new e;return e.prototype=i,r}}();function En(){}function Sn(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=i}function Pn(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=z,this.__views__=[]}function Rn(){var e=new Pn(this.__wrapped__);return e.__actions__=no(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=no(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=no(this.__views__),e}function Cn(){if(this.__filtered__){var e=new Pn(this);e.__dir__=-1,e.__filtered__=!0}else e=this.clone(),e.__dir__*=-1;return e}function On(){var e=this.__wrapped__.value(),t=this.__dir__,r=su(e),n=t<0,i=r?e.length:0,l=Jo(0,i,this.__views__),o=l.start,a=l.end,s=a-o,c=n?a:o-1,u=this.__iteratees__,p=u.length,h=0,d=jt(s,this.__takeCount__);if(!r||!n&&i==s&&d==s)return Ml(e,this.__actions__);var f=[];e:while(s--&&h<d){c+=t;var g=-1,v=e[c];while(++g<p){var m=u[g],A=m.iteratee,y=m.type,w=A(v);if(y==k)v=w;else if(!w){if(y==I)continue e;break e}}f[h++]=v}return f}function Dn(e){var t=-1,r=null==e?0:e.length;this.clear();while(++t<r){var n=e[t];this.set(n[0],n[1])}}function In(){this.__data__=lr?lr(null):{},this.size=0}function kn(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}function Fn(e){var t=this.__data__;if(lr){var r=t[e];return r===u?i:r}return pt.call(t,e)?t[e]:i}function Nn(e){var t=this.__data__;return lr?t[e]!==i:pt.call(t,e)}function Bn(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=lr&&t===i?u:t,this}function Ln(e){var t=-1,r=null==e?0:e.length;this.clear();while(++t<r){var n=e[t];this.set(n[0],n[1])}}function Mn(){this.__data__=[],this.size=0}function zn(e){var t=this.__data__,r=ui(t,e);if(r<0)return!1;var n=t.length-1;return r==n?t.pop():Et.call(t,r,1),--this.size,!0}function Hn(e){var t=this.__data__,r=ui(t,e);return r<0?i:t[r][1]}function jn(e){return ui(this.__data__,e)>-1}function Un(e,t){var r=this.__data__,n=ui(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this}function Vn(e){var t=-1,r=null==e?0:e.length;this.clear();while(++t<r){var n=e[t];this.set(n[0],n[1])}}function Wn(){this.size=0,this.__data__={hash:new Dn,map:new(Qt||Ln),string:new Dn}}function Gn(e){var t=Go(this,e)["delete"](e);return this.size-=t?1:0,t}function qn(e){return Go(this,e).get(e)}function Zn(e){return Go(this,e).has(e)}function $n(e,t){var r=Go(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this}function Xn(e){var t=-1,r=null==e?0:e.length;this.__data__=new Vn;while(++t<r)this.add(e[t])}function Yn(e){return this.__data__.set(e,u),this}function Kn(e){return this.__data__.has(e)}function Jn(e){var t=this.__data__=new Ln(e);this.size=t.size}function Qn(){this.__data__=new Ln,this.size=0}function ei(e){var t=this.__data__,r=t["delete"](e);return this.size=t.size,r}function ti(e){return this.__data__.get(e)}function ri(e){return this.__data__.has(e)}function ni(e,t){var r=this.__data__;if(r instanceof Ln){var n=r.__data__;if(!Qt||n.length<o-1)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new Vn(n)}return r.set(e,t),this.size=r.size,this}function ii(e,t){var r=su(e),n=!r&&au(e),i=!r&&!n&&du(e),l=!r&&!n&&!i&&Hu(e),o=r||n||i||l,a=o?Gr(e.length,it):[],s=a.length;for(var c in e)!t&&!pt.call(e,c)||o&&("length"==c||i&&("offset"==c||"parent"==c)||l&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||oa(c,s))||a.push(c);return a}function li(e){var t=e.length;return t?e[ml(0,t-1)]:i}function oi(e,t){return Ca(no(e),vi(t,0,e.length))}function ai(e){return Ca(no(e))}function si(e,t,r){(r!==i&&!iu(e[t],r)||r===i&&!(t in e))&&fi(e,t,r)}function ci(e,t,r){var n=e[t];pt.call(e,t)&&iu(n,r)&&(r!==i||t in e)||fi(e,t,r)}function ui(e,t){var r=e.length;while(r--)if(iu(e[r][0],t))return r;return-1}function pi(e,t,r,n){return xi(e,(function(e,i,l){t(n,e,r(e),l)})),n}function hi(e,t){return e&&io(t,xp(t),e)}function di(e,t){return e&&io(t,Tp(t),e)}function fi(e,t,r){"__proto__"==t&&Ct?Ct(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}function gi(e,t){var n=-1,l=t.length,o=r(l),a=null==e;while(++n<l)o[n]=a?i:vp(e,t[n]);return o}function vi(e,t,r){return e===e&&(r!==i&&(e=e<=r?e:r),t!==i&&(e=e>=t?e:t)),e}function mi(e,t,r,n,l,o){var a,s=t&d,c=t&f,u=t&g;if(r&&(a=l?r(e,n,l,o):r(e)),a!==i)return a;if(!bu(e))return e;var p=su(e);if(p){if(a=ta(e),!s)return no(e,a)}else{var h=Ko(e),v=h==Y||h==K;if(du(e))return Zl(e,s);if(h==te||h==V||v&&!l){if(a=c||v?{}:ra(e),!s)return c?oo(e,di(a,e)):lo(e,hi(a,e))}else{if(!Kt[h])return l?e:{};a=na(e,h,s)}}o||(o=new Jn);var m=o.get(e);if(m)return m;o.set(e,a),Lu(e)?e.forEach((function(n){a.add(mi(n,t,r,n,e,o))})):Su(e)&&e.forEach((function(n,i){a.set(i,mi(n,t,r,i,e,o))}));var A=u?c?Ho:zo:c?Tp:xp,y=p?i:A(e);return wr(y||e,(function(n,i){y&&(i=n,n=e[i]),ci(a,i,mi(n,t,r,i,e,o))})),a}function Ai(e){var t=xp(e);return function(r){return yi(r,e,t)}}function yi(e,t,r){var n=r.length;if(null==e)return!n;e=rt(e);while(n--){var l=r[n],o=t[l],a=e[l];if(a===i&&!(l in e)||!o(a))return!1}return!0}function wi(e,t,r){if("function"!=typeof e)throw new lt(s);return Ea((function(){e.apply(i,r)}),t)}function _i(e,t,r,n){var i=-1,l=br,a=!0,s=e.length,c=[],u=t.length;if(!s)return c;r&&(t=Sr(t,$r(r))),n?(l=Er,a=!1):t.length>=o&&(l=Yr,a=!1,t=new Xn(t));e:while(++i<s){var p=e[i],h=null==r?p:r(p);if(p=n||0!==p?p:0,a&&h===h){var d=u;while(d--)if(t[d]===h)continue e;c.push(p)}else l(t,h,n)||c.push(p)}return c}xn.templateSettings={escape:Ce,evaluate:Oe,interpolate:De,variable:"",imports:{_:xn}},xn.prototype=En.prototype,xn.prototype.constructor=xn,Sn.prototype=bn(En.prototype),Sn.prototype.constructor=Sn,Pn.prototype=bn(En.prototype),Pn.prototype.constructor=Pn,Dn.prototype.clear=In,Dn.prototype["delete"]=kn,Dn.prototype.get=Fn,Dn.prototype.has=Nn,Dn.prototype.set=Bn,Ln.prototype.clear=Mn,Ln.prototype["delete"]=zn,Ln.prototype.get=Hn,Ln.prototype.has=jn,Ln.prototype.set=Un,Vn.prototype.clear=Wn,Vn.prototype["delete"]=Gn,Vn.prototype.get=qn,Vn.prototype.has=Zn,Vn.prototype.set=$n,Xn.prototype.add=Xn.prototype.push=Yn,Xn.prototype.has=Kn,Jn.prototype.clear=Qn,Jn.prototype["delete"]=ei,Jn.prototype.get=ti,Jn.prototype.has=ri,Jn.prototype.set=ni;var xi=co(Di),Ti=co(Ii,!0);function bi(e,t){var r=!0;return xi(e,(function(e,n,i){return r=!!t(e,n,i),r})),r}function Ei(e,t,r){var n=-1,l=e.length;while(++n<l){var o=e[n],a=t(o);if(null!=a&&(s===i?a===a&&!zu(a):r(a,s)))var s=a,c=o}return c}function Si(e,t,r,n){var l=e.length;r=$u(r),r<0&&(r=-r>l?0:l+r),n=n===i||n>l?l:$u(n),n<0&&(n+=l),n=r>n?0:Xu(n);while(r<n)e[r++]=t;return e}function Pi(e,t){var r=[];return xi(e,(function(e,n,i){t(e,n,i)&&r.push(e)})),r}function Ri(e,t,r,n,i){var l=-1,o=e.length;r||(r=la),i||(i=[]);while(++l<o){var a=e[l];t>0&&r(a)?t>1?Ri(a,t-1,r,n,i):Pr(i,a):n||(i[i.length]=a)}return i}var Ci=uo(),Oi=uo(!0);function Di(e,t){return e&&Ci(e,t,xp)}function Ii(e,t){return e&&Oi(e,t,xp)}function ki(e,t){return Tr(t,(function(t){return _u(e[t])}))}function Fi(e,t){t=Vl(t,e);var r=0,n=t.length;while(null!=e&&r<n)e=e[Da(t[r++])];return r&&r==n?e:i}function Ni(e,t,r){var n=t(e);return su(e)?n:Pr(n,r(e))}function Bi(e){return null==e?e===i?se:ee:Rt&&Rt in rt(e)?$o(e):ya(e)}function Li(e,t){return e>t}function Mi(e,t){return null!=e&&pt.call(e,t)}function zi(e,t){return null!=e&&t in rt(e)}function Hi(e,t,r){return e>=jt(t,r)&&e<Ht(t,r)}function ji(e,t,n){var l=n?Er:br,o=e[0].length,a=e.length,s=a,c=r(a),u=1/0,p=[];while(s--){var h=e[s];s&&t&&(h=Sr(h,$r(t))),u=jt(h.length,u),c[s]=!n&&(t||o>=120&&h.length>=120)?new Xn(s&&h):i}h=e[0];var d=-1,f=c[0];e:while(++d<o&&p.length<u){var g=h[d],v=t?t(g):g;if(g=n||0!==g?g:0,!(f?Yr(f,v):l(p,v,n))){s=a;while(--s){var m=c[s];if(!(m?Yr(m,v):l(e[s],v,n)))continue e}f&&f.push(v),p.push(g)}}return p}function Ui(e,t,r,n){return Di(e,(function(e,i,l){t(n,r(e),i,l)})),n}function Vi(e,t,r){t=Vl(t,e),e=_a(e,t);var n=null==e?e:e[Da(ls(t))];return null==n?i:Ar(n,e,r)}function Wi(e){return Eu(e)&&Bi(e)==V}function Gi(e){return Eu(e)&&Bi(e)==pe}function qi(e){return Eu(e)&&Bi(e)==Z}function Zi(e,t,r,n,i){return e===t||(null==e||null==t||!Eu(e)&&!Eu(t)?e!==e&&t!==t:$i(e,t,r,n,Zi,i))}function $i(e,t,r,n,i,l){var o=su(e),a=su(t),s=o?W:Ko(e),c=a?W:Ko(t);s=s==V?te:s,c=c==V?te:c;var u=s==te,p=c==te,h=s==c;if(h&&du(e)){if(!du(t))return!1;o=!0,u=!1}if(h&&!u)return l||(l=new Jn),o||Hu(e)?No(e,t,r,n,i,l):Bo(e,t,s,r,n,i,l);if(!(r&v)){var d=u&&pt.call(e,"__wrapped__"),f=p&&pt.call(t,"__wrapped__");if(d||f){var g=d?e.value():e,m=f?t.value():t;return l||(l=new Jn),i(g,m,r,n,l)}}return!!h&&(l||(l=new Jn),Lo(e,t,r,n,i,l))}function Xi(e){return Eu(e)&&Ko(e)==J}function Yi(e,t,r,n){var l=r.length,o=l,a=!n;if(null==e)return!o;e=rt(e);while(l--){var s=r[l];if(a&&s[2]?s[1]!==e[s[0]]:!(s[0]in e))return!1}while(++l<o){s=r[l];var c=s[0],u=e[c],p=s[1];if(a&&s[2]){if(u===i&&!(c in e))return!1}else{var h=new Jn;if(n)var d=n(u,p,c,e,t,h);if(!(d===i?Zi(p,u,v|m,n,h):d))return!1}}return!0}function Ki(e){if(!bu(e)||pa(e))return!1;var t=_u(e)?mt:Xe;return t.test(Ia(e))}function Ji(e){return Eu(e)&&Bi(e)==ie}function Qi(e){return Eu(e)&&Ko(e)==le}function el(e){return Eu(e)&&Tu(e.length)&&!!Yt[Bi(e)]}function tl(e){return"function"==typeof e?e:null==e?Oh:"object"==typeof e?su(e)?al(e[0],e[1]):ol(e):Vh(e)}function rl(e){if(!da(e))return zt(e);var t=[];for(var r in rt(e))pt.call(e,r)&&"constructor"!=r&&t.push(r);return t}function nl(e){if(!bu(e))return Aa(e);var t=da(e),r=[];for(var n in e)("constructor"!=n||!t&&pt.call(e,n))&&r.push(n);return r}function il(e,t){return e<t}function ll(e,t){var n=-1,i=uu(e)?r(e.length):[];return xi(e,(function(e,r,l){i[++n]=t(e,r,l)})),i}function ol(e){var t=qo(e);return 1==t.length&&t[0][2]?ga(t[0][0],t[0][1]):function(r){return r===e||Yi(r,e,t)}}function al(e,t){return sa(e)&&fa(t)?ga(Da(e),t):function(r){var n=vp(r,e);return n===i&&n===t?Ap(r,e):Zi(t,n,v|m)}}function sl(e,t,r,n,l){e!==t&&Ci(t,(function(o,a){if(l||(l=new Jn),bu(o))cl(e,t,a,r,sl,n,l);else{var s=n?n(Ta(e,a),o,a+"",e,t,l):i;s===i&&(s=o),si(e,a,s)}}),Tp)}function cl(e,t,r,n,l,o,a){var s=Ta(e,r),c=Ta(t,r),u=a.get(c);if(u)si(e,r,u);else{var p=o?o(s,c,r+"",e,t,a):i,h=p===i;if(h){var d=su(c),f=!d&&du(c),g=!d&&!f&&Hu(c);p=c,d||f||g?su(s)?p=s:pu(s)?p=no(s):f?(h=!1,p=Zl(c,!0)):g?(h=!1,p=Jl(c,!0)):p=[]:Fu(c)||au(c)?(p=s,au(s)?p=Ku(s):bu(s)&&!_u(s)||(p=ra(c))):h=!1}h&&(a.set(c,p),l(p,c,n,o,a),a["delete"](c)),si(e,r,p)}}function ul(e,t){var r=e.length;if(r)return t+=t<0?r:0,oa(t,r)?e[t]:i}function pl(e,t,r){t=t.length?Sr(t,(function(e){return su(e)?function(t){return Fi(t,1===e.length?e[0]:e)}:e})):[Oh];var n=-1;t=Sr(t,$r(Wo()));var i=ll(e,(function(e,r,i){var l=Sr(t,(function(t){return t(e)}));return{criteria:l,index:++n,value:e}}));return Vr(i,(function(e,t){return eo(e,t,r)}))}function hl(e,t){return dl(e,t,(function(t,r){return Ap(e,r)}))}function dl(e,t,r){var n=-1,i=t.length,l={};while(++n<i){var o=t[n],a=Fi(e,o);r(a,o)&&Tl(l,Vl(o,e),a)}return l}function fl(e){return function(t){return Fi(t,e)}}function gl(e,t,r,n){var i=n?Lr:Br,l=-1,o=t.length,a=e;e===t&&(t=no(t)),r&&(a=Sr(e,$r(r)));while(++l<o){var s=0,c=t[l],u=r?r(c):c;while((s=i(a,u,s,n))>-1)a!==e&&Et.call(a,s,1),Et.call(e,s,1)}return e}function vl(e,t){var r=e?t.length:0,n=r-1;while(r--){var i=t[r];if(r==n||i!==l){var l=i;oa(i)?Et.call(e,i,1):Nl(e,i)}}return e}function ml(e,t){return e+Ft(qt()*(t-e+1))}function Al(e,t,n,i){var l=-1,o=Ht(kt((t-e)/(n||1)),0),a=r(o);while(o--)a[i?o:++l]=e,e+=n;return a}function yl(e,t){var r="";if(!e||t<1||t>B)return r;do{t%2&&(r+=e),t=Ft(t/2),t&&(e+=e)}while(t);return r}function wl(e,t){return Sa(wa(e,t,Oh),e+"")}function _l(e){return li(jp(e))}function xl(e,t){var r=jp(e);return Ca(r,vi(t,0,r.length))}function Tl(e,t,r,n){if(!bu(e))return e;t=Vl(t,e);var l=-1,o=t.length,a=o-1,s=e;while(null!=s&&++l<o){var c=Da(t[l]),u=r;if("__proto__"===c||"constructor"===c||"prototype"===c)return e;if(l!=a){var p=s[c];u=n?n(p,c,s):i,u===i&&(u=bu(p)?p:oa(t[l+1])?[]:{})}ci(s,c,u),s=s[c]}return e}var bl=ar?function(e,t){return ar.set(e,t),e}:Oh,El=Ct?function(e,t){return Ct(e,"toString",{configurable:!0,enumerable:!1,value:Sh(t),writable:!0})}:Oh;function Sl(e){return Ca(jp(e))}function Pl(e,t,n){var i=-1,l=e.length;t<0&&(t=-t>l?0:l+t),n=n>l?l:n,n<0&&(n+=l),l=t>n?0:n-t>>>0,t>>>=0;var o=r(l);while(++i<l)o[i]=e[i+t];return o}function Rl(e,t){var r;return xi(e,(function(e,n,i){return r=t(e,n,i),!r})),!!r}function Cl(e,t,r){var n=0,i=null==e?n:e.length;if("number"==typeof t&&t===t&&i<=j){while(n<i){var l=n+i>>>1,o=e[l];null!==o&&!zu(o)&&(r?o<=t:o<t)?n=l+1:i=l}return i}return Ol(e,t,Oh,r)}function Ol(e,t,r,n){var l=0,o=null==e?0:e.length;if(0===o)return 0;t=r(t);var a=t!==t,s=null===t,c=zu(t),u=t===i;while(l<o){var p=Ft((l+o)/2),h=r(e[p]),d=h!==i,f=null===h,g=h===h,v=zu(h);if(a)var m=n||g;else m=u?g&&(n||d):s?g&&d&&(n||!f):c?g&&d&&!f&&(n||!v):!f&&!v&&(n?h<=t:h<t);m?l=p+1:o=p}return jt(o,H)}function Dl(e,t){var r=-1,n=e.length,i=0,l=[];while(++r<n){var o=e[r],a=t?t(o):o;if(!r||!iu(a,s)){var s=a;l[i++]=0===o?0:o}}return l}function Il(e){return"number"==typeof e?e:zu(e)?M:+e}function kl(e){if("string"==typeof e)return e;if(su(e))return Sr(e,kl)+"";if(zu(e))return wn?wn.call(e):"";var t=e+"";return"0"==t&&1/e==-N?"-0":t}function Fl(e,t,r){var n=-1,i=br,l=e.length,a=!0,s=[],c=s;if(r)a=!1,i=Er;else if(l>=o){var u=t?null:Co(e);if(u)return pn(u);a=!1,i=Yr,c=new Xn}else c=t?[]:s;e:while(++n<l){var p=e[n],h=t?t(p):p;if(p=r||0!==p?p:0,a&&h===h){var d=c.length;while(d--)if(c[d]===h)continue e;t&&c.push(h),s.push(p)}else i(c,h,r)||(c!==s&&c.push(h),s.push(p))}return s}function Nl(e,t){return t=Vl(t,e),e=_a(e,t),null==e||delete e[Da(ls(t))]}function Bl(e,t,r,n){return Tl(e,t,r(Fi(e,t)),n)}function Ll(e,t,r,n){var i=e.length,l=n?i:-1;while((n?l--:++l<i)&&t(e[l],l,e));return r?Pl(e,n?0:l,n?l+1:i):Pl(e,n?l+1:0,n?i:l)}function Ml(e,t){var r=e;return r instanceof Pn&&(r=r.value()),Rr(t,(function(e,t){return t.func.apply(t.thisArg,Pr([e],t.args))}),r)}function zl(e,t,n){var i=e.length;if(i<2)return i?Fl(e[0]):[];var l=-1,o=r(i);while(++l<i){var a=e[l],s=-1;while(++s<i)s!=l&&(o[l]=_i(o[l]||a,e[s],t,n))}return Fl(Ri(o,1),t,n)}function Hl(e,t,r){var n=-1,l=e.length,o=t.length,a={};while(++n<l){var s=n<o?t[n]:i;r(a,e[n],s)}return a}function jl(e){return pu(e)?e:[]}function Ul(e){return"function"==typeof e?e:Oh}function Vl(e,t){return su(e)?e:sa(e,t)?[e]:Oa(Qu(e))}var Wl=wl;function Gl(e,t,r){var n=e.length;return r=r===i?n:r,!t&&r>=n?e:Pl(e,t,r)}var ql=Ot||function(e){return or.clearTimeout(e)};function Zl(e,t){if(t)return e.slice();var r=e.length,n=_t?_t(r):new e.constructor(r);return e.copy(n),n}function $l(e){var t=new e.constructor(e.byteLength);return new wt(t).set(new wt(e)),t}function Xl(e,t){var r=t?$l(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.byteLength)}function Yl(e){var t=new e.constructor(e.source,qe.exec(e));return t.lastIndex=e.lastIndex,t}function Kl(e){return yn?rt(yn.call(e)):{}}function Jl(e,t){var r=t?$l(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.length)}function Ql(e,t){if(e!==t){var r=e!==i,n=null===e,l=e===e,o=zu(e),a=t!==i,s=null===t,c=t===t,u=zu(t);if(!s&&!u&&!o&&e>t||o&&a&&c&&!s&&!u||n&&a&&c||!r&&c||!l)return 1;if(!n&&!o&&!u&&e<t||u&&r&&l&&!n&&!o||s&&r&&l||!a&&l||!c)return-1}return 0}function eo(e,t,r){var n=-1,i=e.criteria,l=t.criteria,o=i.length,a=r.length;while(++n<o){var s=Ql(i[n],l[n]);if(s){if(n>=a)return s;var c=r[n];return s*("desc"==c?-1:1)}}return e.index-t.index}function to(e,t,n,i){var l=-1,o=e.length,a=n.length,s=-1,c=t.length,u=Ht(o-a,0),p=r(c+u),h=!i;while(++s<c)p[s]=t[s];while(++l<a)(h||l<o)&&(p[n[l]]=e[l]);while(u--)p[s++]=e[l++];return p}function ro(e,t,n,i){var l=-1,o=e.length,a=-1,s=n.length,c=-1,u=t.length,p=Ht(o-s,0),h=r(p+u),d=!i;while(++l<p)h[l]=e[l];var f=l;while(++c<u)h[f+c]=t[c];while(++a<s)(d||l<o)&&(h[f+n[a]]=e[l++]);return h}function no(e,t){var n=-1,i=e.length;t||(t=r(i));while(++n<i)t[n]=e[n];return t}function io(e,t,r,n){var l=!r;r||(r={});var o=-1,a=t.length;while(++o<a){var s=t[o],c=n?n(r[s],e[s],s,r,e):i;c===i&&(c=e[s]),l?fi(r,s,c):ci(r,s,c)}return r}function lo(e,t){return io(e,Xo(e),t)}function oo(e,t){return io(e,Yo(e),t)}function ao(e,t){return function(r,n){var i=su(r)?yr:pi,l=t?t():{};return i(r,e,Wo(n,2),l)}}function so(e){return wl((function(t,r){var n=-1,l=r.length,o=l>1?r[l-1]:i,a=l>2?r[2]:i;o=e.length>3&&"function"==typeof o?(l--,o):i,a&&aa(r[0],r[1],a)&&(o=l<3?i:o,l=1),t=rt(t);while(++n<l){var s=r[n];s&&e(t,s,n,o)}return t}))}function co(e,t){return function(r,n){if(null==r)return r;if(!uu(r))return e(r,n);var i=r.length,l=t?i:-1,o=rt(r);while(t?l--:++l<i)if(!1===n(o[l],l,o))break;return r}}function uo(e){return function(t,r,n){var i=-1,l=rt(t),o=n(t),a=o.length;while(a--){var s=o[e?a:++i];if(!1===r(l[s],s,l))break}return t}}function po(e,t,r){var n=t&A,i=go(e);function l(){var t=this&&this!==or&&this instanceof l?i:e;return t.apply(n?r:this,arguments)}return l}function ho(e){return function(t){t=Qu(t);var r=ln(t)?vn(t):i,n=r?r[0]:t.charAt(0),l=r?Gl(r,1).join(""):t.slice(1);return n[e]()+l}}function fo(e){return function(t){return Rr(_h($p(t).replace(Ut,"")),e,"")}}function go(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var r=bn(e.prototype),n=e.apply(r,t);return bu(n)?n:r}}function vo(e,t,n){var l=go(e);function o(){var a=arguments.length,s=r(a),c=a,u=Vo(o);while(c--)s[c]=arguments[c];var p=a<3&&s[0]!==u&&s[a-1]!==u?[]:un(s,u);if(a-=p.length,a<n)return Po(e,t,yo,o.placeholder,i,s,p,i,i,n-a);var h=this&&this!==or&&this instanceof o?l:e;return Ar(h,this,s)}return o}function mo(e){return function(t,r,n){var l=rt(t);if(!uu(t)){var o=Wo(r,3);t=xp(t),r=function(e){return o(l[e],e,l)}}var a=e(t,r,n);return a>-1?l[o?t[a]:a]:i}}function Ao(e){return Mo((function(t){var r=t.length,n=r,l=Sn.prototype.thru;e&&t.reverse();while(n--){var o=t[n];if("function"!=typeof o)throw new lt(s);if(l&&!a&&"wrapper"==Uo(o))var a=new Sn([],!0)}n=a?n:r;while(++n<r){o=t[n];var c=Uo(o),u="wrapper"==c?jo(o):i;a=u&&ua(u[0])&&u[1]==(E|_|T|S)&&!u[4].length&&1==u[9]?a[Uo(u[0])].apply(a,u[3]):1==o.length&&ua(o)?a[c]():a.thru(o)}return function(){var e=arguments,n=e[0];if(a&&1==e.length&&su(n))return a.plant(n).value();var i=0,l=r?t[i].apply(this,e):n;while(++i<r)l=t[i].call(this,l);return l}}))}function yo(e,t,n,l,o,a,s,c,u,p){var h=t&E,d=t&A,f=t&y,g=t&(_|x),v=t&P,m=f?i:go(e);function w(){var i=arguments.length,A=r(i),y=i;while(y--)A[y]=arguments[y];if(g)var _=Vo(w),x=Qr(A,_);if(l&&(A=to(A,l,o,g)),a&&(A=ro(A,a,s,g)),i-=x,g&&i<p){var T=un(A,_);return Po(e,t,yo,w.placeholder,n,A,T,c,u,p-i)}var b=d?n:this,E=f?b[e]:e;return i=A.length,c?A=xa(A,c):v&&i>1&&A.reverse(),h&&u<i&&(A.length=u),this&&this!==or&&this instanceof w&&(E=m||go(E)),E.apply(b,A)}return w}function wo(e,t){return function(r,n){return Ui(r,e,t(n),{})}}function _o(e,t){return function(r,n){var l;if(r===i&&n===i)return t;if(r!==i&&(l=r),n!==i){if(l===i)return n;"string"==typeof r||"string"==typeof n?(r=kl(r),n=kl(n)):(r=Il(r),n=Il(n)),l=e(r,n)}return l}}function xo(e){return Mo((function(t){return t=Sr(t,$r(Wo())),wl((function(r){var n=this;return e(t,(function(e){return Ar(e,n,r)}))}))}))}function To(e,t){t=t===i?" ":kl(t);var r=t.length;if(r<2)return r?yl(t,e):t;var n=yl(t,kt(e/gn(t)));return ln(t)?Gl(vn(n),0,e).join(""):n.slice(0,e)}function bo(e,t,n,i){var l=t&A,o=go(e);function a(){var t=-1,s=arguments.length,c=-1,u=i.length,p=r(u+s),h=this&&this!==or&&this instanceof a?o:e;while(++c<u)p[c]=i[c];while(s--)p[c++]=arguments[++t];return Ar(h,l?n:this,p)}return a}function Eo(e){return function(t,r,n){return n&&"number"!=typeof n&&aa(t,r,n)&&(r=n=i),t=Zu(t),r===i?(r=t,t=0):r=Zu(r),n=n===i?t<r?1:-1:Zu(n),Al(t,r,n,e)}}function So(e){return function(t,r){return"string"==typeof t&&"string"==typeof r||(t=Yu(t),r=Yu(r)),e(t,r)}}function Po(e,t,r,n,l,o,a,s,c,u){var p=t&_,h=p?a:i,d=p?i:a,f=p?o:i,g=p?i:o;t|=p?T:b,t&=~(p?b:T),t&w||(t&=~(A|y));var v=[e,t,l,f,h,g,d,s,c,u],m=r.apply(i,v);return ua(e)&&ba(m,v),m.placeholder=n,Pa(m,e,t)}function Ro(e){var t=tt[e];return function(e,r){if(e=Yu(e),r=null==r?0:jt($u(r),292),r&&Lt(e)){var n=(Qu(e)+"e").split("e"),i=t(n[0]+"e"+(+n[1]+r));return n=(Qu(i)+"e").split("e"),+(n[0]+"e"+(+n[1]-r))}return t(e)}}var Co=tr&&1/pn(new tr([,-0]))[1]==N?function(e){return new tr(e)}:Mh;function Oo(e){return function(t){var r=Ko(t);return r==J?sn(t):r==le?hn(t):qr(t,e(t))}}function Do(e,t,r,n,l,o,a,c){var u=t&y;if(!u&&"function"!=typeof e)throw new lt(s);var p=n?n.length:0;if(p||(t&=~(T|b),n=l=i),a=a===i?a:Ht($u(a),0),c=c===i?c:$u(c),p-=l?l.length:0,t&b){var h=n,d=l;n=l=i}var f=u?i:jo(e),g=[e,t,r,n,l,h,d,o,a,c];if(f&&ma(g,f),e=g[0],t=g[1],r=g[2],n=g[3],l=g[4],c=g[9]=g[9]===i?u?0:e.length:Ht(g[9]-p,0),!c&&t&(_|x)&&(t&=~(_|x)),t&&t!=A)v=t==_||t==x?vo(e,t,c):t!=T&&t!=(A|T)||l.length?yo.apply(i,g):bo(e,t,r,n);else var v=po(e,t,r);var m=f?bl:ba;return Pa(m(v,g),e,t)}function Io(e,t,r,n){return e===i||iu(e,st[r])&&!pt.call(n,r)?t:e}function ko(e,t,r,n,l,o){return bu(e)&&bu(t)&&(o.set(t,e),sl(e,t,i,ko,o),o["delete"](t)),e}function Fo(e){return Fu(e)?i:e}function No(e,t,r,n,l,o){var a=r&v,s=e.length,c=t.length;if(s!=c&&!(a&&c>s))return!1;var u=o.get(e),p=o.get(t);if(u&&p)return u==t&&p==e;var h=-1,d=!0,f=r&m?new Xn:i;o.set(e,t),o.set(t,e);while(++h<s){var g=e[h],A=t[h];if(n)var y=a?n(A,g,h,t,e,o):n(g,A,h,e,t,o);if(y!==i){if(y)continue;d=!1;break}if(f){if(!Or(t,(function(e,t){if(!Yr(f,t)&&(g===e||l(g,e,r,n,o)))return f.push(t)}))){d=!1;break}}else if(g!==A&&!l(g,A,r,n,o)){d=!1;break}}return o["delete"](e),o["delete"](t),d}function Bo(e,t,r,n,i,l,o){switch(r){case he:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case pe:return!(e.byteLength!=t.byteLength||!l(new wt(e),new wt(t)));case q:case Z:case Q:return iu(+e,+t);case X:return e.name==t.name&&e.message==t.message;case ie:case oe:return e==t+"";case J:var a=sn;case le:var s=n&v;if(a||(a=pn),e.size!=t.size&&!s)return!1;var c=o.get(e);if(c)return c==t;n|=m,o.set(e,t);var u=No(a(e),a(t),n,i,l,o);return o["delete"](e),u;case ae:if(yn)return yn.call(e)==yn.call(t)}return!1}function Lo(e,t,r,n,l,o){var a=r&v,s=zo(e),c=s.length,u=zo(t),p=u.length;if(c!=p&&!a)return!1;var h=c;while(h--){var d=s[h];if(!(a?d in t:pt.call(t,d)))return!1}var f=o.get(e),g=o.get(t);if(f&&g)return f==t&&g==e;var m=!0;o.set(e,t),o.set(t,e);var A=a;while(++h<c){d=s[h];var y=e[d],w=t[d];if(n)var _=a?n(w,y,d,t,e,o):n(y,w,d,e,t,o);if(!(_===i?y===w||l(y,w,r,n,o):_)){m=!1;break}A||(A="constructor"==d)}if(m&&!A){var x=e.constructor,T=t.constructor;x==T||!("constructor"in e)||!("constructor"in t)||"function"==typeof x&&x instanceof x&&"function"==typeof T&&T instanceof T||(m=!1)}return o["delete"](e),o["delete"](t),m}function Mo(e){return Sa(wa(e,i,$a),e+"")}function zo(e){return Ni(e,xp,Xo)}function Ho(e){return Ni(e,Tp,Yo)}var jo=ar?function(e){return ar.get(e)}:Mh;function Uo(e){var t=e.name+"",r=sr[t],n=pt.call(sr,t)?r.length:0;while(n--){var i=r[n],l=i.func;if(null==l||l==e)return i.name}return t}function Vo(e){var t=pt.call(xn,"placeholder")?xn:e;return t.placeholder}function Wo(){var e=xn.iteratee||Dh;return e=e===Dh?tl:e,arguments.length?e(arguments[0],arguments[1]):e}function Go(e,t){var r=e.__data__;return ca(t)?r["string"==typeof t?"string":"hash"]:r.map}function qo(e){var t=xp(e),r=t.length;while(r--){var n=t[r],i=e[n];t[r]=[n,i,fa(i)]}return t}function Zo(e,t){var r=nn(e,t);return Ki(r)?r:i}function $o(e){var t=pt.call(e,Rt),r=e[Rt];try{e[Rt]=i;var n=!0}catch(o){}var l=ft.call(e);return n&&(t?e[Rt]=r:delete e[Rt]),l}var Xo=Nt?function(e){return null==e?[]:(e=rt(e),Tr(Nt(e),(function(t){return bt.call(e,t)})))}:Zh,Yo=Nt?function(e){var t=[];while(e)Pr(t,Xo(e)),e=xt(e);return t}:Zh,Ko=Bi;function Jo(e,t,r){var n=-1,i=r.length;while(++n<i){var l=r[n],o=l.size;switch(l.type){case"drop":e+=o;break;case"dropRight":t-=o;break;case"take":t=jt(t,e+o);break;case"takeRight":e=Ht(e,t-o);break}}return{start:e,end:t}}function Qo(e){var t=e.match(He);return t?t[1].split(je):[]}function ea(e,t,r){t=Vl(t,e);var n=-1,i=t.length,l=!1;while(++n<i){var o=Da(t[n]);if(!(l=null!=e&&r(e,o)))break;e=e[o]}return l||++n!=i?l:(i=null==e?0:e.length,!!i&&Tu(i)&&oa(o,i)&&(su(e)||au(e)))}function ta(e){var t=e.length,r=new e.constructor(t);return t&&"string"==typeof e[0]&&pt.call(e,"index")&&(r.index=e.index,r.input=e.input),r}function ra(e){return"function"!=typeof e.constructor||da(e)?{}:bn(xt(e))}function na(e,t,r){var n=e.constructor;switch(t){case pe:return $l(e);case q:case Z:return new n(+e);case he:return Xl(e,r);case de:case fe:case ge:case ve:case me:case Ae:case ye:case we:case _e:return Jl(e,r);case J:return new n;case Q:case oe:return new n(e);case ie:return Yl(e);case le:return new n;case ae:return Kl(e)}}function ia(e,t){var r=t.length;if(!r)return e;var n=r-1;return t[n]=(r>1?"& ":"")+t[n],t=t.join(r>2?", ":" "),e.replace(ze,"{\n/* [wrapped with "+t+"] */\n")}function la(e){return su(e)||au(e)||!!(St&&e&&e[St])}function oa(e,t){var r=typeof e;return t=null==t?B:t,!!t&&("number"==r||"symbol"!=r&&Ke.test(e))&&e>-1&&e%1==0&&e<t}function aa(e,t,r){if(!bu(r))return!1;var n=typeof t;return!!("number"==n?uu(r)&&oa(t,r.length):"string"==n&&t in r)&&iu(r[t],e)}function sa(e,t){if(su(e))return!1;var r=typeof e;return!("number"!=r&&"symbol"!=r&&"boolean"!=r&&null!=e&&!zu(e))||(ke.test(e)||!Ie.test(e)||null!=t&&e in rt(t))}function ca(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}function ua(e){var t=Uo(e),r=xn[t];if("function"!=typeof r||!(t in Pn.prototype))return!1;if(e===r)return!0;var n=jo(r);return!!n&&e===n[0]}function pa(e){return!!dt&&dt in e}(Jt&&Ko(new Jt(new ArrayBuffer(1)))!=he||Qt&&Ko(new Qt)!=J||er&&Ko(er.resolve())!=re||tr&&Ko(new tr)!=le||ir&&Ko(new ir)!=ce)&&(Ko=function(e){var t=Bi(e),r=t==te?e.constructor:i,n=r?Ia(r):"";if(n)switch(n){case ur:return he;case pr:return J;case Dr:return re;case Ir:return le;case jr:return ce}return t});var ha=ct?_u:$h;function da(e){var t=e&&e.constructor,r="function"==typeof t&&t.prototype||st;return e===r}function fa(e){return e===e&&!bu(e)}function ga(e,t){return function(r){return null!=r&&(r[e]===t&&(t!==i||e in rt(r)))}}function va(e){var t=Hc(e,(function(e){return r.size===p&&r.clear(),e})),r=t.cache;return t}function ma(e,t){var r=e[1],n=t[1],i=r|n,l=i<(A|y|E),o=n==E&&r==_||n==E&&r==S&&e[7].length<=t[8]||n==(E|S)&&t[7].length<=t[8]&&r==_;if(!l&&!o)return e;n&A&&(e[2]=t[2],i|=r&A?0:w);var a=t[3];if(a){var s=e[3];e[3]=s?to(s,a,t[4]):a,e[4]=s?un(e[3],h):t[4]}return a=t[5],a&&(s=e[5],e[5]=s?ro(s,a,t[6]):a,e[6]=s?un(e[5],h):t[6]),a=t[7],a&&(e[7]=a),n&E&&(e[8]=null==e[8]?t[8]:jt(e[8],t[8])),null==e[9]&&(e[9]=t[9]),e[0]=t[0],e[1]=i,e}function Aa(e){var t=[];if(null!=e)for(var r in rt(e))t.push(r);return t}function ya(e){return ft.call(e)}function wa(e,t,n){return t=Ht(t===i?e.length-1:t,0),function(){var i=arguments,l=-1,o=Ht(i.length-t,0),a=r(o);while(++l<o)a[l]=i[t+l];l=-1;var s=r(t+1);while(++l<t)s[l]=i[l];return s[t]=n(a),Ar(e,this,s)}}function _a(e,t){return t.length<2?e:Fi(e,Pl(t,0,-1))}function xa(e,t){var r=e.length,n=jt(t.length,r),l=no(e);while(n--){var o=t[n];e[n]=oa(o,r)?l[o]:i}return e}function Ta(e,t){if(("constructor"!==t||"function"!==typeof e[t])&&"__proto__"!=t)return e[t]}var ba=Ra(bl),Ea=It||function(e,t){return or.setTimeout(e,t)},Sa=Ra(El);function Pa(e,t,r){var n=t+"";return Sa(e,ia(n,ka(Qo(n),r)))}function Ra(e){var t=0,r=0;return function(){var n=Wt(),l=D-(n-r);if(r=n,l>0){if(++t>=O)return arguments[0]}else t=0;return e.apply(i,arguments)}}function Ca(e,t){var r=-1,n=e.length,l=n-1;t=t===i?n:t;while(++r<t){var o=ml(r,l),a=e[o];e[o]=e[r],e[r]=a}return e.length=t,e}var Oa=va((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(Fe,(function(e,r,n,i){t.push(n?i.replace(We,"$1"):r||e)})),t}));function Da(e){if("string"==typeof e||zu(e))return e;var t=e+"";return"0"==t&&1/e==-N?"-0":t}function Ia(e){if(null!=e){try{return ut.call(e)}catch(t){}try{return e+""}catch(t){}}return""}function ka(e,t){return wr(U,(function(r){var n="_."+r[0];t&r[1]&&!br(e,n)&&e.push(n)})),e.sort()}function Fa(e){if(e instanceof Pn)return e.clone();var t=new Sn(e.__wrapped__,e.__chain__);return t.__actions__=no(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}function Na(e,t,n){t=(n?aa(e,t,n):t===i)?1:Ht($u(t),0);var l=null==e?0:e.length;if(!l||t<1)return[];var o=0,a=0,s=r(kt(l/t));while(o<l)s[a++]=Pl(e,o,o+=t);return s}function Ba(e){var t=-1,r=null==e?0:e.length,n=0,i=[];while(++t<r){var l=e[t];l&&(i[n++]=l)}return i}function La(){var e=arguments.length;if(!e)return[];var t=r(e-1),n=arguments[0],i=e;while(i--)t[i-1]=arguments[i];return Pr(su(n)?no(n):[n],Ri(t,1))}var Ma=wl((function(e,t){return pu(e)?_i(e,Ri(t,1,pu,!0)):[]})),za=wl((function(e,t){var r=ls(t);return pu(r)&&(r=i),pu(e)?_i(e,Ri(t,1,pu,!0),Wo(r,2)):[]})),Ha=wl((function(e,t){var r=ls(t);return pu(r)&&(r=i),pu(e)?_i(e,Ri(t,1,pu,!0),i,r):[]}));function ja(e,t,r){var n=null==e?0:e.length;return n?(t=r||t===i?1:$u(t),Pl(e,t<0?0:t,n)):[]}function Ua(e,t,r){var n=null==e?0:e.length;return n?(t=r||t===i?1:$u(t),t=n-t,Pl(e,0,t<0?0:t)):[]}function Va(e,t){return e&&e.length?Ll(e,Wo(t,3),!0,!0):[]}function Wa(e,t){return e&&e.length?Ll(e,Wo(t,3),!0):[]}function Ga(e,t,r,n){var i=null==e?0:e.length;return i?(r&&"number"!=typeof r&&aa(e,t,r)&&(r=0,n=i),Si(e,t,r,n)):[]}function qa(e,t,r){var n=null==e?0:e.length;if(!n)return-1;var i=null==r?0:$u(r);return i<0&&(i=Ht(n+i,0)),Nr(e,Wo(t,3),i)}function Za(e,t,r){var n=null==e?0:e.length;if(!n)return-1;var l=n-1;return r!==i&&(l=$u(r),l=r<0?Ht(n+l,0):jt(l,n-1)),Nr(e,Wo(t,3),l,!0)}function $a(e){var t=null==e?0:e.length;return t?Ri(e,1):[]}function Xa(e){var t=null==e?0:e.length;return t?Ri(e,N):[]}function Ya(e,t){var r=null==e?0:e.length;return r?(t=t===i?1:$u(t),Ri(e,t)):[]}function Ka(e){var t=-1,r=null==e?0:e.length,n={};while(++t<r){var i=e[t];n[i[0]]=i[1]}return n}function Ja(e){return e&&e.length?e[0]:i}function Qa(e,t,r){var n=null==e?0:e.length;if(!n)return-1;var i=null==r?0:$u(r);return i<0&&(i=Ht(n+i,0)),Br(e,t,i)}function es(e){var t=null==e?0:e.length;return t?Pl(e,0,-1):[]}var ts=wl((function(e){var t=Sr(e,jl);return t.length&&t[0]===e[0]?ji(t):[]})),rs=wl((function(e){var t=ls(e),r=Sr(e,jl);return t===ls(r)?t=i:r.pop(),r.length&&r[0]===e[0]?ji(r,Wo(t,2)):[]})),ns=wl((function(e){var t=ls(e),r=Sr(e,jl);return t="function"==typeof t?t:i,t&&r.pop(),r.length&&r[0]===e[0]?ji(r,i,t):[]}));function is(e,t){return null==e?"":Mt.call(e,t)}function ls(e){var t=null==e?0:e.length;return t?e[t-1]:i}function os(e,t,r){var n=null==e?0:e.length;if(!n)return-1;var l=n;return r!==i&&(l=$u(r),l=l<0?Ht(n+l,0):jt(l,n-1)),t===t?fn(e,t,l):Nr(e,Mr,l,!0)}function as(e,t){return e&&e.length?ul(e,$u(t)):i}var ss=wl(cs);function cs(e,t){return e&&e.length&&t&&t.length?gl(e,t):e}function us(e,t,r){return e&&e.length&&t&&t.length?gl(e,t,Wo(r,2)):e}function ps(e,t,r){return e&&e.length&&t&&t.length?gl(e,t,i,r):e}var hs=Mo((function(e,t){var r=null==e?0:e.length,n=gi(e,t);return vl(e,Sr(t,(function(e){return oa(e,r)?+e:e})).sort(Ql)),n}));function ds(e,t){var r=[];if(!e||!e.length)return r;var n=-1,i=[],l=e.length;t=Wo(t,3);while(++n<l){var o=e[n];t(o,n,e)&&(r.push(o),i.push(n))}return vl(e,i),r}function fs(e){return null==e?e:Zt.call(e)}function gs(e,t,r){var n=null==e?0:e.length;return n?(r&&"number"!=typeof r&&aa(e,t,r)?(t=0,r=n):(t=null==t?0:$u(t),r=r===i?n:$u(r)),Pl(e,t,r)):[]}function vs(e,t){return Cl(e,t)}function ms(e,t,r){return Ol(e,t,Wo(r,2))}function As(e,t){var r=null==e?0:e.length;if(r){var n=Cl(e,t);if(n<r&&iu(e[n],t))return n}return-1}function ys(e,t){return Cl(e,t,!0)}function ws(e,t,r){return Ol(e,t,Wo(r,2),!0)}function _s(e,t){var r=null==e?0:e.length;if(r){var n=Cl(e,t,!0)-1;if(iu(e[n],t))return n}return-1}function xs(e){return e&&e.length?Dl(e):[]}function Ts(e,t){return e&&e.length?Dl(e,Wo(t,2)):[]}function bs(e){var t=null==e?0:e.length;return t?Pl(e,1,t):[]}function Es(e,t,r){return e&&e.length?(t=r||t===i?1:$u(t),Pl(e,0,t<0?0:t)):[]}function Ss(e,t,r){var n=null==e?0:e.length;return n?(t=r||t===i?1:$u(t),t=n-t,Pl(e,t<0?0:t,n)):[]}function Ps(e,t){return e&&e.length?Ll(e,Wo(t,3),!1,!0):[]}function Rs(e,t){return e&&e.length?Ll(e,Wo(t,3)):[]}var Cs=wl((function(e){return Fl(Ri(e,1,pu,!0))})),Os=wl((function(e){var t=ls(e);return pu(t)&&(t=i),Fl(Ri(e,1,pu,!0),Wo(t,2))})),Ds=wl((function(e){var t=ls(e);return t="function"==typeof t?t:i,Fl(Ri(e,1,pu,!0),i,t)}));function Is(e){return e&&e.length?Fl(e):[]}function ks(e,t){return e&&e.length?Fl(e,Wo(t,2)):[]}function Fs(e,t){return t="function"==typeof t?t:i,e&&e.length?Fl(e,i,t):[]}function Ns(e){if(!e||!e.length)return[];var t=0;return e=Tr(e,(function(e){if(pu(e))return t=Ht(e.length,t),!0})),Gr(t,(function(t){return Sr(e,Hr(t))}))}function Bs(e,t){if(!e||!e.length)return[];var r=Ns(e);return null==t?r:Sr(r,(function(e){return Ar(t,i,e)}))}var Ls=wl((function(e,t){return pu(e)?_i(e,t):[]})),Ms=wl((function(e){return zl(Tr(e,pu))})),zs=wl((function(e){var t=ls(e);return pu(t)&&(t=i),zl(Tr(e,pu),Wo(t,2))})),Hs=wl((function(e){var t=ls(e);return t="function"==typeof t?t:i,zl(Tr(e,pu),i,t)})),js=wl(Ns);function Us(e,t){return Hl(e||[],t||[],ci)}function Vs(e,t){return Hl(e||[],t||[],Tl)}var Ws=wl((function(e){var t=e.length,r=t>1?e[t-1]:i;return r="function"==typeof r?(e.pop(),r):i,Bs(e,r)}));function Gs(e){var t=xn(e);return t.__chain__=!0,t}function qs(e,t){return t(e),e}function Zs(e,t){return t(e)}var $s=Mo((function(e){var t=e.length,r=t?e[0]:0,n=this.__wrapped__,l=function(t){return gi(t,e)};return!(t>1||this.__actions__.length)&&n instanceof Pn&&oa(r)?(n=n.slice(r,+r+(t?1:0)),n.__actions__.push({func:Zs,args:[l],thisArg:i}),new Sn(n,this.__chain__).thru((function(e){return t&&!e.length&&e.push(i),e}))):this.thru(l)}));function Xs(){return Gs(this)}function Ys(){return new Sn(this.value(),this.__chain__)}function Ks(){this.__values__===i&&(this.__values__=qu(this.value()));var e=this.__index__>=this.__values__.length,t=e?i:this.__values__[this.__index__++];return{done:e,value:t}}function Js(){return this}function Qs(e){var t,r=this;while(r instanceof En){var n=Fa(r);n.__index__=0,n.__values__=i,t?l.__wrapped__=n:t=n;var l=n;r=r.__wrapped__}return l.__wrapped__=e,t}function ec(){var e=this.__wrapped__;if(e instanceof Pn){var t=e;return this.__actions__.length&&(t=new Pn(this)),t=t.reverse(),t.__actions__.push({func:Zs,args:[fs],thisArg:i}),new Sn(t,this.__chain__)}return this.thru(fs)}function tc(){return Ml(this.__wrapped__,this.__actions__)}var rc=ao((function(e,t,r){pt.call(e,r)?++e[r]:fi(e,r,1)}));function nc(e,t,r){var n=su(e)?xr:bi;return r&&aa(e,t,r)&&(t=i),n(e,Wo(t,3))}function ic(e,t){var r=su(e)?Tr:Pi;return r(e,Wo(t,3))}var lc=mo(qa),oc=mo(Za);function ac(e,t){return Ri(vc(e,t),1)}function sc(e,t){return Ri(vc(e,t),N)}function cc(e,t,r){return r=r===i?1:$u(r),Ri(vc(e,t),r)}function uc(e,t){var r=su(e)?wr:xi;return r(e,Wo(t,3))}function pc(e,t){var r=su(e)?_r:Ti;return r(e,Wo(t,3))}var hc=ao((function(e,t,r){pt.call(e,r)?e[r].push(t):fi(e,r,[t])}));function dc(e,t,r,n){e=uu(e)?e:jp(e),r=r&&!n?$u(r):0;var i=e.length;return r<0&&(r=Ht(i+r,0)),Mu(e)?r<=i&&e.indexOf(t,r)>-1:!!i&&Br(e,t,r)>-1}var fc=wl((function(e,t,n){var i=-1,l="function"==typeof t,o=uu(e)?r(e.length):[];return xi(e,(function(e){o[++i]=l?Ar(t,e,n):Vi(e,t,n)})),o})),gc=ao((function(e,t,r){fi(e,r,t)}));function vc(e,t){var r=su(e)?Sr:ll;return r(e,Wo(t,3))}function mc(e,t,r,n){return null==e?[]:(su(t)||(t=null==t?[]:[t]),r=n?i:r,su(r)||(r=null==r?[]:[r]),pl(e,t,r))}var Ac=ao((function(e,t,r){e[r?0:1].push(t)}),(function(){return[[],[]]}));function yc(e,t,r){var n=su(e)?Rr:Ur,i=arguments.length<3;return n(e,Wo(t,4),r,i,xi)}function wc(e,t,r){var n=su(e)?Cr:Ur,i=arguments.length<3;return n(e,Wo(t,4),r,i,Ti)}function _c(e,t){var r=su(e)?Tr:Pi;return r(e,jc(Wo(t,3)))}function xc(e){var t=su(e)?li:_l;return t(e)}function Tc(e,t,r){t=(r?aa(e,t,r):t===i)?1:$u(t);var n=su(e)?oi:xl;return n(e,t)}function bc(e){var t=su(e)?ai:Sl;return t(e)}function Ec(e){if(null==e)return 0;if(uu(e))return Mu(e)?gn(e):e.length;var t=Ko(e);return t==J||t==le?e.size:rl(e).length}function Sc(e,t,r){var n=su(e)?Or:Rl;return r&&aa(e,t,r)&&(t=i),n(e,Wo(t,3))}var Pc=wl((function(e,t){if(null==e)return[];var r=t.length;return r>1&&aa(e,t[0],t[1])?t=[]:r>2&&aa(t[0],t[1],t[2])&&(t=[t[0]]),pl(e,Ri(t,1),[])})),Rc=Dt||function(){return or.Date.now()};function Cc(e,t){if("function"!=typeof t)throw new lt(s);return e=$u(e),function(){if(--e<1)return t.apply(this,arguments)}}function Oc(e,t,r){return t=r?i:t,t=e&&null==t?e.length:t,Do(e,E,i,i,i,i,t)}function Dc(e,t){var r;if("function"!=typeof t)throw new lt(s);return e=$u(e),function(){return--e>0&&(r=t.apply(this,arguments)),e<=1&&(t=i),r}}var Ic=wl((function(e,t,r){var n=A;if(r.length){var i=un(r,Vo(Ic));n|=T}return Do(e,n,t,r,i)})),kc=wl((function(e,t,r){var n=A|y;if(r.length){var i=un(r,Vo(kc));n|=T}return Do(t,n,e,r,i)}));function Fc(e,t,r){t=r?i:t;var n=Do(e,_,i,i,i,i,i,t);return n.placeholder=Fc.placeholder,n}function Nc(e,t,r){t=r?i:t;var n=Do(e,x,i,i,i,i,i,t);return n.placeholder=Nc.placeholder,n}function Bc(e,t,r){var n,l,o,a,c,u,p=0,h=!1,d=!1,f=!0;if("function"!=typeof e)throw new lt(s);function g(t){var r=n,o=l;return n=l=i,p=t,a=e.apply(o,r),a}function v(e){return p=e,c=Ea(y,t),h?g(e):a}function m(e){var r=e-u,n=e-p,i=t-r;return d?jt(i,o-n):i}function A(e){var r=e-u,n=e-p;return u===i||r>=t||r<0||d&&n>=o}function y(){var e=Rc();if(A(e))return w(e);c=Ea(y,m(e))}function w(e){return c=i,f&&n?g(e):(n=l=i,a)}function _(){c!==i&&ql(c),p=0,n=u=l=c=i}function x(){return c===i?a:w(Rc())}function T(){var e=Rc(),r=A(e);if(n=arguments,l=this,u=e,r){if(c===i)return v(u);if(d)return ql(c),c=Ea(y,t),g(u)}return c===i&&(c=Ea(y,t)),a}return t=Yu(t)||0,bu(r)&&(h=!!r.leading,d="maxWait"in r,o=d?Ht(Yu(r.maxWait)||0,t):o,f="trailing"in r?!!r.trailing:f),T.cancel=_,T.flush=x,T}var Lc=wl((function(e,t){return wi(e,1,t)})),Mc=wl((function(e,t,r){return wi(e,Yu(t)||0,r)}));function zc(e){return Do(e,P)}function Hc(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new lt(s);var r=function(){var n=arguments,i=t?t.apply(this,n):n[0],l=r.cache;if(l.has(i))return l.get(i);var o=e.apply(this,n);return r.cache=l.set(i,o)||l,o};return r.cache=new(Hc.Cache||Vn),r}function jc(e){if("function"!=typeof e)throw new lt(s);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}function Uc(e){return Dc(2,e)}Hc.Cache=Vn;var Vc=Wl((function(e,t){t=1==t.length&&su(t[0])?Sr(t[0],$r(Wo())):Sr(Ri(t,1),$r(Wo()));var r=t.length;return wl((function(n){var i=-1,l=jt(n.length,r);while(++i<l)n[i]=t[i].call(this,n[i]);return Ar(e,this,n)}))})),Wc=wl((function(e,t){var r=un(t,Vo(Wc));return Do(e,T,i,t,r)})),Gc=wl((function(e,t){var r=un(t,Vo(Gc));return Do(e,b,i,t,r)})),qc=Mo((function(e,t){return Do(e,S,i,i,i,t)}));function Zc(e,t){if("function"!=typeof e)throw new lt(s);return t=t===i?t:$u(t),wl(e,t)}function $c(e,t){if("function"!=typeof e)throw new lt(s);return t=null==t?0:Ht($u(t),0),wl((function(r){var n=r[t],i=Gl(r,0,t);return n&&Pr(i,n),Ar(e,this,i)}))}function Xc(e,t,r){var n=!0,i=!0;if("function"!=typeof e)throw new lt(s);return bu(r)&&(n="leading"in r?!!r.leading:n,i="trailing"in r?!!r.trailing:i),Bc(e,t,{leading:n,maxWait:t,trailing:i})}function Yc(e){return Oc(e,1)}function Kc(e,t){return Wc(Ul(t),e)}function Jc(){if(!arguments.length)return[];var e=arguments[0];return su(e)?e:[e]}function Qc(e){return mi(e,g)}function eu(e,t){return t="function"==typeof t?t:i,mi(e,g,t)}function tu(e){return mi(e,d|g)}function ru(e,t){return t="function"==typeof t?t:i,mi(e,d|g,t)}function nu(e,t){return null==t||yi(e,t,xp(t))}function iu(e,t){return e===t||e!==e&&t!==t}var lu=So(Li),ou=So((function(e,t){return e>=t})),au=Wi(function(){return arguments}())?Wi:function(e){return Eu(e)&&pt.call(e,"callee")&&!bt.call(e,"callee")},su=r.isArray,cu=hr?$r(hr):Gi;function uu(e){return null!=e&&Tu(e.length)&&!_u(e)}function pu(e){return Eu(e)&&uu(e)}function hu(e){return!0===e||!1===e||Eu(e)&&Bi(e)==q}var du=Bt||$h,fu=dr?$r(dr):qi;function gu(e){return Eu(e)&&1===e.nodeType&&!Fu(e)}function vu(e){if(null==e)return!0;if(uu(e)&&(su(e)||"string"==typeof e||"function"==typeof e.splice||du(e)||Hu(e)||au(e)))return!e.length;var t=Ko(e);if(t==J||t==le)return!e.size;if(da(e))return!rl(e).length;for(var r in e)if(pt.call(e,r))return!1;return!0}function mu(e,t){return Zi(e,t)}function Au(e,t,r){r="function"==typeof r?r:i;var n=r?r(e,t):i;return n===i?Zi(e,t,i,r):!!n}function yu(e){if(!Eu(e))return!1;var t=Bi(e);return t==X||t==$||"string"==typeof e.message&&"string"==typeof e.name&&!Fu(e)}function wu(e){return"number"==typeof e&&Lt(e)}function _u(e){if(!bu(e))return!1;var t=Bi(e);return t==Y||t==K||t==G||t==ne}function xu(e){return"number"==typeof e&&e==$u(e)}function Tu(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=B}function bu(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function Eu(e){return null!=e&&"object"==typeof e}var Su=fr?$r(fr):Xi;function Pu(e,t){return e===t||Yi(e,t,qo(t))}function Ru(e,t,r){return r="function"==typeof r?r:i,Yi(e,t,qo(t),r)}function Cu(e){return ku(e)&&e!=+e}function Ou(e){if(ha(e))throw new Me(a);return Ki(e)}function Du(e){return null===e}function Iu(e){return null==e}function ku(e){return"number"==typeof e||Eu(e)&&Bi(e)==Q}function Fu(e){if(!Eu(e)||Bi(e)!=te)return!1;var t=xt(e);if(null===t)return!0;var r=pt.call(t,"constructor")&&t.constructor;return"function"==typeof r&&r instanceof r&&ut.call(r)==gt}var Nu=gr?$r(gr):Ji;function Bu(e){return xu(e)&&e>=-B&&e<=B}var Lu=vr?$r(vr):Qi;function Mu(e){return"string"==typeof e||!su(e)&&Eu(e)&&Bi(e)==oe}function zu(e){return"symbol"==typeof e||Eu(e)&&Bi(e)==ae}var Hu=mr?$r(mr):el;function ju(e){return e===i}function Uu(e){return Eu(e)&&Ko(e)==ce}function Vu(e){return Eu(e)&&Bi(e)==ue}var Wu=So(il),Gu=So((function(e,t){return e<=t}));function qu(e){if(!e)return[];if(uu(e))return Mu(e)?vn(e):no(e);if(Pt&&e[Pt])return an(e[Pt]());var t=Ko(e),r=t==J?sn:t==le?pn:jp;return r(e)}function Zu(e){if(!e)return 0===e?e:0;if(e=Yu(e),e===N||e===-N){var t=e<0?-1:1;return t*L}return e===e?e:0}function $u(e){var t=Zu(e),r=t%1;return t===t?r?t-r:t:0}function Xu(e){return e?vi($u(e),0,z):0}function Yu(e){if("number"==typeof e)return e;if(zu(e))return M;if(bu(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=bu(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=Zr(e);var r=$e.test(e);return r||Ye.test(e)?nr(e.slice(2),r?2:8):Ze.test(e)?M:+e}function Ku(e){return io(e,Tp(e))}function Ju(e){return e?vi($u(e),-B,B):0===e?e:0}function Qu(e){return null==e?"":kl(e)}var ep=so((function(e,t){if(da(t)||uu(t))io(t,xp(t),e);else for(var r in t)pt.call(t,r)&&ci(e,r,t[r])})),tp=so((function(e,t){io(t,Tp(t),e)})),rp=so((function(e,t,r,n){io(t,Tp(t),e,n)})),np=so((function(e,t,r,n){io(t,xp(t),e,n)})),ip=Mo(gi);function lp(e,t){var r=bn(e);return null==t?r:hi(r,t)}var op=wl((function(e,t){e=rt(e);var r=-1,n=t.length,l=n>2?t[2]:i;l&&aa(t[0],t[1],l)&&(n=1);while(++r<n){var o=t[r],a=Tp(o),s=-1,c=a.length;while(++s<c){var u=a[s],p=e[u];(p===i||iu(p,st[u])&&!pt.call(e,u))&&(e[u]=o[u])}}return e})),ap=wl((function(e){return e.push(i,ko),Ar(Pp,i,e)}));function sp(e,t){return Fr(e,Wo(t,3),Di)}function cp(e,t){return Fr(e,Wo(t,3),Ii)}function up(e,t){return null==e?e:Ci(e,Wo(t,3),Tp)}function pp(e,t){return null==e?e:Oi(e,Wo(t,3),Tp)}function hp(e,t){return e&&Di(e,Wo(t,3))}function dp(e,t){return e&&Ii(e,Wo(t,3))}function fp(e){return null==e?[]:ki(e,xp(e))}function gp(e){return null==e?[]:ki(e,Tp(e))}function vp(e,t,r){var n=null==e?i:Fi(e,t);return n===i?r:n}function mp(e,t){return null!=e&&ea(e,t,Mi)}function Ap(e,t){return null!=e&&ea(e,t,zi)}var yp=wo((function(e,t,r){null!=t&&"function"!=typeof t.toString&&(t=ft.call(t)),e[t]=r}),Sh(Oh)),wp=wo((function(e,t,r){null!=t&&"function"!=typeof t.toString&&(t=ft.call(t)),pt.call(e,t)?e[t].push(r):e[t]=[r]}),Wo),_p=wl(Vi);function xp(e){return uu(e)?ii(e):rl(e)}function Tp(e){return uu(e)?ii(e,!0):nl(e)}function bp(e,t){var r={};return t=Wo(t,3),Di(e,(function(e,n,i){fi(r,t(e,n,i),e)})),r}function Ep(e,t){var r={};return t=Wo(t,3),Di(e,(function(e,n,i){fi(r,n,t(e,n,i))})),r}var Sp=so((function(e,t,r){sl(e,t,r)})),Pp=so((function(e,t,r,n){sl(e,t,r,n)})),Rp=Mo((function(e,t){var r={};if(null==e)return r;var n=!1;t=Sr(t,(function(t){return t=Vl(t,e),n||(n=t.length>1),t})),io(e,Ho(e),r),n&&(r=mi(r,d|f|g,Fo));var i=t.length;while(i--)Nl(r,t[i]);return r}));function Cp(e,t){return Dp(e,jc(Wo(t)))}var Op=Mo((function(e,t){return null==e?{}:hl(e,t)}));function Dp(e,t){if(null==e)return{};var r=Sr(Ho(e),(function(e){return[e]}));return t=Wo(t),dl(e,r,(function(e,r){return t(e,r[0])}))}function Ip(e,t,r){t=Vl(t,e);var n=-1,l=t.length;l||(l=1,e=i);while(++n<l){var o=null==e?i:e[Da(t[n])];o===i&&(n=l,o=r),e=_u(o)?o.call(e):o}return e}function kp(e,t,r){return null==e?e:Tl(e,t,r)}function Fp(e,t,r,n){return n="function"==typeof n?n:i,null==e?e:Tl(e,t,r,n)}var Np=Oo(xp),Bp=Oo(Tp);function Lp(e,t,r){var n=su(e),i=n||du(e)||Hu(e);if(t=Wo(t,4),null==r){var l=e&&e.constructor;r=i?n?new l:[]:bu(e)&&_u(l)?bn(xt(e)):{}}return(i?wr:Di)(e,(function(e,n,i){return t(r,e,n,i)})),r}function Mp(e,t){return null==e||Nl(e,t)}function zp(e,t,r){return null==e?e:Bl(e,t,Ul(r))}function Hp(e,t,r,n){return n="function"==typeof n?n:i,null==e?e:Bl(e,t,Ul(r),n)}function jp(e){return null==e?[]:Xr(e,xp(e))}function Up(e){return null==e?[]:Xr(e,Tp(e))}function Vp(e,t,r){return r===i&&(r=t,t=i),r!==i&&(r=Yu(r),r=r===r?r:0),t!==i&&(t=Yu(t),t=t===t?t:0),vi(Yu(e),t,r)}function Wp(e,t,r){return t=Zu(t),r===i?(r=t,t=0):r=Zu(r),e=Yu(e),Hi(e,t,r)}function Gp(e,t,r){if(r&&"boolean"!=typeof r&&aa(e,t,r)&&(t=r=i),r===i&&("boolean"==typeof t?(r=t,t=i):"boolean"==typeof e&&(r=e,e=i)),e===i&&t===i?(e=0,t=1):(e=Zu(e),t===i?(t=e,e=0):t=Zu(t)),e>t){var n=e;e=t,t=n}if(r||e%1||t%1){var l=qt();return jt(e+l*(t-e+rr("1e-"+((l+"").length-1))),t)}return ml(e,t)}var qp=fo((function(e,t,r){return t=t.toLowerCase(),e+(r?Zp(t):t)}));function Zp(e){return wh(Qu(e).toLowerCase())}function $p(e){return e=Qu(e),e&&e.replace(Je,en).replace(Vt,"")}function Xp(e,t,r){e=Qu(e),t=kl(t);var n=e.length;r=r===i?n:vi($u(r),0,n);var l=r;return r-=t.length,r>=0&&e.slice(r,l)==t}function Yp(e){return e=Qu(e),e&&Re.test(e)?e.replace(Se,tn):e}function Kp(e){return e=Qu(e),e&&Be.test(e)?e.replace(Ne,"\\$&"):e}var Jp=fo((function(e,t,r){return e+(r?"-":"")+t.toLowerCase()})),Qp=fo((function(e,t,r){return e+(r?" ":"")+t.toLowerCase()})),eh=ho("toLowerCase");function th(e,t,r){e=Qu(e),t=$u(t);var n=t?gn(e):0;if(!t||n>=t)return e;var i=(t-n)/2;return To(Ft(i),r)+e+To(kt(i),r)}function rh(e,t,r){e=Qu(e),t=$u(t);var n=t?gn(e):0;return t&&n<t?e+To(t-n,r):e}function nh(e,t,r){e=Qu(e),t=$u(t);var n=t?gn(e):0;return t&&n<t?To(t-n,r)+e:e}function ih(e,t,r){return r||null==t?t=0:t&&(t=+t),Gt(Qu(e).replace(Le,""),t||0)}function lh(e,t,r){return t=(r?aa(e,t,r):t===i)?1:$u(t),yl(Qu(e),t)}function oh(){var e=arguments,t=Qu(e[0]);return e.length<3?t:t.replace(e[1],e[2])}var ah=fo((function(e,t,r){return e+(r?"_":"")+t.toLowerCase()}));function sh(e,t,r){return r&&"number"!=typeof r&&aa(e,t,r)&&(t=r=i),r=r===i?z:r>>>0,r?(e=Qu(e),e&&("string"==typeof t||null!=t&&!Nu(t))&&(t=kl(t),!t&&ln(e))?Gl(vn(e),0,r):e.split(t,r)):[]}var ch=fo((function(e,t,r){return e+(r?" ":"")+wh(t)}));function uh(e,t,r){return e=Qu(e),r=null==r?0:vi($u(r),0,e.length),t=kl(t),e.slice(r,r+t.length)==t}function ph(e,t,r){var n=xn.templateSettings;r&&aa(e,t,r)&&(t=i),e=Qu(e),t=rp({},t,n,Io);var l,o,a=rp({},t.imports,n.imports,Io),s=xp(a),u=Xr(a,s),p=0,h=t.interpolate||Qe,d="__p += '",f=nt((t.escape||Qe).source+"|"+h.source+"|"+(h===De?Ge:Qe).source+"|"+(t.evaluate||Qe).source+"|$","g"),g="//# sourceURL="+(pt.call(t,"sourceURL")?(t.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Xt+"]")+"\n";e.replace(f,(function(t,r,n,i,a,s){return n||(n=i),d+=e.slice(p,s).replace(et,rn),r&&(l=!0,d+="' +\n__e("+r+") +\n'"),a&&(o=!0,d+="';\n"+a+";\n__p += '"),n&&(d+="' +\n((__t = ("+n+")) == null ? '' : __t) +\n'"),p=s+t.length,t})),d+="';\n";var v=pt.call(t,"variable")&&t.variable;if(v){if(Ve.test(v))throw new Me(c)}else d="with (obj) {\n"+d+"\n}\n";d=(o?d.replace(xe,""):d).replace(Te,"$1").replace(be,"$1;"),d="function("+(v||"obj")+") {\n"+(v?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(l?", __e = _.escape":"")+(o?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+d+"return __p\n}";var m=xh((function(){return Ue(s,g+"return "+d).apply(i,u)}));if(m.source=d,yu(m))throw m;return m}function hh(e){return Qu(e).toLowerCase()}function dh(e){return Qu(e).toUpperCase()}function fh(e,t,r){if(e=Qu(e),e&&(r||t===i))return Zr(e);if(!e||!(t=kl(t)))return e;var n=vn(e),l=vn(t),o=Kr(n,l),a=Jr(n,l)+1;return Gl(n,o,a).join("")}function gh(e,t,r){if(e=Qu(e),e&&(r||t===i))return e.slice(0,mn(e)+1);if(!e||!(t=kl(t)))return e;var n=vn(e),l=Jr(n,vn(t))+1;return Gl(n,0,l).join("")}function vh(e,t,r){if(e=Qu(e),e&&(r||t===i))return e.replace(Le,"");if(!e||!(t=kl(t)))return e;var n=vn(e),l=Kr(n,vn(t));return Gl(n,l).join("")}function mh(e,t){var r=R,n=C;if(bu(t)){var l="separator"in t?t.separator:l;r="length"in t?$u(t.length):r,n="omission"in t?kl(t.omission):n}e=Qu(e);var o=e.length;if(ln(e)){var a=vn(e);o=a.length}if(r>=o)return e;var s=r-gn(n);if(s<1)return n;var c=a?Gl(a,0,s).join(""):e.slice(0,s);if(l===i)return c+n;if(a&&(s+=c.length-s),Nu(l)){if(e.slice(s).search(l)){var u,p=c;l.global||(l=nt(l.source,Qu(qe.exec(l))+"g")),l.lastIndex=0;while(u=l.exec(p))var h=u.index;c=c.slice(0,h===i?s:h)}}else if(e.indexOf(kl(l),s)!=s){var d=c.lastIndexOf(l);d>-1&&(c=c.slice(0,d))}return c+n}function Ah(e){return e=Qu(e),e&&Pe.test(e)?e.replace(Ee,An):e}var yh=fo((function(e,t,r){return e+(r?" ":"")+t.toUpperCase()})),wh=ho("toUpperCase");function _h(e,t,r){return e=Qu(e),t=r?i:t,t===i?on(e)?_n(e):kr(e):e.match(t)||[]}var xh=wl((function(e,t){try{return Ar(e,i,t)}catch(r){return yu(r)?r:new Me(r)}})),Th=Mo((function(e,t){return wr(t,(function(t){t=Da(t),fi(e,t,Ic(e[t],e))})),e}));function bh(e){var t=null==e?0:e.length,r=Wo();return e=t?Sr(e,(function(e){if("function"!=typeof e[1])throw new lt(s);return[r(e[0]),e[1]]})):[],wl((function(r){var n=-1;while(++n<t){var i=e[n];if(Ar(i[0],this,r))return Ar(i[1],this,r)}}))}function Eh(e){return Ai(mi(e,d))}function Sh(e){return function(){return e}}function Ph(e,t){return null==e||e!==e?t:e}var Rh=Ao(),Ch=Ao(!0);function Oh(e){return e}function Dh(e){return tl("function"==typeof e?e:mi(e,d))}function Ih(e){return ol(mi(e,d))}function kh(e,t){return al(e,mi(t,d))}var Fh=wl((function(e,t){return function(r){return Vi(r,e,t)}})),Nh=wl((function(e,t){return function(r){return Vi(e,r,t)}}));function Bh(e,t,r){var n=xp(t),i=ki(t,n);null!=r||bu(t)&&(i.length||!n.length)||(r=t,t=e,e=this,i=ki(t,xp(t)));var l=!(bu(r)&&"chain"in r)||!!r.chain,o=_u(e);return wr(i,(function(r){var n=t[r];e[r]=n,o&&(e.prototype[r]=function(){var t=this.__chain__;if(l||t){var r=e(this.__wrapped__),i=r.__actions__=no(this.__actions__);return i.push({func:n,args:arguments,thisArg:e}),r.__chain__=t,r}return n.apply(e,Pr([this.value()],arguments))})})),e}function Lh(){return or._===this&&(or._=vt),this}function Mh(){}function zh(e){return e=$u(e),wl((function(t){return ul(t,e)}))}var Hh=xo(Sr),jh=xo(xr),Uh=xo(Or);function Vh(e){return sa(e)?Hr(Da(e)):fl(e)}function Wh(e){return function(t){return null==e?i:Fi(e,t)}}var Gh=Eo(),qh=Eo(!0);function Zh(){return[]}function $h(){return!1}function Xh(){return{}}function Yh(){return""}function Kh(){return!0}function Jh(e,t){if(e=$u(e),e<1||e>B)return[];var r=z,n=jt(e,z);t=Wo(t),e-=z;var i=Gr(n,t);while(++r<e)t(r);return i}function Qh(e){return su(e)?Sr(e,Da):zu(e)?[e]:no(Oa(Qu(e)))}function ed(e){var t=++ht;return Qu(e)+t}var td=_o((function(e,t){return e+t}),0),rd=Ro("ceil"),nd=_o((function(e,t){return e/t}),1),id=Ro("floor");function ld(e){return e&&e.length?Ei(e,Oh,Li):i}function od(e,t){return e&&e.length?Ei(e,Wo(t,2),Li):i}function ad(e){return zr(e,Oh)}function sd(e,t){return zr(e,Wo(t,2))}function cd(e){return e&&e.length?Ei(e,Oh,il):i}function ud(e,t){return e&&e.length?Ei(e,Wo(t,2),il):i}var pd=_o((function(e,t){return e*t}),1),hd=Ro("round"),dd=_o((function(e,t){return e-t}),0);function fd(e){return e&&e.length?Wr(e,Oh):0}function gd(e,t){return e&&e.length?Wr(e,Wo(t,2)):0}return xn.after=Cc,xn.ary=Oc,xn.assign=ep,xn.assignIn=tp,xn.assignInWith=rp,xn.assignWith=np,xn.at=ip,xn.before=Dc,xn.bind=Ic,xn.bindAll=Th,xn.bindKey=kc,xn.castArray=Jc,xn.chain=Gs,xn.chunk=Na,xn.compact=Ba,xn.concat=La,xn.cond=bh,xn.conforms=Eh,xn.constant=Sh,xn.countBy=rc,xn.create=lp,xn.curry=Fc,xn.curryRight=Nc,xn.debounce=Bc,xn.defaults=op,xn.defaultsDeep=ap,xn.defer=Lc,xn.delay=Mc,xn.difference=Ma,xn.differenceBy=za,xn.differenceWith=Ha,xn.drop=ja,xn.dropRight=Ua,xn.dropRightWhile=Va,xn.dropWhile=Wa,xn.fill=Ga,xn.filter=ic,xn.flatMap=ac,xn.flatMapDeep=sc,xn.flatMapDepth=cc,xn.flatten=$a,xn.flattenDeep=Xa,xn.flattenDepth=Ya,xn.flip=zc,xn.flow=Rh,xn.flowRight=Ch,xn.fromPairs=Ka,xn.functions=fp,xn.functionsIn=gp,xn.groupBy=hc,xn.initial=es,xn.intersection=ts,xn.intersectionBy=rs,xn.intersectionWith=ns,xn.invert=yp,xn.invertBy=wp,xn.invokeMap=fc,xn.iteratee=Dh,xn.keyBy=gc,xn.keys=xp,xn.keysIn=Tp,xn.map=vc,xn.mapKeys=bp,xn.mapValues=Ep,xn.matches=Ih,xn.matchesProperty=kh,xn.memoize=Hc,xn.merge=Sp,xn.mergeWith=Pp,xn.method=Fh,xn.methodOf=Nh,xn.mixin=Bh,xn.negate=jc,xn.nthArg=zh,xn.omit=Rp,xn.omitBy=Cp,xn.once=Uc,xn.orderBy=mc,xn.over=Hh,xn.overArgs=Vc,xn.overEvery=jh,xn.overSome=Uh,xn.partial=Wc,xn.partialRight=Gc,xn.partition=Ac,xn.pick=Op,xn.pickBy=Dp,xn.property=Vh,xn.propertyOf=Wh,xn.pull=ss,xn.pullAll=cs,xn.pullAllBy=us,xn.pullAllWith=ps,xn.pullAt=hs,xn.range=Gh,xn.rangeRight=qh,xn.rearg=qc,xn.reject=_c,xn.remove=ds,xn.rest=Zc,xn.reverse=fs,xn.sampleSize=Tc,xn.set=kp,xn.setWith=Fp,xn.shuffle=bc,xn.slice=gs,xn.sortBy=Pc,xn.sortedUniq=xs,xn.sortedUniqBy=Ts,xn.split=sh,xn.spread=$c,xn.tail=bs,xn.take=Es,xn.takeRight=Ss,xn.takeRightWhile=Ps,xn.takeWhile=Rs,xn.tap=qs,xn.throttle=Xc,xn.thru=Zs,xn.toArray=qu,xn.toPairs=Np,xn.toPairsIn=Bp,xn.toPath=Qh,xn.toPlainObject=Ku,xn.transform=Lp,xn.unary=Yc,xn.union=Cs,xn.unionBy=Os,xn.unionWith=Ds,xn.uniq=Is,xn.uniqBy=ks,xn.uniqWith=Fs,xn.unset=Mp,xn.unzip=Ns,xn.unzipWith=Bs,xn.update=zp,xn.updateWith=Hp,xn.values=jp,xn.valuesIn=Up,xn.without=Ls,xn.words=_h,xn.wrap=Kc,xn.xor=Ms,xn.xorBy=zs,xn.xorWith=Hs,xn.zip=js,xn.zipObject=Us,xn.zipObjectDeep=Vs,xn.zipWith=Ws,xn.entries=Np,xn.entriesIn=Bp,xn.extend=tp,xn.extendWith=rp,Bh(xn,xn),xn.add=td,xn.attempt=xh,xn.camelCase=qp,xn.capitalize=Zp,xn.ceil=rd,xn.clamp=Vp,xn.clone=Qc,xn.cloneDeep=tu,xn.cloneDeepWith=ru,xn.cloneWith=eu,xn.conformsTo=nu,xn.deburr=$p,xn.defaultTo=Ph,xn.divide=nd,xn.endsWith=Xp,xn.eq=iu,xn.escape=Yp,xn.escapeRegExp=Kp,xn.every=nc,xn.find=lc,xn.findIndex=qa,xn.findKey=sp,xn.findLast=oc,xn.findLastIndex=Za,xn.findLastKey=cp,xn.floor=id,xn.forEach=uc,xn.forEachRight=pc,xn.forIn=up,xn.forInRight=pp,xn.forOwn=hp,xn.forOwnRight=dp,xn.get=vp,xn.gt=lu,xn.gte=ou,xn.has=mp,xn.hasIn=Ap,xn.head=Ja,xn.identity=Oh,xn.includes=dc,xn.indexOf=Qa,xn.inRange=Wp,xn.invoke=_p,xn.isArguments=au,xn.isArray=su,xn.isArrayBuffer=cu,xn.isArrayLike=uu,xn.isArrayLikeObject=pu,xn.isBoolean=hu,xn.isBuffer=du,xn.isDate=fu,xn.isElement=gu,xn.isEmpty=vu,xn.isEqual=mu,xn.isEqualWith=Au,xn.isError=yu,xn.isFinite=wu,xn.isFunction=_u,xn.isInteger=xu,xn.isLength=Tu,xn.isMap=Su,xn.isMatch=Pu,xn.isMatchWith=Ru,xn.isNaN=Cu,xn.isNative=Ou,xn.isNil=Iu,xn.isNull=Du,xn.isNumber=ku,xn.isObject=bu,xn.isObjectLike=Eu,xn.isPlainObject=Fu,xn.isRegExp=Nu,xn.isSafeInteger=Bu,xn.isSet=Lu,xn.isString=Mu,xn.isSymbol=zu,xn.isTypedArray=Hu,xn.isUndefined=ju,xn.isWeakMap=Uu,xn.isWeakSet=Vu,xn.join=is,xn.kebabCase=Jp,xn.last=ls,xn.lastIndexOf=os,xn.lowerCase=Qp,xn.lowerFirst=eh,xn.lt=Wu,xn.lte=Gu,xn.max=ld,xn.maxBy=od,xn.mean=ad,xn.meanBy=sd,xn.min=cd,xn.minBy=ud,xn.stubArray=Zh,xn.stubFalse=$h,xn.stubObject=Xh,xn.stubString=Yh,xn.stubTrue=Kh,xn.multiply=pd,xn.nth=as,xn.noConflict=Lh,xn.noop=Mh,xn.now=Rc,xn.pad=th,xn.padEnd=rh,xn.padStart=nh,xn.parseInt=ih,xn.random=Gp,xn.reduce=yc,xn.reduceRight=wc,xn.repeat=lh,xn.replace=oh,xn.result=Ip,xn.round=hd,xn.runInContext=e,xn.sample=xc,xn.size=Ec,xn.snakeCase=ah,xn.some=Sc,xn.sortedIndex=vs,xn.sortedIndexBy=ms,xn.sortedIndexOf=As,xn.sortedLastIndex=ys,xn.sortedLastIndexBy=ws,xn.sortedLastIndexOf=_s,xn.startCase=ch,xn.startsWith=uh,xn.subtract=dd,xn.sum=fd,xn.sumBy=gd,xn.template=ph,xn.times=Jh,xn.toFinite=Zu,xn.toInteger=$u,xn.toLength=Xu,xn.toLower=hh,xn.toNumber=Yu,xn.toSafeInteger=Ju,xn.toString=Qu,xn.toUpper=dh,xn.trim=fh,xn.trimEnd=gh,xn.trimStart=vh,xn.truncate=mh,xn.unescape=Ah,xn.uniqueId=ed,xn.upperCase=yh,xn.upperFirst=wh,xn.each=uc,xn.eachRight=pc,xn.first=Ja,Bh(xn,function(){var e={};return Di(xn,(function(t,r){pt.call(xn.prototype,r)||(e[r]=t)})),e}(),{chain:!1}),xn.VERSION=l,wr(["bind","bindKey","curry","curryRight","partial","partialRight"],(function(e){xn[e].placeholder=xn})),wr(["drop","take"],(function(e,t){Pn.prototype[e]=function(r){r=r===i?1:Ht($u(r),0);var n=this.__filtered__&&!t?new Pn(this):this.clone();return n.__filtered__?n.__takeCount__=jt(r,n.__takeCount__):n.__views__.push({size:jt(r,z),type:e+(n.__dir__<0?"Right":"")}),n},Pn.prototype[e+"Right"]=function(t){return this.reverse()[e](t).reverse()}})),wr(["filter","map","takeWhile"],(function(e,t){var r=t+1,n=r==I||r==F;Pn.prototype[e]=function(e){var t=this.clone();return t.__iteratees__.push({iteratee:Wo(e,3),type:r}),t.__filtered__=t.__filtered__||n,t}})),wr(["head","last"],(function(e,t){var r="take"+(t?"Right":"");Pn.prototype[e]=function(){return this[r](1).value()[0]}})),wr(["initial","tail"],(function(e,t){var r="drop"+(t?"":"Right");Pn.prototype[e]=function(){return this.__filtered__?new Pn(this):this[r](1)}})),Pn.prototype.compact=function(){return this.filter(Oh)},Pn.prototype.find=function(e){return this.filter(e).head()},Pn.prototype.findLast=function(e){return this.reverse().find(e)},Pn.prototype.invokeMap=wl((function(e,t){return"function"==typeof e?new Pn(this):this.map((function(r){return Vi(r,e,t)}))})),Pn.prototype.reject=function(e){return this.filter(jc(Wo(e)))},Pn.prototype.slice=function(e,t){e=$u(e);var r=this;return r.__filtered__&&(e>0||t<0)?new Pn(r):(e<0?r=r.takeRight(-e):e&&(r=r.drop(e)),t!==i&&(t=$u(t),r=t<0?r.dropRight(-t):r.take(t-e)),r)},Pn.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},Pn.prototype.toArray=function(){return this.take(z)},Di(Pn.prototype,(function(e,t){var r=/^(?:filter|find|map|reject)|While$/.test(t),n=/^(?:head|last)$/.test(t),l=xn[n?"take"+("last"==t?"Right":""):t],o=n||/^find/.test(t);l&&(xn.prototype[t]=function(){var t=this.__wrapped__,a=n?[1]:arguments,s=t instanceof Pn,c=a[0],u=s||su(t),p=function(e){var t=l.apply(xn,Pr([e],a));return n&&h?t[0]:t};u&&r&&"function"==typeof c&&1!=c.length&&(s=u=!1);var h=this.__chain__,d=!!this.__actions__.length,f=o&&!h,g=s&&!d;if(!o&&u){t=g?t:new Pn(this);var v=e.apply(t,a);return v.__actions__.push({func:Zs,args:[p],thisArg:i}),new Sn(v,h)}return f&&g?e.apply(this,a):(v=this.thru(p),f?n?v.value()[0]:v.value():v)})})),wr(["pop","push","shift","sort","splice","unshift"],(function(e){var t=ot[e],r=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",n=/^(?:pop|shift)$/.test(e);xn.prototype[e]=function(){var e=arguments;if(n&&!this.__chain__){var i=this.value();return t.apply(su(i)?i:[],e)}return this[r]((function(r){return t.apply(su(r)?r:[],e)}))}})),Di(Pn.prototype,(function(e,t){var r=xn[t];if(r){var n=r.name+"";pt.call(sr,n)||(sr[n]=[]),sr[n].push({name:t,func:r})}})),sr[yo(i,y).name]=[{name:"wrapper",func:i}],Pn.prototype.clone=Rn,Pn.prototype.reverse=Cn,Pn.prototype.value=On,xn.prototype.at=$s,xn.prototype.chain=Xs,xn.prototype.commit=Ys,xn.prototype.next=Ks,xn.prototype.plant=Qs,xn.prototype.reverse=ec,xn.prototype.toJSON=xn.prototype.valueOf=xn.prototype.value=tc,xn.prototype.first=xn.prototype.head,Pt&&(xn.prototype[Pt]=Js),xn},Tn=xn();or._=Tn,n=function(){return Tn}.call(t,r,t,e),n===i||(e.exports=n)}.call(this)},8646:function(e,t,r){"use strict";var n=r(9565),i=r(8551),l=r(1767),o=r(851);e.exports=function(e,t){t&&"string"===typeof e||i(e);var r=o(e);return l(i(void 0!==r?n(r,e):e))}},8686:function(e,t,r){"use strict";var n=r(3724),i=r(9039);e.exports=n&&i((function(){return 42!==Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype}))},8721:function(e,t,r){"use strict";var n=r(3724),i=r(9504),l=r(2106),o=URLSearchParams.prototype,a=i(o.forEach);n&&!("size"in o)&&l(o,"size",{get:function(){var e=0;return a(this,(function(){e++})),e},configurable:!0,enumerable:!0})},8727:function(e){"use strict";e.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},8745:function(e,t,r){"use strict";var n=r(616),i=Function.prototype,l=i.apply,o=i.call;e.exports="object"==typeof Reflect&&Reflect.apply||(n?o.bind(l):function(){return o.apply(l,arguments)})},8750:function(e,t,r){"use strict";var n=r(7080),i=r(4402),l=r(5170),o=r(3789),a=r(8469),s=r(507),c=i.Set,u=i.add,p=i.has;e.exports=function(e){var t=n(this),r=o(e),i=new c;return l(t)>r.size?s(r.getIterator(),(function(e){p(t,e)&&u(i,e)})):a(t,(function(e){r.includes(e)&&u(i,e)})),i}},8773:function(e,t){"use strict";var r={}.propertyIsEnumerable,n=Object.getOwnPropertyDescriptor,i=n&&!r.call({1:2},1);t.f=i?function(e){var t=n(this,e);return!!t&&t.enumerable}:r},8981:function(e,t,r){"use strict";var n=r(7750),i=Object;e.exports=function(e){return i(n(e))}},9039:function(e){"use strict";e.exports=function(e){try{return!!e()}catch(t){return!0}}},9225:function(e,t,r){"use strict";var n,i,l,o,a=r(4576),s=r(8745),c=r(6080),u=r(4901),p=r(9297),h=r(9039),d=r(397),f=r(7680),g=r(4055),v=r(2812),m=r(9544),A=r(6193),y=a.setImmediate,w=a.clearImmediate,_=a.process,x=a.Dispatch,T=a.Function,b=a.MessageChannel,E=a.String,S=0,P={},R="onreadystatechange";h((function(){n=a.location}));var C=function(e){if(p(P,e)){var t=P[e];delete P[e],t()}},O=function(e){return function(){C(e)}},D=function(e){C(e.data)},I=function(e){a.postMessage(E(e),n.protocol+"//"+n.host)};y&&w||(y=function(e){v(arguments.length,1);var t=u(e)?e:T(e),r=f(arguments,1);return P[++S]=function(){s(t,void 0,r)},i(S),S},w=function(e){delete P[e]},A?i=function(e){_.nextTick(O(e))}:x&&x.now?i=function(e){x.now(O(e))}:b&&!m?(l=new b,o=l.port2,l.port1.onmessage=D,i=c(o.postMessage,o)):a.addEventListener&&u(a.postMessage)&&!a.importScripts&&n&&"file:"!==n.protocol&&!h(I)?(i=I,a.addEventListener("message",D,!1)):i=R in g("script")?function(e){d.appendChild(g("script"))[R]=function(){d.removeChild(this),C(e)}}:function(e){setTimeout(O(e),0)}),e.exports={set:y,clear:w}},9286:function(e,t,r){"use strict";var n=r(4402),i=r(8469),l=n.Set,o=n.add;e.exports=function(e){var t=new l;return i(e,(function(e){o(t,e)})),t}},9297:function(e,t,r){"use strict";var n=r(9504),i=r(8981),l=n({}.hasOwnProperty);e.exports=Object.hasOwn||function(e,t){return l(i(e),t)}},9306:function(e,t,r){"use strict";var n=r(4901),i=r(6823),l=TypeError;e.exports=function(e){if(n(e))return e;throw new l(i(e)+" is not a function")}},9309:function(e,t,r){"use strict";var n=r(6518),i=r(4576),l=r(9225).set,o=r(9472),a=i.setImmediate?o(l,!1):l;n({global:!0,bind:!0,enumerable:!0,forced:i.setImmediate!==a},{setImmediate:a})},9314:function(e,t,r){"use strict";var n=r(6518),i=r(9565),l=r(8551),o=r(1767),a=r(4149),s=r(9590),c=r(9462),u=r(6395),p=c((function(){var e,t,r=this.iterator,n=this.next;while(this.remaining)if(this.remaining--,e=l(i(n,r)),t=this.done=!!e.done,t)return;if(e=l(i(n,r)),t=this.done=!!e.done,!t)return e.value}));n({target:"Iterator",proto:!0,real:!0,forced:u},{drop:function(e){l(this);var t=s(a(+e));return new p(o(this),{remaining:t})}})},9429:function(e,t,r){"use strict";var n=r(4576),i=r(6193);e.exports=function(e){if(i){try{return n.process.getBuiltinModule(e)}catch(t){}try{return Function('return require("'+e+'")')()}catch(t){}}}},9433:function(e,t,r){"use strict";var n=r(4576),i=Object.defineProperty;e.exports=function(e,t){try{i(n,e,{value:t,configurable:!0,writable:!0})}catch(r){n[e]=t}return t}},9462:function(e,t,r){"use strict";var n=r(9565),i=r(2360),l=r(6699),o=r(6279),a=r(8227),s=r(1181),c=r(5966),u=r(7657).IteratorPrototype,p=r(2529),h=r(9539),d=a("toStringTag"),f="IteratorHelper",g="WrapForValidIterator",v=s.set,m=function(e){var t=s.getterFor(e?g:f);return o(i(u),{next:function(){var r=t(this);if(e)return r.nextHandler();if(r.done)return p(void 0,!0);try{var n=r.nextHandler();return r.returnHandlerResult?n:p(n,r.done)}catch(i){throw r.done=!0,i}},return:function(){var r=t(this),i=r.iterator;if(r.done=!0,e){var l=c(i,"return");return l?n(l,i):p(void 0,!0)}if(r.inner)try{h(r.inner.iterator,"normal")}catch(o){return h(i,"throw",o)}return i&&h(i,"normal"),p(void 0,!0)}})},A=m(!0),y=m(!1);l(y,d,"Iterator Helper"),e.exports=function(e,t,r){var n=function(n,i){i?(i.iterator=n.iterator,i.next=n.next):i=n,i.type=t?g:f,i.returnHandlerResult=!!r,i.nextHandler=e,i.counter=0,i.done=!1,v(this,i)};return n.prototype=t?A:y,n}},9472:function(e,t,r){"use strict";var n=r(4576),i=r(8745),l=r(4901),o=r(4215),a=r(2839),s=r(7680),c=r(2812),u=n.Function,p=/MSIE .\./.test(a)||"BUN"===o&&function(){var e=n.Bun.version.split(".");return e.length<3||"0"===e[0]&&(e[1]<3||"3"===e[1]&&"0"===e[2])}();e.exports=function(e,t){var r=t?2:1;return p?function(n,o){var a=c(arguments.length,1)>r,p=l(n)?n:u(n),h=a?s(arguments,r):[],d=a?function(){i(p,this,h)}:p;return t?e(d,o):e(d)}:e}},9479:function(e,t,r){"use strict";var n=r(4576),i=r(3724),l=r(2106),o=r(7979),a=r(9039),s=n.RegExp,c=s.prototype,u=i&&a((function(){var e=!0;try{s(".","d")}catch(u){e=!1}var t={},r="",n=e?"dgimsy":"gimsy",i=function(e,n){Object.defineProperty(t,e,{get:function(){return r+=n,!0}})},l={dotAll:"s",global:"g",ignoreCase:"i",multiline:"m",sticky:"y"};for(var o in e&&(l.hasIndices="d"),l)i(o,l[o]);var a=Object.getOwnPropertyDescriptor(c,"flags").get.call(t);return a!==n||r!==n}));u&&l(c,"flags",{configurable:!0,get:o})},9504:function(e,t,r){"use strict";var n=r(616),i=Function.prototype,l=i.call,o=n&&i.bind.bind(l,l);e.exports=n?o:function(e){return function(){return l.apply(e,arguments)}}},9519:function(e,t,r){"use strict";var n,i,l=r(4576),o=r(2839),a=l.process,s=l.Deno,c=a&&a.versions||s&&s.version,u=c&&c.v8;u&&(n=u.split("."),i=n[0]>0&&n[0]<4?1:+(n[0]+n[1])),!i&&o&&(n=o.match(/Edge\/(\d+)/),(!n||n[1]>=74)&&(n=o.match(/Chrome\/(\d+)/),n&&(i=+n[1]))),e.exports=i},9539:function(e,t,r){"use strict";var n=r(9565),i=r(8551),l=r(5966);e.exports=function(e,t,r){var o,a;i(e);try{if(o=l(e,"return"),!o){if("throw"===t)throw r;return r}o=n(o,e)}catch(s){a=!0,o=s}if("throw"===t)throw r;if(a)throw o;return i(o),r}},9544:function(e,t,r){"use strict";var n=r(2839);e.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(n)},9565:function(e,t,r){"use strict";var n=r(616),i=Function.prototype.call;e.exports=n?i.bind(i):function(){return i.apply(i,arguments)}},9577:function(e,t,r){"use strict";var n=r(9928),i=r(4644),l=r(1108),o=r(1291),a=r(5854),s=i.aTypedArray,c=i.getTypedArrayConstructor,u=i.exportTypedArrayMethod,p=!!function(){try{new Int8Array(1)["with"](2,{valueOf:function(){throw 8}})}catch(e){return 8===e}}();u("with",{with:function(e,t){var r=s(this),i=o(e),u=l(r)?a(t):+t;return n(r,c(r),i,u)}}["with"],!p)},9590:function(e,t,r){"use strict";var n=r(1291),i=RangeError;e.exports=function(e){var t=n(e);if(t<0)throw new i("The argument can't be less than 0");return t}},9617:function(e,t,r){"use strict";var n=r(5397),i=r(5610),l=r(6198),o=function(e){return function(t,r,o){var a=n(t),s=l(a);if(0===s)return!e&&-1;var c,u=i(o,s);if(e&&r!==r){while(s>u)if(c=a[u++],c!==c)return!0}else for(;s>u;u++)if((e||u in a)&&a[u]===r)return e||u||0;return!e&&-1}};e.exports={includes:o(!0),indexOf:o(!1)}},9678:function(e,t,r){"use strict";var n=r(6518),i=r(7628),l=r(5397),o=r(6469),a=Array;n({target:"Array",proto:!0},{toReversed:function(){return i(l(this),a)}}),o("toReversed")},9848:function(e,t,r){"use strict";r(6368),r(9309)},9928:function(e,t,r){"use strict";var n=r(6198),i=r(1291),l=RangeError;e.exports=function(e,t,r,o){var a=n(e),s=i(r),c=s<0?a+s:s;if(c>=a||c<0)throw new l("Incorrect index");for(var u=new t(a),p=0;p<a;p++)u[p]=p===c?o:e[p];return u}}},t={};function r(n){var i=t[n];if(void 0!==i)return i.exports;var l=t[n]={id:n,loaded:!1,exports:{}};return e[n].call(l.exports,l,l.exports,r),l.loaded=!0,l.exports}!function(){r.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return r.d(t,{a:t}),t}}(),function(){r.d=function(e,t){for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}}(),function(){r.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){r.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){r.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e}}();!function(){"use strict";var e={};r.r(e),r.d(e,{hasBrowserEnv:function(){return Ps},hasStandardBrowserEnv:function(){return Cs},hasStandardBrowserWebWorkerEnv:function(){return Os},navigator:function(){return Rs},origin:function(){return Ds}});r(4114),r(8111),r(2489),r(7588),r(1701),r(3579),r(7642),r(8004),r(3853),r(5876),r(2475),r(5024),r(1698),r(1148),r(8237),r(9479),r(9678),r(7145),r(1658);
/**
* @vue/shared v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/
/*! #__NO_SIDE_EFFECTS__ */
function t(e){const t=Object.create(null);for(const r of e.split(","))t[r]=1;return e=>e in t}const n={},i=[],l=()=>{},o=()=>!1,a=e=>111===e.charCodeAt(0)&&110===e.charCodeAt(1)&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),s=e=>e.startsWith("onUpdate:"),c=Object.assign,u=(e,t)=>{const r=e.indexOf(t);r>-1&&e.splice(r,1)},p=Object.prototype.hasOwnProperty,h=(e,t)=>p.call(e,t),d=Array.isArray,f=e=>"[object Map]"===T(e),g=e=>"[object Set]"===T(e),v=e=>"[object RegExp]"===T(e),m=e=>"function"===typeof e,A=e=>"string"===typeof e,y=e=>"symbol"===typeof e,w=e=>null!==e&&"object"===typeof e,_=e=>(w(e)||m(e))&&m(e.then)&&m(e.catch),x=Object.prototype.toString,T=e=>x.call(e),b=e=>T(e).slice(8,-1),E=e=>"[object Object]"===T(e),S=e=>A(e)&&"NaN"!==e&&"-"!==e[0]&&""+parseInt(e,10)===e,P=t(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),R=e=>{const t=Object.create(null);return r=>{const n=t[r];return n||(t[r]=e(r))}},C=/-(\w)/g,O=R((e=>e.replace(C,((e,t)=>t?t.toUpperCase():"")))),D=/\B([A-Z])/g,I=R((e=>e.replace(D,"-$1").toLowerCase())),k=R((e=>e.charAt(0).toUpperCase()+e.slice(1))),F=R((e=>{const t=e?`on${k(e)}`:"";return t})),N=(e,t)=>!Object.is(e,t),B=(e,...t)=>{for(let r=0;r<e.length;r++)e[r](...t)},L=(e,t,r,n=!1)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:n,value:r})},M=e=>{const t=parseFloat(e);return isNaN(t)?e:t};let z;const H=()=>z||(z="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self?self:"undefined"!==typeof window?window:"undefined"!==typeof r.g?r.g:{});function j(e){if(d(e)){const t={};for(let r=0;r<e.length;r++){const n=e[r],i=A(n)?G(n):j(n);if(i)for(const e in i)t[e]=i[e]}return t}if(A(e)||w(e))return e}const U=/;(?![^(]*\))/g,V=/:([^]+)/,W=/\/\*[^]*?\*\//g;function G(e){const t={};return e.replace(W,"").split(U).forEach((e=>{if(e){const r=e.split(V);r.length>1&&(t[r[0].trim()]=r[1].trim())}})),t}function q(e){let t="";if(A(e))t=e;else if(d(e))for(let r=0;r<e.length;r++){const n=q(e[r]);n&&(t+=n+" ")}else if(w(e))for(const r in e)e[r]&&(t+=r+" ");return t.trim()}const Z="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",$=t(Z);function X(e){return!!e||""===e}const Y=e=>!(!e||!0!==e["__v_isRef"]),K=e=>A(e)?e:null==e?"":d(e)||w(e)&&(e.toString===x||!m(e.toString))?Y(e)?K(e.value):JSON.stringify(e,J,2):String(e),J=(e,t)=>Y(t)?J(e,t.value):f(t)?{[`Map(${t.size})`]:[...t.entries()].reduce(((e,[t,r],n)=>(e[Q(t,n)+" =>"]=r,e)),{})}:g(t)?{[`Set(${t.size})`]:[...t.values()].map((e=>Q(e)))}:y(t)?Q(t):!w(t)||d(t)||E(t)?t:String(t),Q=(e,t="")=>{var r;return y(e)?`Symbol(${null!=(r=e.description)?r:t})`:e};let ee,te;class re{constructor(e=!1){this.detached=e,this._active=!0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=ee,!e&&ee&&(this.index=(ee.scopes||(ee.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){let e,t;if(this._isPaused=!0,this.scopes)for(e=0,t=this.scopes.length;e<t;e++)this.scopes[e].pause();for(e=0,t=this.effects.length;e<t;e++)this.effects[e].pause()}}resume(){if(this._active&&this._isPaused){let e,t;if(this._isPaused=!1,this.scopes)for(e=0,t=this.scopes.length;e<t;e++)this.scopes[e].resume();for(e=0,t=this.effects.length;e<t;e++)this.effects[e].resume()}}run(e){if(this._active){const t=ee;try{return ee=this,e()}finally{ee=t}}else 0}on(){ee=this}off(){ee=this.parent}stop(e){if(this._active){let t,r;for(this._active=!1,t=0,r=this.effects.length;t<r;t++)this.effects[t].stop();for(this.effects.length=0,t=0,r=this.cleanups.length;t<r;t++)this.cleanups[t]();if(this.cleanups.length=0,this.scopes){for(t=0,r=this.scopes.length;t<r;t++)this.scopes[t].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!e){const e=this.parent.scopes.pop();e&&e!==this&&(this.parent.scopes[this.index]=e,e.index=this.index)}this.parent=void 0}}}function ne(){return ee}const ie=new WeakSet;class le{constructor(e){this.fn=e,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,ee&&ee.active&&ee.effects.push(this)}pause(){this.flags|=64}resume(){64&this.flags&&(this.flags&=-65,ie.has(this)&&(ie.delete(this),this.trigger()))}notify(){2&this.flags&&!(32&this.flags)||8&this.flags||ce(this)}run(){if(!(1&this.flags))return this.fn();this.flags|=2,xe(this),he(this);const e=te,t=Ae;te=this,Ae=!0;try{return this.fn()}finally{0,de(this),te=e,Ae=t,this.flags&=-3}}stop(){if(1&this.flags){for(let e=this.deps;e;e=e.nextDep)ve(e);this.deps=this.depsTail=void 0,xe(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){64&this.flags?ie.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){fe(this)&&this.run()}get dirty(){return fe(this)}}let oe,ae,se=0;function ce(e,t=!1){if(e.flags|=8,t)return e.next=ae,void(ae=e);e.next=oe,oe=e}function ue(){se++}function pe(){if(--se>0)return;if(ae){let e=ae;ae=void 0;while(e){const t=e.next;e.next=void 0,e.flags&=-9,e=t}}let e;while(oe){let r=oe;oe=void 0;while(r){const n=r.next;if(r.next=void 0,r.flags&=-9,1&r.flags)try{r.trigger()}catch(t){e||(e=t)}r=n}}if(e)throw e}function he(e){for(let t=e.deps;t;t=t.nextDep)t.version=-1,t.prevActiveLink=t.dep.activeLink,t.dep.activeLink=t}function de(e){let t,r=e.depsTail,n=r;while(n){const e=n.prevDep;-1===n.version?(n===r&&(r=e),ve(n),me(n)):t=n,n.dep.activeLink=n.prevActiveLink,n.prevActiveLink=void 0,n=e}e.deps=t,e.depsTail=r}function fe(e){for(let t=e.deps;t;t=t.nextDep)if(t.dep.version!==t.version||t.dep.computed&&(ge(t.dep.computed)||t.dep.version!==t.version))return!0;return!!e._dirty}function ge(e){if(4&e.flags&&!(16&e.flags))return;if(e.flags&=-17,e.globalVersion===Te)return;e.globalVersion=Te;const t=e.dep;if(e.flags|=2,t.version>0&&!e.isSSR&&e.deps&&!fe(e))return void(e.flags&=-3);const r=te,n=Ae;te=e,Ae=!0;try{he(e);const r=e.fn(e._value);(0===t.version||N(r,e._value))&&(e._value=r,t.version++)}catch(i){throw t.version++,i}finally{te=r,Ae=n,de(e),e.flags&=-3}}function ve(e,t=!1){const{dep:r,prevSub:n,nextSub:i}=e;if(n&&(n.nextSub=i,e.prevSub=void 0),i&&(i.prevSub=n,e.nextSub=void 0),r.subs===e&&(r.subs=n,!n&&r.computed)){r.computed.flags&=-5;for(let e=r.computed.deps;e;e=e.nextDep)ve(e,!0)}t||--r.sc||!r.map||r.map.delete(r.key)}function me(e){const{prevDep:t,nextDep:r}=e;t&&(t.nextDep=r,e.prevDep=void 0),r&&(r.prevDep=t,e.nextDep=void 0)}let Ae=!0;const ye=[];function we(){ye.push(Ae),Ae=!1}function _e(){const e=ye.pop();Ae=void 0===e||e}function xe(e){const{cleanup:t}=e;if(e.cleanup=void 0,t){const e=te;te=void 0;try{t()}finally{te=e}}}let Te=0;class be{constructor(e,t){this.sub=e,this.dep=t,this.version=t.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class Ee{constructor(e){this.computed=e,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0}track(e){if(!te||!Ae||te===this.computed)return;let t=this.activeLink;if(void 0===t||t.sub!==te)t=this.activeLink=new be(te,this),te.deps?(t.prevDep=te.depsTail,te.depsTail.nextDep=t,te.depsTail=t):te.deps=te.depsTail=t,Se(t);else if(-1===t.version&&(t.version=this.version,t.nextDep)){const e=t.nextDep;e.prevDep=t.prevDep,t.prevDep&&(t.prevDep.nextDep=e),t.prevDep=te.depsTail,t.nextDep=void 0,te.depsTail.nextDep=t,te.depsTail=t,te.deps===t&&(te.deps=e)}return t}trigger(e){this.version++,Te++,this.notify(e)}notify(e){ue();try{0;for(let e=this.subs;e;e=e.prevSub)e.sub.notify()&&e.sub.dep.notify()}finally{pe()}}}function Se(e){if(e.dep.sc++,4&e.sub.flags){const t=e.dep.computed;if(t&&!e.dep.subs){t.flags|=20;for(let e=t.deps;e;e=e.nextDep)Se(e)}const r=e.dep.subs;r!==e&&(e.prevSub=r,r&&(r.nextSub=e)),e.dep.subs=e}}const Pe=new WeakMap,Re=Symbol(""),Ce=Symbol(""),Oe=Symbol("");function De(e,t,r){if(Ae&&te){let t=Pe.get(e);t||Pe.set(e,t=new Map);let n=t.get(r);n||(t.set(r,n=new Ee),n.map=t,n.key=r),n.track()}}function Ie(e,t,r,n,i,l){const o=Pe.get(e);if(!o)return void Te++;const a=e=>{e&&e.trigger()};if(ue(),"clear"===t)o.forEach(a);else{const i=d(e),l=i&&S(r);if(i&&"length"===r){const e=Number(n);o.forEach(((t,r)=>{("length"===r||r===Oe||!y(r)&&r>=e)&&a(t)}))}else switch((void 0!==r||o.has(void 0))&&a(o.get(r)),l&&a(o.get(Oe)),t){case"add":i?l&&a(o.get("length")):(a(o.get(Re)),f(e)&&a(o.get(Ce)));break;case"delete":i||(a(o.get(Re)),f(e)&&a(o.get(Ce)));break;case"set":f(e)&&a(o.get(Re));break}}pe()}function ke(e){const t=wt(e);return t===e?t:(De(t,"iterate",Oe),At(e)?t:t.map(xt))}function Fe(e){return De(e=wt(e),"iterate",Oe),e}const Ne={__proto__:null,[Symbol.iterator](){return Be(this,Symbol.iterator,xt)},concat(...e){return ke(this).concat(...e.map((e=>d(e)?ke(e):e)))},entries(){return Be(this,"entries",(e=>(e[1]=xt(e[1]),e)))},every(e,t){return Me(this,"every",e,t,void 0,arguments)},filter(e,t){return Me(this,"filter",e,t,(e=>e.map(xt)),arguments)},find(e,t){return Me(this,"find",e,t,xt,arguments)},findIndex(e,t){return Me(this,"findIndex",e,t,void 0,arguments)},findLast(e,t){return Me(this,"findLast",e,t,xt,arguments)},findLastIndex(e,t){return Me(this,"findLastIndex",e,t,void 0,arguments)},forEach(e,t){return Me(this,"forEach",e,t,void 0,arguments)},includes(...e){return He(this,"includes",e)},indexOf(...e){return He(this,"indexOf",e)},join(e){return ke(this).join(e)},lastIndexOf(...e){return He(this,"lastIndexOf",e)},map(e,t){return Me(this,"map",e,t,void 0,arguments)},pop(){return je(this,"pop")},push(...e){return je(this,"push",e)},reduce(e,...t){return ze(this,"reduce",e,t)},reduceRight(e,...t){return ze(this,"reduceRight",e,t)},shift(){return je(this,"shift")},some(e,t){return Me(this,"some",e,t,void 0,arguments)},splice(...e){return je(this,"splice",e)},toReversed(){return ke(this).toReversed()},toSorted(e){return ke(this).toSorted(e)},toSpliced(...e){return ke(this).toSpliced(...e)},unshift(...e){return je(this,"unshift",e)},values(){return Be(this,"values",xt)}};function Be(e,t,r){const n=Fe(e),i=n[t]();return n===e||At(e)||(i._next=i.next,i.next=()=>{const e=i._next();return e.value&&(e.value=r(e.value)),e}),i}const Le=Array.prototype;function Me(e,t,r,n,i,l){const o=Fe(e),a=o!==e&&!At(e),s=o[t];if(s!==Le[t]){const t=s.apply(e,l);return a?xt(t):t}let c=r;o!==e&&(a?c=function(t,n){return r.call(this,xt(t),n,e)}:r.length>2&&(c=function(t,n){return r.call(this,t,n,e)}));const u=s.call(o,c,n);return a&&i?i(u):u}function ze(e,t,r,n){const i=Fe(e);let l=r;return i!==e&&(At(e)?r.length>3&&(l=function(t,n,i){return r.call(this,t,n,i,e)}):l=function(t,n,i){return r.call(this,t,xt(n),i,e)}),i[t](l,...n)}function He(e,t,r){const n=wt(e);De(n,"iterate",Oe);const i=n[t](...r);return-1!==i&&!1!==i||!yt(r[0])?i:(r[0]=wt(r[0]),n[t](...r))}function je(e,t,r=[]){we(),ue();const n=wt(e)[t].apply(e,r);return pe(),_e(),n}const Ue=t("__proto__,__v_isRef,__isVue"),Ve=new Set(Object.getOwnPropertyNames(Symbol).filter((e=>"arguments"!==e&&"caller"!==e)).map((e=>Symbol[e])).filter(y));function We(e){y(e)||(e=String(e));const t=wt(this);return De(t,"has",e),t.hasOwnProperty(e)}class Ge{constructor(e=!1,t=!1){this._isReadonly=e,this._isShallow=t}get(e,t,r){if("__v_skip"===t)return e["__v_skip"];const n=this._isReadonly,i=this._isShallow;if("__v_isReactive"===t)return!n;if("__v_isReadonly"===t)return n;if("__v_isShallow"===t)return i;if("__v_raw"===t)return r===(n?i?ct:st:i?at:ot).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(r)?e:void 0;const l=d(e);if(!n){let e;if(l&&(e=Ne[t]))return e;if("hasOwnProperty"===t)return We}const o=Reflect.get(e,t,bt(e)?e:r);return(y(t)?Ve.has(t):Ue(t))?o:(n||De(e,"get",t),i?o:bt(o)?l&&S(t)?o:o.value:w(o)?n?ft(o):ht(o):o)}}class qe extends Ge{constructor(e=!1){super(!1,e)}set(e,t,r,n){let i=e[t];if(!this._isShallow){const t=mt(i);if(At(r)||mt(r)||(i=wt(i),r=wt(r)),!d(e)&&bt(i)&&!bt(r))return!t&&(i.value=r,!0)}const l=d(e)&&S(t)?Number(t)<e.length:h(e,t),o=Reflect.set(e,t,r,bt(e)?e:n);return e===wt(n)&&(l?N(r,i)&&Ie(e,"set",t,r,i):Ie(e,"add",t,r)),o}deleteProperty(e,t){const r=h(e,t),n=e[t],i=Reflect.deleteProperty(e,t);return i&&r&&Ie(e,"delete",t,void 0,n),i}has(e,t){const r=Reflect.has(e,t);return y(t)&&Ve.has(t)||De(e,"has",t),r}ownKeys(e){return De(e,"iterate",d(e)?"length":Re),Reflect.ownKeys(e)}}class Ze extends Ge{constructor(e=!1){super(!0,e)}set(e,t){return!0}deleteProperty(e,t){return!0}}const $e=new qe,Xe=new Ze,Ye=new qe(!0),Ke=e=>e,Je=e=>Reflect.getPrototypeOf(e);function Qe(e,t,r){return function(...n){const i=this["__v_raw"],l=wt(i),o=f(l),a="entries"===e||e===Symbol.iterator&&o,s="keys"===e&&o,c=i[e](...n),u=r?Ke:t?Tt:xt;return!t&&De(l,"iterate",s?Ce:Re),{next(){const{value:e,done:t}=c.next();return t?{value:e,done:t}:{value:a?[u(e[0]),u(e[1])]:u(e),done:t}},[Symbol.iterator](){return this}}}}function et(e){return function(...t){return"delete"!==e&&("clear"===e?void 0:this)}}function tt(e,t){const r={get(r){const n=this["__v_raw"],i=wt(n),l=wt(r);e||(N(r,l)&&De(i,"get",r),De(i,"get",l));const{has:o}=Je(i),a=t?Ke:e?Tt:xt;return o.call(i,r)?a(n.get(r)):o.call(i,l)?a(n.get(l)):void(n!==i&&n.get(r))},get size(){const t=this["__v_raw"];return!e&&De(wt(t),"iterate",Re),Reflect.get(t,"size",t)},has(t){const r=this["__v_raw"],n=wt(r),i=wt(t);return e||(N(t,i)&&De(n,"has",t),De(n,"has",i)),t===i?r.has(t):r.has(t)||r.has(i)},forEach(r,n){const i=this,l=i["__v_raw"],o=wt(l),a=t?Ke:e?Tt:xt;return!e&&De(o,"iterate",Re),l.forEach(((e,t)=>r.call(n,a(e),a(t),i)))}};c(r,e?{add:et("add"),set:et("set"),delete:et("delete"),clear:et("clear")}:{add(e){t||At(e)||mt(e)||(e=wt(e));const r=wt(this),n=Je(r),i=n.has.call(r,e);return i||(r.add(e),Ie(r,"add",e,e)),this},set(e,r){t||At(r)||mt(r)||(r=wt(r));const n=wt(this),{has:i,get:l}=Je(n);let o=i.call(n,e);o||(e=wt(e),o=i.call(n,e));const a=l.call(n,e);return n.set(e,r),o?N(r,a)&&Ie(n,"set",e,r,a):Ie(n,"add",e,r),this},delete(e){const t=wt(this),{has:r,get:n}=Je(t);let i=r.call(t,e);i||(e=wt(e),i=r.call(t,e));const l=n?n.call(t,e):void 0,o=t.delete(e);return i&&Ie(t,"delete",e,void 0,l),o},clear(){const e=wt(this),t=0!==e.size,r=void 0,n=e.clear();return t&&Ie(e,"clear",void 0,void 0,r),n}});const n=["keys","values","entries",Symbol.iterator];return n.forEach((n=>{r[n]=Qe(n,e,t)})),r}function rt(e,t){const r=tt(e,t);return(t,n,i)=>"__v_isReactive"===n?!e:"__v_isReadonly"===n?e:"__v_raw"===n?t:Reflect.get(h(r,n)&&n in t?r:t,n,i)}const nt={get:rt(!1,!1)},it={get:rt(!1,!0)},lt={get:rt(!0,!1)};const ot=new WeakMap,at=new WeakMap,st=new WeakMap,ct=new WeakMap;function ut(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function pt(e){return e["__v_skip"]||!Object.isExtensible(e)?0:ut(b(e))}function ht(e){return mt(e)?e:gt(e,!1,$e,nt,ot)}function dt(e){return gt(e,!1,Ye,it,at)}function ft(e){return gt(e,!0,Xe,lt,st)}function gt(e,t,r,n,i){if(!w(e))return e;if(e["__v_raw"]&&(!t||!e["__v_isReactive"]))return e;const l=i.get(e);if(l)return l;const o=pt(e);if(0===o)return e;const a=new Proxy(e,2===o?n:r);return i.set(e,a),a}function vt(e){return mt(e)?vt(e["__v_raw"]):!(!e||!e["__v_isReactive"])}function mt(e){return!(!e||!e["__v_isReadonly"])}function At(e){return!(!e||!e["__v_isShallow"])}function yt(e){return!!e&&!!e["__v_raw"]}function wt(e){const t=e&&e["__v_raw"];return t?wt(t):e}function _t(e){return!h(e,"__v_skip")&&Object.isExtensible(e)&&L(e,"__v_skip",!0),e}const xt=e=>w(e)?ht(e):e,Tt=e=>w(e)?ft(e):e;function bt(e){return!!e&&!0===e["__v_isRef"]}function Et(e){return bt(e)?e.value:e}const St={get:(e,t,r)=>"__v_raw"===t?e:Et(Reflect.get(e,t,r)),set:(e,t,r,n)=>{const i=e[t];return bt(i)&&!bt(r)?(i.value=r,!0):Reflect.set(e,t,r,n)}};function Pt(e){return vt(e)?e:new Proxy(e,St)}class Rt{constructor(e,t,r){this.fn=e,this.setter=t,this._value=void 0,this.dep=new Ee(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=Te-1,this.next=void 0,this.effect=this,this["__v_isReadonly"]=!t,this.isSSR=r}notify(){if(this.flags|=16,!(8&this.flags||te===this))return ce(this,!0),!0}get value(){const e=this.dep.track();return ge(this),e&&(e.version=this.dep.version),this._value}set value(e){this.setter&&this.setter(e)}}function Ct(e,t,r=!1){let n,i;m(e)?n=e:(n=e.get,i=e.set);const l=new Rt(n,i,r);return l}const Ot={},Dt=new WeakMap;let It;function kt(e,t=!1,r=It){if(r){let t=Dt.get(r);t||Dt.set(r,t=[]),t.push(e)}else 0}function Ft(e,t,r=n){const{immediate:i,deep:o,once:a,scheduler:s,augmentJob:c,call:p}=r,h=e=>o?e:At(e)||!1===o||0===o?Nt(e,1):Nt(e);let f,g,v,A,y=!1,w=!1;if(bt(e)?(g=()=>e.value,y=At(e)):vt(e)?(g=()=>h(e),y=!0):d(e)?(w=!0,y=e.some((e=>vt(e)||At(e))),g=()=>e.map((e=>bt(e)?e.value:vt(e)?h(e):m(e)?p?p(e,2):e():void 0))):g=m(e)?t?p?()=>p(e,2):e:()=>{if(v){we();try{v()}finally{_e()}}const t=It;It=f;try{return p?p(e,3,[A]):e(A)}finally{It=t}}:l,t&&o){const e=g,t=!0===o?1/0:o;g=()=>Nt(e(),t)}const _=ne(),x=()=>{f.stop(),_&&_.active&&u(_.effects,f)};if(a&&t){const e=t;t=(...t)=>{e(...t),x()}}let T=w?new Array(e.length).fill(Ot):Ot;const b=e=>{if(1&f.flags&&(f.dirty||e))if(t){const e=f.run();if(o||y||(w?e.some(((e,t)=>N(e,T[t]))):N(e,T))){v&&v();const r=It;It=f;try{const r=[e,T===Ot?void 0:w&&T[0]===Ot?[]:T,A];p?p(t,3,r):t(...r),T=e}finally{It=r}}}else f.run()};return c&&c(b),f=new le(g),f.scheduler=s?()=>s(b,!1):b,A=e=>kt(e,!1,f),v=f.onStop=()=>{const e=Dt.get(f);if(e){if(p)p(e,4);else for(const t of e)t();Dt.delete(f)}},t?i?b(!0):T=f.run():s?s(b.bind(null,!0),!0):f.run(),x.pause=f.pause.bind(f),x.resume=f.resume.bind(f),x.stop=x,x}function Nt(e,t=1/0,r){if(t<=0||!w(e)||e["__v_skip"])return e;if(r=r||new Set,r.has(e))return e;if(r.add(e),t--,bt(e))Nt(e.value,t,r);else if(d(e))for(let n=0;n<e.length;n++)Nt(e[n],t,r);else if(g(e)||f(e))e.forEach((e=>{Nt(e,t,r)}));else if(E(e)){for(const n in e)Nt(e[n],t,r);for(const n of Object.getOwnPropertySymbols(e))Object.prototype.propertyIsEnumerable.call(e,n)&&Nt(e[n],t,r)}return e}function Bt(e,t,r,n){try{return n?e(...n):e()}catch(i){Mt(i,t,r)}}function Lt(e,t,r,n){if(m(e)){const i=Bt(e,t,r,n);return i&&_(i)&&i.catch((e=>{Mt(e,t,r)})),i}if(d(e)){const i=[];for(let l=0;l<e.length;l++)i.push(Lt(e[l],t,r,n));return i}}function Mt(e,t,r,i=!0){const l=t?t.vnode:null,{errorHandler:o,throwUnhandledErrorInProduction:a}=t&&t.appContext.config||n;if(t){let n=t.parent;const i=t.proxy,l=`https://vuejs.org/error-reference/#runtime-${r}`;while(n){const t=n.ec;if(t)for(let r=0;r<t.length;r++)if(!1===t[r](e,i,l))return;n=n.parent}if(o)return we(),Bt(o,null,10,[e,i,l]),void _e()}zt(e,r,l,i,a)}function zt(e,t,r,n=!0,i=!1){if(i)throw e;console.error(e)}const Ht=[];let jt=-1;const Ut=[];let Vt=null,Wt=0;const Gt=Promise.resolve();let qt=null;function Zt(e){const t=qt||Gt;return e?t.then(this?e.bind(this):e):t}function $t(e){let t=jt+1,r=Ht.length;while(t<r){const n=t+r>>>1,i=Ht[n],l=er(i);l<e||l===e&&2&i.flags?t=n+1:r=n}return t}function Xt(e){if(!(1&e.flags)){const t=er(e),r=Ht[Ht.length-1];!r||!(2&e.flags)&&t>=er(r)?Ht.push(e):Ht.splice($t(t),0,e),e.flags|=1,Yt()}}function Yt(){qt||(qt=Gt.then(tr))}function Kt(e){d(e)?Ut.push(...e):Vt&&-1===e.id?Vt.splice(Wt+1,0,e):1&e.flags||(Ut.push(e),e.flags|=1),Yt()}function Jt(e,t,r=jt+1){for(0;r<Ht.length;r++){const t=Ht[r];if(t&&2&t.flags){if(e&&t.id!==e.uid)continue;0,Ht.splice(r,1),r--,4&t.flags&&(t.flags&=-2),t(),4&t.flags||(t.flags&=-2)}}}function Qt(e){if(Ut.length){const e=[...new Set(Ut)].sort(((e,t)=>er(e)-er(t)));if(Ut.length=0,Vt)return void Vt.push(...e);for(Vt=e,Wt=0;Wt<Vt.length;Wt++){const e=Vt[Wt];0,4&e.flags&&(e.flags&=-2),8&e.flags||e(),e.flags&=-2}Vt=null,Wt=0}}const er=e=>null==e.id?2&e.flags?-1:1/0:e.id;function tr(e){try{for(jt=0;jt<Ht.length;jt++){const e=Ht[jt];!e||8&e.flags||(4&e.flags&&(e.flags&=-2),Bt(e,e.i,e.i?15:14),4&e.flags||(e.flags&=-2))}}finally{for(;jt<Ht.length;jt++){const e=Ht[jt];e&&(e.flags&=-2)}jt=-1,Ht.length=0,Qt(e),qt=null,(Ht.length||Ut.length)&&tr(e)}}let rr=null,nr=null;function ir(e){const t=rr;return rr=e,nr=e&&e.type.__scopeId||null,t}function lr(e,t=rr,r){if(!t)return e;if(e._n)return e;const n=(...r)=>{n._d&&yi(-1);const i=ir(t);let l;try{l=e(...r)}finally{ir(i),n._d&&yi(1)}return l};return n._n=!0,n._c=!0,n._d=!0,n}function or(e,t){if(null===rr)return e;const r=nl(rr),i=e.dirs||(e.dirs=[]);for(let l=0;l<t.length;l++){let[e,o,a,s=n]=t[l];e&&(m(e)&&(e={mounted:e,updated:e}),e.deep&&Nt(o),i.push({dir:e,instance:r,value:o,oldValue:void 0,arg:a,modifiers:s}))}return e}function ar(e,t,r,n){const i=e.dirs,l=t&&t.dirs;for(let o=0;o<i.length;o++){const a=i[o];l&&(a.oldValue=l[o].value);let s=a.dir[n];s&&(we(),Lt(s,r,8,[e.el,a,e,t]),_e())}}const sr=Symbol("_vte"),cr=e=>e.__isTeleport;Symbol("_leaveCb"),Symbol("_enterCb");const ur=[Function,Array];Boolean,Boolean;function pr(e,t){6&e.shapeFlag&&e.component?(e.transition=t,pr(e.component.subTree,t)):128&e.shapeFlag?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}
/*! #__NO_SIDE_EFFECTS__ */
function hr(e,t){return m(e)?(()=>c({name:e.name},t,{setup:e}))():e}function dr(e){e.ids=[e.ids[0]+e.ids[2]+++"-",0,0]}function fr(e,t,r,i,l=!1){if(d(e))return void e.forEach(((e,n)=>fr(e,t&&(d(t)?t[n]:t),r,i,l)));if(gr(i)&&!l)return void(512&i.shapeFlag&&i.type.__asyncResolved&&i.component.subTree.component&&fr(e,t,r,i.component.subTree));const o=4&i.shapeFlag?nl(i.component):i.el,a=l?null:o,{i:s,r:c}=e;const p=t&&t.r,f=s.refs===n?s.refs={}:s.refs,g=s.setupState,v=wt(g),y=g===n?()=>!1:e=>h(v,e);if(null!=p&&p!==c&&(A(p)?(f[p]=null,y(p)&&(g[p]=null)):bt(p)&&(p.value=null)),m(c))Bt(c,s,12,[a,f]);else{const t=A(c),n=bt(c);if(t||n){const i=()=>{if(e.f){const r=t?y(c)?g[c]:f[c]:c.value;l?d(r)&&u(r,o):d(r)?r.includes(o)||r.push(o):t?(f[c]=[o],y(c)&&(g[c]=f[c])):(c.value=[o],e.k&&(f[e.k]=c.value))}else t?(f[c]=a,y(c)&&(g[c]=a)):n&&(c.value=a,e.k&&(f[e.k]=a))};a?(i.id=-1,Bn(i,r)):i()}else 0}}H().requestIdleCallback,H().cancelIdleCallback;const gr=e=>!!e.type.__asyncLoader
/*! #__NO_SIDE_EFFECTS__ */;const vr=e=>e.type.__isKeepAlive;RegExp,RegExp;function mr(e,t){return d(e)?e.some((e=>mr(e,t))):A(e)?e.split(",").includes(t):!!v(e)&&(e.lastIndex=0,e.test(t))}function Ar(e,t){wr(e,"a",t)}function yr(e,t){wr(e,"da",t)}function wr(e,t,r=ji){const n=e.__wdc||(e.__wdc=()=>{let t=r;while(t){if(t.isDeactivated)return;t=t.parent}return e()});if(br(t,n,r),r){let e=r.parent;while(e&&e.parent)vr(e.parent.vnode)&&_r(n,t,r,e),e=e.parent}}function _r(e,t,r,n){const i=br(t,e,n,!0);Dr((()=>{u(n[t],i)}),r)}function xr(e){e.shapeFlag&=-257,e.shapeFlag&=-513}function Tr(e){return 128&e.shapeFlag?e.ssContent:e}function br(e,t,r=ji,n=!1){if(r){const i=r[e]||(r[e]=[]),l=t.__weh||(t.__weh=(...n)=>{we();const i=Gi(r),l=Lt(t,r,e,n);return i(),_e(),l});return n?i.unshift(l):i.push(l),l}}const Er=e=>(t,r=ji)=>{Yi&&"sp"!==e||br(e,((...e)=>t(...e)),r)},Sr=Er("bm"),Pr=Er("m"),Rr=Er("bu"),Cr=Er("u"),Or=Er("bum"),Dr=Er("um"),Ir=Er("sp"),kr=Er("rtg"),Fr=Er("rtc");function Nr(e,t=ji){br("ec",e,t)}const Br="components",Lr="directives";function Mr(e,t){return jr(Br,e,!0,t)||e}const zr=Symbol.for("v-ndc");function Hr(e){return jr(Lr,e)}function jr(e,t,r=!0,n=!1){const i=rr||ji;if(i){const r=i.type;if(e===Br){const e=il(r,!1);if(e&&(e===t||e===O(t)||e===k(O(t))))return r}const l=Ur(i[e]||r[e],t)||Ur(i.appContext[e],t);return!l&&n?r:l}}function Ur(e,t){return e&&(e[t]||e[O(t)]||e[k(O(t))])}function Vr(e,t,r,n){let i;const l=r&&r[n],o=d(e);if(o||A(e)){const r=o&&vt(e);let n=!1;r&&(n=!At(e),e=Fe(e)),i=new Array(e.length);for(let o=0,a=e.length;o<a;o++)i[o]=t(n?xt(e[o]):e[o],o,void 0,l&&l[o])}else if("number"===typeof e){0,i=new Array(e);for(let r=0;r<e;r++)i[r]=t(r+1,r,void 0,l&&l[r])}else if(w(e))if(e[Symbol.iterator])i=Array.from(e,((e,r)=>t(e,r,void 0,l&&l[r])));else{const r=Object.keys(e);i=new Array(r.length);for(let n=0,o=r.length;n<o;n++){const o=r[n];i[n]=t(e[o],o,n,l&&l[n])}}else i=[];return r&&(r[n]=i),i}const Wr=e=>e?Zi(e)?nl(e):Wr(e.parent):null,Gr=c(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>Wr(e.parent),$root:e=>Wr(e.root),$host:e=>e.ce,$emit:e=>e.emit,$options:e=>en(e),$forceUpdate:e=>e.f||(e.f=()=>{Xt(e.update)}),$nextTick:e=>e.n||(e.n=Zt.bind(e.proxy)),$watch:e=>Yn.bind(e)}),qr=(e,t)=>e!==n&&!e.__isScriptSetup&&h(e,t),Zr={get({_:e},t){if("__v_skip"===t)return!0;const{ctx:r,setupState:i,data:l,props:o,accessCache:a,type:s,appContext:c}=e;let u;if("$"!==t[0]){const s=a[t];if(void 0!==s)switch(s){case 1:return i[t];case 2:return l[t];case 4:return r[t];case 3:return o[t]}else{if(qr(i,t))return a[t]=1,i[t];if(l!==n&&h(l,t))return a[t]=2,l[t];if((u=e.propsOptions[0])&&h(u,t))return a[t]=3,o[t];if(r!==n&&h(r,t))return a[t]=4,r[t];Xr&&(a[t]=0)}}const p=Gr[t];let d,f;return p?("$attrs"===t&&De(e.attrs,"get",""),p(e)):(d=s.__cssModules)&&(d=d[t])?d:r!==n&&h(r,t)?(a[t]=4,r[t]):(f=c.config.globalProperties,h(f,t)?f[t]:void 0)},set({_:e},t,r){const{data:i,setupState:l,ctx:o}=e;return qr(l,t)?(l[t]=r,!0):i!==n&&h(i,t)?(i[t]=r,!0):!h(e.props,t)&&(("$"!==t[0]||!(t.slice(1)in e))&&(o[t]=r,!0))},has({_:{data:e,setupState:t,accessCache:r,ctx:i,appContext:l,propsOptions:o}},a){let s;return!!r[a]||e!==n&&h(e,a)||qr(t,a)||(s=o[0])&&h(s,a)||h(i,a)||h(Gr,a)||h(l.config.globalProperties,a)},defineProperty(e,t,r){return null!=r.get?e._.accessCache[t]=0:h(r,"value")&&this.set(e,t,r.value,null),Reflect.defineProperty(e,t,r)}};function $r(e){return d(e)?e.reduce(((e,t)=>(e[t]=null,e)),{}):e}let Xr=!0;function Yr(e){const t=en(e),r=e.proxy,n=e.ctx;Xr=!1,t.beforeCreate&&Jr(t.beforeCreate,e,"bc");const{data:i,computed:o,methods:a,watch:s,provide:c,inject:u,created:p,beforeMount:h,mounted:f,beforeUpdate:g,updated:v,activated:A,deactivated:y,beforeDestroy:_,beforeUnmount:x,destroyed:T,unmounted:b,render:E,renderTracked:S,renderTriggered:P,errorCaptured:R,serverPrefetch:C,expose:O,inheritAttrs:D,components:I,directives:k,filters:F}=t,N=null;if(u&&Kr(u,n,N),a)for(const l in a){const e=a[l];m(e)&&(n[l]=e.bind(r))}if(i){0;const t=i.call(r,r);0,w(t)&&(e.data=ht(t))}if(Xr=!0,o)for(const d in o){const e=o[d],t=m(e)?e.bind(r,r):m(e.get)?e.get.bind(r,r):l;0;const i=!m(e)&&m(e.set)?e.set.bind(r):l,a=ol({get:t,set:i});Object.defineProperty(n,d,{enumerable:!0,configurable:!0,get:()=>a.value,set:e=>a.value=e})}if(s)for(const l in s)Qr(s[l],n,r,l);if(c){const e=m(c)?c.call(r):c;Reflect.ownKeys(e).forEach((t=>{gn(t,e[t])}))}function B(e,t){d(t)?t.forEach((t=>e(t.bind(r)))):t&&e(t.bind(r))}if(p&&Jr(p,e,"c"),B(Sr,h),B(Pr,f),B(Rr,g),B(Cr,v),B(Ar,A),B(yr,y),B(Nr,R),B(Fr,S),B(kr,P),B(Or,x),B(Dr,b),B(Ir,C),d(O))if(O.length){const t=e.exposed||(e.exposed={});O.forEach((e=>{Object.defineProperty(t,e,{get:()=>r[e],set:t=>r[e]=t})}))}else e.exposed||(e.exposed={});E&&e.render===l&&(e.render=E),null!=D&&(e.inheritAttrs=D),I&&(e.components=I),k&&(e.directives=k),C&&dr(e)}function Kr(e,t,r=l){d(e)&&(e=on(e));for(const n in e){const r=e[n];let i;i=w(r)?"default"in r?vn(r.from||n,r.default,!0):vn(r.from||n):vn(r),bt(i)?Object.defineProperty(t,n,{enumerable:!0,configurable:!0,get:()=>i.value,set:e=>i.value=e}):t[n]=i}}function Jr(e,t,r){Lt(d(e)?e.map((e=>e.bind(t.proxy))):e.bind(t.proxy),t,r)}function Qr(e,t,r,n){let i=n.includes(".")?Kn(r,n):()=>r[n];if(A(e)){const r=t[e];m(r)&&$n(i,r)}else if(m(e))$n(i,e.bind(r));else if(w(e))if(d(e))e.forEach((e=>Qr(e,t,r,n)));else{const n=m(e.handler)?e.handler.bind(r):t[e.handler];m(n)&&$n(i,n,e)}else 0}function en(e){const t=e.type,{mixins:r,extends:n}=t,{mixins:i,optionsCache:l,config:{optionMergeStrategies:o}}=e.appContext,a=l.get(t);let s;return a?s=a:i.length||r||n?(s={},i.length&&i.forEach((e=>tn(s,e,o,!0))),tn(s,t,o)):s=t,w(t)&&l.set(t,s),s}function tn(e,t,r,n=!1){const{mixins:i,extends:l}=t;l&&tn(e,l,r,!0),i&&i.forEach((t=>tn(e,t,r,!0)));for(const o in t)if(n&&"expose"===o);else{const n=rn[o]||r&&r[o];e[o]=n?n(e[o],t[o]):t[o]}return e}const rn={data:nn,props:cn,emits:cn,methods:sn,computed:sn,beforeCreate:an,created:an,beforeMount:an,mounted:an,beforeUpdate:an,updated:an,beforeDestroy:an,beforeUnmount:an,destroyed:an,unmounted:an,activated:an,deactivated:an,errorCaptured:an,serverPrefetch:an,components:sn,directives:sn,watch:un,provide:nn,inject:ln};function nn(e,t){return t?e?function(){return c(m(e)?e.call(this,this):e,m(t)?t.call(this,this):t)}:t:e}function ln(e,t){return sn(on(e),on(t))}function on(e){if(d(e)){const t={};for(let r=0;r<e.length;r++)t[e[r]]=e[r];return t}return e}function an(e,t){return e?[...new Set([].concat(e,t))]:t}function sn(e,t){return e?c(Object.create(null),e,t):t}function cn(e,t){return e?d(e)&&d(t)?[...new Set([...e,...t])]:c(Object.create(null),$r(e),$r(null!=t?t:{})):t}function un(e,t){if(!e)return t;if(!t)return e;const r=c(Object.create(null),e);for(const n in t)r[n]=an(e[n],t[n]);return r}function pn(){return{app:null,config:{isNativeTag:o,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let hn=0;function dn(e,t){return function(r,n=null){m(r)||(r=c({},r)),null==n||w(n)||(n=null);const i=pn(),l=new WeakSet,o=[];let a=!1;const s=i.app={_uid:hn++,_component:r,_props:n,_container:null,_context:i,_instance:null,version:al,get config(){return i.config},set config(e){0},use(e,...t){return l.has(e)||(e&&m(e.install)?(l.add(e),e.install(s,...t)):m(e)&&(l.add(e),e(s,...t))),s},mixin(e){return i.mixins.includes(e)||i.mixins.push(e),s},component(e,t){return t?(i.components[e]=t,s):i.components[e]},directive(e,t){return t?(i.directives[e]=t,s):i.directives[e]},mount(l,o,c){if(!a){0;const u=s._ceVNode||Ri(r,n);return u.appContext=i,!0===c?c="svg":!1===c&&(c=void 0),o&&t?t(u,l):e(u,l,c),a=!0,s._container=l,l.__vue_app__=s,nl(u.component)}},onUnmount(e){o.push(e)},unmount(){a&&(Lt(o,s._instance,16),e(null,s._container),delete s._container.__vue_app__)},provide(e,t){return i.provides[e]=t,s},runWithContext(e){const t=fn;fn=s;try{return e()}finally{fn=t}}};return s}}let fn=null;function gn(e,t){if(ji){let r=ji.provides;const n=ji.parent&&ji.parent.provides;n===r&&(r=ji.provides=Object.create(n)),r[e]=t}else 0}function vn(e,t,r=!1){const n=ji||rr;if(n||fn){const i=fn?fn._context.provides:n?null==n.parent?n.vnode.appContext&&n.vnode.appContext.provides:n.parent.provides:void 0;if(i&&e in i)return i[e];if(arguments.length>1)return r&&m(t)?t.call(n&&n.proxy):t}else 0}const mn={},An=()=>Object.create(mn),yn=e=>Object.getPrototypeOf(e)===mn;function wn(e,t,r,n=!1){const i={},l=An();e.propsDefaults=Object.create(null),xn(e,t,i,l);for(const o in e.propsOptions[0])o in i||(i[o]=void 0);r?e.props=n?i:dt(i):e.type.props?e.props=i:e.props=l,e.attrs=l}function _n(e,t,r,n){const{props:i,attrs:l,vnode:{patchFlag:o}}=e,a=wt(i),[s]=e.propsOptions;let c=!1;if(!(n||o>0)||16&o){let n;xn(e,t,i,l)&&(c=!0);for(const l in a)t&&(h(t,l)||(n=I(l))!==l&&h(t,n))||(s?!r||void 0===r[l]&&void 0===r[n]||(i[l]=Tn(s,a,l,void 0,e,!0)):delete i[l]);if(l!==a)for(const e in l)t&&h(t,e)||(delete l[e],c=!0)}else if(8&o){const r=e.vnode.dynamicProps;for(let n=0;n<r.length;n++){let o=r[n];if(ti(e.emitsOptions,o))continue;const u=t[o];if(s)if(h(l,o))u!==l[o]&&(l[o]=u,c=!0);else{const t=O(o);i[t]=Tn(s,a,t,u,e,!1)}else u!==l[o]&&(l[o]=u,c=!0)}}c&&Ie(e.attrs,"set","")}function xn(e,t,r,i){const[l,o]=e.propsOptions;let a,s=!1;if(t)for(let n in t){if(P(n))continue;const c=t[n];let u;l&&h(l,u=O(n))?o&&o.includes(u)?(a||(a={}))[u]=c:r[u]=c:ti(e.emitsOptions,n)||n in i&&c===i[n]||(i[n]=c,s=!0)}if(o){const t=wt(r),i=a||n;for(let n=0;n<o.length;n++){const a=o[n];r[a]=Tn(l,t,a,i[a],e,!h(i,a))}}return s}function Tn(e,t,r,n,i,l){const o=e[r];if(null!=o){const e=h(o,"default");if(e&&void 0===n){const e=o.default;if(o.type!==Function&&!o.skipFactory&&m(e)){const{propsDefaults:l}=i;if(r in l)n=l[r];else{const o=Gi(i);n=l[r]=e.call(null,t),o()}}else n=e;i.ce&&i.ce._setProp(r,n)}o[0]&&(l&&!e?n=!1:!o[1]||""!==n&&n!==I(r)||(n=!0))}return n}const bn=new WeakMap;function En(e,t,r=!1){const l=r?bn:t.propsCache,o=l.get(e);if(o)return o;const a=e.props,s={},u=[];let p=!1;if(!m(e)){const n=e=>{p=!0;const[r,n]=En(e,t,!0);c(s,r),n&&u.push(...n)};!r&&t.mixins.length&&t.mixins.forEach(n),e.extends&&n(e.extends),e.mixins&&e.mixins.forEach(n)}if(!a&&!p)return w(e)&&l.set(e,i),i;if(d(a))for(let i=0;i<a.length;i++){0;const e=O(a[i]);Sn(e)&&(s[e]=n)}else if(a){0;for(const e in a){const t=O(e);if(Sn(t)){const r=a[e],n=s[t]=d(r)||m(r)?{type:r}:c({},r),i=n.type;let l=!1,o=!0;if(d(i))for(let e=0;e<i.length;++e){const t=i[e],r=m(t)&&t.name;if("Boolean"===r){l=!0;break}"String"===r&&(o=!1)}else l=m(i)&&"Boolean"===i.name;n[0]=l,n[1]=o,(l||h(n,"default"))&&u.push(t)}}}const f=[s,u];return w(e)&&l.set(e,f),f}function Sn(e){return"$"!==e[0]&&!P(e)}const Pn=e=>"_"===e[0]||"$stable"===e,Rn=e=>d(e)?e.map(ki):[ki(e)],Cn=(e,t,r)=>{if(t._n)return t;const n=lr(((...e)=>Rn(t(...e))),r);return n._c=!1,n},On=(e,t,r)=>{const n=e._ctx;for(const i in e){if(Pn(i))continue;const r=e[i];if(m(r))t[i]=Cn(i,r,n);else if(null!=r){0;const e=Rn(r);t[i]=()=>e}}},Dn=(e,t)=>{const r=Rn(t);e.slots.default=()=>r},In=(e,t,r)=>{for(const n in t)(r||"_"!==n)&&(e[n]=t[n])},kn=(e,t,r)=>{const n=e.slots=An();if(32&e.vnode.shapeFlag){const e=t._;e?(In(n,t,r),r&&L(n,"_",e,!0)):On(t,n)}else t&&Dn(e,t)},Fn=(e,t,r)=>{const{vnode:i,slots:l}=e;let o=!0,a=n;if(32&i.shapeFlag){const e=t._;e?r&&1===e?o=!1:In(l,t,r):(o=!t.$stable,On(t,l)),a=t}else t&&(Dn(e,t),a={default:1});if(o)for(const n in l)Pn(n)||null!=a[n]||delete l[n]};function Nn(){"boolean"!==typeof __VUE_PROD_HYDRATION_MISMATCH_DETAILS__&&(H().__VUE_PROD_HYDRATION_MISMATCH_DETAILS__=!1)}const Bn=ci;function Ln(e){return Mn(e)}function Mn(e,t){Nn();const r=H();r.__VUE__=!0;const{insert:o,remove:a,patchProp:s,createElement:c,createText:u,createComment:p,setText:h,setElementText:d,parentNode:f,nextSibling:g,setScopeId:v=l,insertStaticContent:m}=e,A=(e,t,r,n=null,i=null,l=null,o=void 0,a=null,s=!!t.dynamicChildren)=>{if(e===t)return;e&&!bi(e,t)&&(n=X(e),W(e,i,l,!0),e=null),-2===t.patchFlag&&(s=!1,t.dynamicChildren=null);const{type:c,ref:u,shapeFlag:p}=t;switch(c){case pi:y(e,t,r,n);break;case hi:w(e,t,r,n);break;case di:null==e&&_(t,r,n,o);break;case ui:I(e,t,r,n,i,l,o,a,s);break;default:1&p?b(e,t,r,n,i,l,o,a,s):6&p?k(e,t,r,n,i,l,o,a,s):(64&p||128&p)&&c.process(e,t,r,n,i,l,o,a,s,J)}null!=u&&i&&fr(u,e&&e.ref,l,t||e,!t)},y=(e,t,r,n)=>{if(null==e)o(t.el=u(t.children),r,n);else{const r=t.el=e.el;t.children!==e.children&&h(r,t.children)}},w=(e,t,r,n)=>{null==e?o(t.el=p(t.children||""),r,n):t.el=e.el},_=(e,t,r,n)=>{[e.el,e.anchor]=m(e.children,t,r,n,e.el,e.anchor)},x=({el:e,anchor:t},r,n)=>{let i;while(e&&e!==t)i=g(e),o(e,r,n),e=i;o(t,r,n)},T=({el:e,anchor:t})=>{let r;while(e&&e!==t)r=g(e),a(e),e=r;a(t)},b=(e,t,r,n,i,l,o,a,s)=>{"svg"===t.type?o="svg":"math"===t.type&&(o="mathml"),null==e?E(t,r,n,i,l,o,a,s):C(e,t,i,l,o,a,s)},E=(e,t,r,n,i,l,a,u)=>{let p,h;const{props:f,shapeFlag:g,transition:v,dirs:m}=e;if(p=e.el=c(e.type,l,f&&f.is,f),8&g?d(p,e.children):16&g&&R(e.children,p,null,n,i,zn(e,l),a,u),m&&ar(e,null,n,"created"),S(p,e,e.scopeId,a,n),f){for(const e in f)"value"===e||P(e)||s(p,e,null,f[e],l,n);"value"in f&&s(p,"value",null,f.value,l),(h=f.onVnodeBeforeMount)&&Li(h,n,e)}m&&ar(e,null,n,"beforeMount");const A=jn(i,v);A&&v.beforeEnter(p),o(p,t,r),((h=f&&f.onVnodeMounted)||A||m)&&Bn((()=>{h&&Li(h,n,e),A&&v.enter(p),m&&ar(e,null,n,"mounted")}),i)},S=(e,t,r,n,i)=>{if(r&&v(e,r),n)for(let l=0;l<n.length;l++)v(e,n[l]);if(i){let r=i.subTree;if(t===r||si(r.type)&&(r.ssContent===t||r.ssFallback===t)){const t=i.vnode;S(e,t,t.scopeId,t.slotScopeIds,i.parent)}}},R=(e,t,r,n,i,l,o,a,s=0)=>{for(let c=s;c<e.length;c++){const s=e[c]=a?Fi(e[c]):ki(e[c]);A(null,s,t,r,n,i,l,o,a)}},C=(e,t,r,i,l,o,a)=>{const c=t.el=e.el;let{patchFlag:u,dynamicChildren:p,dirs:h}=t;u|=16&e.patchFlag;const f=e.props||n,g=t.props||n;let v;if(r&&Hn(r,!1),(v=g.onVnodeBeforeUpdate)&&Li(v,r,t,e),h&&ar(t,e,r,"beforeUpdate"),r&&Hn(r,!0),(f.innerHTML&&null==g.innerHTML||f.textContent&&null==g.textContent)&&d(c,""),p?O(e.dynamicChildren,p,c,r,i,zn(t,l),o):a||z(e,t,c,null,r,i,zn(t,l),o,!1),u>0){if(16&u)D(c,f,g,r,l);else if(2&u&&f.class!==g.class&&s(c,"class",null,g.class,l),4&u&&s(c,"style",f.style,g.style,l),8&u){const e=t.dynamicProps;for(let t=0;t<e.length;t++){const n=e[t],i=f[n],o=g[n];o===i&&"value"!==n||s(c,n,i,o,l,r)}}1&u&&e.children!==t.children&&d(c,t.children)}else a||null!=p||D(c,f,g,r,l);((v=g.onVnodeUpdated)||h)&&Bn((()=>{v&&Li(v,r,t,e),h&&ar(t,e,r,"updated")}),i)},O=(e,t,r,n,i,l,o)=>{for(let a=0;a<t.length;a++){const s=e[a],c=t[a],u=s.el&&(s.type===ui||!bi(s,c)||70&s.shapeFlag)?f(s.el):r;A(s,c,u,null,n,i,l,o,!0)}},D=(e,t,r,i,l)=>{if(t!==r){if(t!==n)for(const n in t)P(n)||n in r||s(e,n,t[n],null,l,i);for(const n in r){if(P(n))continue;const o=r[n],a=t[n];o!==a&&"value"!==n&&s(e,n,a,o,l,i)}"value"in r&&s(e,"value",t.value,r.value,l)}},I=(e,t,r,n,i,l,a,s,c)=>{const p=t.el=e?e.el:u(""),h=t.anchor=e?e.anchor:u("");let{patchFlag:d,dynamicChildren:f,slotScopeIds:g}=t;g&&(s=s?s.concat(g):g),null==e?(o(p,r,n),o(h,r,n),R(t.children||[],r,h,i,l,a,s,c)):d>0&&64&d&&f&&e.dynamicChildren?(O(e.dynamicChildren,f,r,i,l,a,s),(null!=t.key||i&&t===i.subTree)&&Un(e,t,!0)):z(e,t,r,h,i,l,a,s,c)},k=(e,t,r,n,i,l,o,a,s)=>{t.slotScopeIds=a,null==e?512&t.shapeFlag?i.ctx.activate(t,r,n,o,s):F(t,r,n,i,l,o,s):N(e,t,s)},F=(e,t,r,n,i,l,o)=>{const a=e.component=Hi(e,n,i);if(vr(e)&&(a.ctx.renderer=J),Ki(a,!1,o),a.asyncDep){if(i&&i.registerDep(a,L,o),!e.el){const e=a.subTree=Ri(hi);w(null,e,t,r)}}else L(a,e,t,r,i,l,o)},N=(e,t,r)=>{const n=t.component=e.component;if(li(e,t,r)){if(n.asyncDep&&!n.asyncResolved)return void M(n,t,r);n.next=t,n.update()}else t.el=e.el,n.vnode=t},L=(e,t,r,n,i,l,o)=>{const a=()=>{if(e.isMounted){let{next:t,bu:r,u:n,parent:s,vnode:c}=e;{const r=Wn(e);if(r)return t&&(t.el=c.el,M(e,t,o)),void r.asyncDep.then((()=>{e.isUnmounted||a()}))}let u,p=t;0,Hn(e,!1),t?(t.el=c.el,M(e,t,o)):t=c,r&&B(r),(u=t.props&&t.props.onVnodeBeforeUpdate)&&Li(u,s,t,c),Hn(e,!0);const h=ri(e);0;const d=e.subTree;e.subTree=h,A(d,h,f(d.el),X(d),e,i,l),t.el=h.el,null===p&&ai(e,h.el),n&&Bn(n,i),(u=t.props&&t.props.onVnodeUpdated)&&Bn((()=>Li(u,s,t,c)),i)}else{let o;const{el:a,props:s}=t,{bm:c,m:u,parent:p,root:h,type:d}=e,f=gr(t);if(Hn(e,!1),c&&B(c),!f&&(o=s&&s.onVnodeBeforeMount)&&Li(o,p,t),Hn(e,!0),a&&ee){const t=()=>{e.subTree=ri(e),ee(a,e.subTree,e,i,null)};f&&d.__asyncHydrate?d.__asyncHydrate(a,e,t):t()}else{h.ce&&h.ce._injectChildStyle(d);const o=e.subTree=ri(e);0,A(null,o,r,n,e,i,l),t.el=o.el}if(u&&Bn(u,i),!f&&(o=s&&s.onVnodeMounted)){const e=t;Bn((()=>Li(o,p,e)),i)}(256&t.shapeFlag||p&&gr(p.vnode)&&256&p.vnode.shapeFlag)&&e.a&&Bn(e.a,i),e.isMounted=!0,t=r=n=null}};e.scope.on();const s=e.effect=new le(a);e.scope.off();const c=e.update=s.run.bind(s),u=e.job=s.runIfDirty.bind(s);u.i=e,u.id=e.uid,s.scheduler=()=>Xt(u),Hn(e,!0),c()},M=(e,t,r)=>{t.component=e;const n=e.vnode.props;e.vnode=t,e.next=null,_n(e,t.props,n,r),Fn(e,t.children,r),we(),Jt(e),_e()},z=(e,t,r,n,i,l,o,a,s=!1)=>{const c=e&&e.children,u=e?e.shapeFlag:0,p=t.children,{patchFlag:h,shapeFlag:f}=t;if(h>0){if(128&h)return void U(c,p,r,n,i,l,o,a,s);if(256&h)return void j(c,p,r,n,i,l,o,a,s)}8&f?(16&u&&$(c,i,l),p!==c&&d(r,p)):16&u?16&f?U(c,p,r,n,i,l,o,a,s):$(c,i,l,!0):(8&u&&d(r,""),16&f&&R(p,r,n,i,l,o,a,s))},j=(e,t,r,n,l,o,a,s,c)=>{e=e||i,t=t||i;const u=e.length,p=t.length,h=Math.min(u,p);let d;for(d=0;d<h;d++){const n=t[d]=c?Fi(t[d]):ki(t[d]);A(e[d],n,r,null,l,o,a,s,c)}u>p?$(e,l,o,!0,!1,h):R(t,r,n,l,o,a,s,c,h)},U=(e,t,r,n,l,o,a,s,c)=>{let u=0;const p=t.length;let h=e.length-1,d=p-1;while(u<=h&&u<=d){const n=e[u],i=t[u]=c?Fi(t[u]):ki(t[u]);if(!bi(n,i))break;A(n,i,r,null,l,o,a,s,c),u++}while(u<=h&&u<=d){const n=e[h],i=t[d]=c?Fi(t[d]):ki(t[d]);if(!bi(n,i))break;A(n,i,r,null,l,o,a,s,c),h--,d--}if(u>h){if(u<=d){const e=d+1,i=e<p?t[e].el:n;while(u<=d)A(null,t[u]=c?Fi(t[u]):ki(t[u]),r,i,l,o,a,s,c),u++}}else if(u>d)while(u<=h)W(e[u],l,o,!0),u++;else{const f=u,g=u,v=new Map;for(u=g;u<=d;u++){const e=t[u]=c?Fi(t[u]):ki(t[u]);null!=e.key&&v.set(e.key,u)}let m,y=0;const w=d-g+1;let _=!1,x=0;const T=new Array(w);for(u=0;u<w;u++)T[u]=0;for(u=f;u<=h;u++){const n=e[u];if(y>=w){W(n,l,o,!0);continue}let i;if(null!=n.key)i=v.get(n.key);else for(m=g;m<=d;m++)if(0===T[m-g]&&bi(n,t[m])){i=m;break}void 0===i?W(n,l,o,!0):(T[i-g]=u+1,i>=x?x=i:_=!0,A(n,t[i],r,null,l,o,a,s,c),y++)}const b=_?Vn(T):i;for(m=b.length-1,u=w-1;u>=0;u--){const e=g+u,i=t[e],h=e+1<p?t[e+1].el:n;0===T[u]?A(null,i,r,h,l,o,a,s,c):_&&(m<0||u!==b[m]?V(i,r,h,2):m--)}}},V=(e,t,r,n,i=null)=>{const{el:l,type:a,transition:s,children:c,shapeFlag:u}=e;if(6&u)return void V(e.component.subTree,t,r,n);if(128&u)return void e.suspense.move(t,r,n);if(64&u)return void a.move(e,t,r,J);if(a===ui){o(l,t,r);for(let e=0;e<c.length;e++)V(c[e],t,r,n);return void o(e.anchor,t,r)}if(a===di)return void x(e,t,r);const p=2!==n&&1&u&&s;if(p)if(0===n)s.beforeEnter(l),o(l,t,r),Bn((()=>s.enter(l)),i);else{const{leave:e,delayLeave:n,afterLeave:i}=s,a=()=>o(l,t,r),c=()=>{e(l,(()=>{a(),i&&i()}))};n?n(l,a,c):c()}else o(l,t,r)},W=(e,t,r,n=!1,i=!1)=>{const{type:l,props:o,ref:a,children:s,dynamicChildren:c,shapeFlag:u,patchFlag:p,dirs:h,cacheIndex:d}=e;if(-2===p&&(i=!1),null!=a&&fr(a,null,r,e,!0),null!=d&&(t.renderCache[d]=void 0),256&u)return void t.ctx.deactivate(e);const f=1&u&&h,g=!gr(e);let v;if(g&&(v=o&&o.onVnodeBeforeUnmount)&&Li(v,t,e),6&u)Z(e.component,r,n);else{if(128&u)return void e.suspense.unmount(r,n);f&&ar(e,null,t,"beforeUnmount"),64&u?e.type.remove(e,t,r,J,n):c&&!c.hasOnce&&(l!==ui||p>0&&64&p)?$(c,t,r,!1,!0):(l===ui&&384&p||!i&&16&u)&&$(s,t,r),n&&G(e)}(g&&(v=o&&o.onVnodeUnmounted)||f)&&Bn((()=>{v&&Li(v,t,e),f&&ar(e,null,t,"unmounted")}),r)},G=e=>{const{type:t,el:r,anchor:n,transition:i}=e;if(t===ui)return void q(r,n);if(t===di)return void T(e);const l=()=>{a(r),i&&!i.persisted&&i.afterLeave&&i.afterLeave()};if(1&e.shapeFlag&&i&&!i.persisted){const{leave:t,delayLeave:n}=i,o=()=>t(r,l);n?n(e.el,l,o):o()}else l()},q=(e,t)=>{let r;while(e!==t)r=g(e),a(e),e=r;a(t)},Z=(e,t,r)=>{const{bum:n,scope:i,job:l,subTree:o,um:a,m:s,a:c}=e;Gn(s),Gn(c),n&&B(n),i.stop(),l&&(l.flags|=8,W(o,e,t,r)),a&&Bn(a,t),Bn((()=>{e.isUnmounted=!0}),t),t&&t.pendingBranch&&!t.isUnmounted&&e.asyncDep&&!e.asyncResolved&&e.suspenseId===t.pendingId&&(t.deps--,0===t.deps&&t.resolve())},$=(e,t,r,n=!1,i=!1,l=0)=>{for(let o=l;o<e.length;o++)W(e[o],t,r,n,i)},X=e=>{if(6&e.shapeFlag)return X(e.component.subTree);if(128&e.shapeFlag)return e.suspense.next();const t=g(e.anchor||e.el),r=t&&t[sr];return r?g(r):t};let Y=!1;const K=(e,t,r)=>{null==e?t._vnode&&W(t._vnode,null,null,!0):A(t._vnode||null,e,t,null,null,null,r),t._vnode=e,Y||(Y=!0,Jt(),Qt(),Y=!1)},J={p:A,um:W,m:V,r:G,mt:F,mc:R,pc:z,pbc:O,n:X,o:e};let Q,ee;return t&&([Q,ee]=t(J)),{render:K,hydrate:Q,createApp:dn(K,Q)}}function zn({type:e,props:t},r){return"svg"===r&&"foreignObject"===e||"mathml"===r&&"annotation-xml"===e&&t&&t.encoding&&t.encoding.includes("html")?void 0:r}function Hn({effect:e,job:t},r){r?(e.flags|=32,t.flags|=4):(e.flags&=-33,t.flags&=-5)}function jn(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function Un(e,t,r=!1){const n=e.children,i=t.children;if(d(n)&&d(i))for(let l=0;l<n.length;l++){const e=n[l];let t=i[l];1&t.shapeFlag&&!t.dynamicChildren&&((t.patchFlag<=0||32===t.patchFlag)&&(t=i[l]=Fi(i[l]),t.el=e.el),r||-2===t.patchFlag||Un(e,t)),t.type===pi&&(t.el=e.el)}}function Vn(e){const t=e.slice(),r=[0];let n,i,l,o,a;const s=e.length;for(n=0;n<s;n++){const s=e[n];if(0!==s){if(i=r[r.length-1],e[i]<s){t[n]=i,r.push(n);continue}l=0,o=r.length-1;while(l<o)a=l+o>>1,e[r[a]]<s?l=a+1:o=a;s<e[r[l]]&&(l>0&&(t[n]=r[l-1]),r[l]=n)}}l=r.length,o=r[l-1];while(l-- >0)r[l]=o,o=t[o];return r}function Wn(e){const t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:Wn(t)}function Gn(e){if(e)for(let t=0;t<e.length;t++)e[t].flags|=8}const qn=Symbol.for("v-scx"),Zn=()=>{{const e=vn(qn);return e}};function $n(e,t,r){return Xn(e,t,r)}function Xn(e,t,r=n){const{immediate:i,deep:o,flush:a,once:s}=r;const u=c({},r);const p=t&&i||!t&&"post"!==a;let h;if(Yi)if("sync"===a){const e=Zn();h=e.__watcherHandles||(e.__watcherHandles=[])}else if(!p){const e=()=>{};return e.stop=l,e.resume=l,e.pause=l,e}const d=ji;u.call=(e,t,r)=>Lt(e,d,t,r);let f=!1;"post"===a?u.scheduler=e=>{Bn(e,d&&d.suspense)}:"sync"!==a&&(f=!0,u.scheduler=(e,t)=>{t?e():Xt(e)}),u.augmentJob=e=>{t&&(e.flags|=4),f&&(e.flags|=2,d&&(e.id=d.uid,e.i=d))};const g=Ft(e,t,u);return Yi&&(h?h.push(g):p&&g()),g}function Yn(e,t,r){const n=this.proxy,i=A(e)?e.includes(".")?Kn(n,e):()=>n[e]:e.bind(n,n);let l;m(t)?l=t:(l=t.handler,r=t);const o=Gi(this),a=Xn(i,l.bind(n),r);return o(),a}function Kn(e,t){const r=t.split(".");return()=>{let t=e;for(let e=0;e<r.length&&t;e++)t=t[r[e]];return t}}const Jn=(e,t)=>"modelValue"===t||"model-value"===t?e.modelModifiers:e[`${t}Modifiers`]||e[`${O(t)}Modifiers`]||e[`${I(t)}Modifiers`];function Qn(e,t,...r){if(e.isUnmounted)return;const i=e.vnode.props||n;let l=r;const o=t.startsWith("update:"),a=o&&Jn(i,t.slice(7));let s;a&&(a.trim&&(l=r.map((e=>A(e)?e.trim():e))),a.number&&(l=r.map(M)));let c=i[s=F(t)]||i[s=F(O(t))];!c&&o&&(c=i[s=F(I(t))]),c&&Lt(c,e,6,l);const u=i[s+"Once"];if(u){if(e.emitted){if(e.emitted[s])return}else e.emitted={};e.emitted[s]=!0,Lt(u,e,6,l)}}function ei(e,t,r=!1){const n=t.emitsCache,i=n.get(e);if(void 0!==i)return i;const l=e.emits;let o={},a=!1;if(!m(e)){const n=e=>{const r=ei(e,t,!0);r&&(a=!0,c(o,r))};!r&&t.mixins.length&&t.mixins.forEach(n),e.extends&&n(e.extends),e.mixins&&e.mixins.forEach(n)}return l||a?(d(l)?l.forEach((e=>o[e]=null)):c(o,l),w(e)&&n.set(e,o),o):(w(e)&&n.set(e,null),null)}function ti(e,t){return!(!e||!a(t))&&(t=t.slice(2).replace(/Once$/,""),h(e,t[0].toLowerCase()+t.slice(1))||h(e,I(t))||h(e,t))}function ri(e){const{type:t,vnode:r,proxy:n,withProxy:i,propsOptions:[l],slots:o,attrs:a,emit:c,render:u,renderCache:p,props:h,data:d,setupState:f,ctx:g,inheritAttrs:v}=e,m=ir(e);let A,y;try{if(4&r.shapeFlag){const e=i||n,t=e;A=ki(u.call(t,e,p,h,f,d,g)),y=a}else{const e=t;0,A=ki(e.length>1?e(h,{attrs:a,slots:o,emit:c}):e(h,null)),y=t.props?a:ni(a)}}catch(_){fi.length=0,Mt(_,e,1),A=Ri(hi)}let w=A;if(y&&!1!==v){const e=Object.keys(y),{shapeFlag:t}=w;e.length&&7&t&&(l&&e.some(s)&&(y=ii(y,l)),w=Di(w,y,!1,!0))}return r.dirs&&(w=Di(w,null,!1,!0),w.dirs=w.dirs?w.dirs.concat(r.dirs):r.dirs),r.transition&&pr(w,r.transition),A=w,ir(m),A}const ni=e=>{let t;for(const r in e)("class"===r||"style"===r||a(r))&&((t||(t={}))[r]=e[r]);return t},ii=(e,t)=>{const r={};for(const n in e)s(n)&&n.slice(9)in t||(r[n]=e[n]);return r};function li(e,t,r){const{props:n,children:i,component:l}=e,{props:o,children:a,patchFlag:s}=t,c=l.emitsOptions;if(t.dirs||t.transition)return!0;if(!(r&&s>=0))return!(!i&&!a||a&&a.$stable)||n!==o&&(n?!o||oi(n,o,c):!!o);if(1024&s)return!0;if(16&s)return n?oi(n,o,c):!!o;if(8&s){const e=t.dynamicProps;for(let t=0;t<e.length;t++){const r=e[t];if(o[r]!==n[r]&&!ti(c,r))return!0}}return!1}function oi(e,t,r){const n=Object.keys(t);if(n.length!==Object.keys(e).length)return!0;for(let i=0;i<n.length;i++){const l=n[i];if(t[l]!==e[l]&&!ti(r,l))return!0}return!1}function ai({vnode:e,parent:t},r){while(t){const n=t.subTree;if(n.suspense&&n.suspense.activeBranch===e&&(n.el=e.el),n!==e)break;(e=t.vnode).el=r,t=t.parent}}const si=e=>e.__isSuspense;function ci(e,t){t&&t.pendingBranch?d(e)?t.effects.push(...e):t.effects.push(e):Kt(e)}const ui=Symbol.for("v-fgt"),pi=Symbol.for("v-txt"),hi=Symbol.for("v-cmt"),di=Symbol.for("v-stc"),fi=[];let gi=null;function vi(e=!1){fi.push(gi=e?null:[])}function mi(){fi.pop(),gi=fi[fi.length-1]||null}let Ai=1;function yi(e,t=!1){Ai+=e,e<0&&gi&&t&&(gi.hasOnce=!0)}function wi(e){return e.dynamicChildren=Ai>0?gi||i:null,mi(),Ai>0&&gi&&gi.push(e),e}function _i(e,t,r,n,i,l){return wi(Pi(e,t,r,n,i,l,!0))}function xi(e,t,r,n,i){return wi(Ri(e,t,r,n,i,!0))}function Ti(e){return!!e&&!0===e.__v_isVNode}function bi(e,t){return e.type===t.type&&e.key===t.key}const Ei=({key:e})=>null!=e?e:null,Si=({ref:e,ref_key:t,ref_for:r})=>("number"===typeof e&&(e=""+e),null!=e?A(e)||bt(e)||m(e)?{i:rr,r:e,k:t,f:!!r}:e:null);function Pi(e,t=null,r=null,n=0,i=null,l=(e===ui?0:1),o=!1,a=!1){const s={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&Ei(t),ref:t&&Si(t),scopeId:nr,slotScopeIds:null,children:r,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:l,patchFlag:n,dynamicProps:i,dynamicChildren:null,appContext:null,ctx:rr};return a?(Ni(s,r),128&l&&e.normalize(s)):r&&(s.shapeFlag|=A(r)?8:16),Ai>0&&!o&&gi&&(s.patchFlag>0||6&l)&&32!==s.patchFlag&&gi.push(s),s}const Ri=Ci;function Ci(e,t=null,r=null,n=0,i=null,l=!1){if(e&&e!==zr||(e=hi),Ti(e)){const n=Di(e,t,!0);return r&&Ni(n,r),Ai>0&&!l&&gi&&(6&n.shapeFlag?gi[gi.indexOf(e)]=n:gi.push(n)),n.patchFlag=-2,n}if(ll(e)&&(e=e.__vccOpts),t){t=Oi(t);let{class:e,style:r}=t;e&&!A(e)&&(t.class=q(e)),w(r)&&(yt(r)&&!d(r)&&(r=c({},r)),t.style=j(r))}const o=A(e)?1:si(e)?128:cr(e)?64:w(e)?4:m(e)?2:0;return Pi(e,t,r,n,i,o,l,!0)}function Oi(e){return e?yt(e)||yn(e)?c({},e):e:null}function Di(e,t,r=!1,n=!1){const{props:i,ref:l,patchFlag:o,children:a,transition:s}=e,c=t?Bi(i||{},t):i,u={__v_isVNode:!0,__v_skip:!0,type:e.type,props:c,key:c&&Ei(c),ref:t&&t.ref?r&&l?d(l)?l.concat(Si(t)):[l,Si(t)]:Si(t):l,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:a,target:e.target,targetStart:e.targetStart,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==ui?-1===o?16:16|o:o,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:s,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&Di(e.ssContent),ssFallback:e.ssFallback&&Di(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce};return s&&n&&pr(u,s.clone(u)),u}function Ii(e=" ",t=0){return Ri(pi,null,e,t)}function ki(e){return null==e||"boolean"===typeof e?Ri(hi):d(e)?Ri(ui,null,e.slice()):Ti(e)?Fi(e):Ri(pi,null,String(e))}function Fi(e){return null===e.el&&-1!==e.patchFlag||e.memo?e:Di(e)}function Ni(e,t){let r=0;const{shapeFlag:n}=e;if(null==t)t=null;else if(d(t))r=16;else if("object"===typeof t){if(65&n){const r=t.default;return void(r&&(r._c&&(r._d=!1),Ni(e,r()),r._c&&(r._d=!0)))}{r=32;const n=t._;n||yn(t)?3===n&&rr&&(1===rr.slots._?t._=1:(t._=2,e.patchFlag|=1024)):t._ctx=rr}}else m(t)?(t={default:t,_ctx:rr},r=32):(t=String(t),64&n?(r=16,t=[Ii(t)]):r=8);e.children=t,e.shapeFlag|=r}function Bi(...e){const t={};for(let r=0;r<e.length;r++){const n=e[r];for(const e in n)if("class"===e)t.class!==n.class&&(t.class=q([t.class,n.class]));else if("style"===e)t.style=j([t.style,n.style]);else if(a(e)){const r=t[e],i=n[e];!i||r===i||d(r)&&r.includes(i)||(t[e]=r?[].concat(r,i):i)}else""!==e&&(t[e]=n[e])}return t}function Li(e,t,r,n=null){Lt(e,t,7,[r,n])}const Mi=pn();let zi=0;function Hi(e,t,r){const i=e.type,l=(t?t.appContext:e.appContext)||Mi,o={uid:zi++,vnode:e,type:i,parent:t,appContext:l,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new re(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(l.provides),ids:t?t.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:En(i,l),emitsOptions:ei(i,l),emit:null,emitted:null,propsDefaults:n,inheritAttrs:i.inheritAttrs,ctx:n,data:n,props:n,attrs:n,slots:n,refs:n,setupState:n,setupContext:null,suspense:r,suspenseId:r?r.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return o.ctx={_:o},o.root=t?t.root:o,o.emit=Qn.bind(null,o),e.ce&&e.ce(o),o}let ji=null;const Ui=()=>ji||rr;let Vi,Wi;{const e=H(),t=(t,r)=>{let n;return(n=e[t])||(n=e[t]=[]),n.push(r),e=>{n.length>1?n.forEach((t=>t(e))):n[0](e)}};Vi=t("__VUE_INSTANCE_SETTERS__",(e=>ji=e)),Wi=t("__VUE_SSR_SETTERS__",(e=>Yi=e))}const Gi=e=>{const t=ji;return Vi(e),e.scope.on(),()=>{e.scope.off(),Vi(t)}},qi=()=>{ji&&ji.scope.off(),Vi(null)};function Zi(e){return 4&e.vnode.shapeFlag}let $i,Xi,Yi=!1;function Ki(e,t=!1,r=!1){t&&Wi(t);const{props:n,children:i}=e.vnode,l=Zi(e);wn(e,n,l,t),kn(e,i,r);const o=l?Ji(e,t):void 0;return t&&Wi(!1),o}function Ji(e,t){const r=e.type;e.accessCache=Object.create(null),e.proxy=new Proxy(e.ctx,Zr);const{setup:n}=r;if(n){we();const r=e.setupContext=n.length>1?rl(e):null,i=Gi(e),l=Bt(n,e,0,[e.props,r]),o=_(l);if(_e(),i(),!o&&!e.sp||gr(e)||dr(e),o){if(l.then(qi,qi),t)return l.then((r=>{Qi(e,r,t)})).catch((t=>{Mt(t,e,0)}));e.asyncDep=l}else Qi(e,l,t)}else el(e,t)}function Qi(e,t,r){m(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:w(t)&&(e.setupState=Pt(t)),el(e,r)}function el(e,t,r){const n=e.type;if(!e.render){if(!t&&$i&&!n.render){const t=n.template||en(e).template;if(t){0;const{isCustomElement:r,compilerOptions:i}=e.appContext.config,{delimiters:l,compilerOptions:o}=n,a=c(c({isCustomElement:r,delimiters:l},i),o);n.render=$i(t,a)}}e.render=n.render||l,Xi&&Xi(e)}{const t=Gi(e);we();try{Yr(e)}finally{_e(),t()}}}const tl={get(e,t){return De(e,"get",""),e[t]}};function rl(e){const t=t=>{e.exposed=t||{}};return{attrs:new Proxy(e.attrs,tl),slots:e.slots,emit:e.emit,expose:t}}function nl(e){return e.exposed?e.exposeProxy||(e.exposeProxy=new Proxy(Pt(_t(e.exposed)),{get(t,r){return r in t?t[r]:r in Gr?Gr[r](e):void 0},has(e,t){return t in e||t in Gr}})):e.proxy}function il(e,t=!0){return m(e)?e.displayName||e.name:e.name||t&&e.__name}function ll(e){return m(e)&&"__vccOpts"in e}const ol=(e,t)=>{const r=Ct(e,t,Yi);return r};const al="3.5.13";
/**
* @vue/runtime-dom v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/
let sl;const cl="undefined"!==typeof window&&window.trustedTypes;if(cl)try{sl=cl.createPolicy("vue",{createHTML:e=>e})}catch(Up){}const ul=sl?e=>sl.createHTML(e):e=>e,pl="http://www.w3.org/2000/svg",hl="http://www.w3.org/1998/Math/MathML",dl="undefined"!==typeof document?document:null,fl=dl&&dl.createElement("template"),gl={insert:(e,t,r)=>{t.insertBefore(e,r||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,r,n)=>{const i="svg"===t?dl.createElementNS(pl,e):"mathml"===t?dl.createElementNS(hl,e):r?dl.createElement(e,{is:r}):dl.createElement(e);return"select"===e&&n&&null!=n.multiple&&i.setAttribute("multiple",n.multiple),i},createText:e=>dl.createTextNode(e),createComment:e=>dl.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>dl.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,r,n,i,l){const o=r?r.previousSibling:t.lastChild;if(i&&(i===l||i.nextSibling)){while(1)if(t.insertBefore(i.cloneNode(!0),r),i===l||!(i=i.nextSibling))break}else{fl.innerHTML=ul("svg"===n?`<svg>${e}</svg>`:"mathml"===n?`<math>${e}</math>`:e);const i=fl.content;if("svg"===n||"mathml"===n){const e=i.firstChild;while(e.firstChild)i.appendChild(e.firstChild);i.removeChild(e)}t.insertBefore(i,r)}return[o?o.nextSibling:t.firstChild,r?r.previousSibling:t.lastChild]}},vl=Symbol("_vtc");Boolean;function ml(e,t,r){const n=e[vl];n&&(t=(t?[t,...n]:[...n]).join(" ")),null==t?e.removeAttribute("class"):r?e.setAttribute("class",t):e.className=t}const Al=Symbol("_vod"),yl=Symbol("_vsh");const wl=Symbol("");const _l=/(^|;)\s*display\s*:/;function xl(e,t,r){const n=e.style,i=A(r);let l=!1;if(r&&!i){if(t)if(A(t))for(const e of t.split(";")){const t=e.slice(0,e.indexOf(":")).trim();null==r[t]&&bl(n,t,"")}else for(const e in t)null==r[e]&&bl(n,e,"");for(const e in r)"display"===e&&(l=!0),bl(n,e,r[e])}else if(i){if(t!==r){const e=n[wl];e&&(r+=";"+e),n.cssText=r,l=_l.test(r)}}else t&&e.removeAttribute("style");Al in e&&(e[Al]=l?n.display:"",e[yl]&&(n.display="none"))}const Tl=/\s*!important$/;function bl(e,t,r){if(d(r))r.forEach((r=>bl(e,t,r)));else if(null==r&&(r=""),t.startsWith("--"))e.setProperty(t,r);else{const n=Pl(e,t);Tl.test(r)?e.setProperty(I(n),r.replace(Tl,""),"important"):e[n]=r}}const El=["Webkit","Moz","ms"],Sl={};function Pl(e,t){const r=Sl[t];if(r)return r;let n=O(t);if("filter"!==n&&n in e)return Sl[t]=n;n=k(n);for(let i=0;i<El.length;i++){const r=El[i]+n;if(r in e)return Sl[t]=r}return t}const Rl="http://www.w3.org/1999/xlink";function Cl(e,t,r,n,i,l=$(t)){n&&t.startsWith("xlink:")?null==r?e.removeAttributeNS(Rl,t.slice(6,t.length)):e.setAttributeNS(Rl,t,r):null==r||l&&!X(r)?e.removeAttribute(t):e.setAttribute(t,l?"":y(r)?String(r):r)}function Ol(e,t,r,n,i){if("innerHTML"===t||"textContent"===t)return void(null!=r&&(e[t]="innerHTML"===t?ul(r):r));const l=e.tagName;if("value"===t&&"PROGRESS"!==l&&!l.includes("-")){const n="OPTION"===l?e.getAttribute("value")||"":e.value,i=null==r?"checkbox"===e.type?"on":"":String(r);return n===i&&"_value"in e||(e.value=i),null==r&&e.removeAttribute(t),void(e._value=r)}let o=!1;if(""===r||null==r){const n=typeof e[t];"boolean"===n?r=X(r):null==r&&"string"===n?(r="",o=!0):"number"===n&&(r=0,o=!0)}try{e[t]=r}catch(Up){0}o&&e.removeAttribute(i||t)}function Dl(e,t,r,n){e.addEventListener(t,r,n)}function Il(e,t,r,n){e.removeEventListener(t,r,n)}const kl=Symbol("_vei");function Fl(e,t,r,n,i=null){const l=e[kl]||(e[kl]={}),o=l[t];if(n&&o)o.value=n;else{const[r,a]=Bl(t);if(n){const o=l[t]=Hl(n,i);Dl(e,r,o,a)}else o&&(Il(e,r,o,a),l[t]=void 0)}}const Nl=/(?:Once|Passive|Capture)$/;function Bl(e){let t;if(Nl.test(e)){let r;t={};while(r=e.match(Nl))e=e.slice(0,e.length-r[0].length),t[r[0].toLowerCase()]=!0}const r=":"===e[2]?e.slice(3):I(e.slice(2));return[r,t]}let Ll=0;const Ml=Promise.resolve(),zl=()=>Ll||(Ml.then((()=>Ll=0)),Ll=Date.now());function Hl(e,t){const r=e=>{if(e._vts){if(e._vts<=r.attached)return}else e._vts=Date.now();Lt(jl(e,r.value),t,5,[e])};return r.value=e,r.attached=zl(),r}function jl(e,t){if(d(t)){const r=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{r.call(e),e._stopped=!0},t.map((e=>t=>!t._stopped&&e&&e(t)))}return t}const Ul=e=>111===e.charCodeAt(0)&&110===e.charCodeAt(1)&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,Vl=(e,t,r,n,i,l)=>{const o="svg"===i;"class"===t?ml(e,n,o):"style"===t?xl(e,r,n):a(t)?s(t)||Fl(e,t,r,n,l):("."===t[0]?(t=t.slice(1),1):"^"===t[0]?(t=t.slice(1),0):Wl(e,t,n,o))?(Ol(e,t,n),e.tagName.includes("-")||"value"!==t&&"checked"!==t&&"selected"!==t||Cl(e,t,n,o,l,"value"!==t)):!e._isVueCE||!/[A-Z]/.test(t)&&A(n)?("true-value"===t?e._trueValue=n:"false-value"===t&&(e._falseValue=n),Cl(e,t,n,o)):Ol(e,O(t),n,l,t)};function Wl(e,t,r,n){if(n)return"innerHTML"===t||"textContent"===t||!!(t in e&&Ul(t)&&m(r));if("spellcheck"===t||"draggable"===t||"translate"===t)return!1;if("form"===t)return!1;if("list"===t&&"INPUT"===e.tagName)return!1;if("type"===t&&"TEXTAREA"===e.tagName)return!1;if("width"===t||"height"===t){const t=e.tagName;if("IMG"===t||"VIDEO"===t||"CANVAS"===t||"SOURCE"===t)return!1}return(!Ul(t)||!A(r))&&t in e}
/*! #__NO_SIDE_EFFECTS__ */
"undefined"!==typeof HTMLElement&&HTMLElement;Symbol("_moveCb"),Symbol("_enterCb");const Gl=e=>{const t=e.props["onUpdate:modelValue"]||!1;return d(t)?e=>B(t,e):t};function ql(e){e.target.composing=!0}function Zl(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const $l=Symbol("_assign"),Xl={created(e,{modifiers:{lazy:t,trim:r,number:n}},i){e[$l]=Gl(i);const l=n||i.props&&"number"===i.props.type;Dl(e,t?"change":"input",(t=>{if(t.target.composing)return;let n=e.value;r&&(n=n.trim()),l&&(n=M(n)),e[$l](n)})),r&&Dl(e,"change",(()=>{e.value=e.value.trim()})),t||(Dl(e,"compositionstart",ql),Dl(e,"compositionend",Zl),Dl(e,"change",Zl))},mounted(e,{value:t}){e.value=null==t?"":t},beforeUpdate(e,{value:t,oldValue:r,modifiers:{lazy:n,trim:i,number:l}},o){if(e[$l]=Gl(o),e.composing)return;const a=!l&&"number"!==e.type||/^0\d/.test(e.value)?e.value:M(e.value),s=null==t?"":t;if(a!==s){if(document.activeElement===e&&"range"!==e.type){if(n&&t===r)return;if(i&&e.value.trim()===s)return}e.value=s}}};const Yl=["ctrl","shift","alt","meta"],Kl={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&0!==e.button,middle:e=>"button"in e&&1!==e.button,right:e=>"button"in e&&2!==e.button,exact:(e,t)=>Yl.some((r=>e[`${r}Key`]&&!t.includes(r)))},Jl=(e,t)=>{const r=e._withMods||(e._withMods={}),n=t.join(".");return r[n]||(r[n]=(r,...n)=>{for(let e=0;e<t.length;e++){const n=Kl[t[e]];if(n&&n(r,t))return}return e(r,...n)})},Ql={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},eo=(e,t)=>{const r=e._withKeys||(e._withKeys={}),n=t.join(".");return r[n]||(r[n]=r=>{if(!("key"in r))return;const n=I(r.key);return t.some((e=>e===n||Ql[e]===n))?e(r):void 0})},to=c({patchProp:Vl},gl);let ro;function no(){return ro||(ro=Ln(to))}const io=(...e)=>{const t=no().createApp(...e);const{mount:r}=t;return t.mount=e=>{const n=oo(e);if(!n)return;const i=t._component;m(i)||i.render||i.template||(i.template=n.innerHTML),1===n.nodeType&&(n.textContent="");const l=r(n,!1,lo(n));return n instanceof Element&&(n.removeAttribute("v-cloak"),n.setAttribute("data-v-app","")),l},t};function lo(e){return e instanceof SVGElement?"svg":"function"===typeof MathMLElement&&e instanceof MathMLElement?"mathml":void 0}function oo(e){if(A(e)){const t=document.querySelector(e);return t}return e}function ao(e){return-1!==e.type.indexOf("mouse")?e.clientX:e.touches[0].clientX}function so(e){return-1!==e.type.indexOf("mouse")?e.clientY:e.touches[0].clientY}var co=function(){var e=!1;try{var t=Object.defineProperty({},"passive",{get:function(){e=!0}});window.addEventListener("test",null,t)}catch(Up){}return e}(),uo={install:function(e,t){var r=Object.assign({},{disableClick:!1,tapTolerance:10,swipeTolerance:30,touchHoldTolerance:400,longTapTimeInterval:400,touchClass:""},t);function n(e){var t=this.$$touchObj,r=e.type.indexOf("touch")>=0,n=e.type.indexOf("mouse")>=0,i=this;r&&(t.lastTouchStartTime=e.timeStamp),n&&t.lastTouchStartTime&&e.timeStamp-t.lastTouchStartTime<350||t.touchStarted||(u(this),t.touchStarted=!0,t.touchMoved=!1,t.swipeOutBounded=!1,t.startX=ao(e),t.startY=so(e),t.currentX=0,t.currentY=0,t.touchStartTime=e.timeStamp,t.touchHoldTimer=setTimeout((function(){t.touchHoldTimer=null,c(e,i,"touchhold")}),t.options.touchHoldTolerance),c(e,this,"start"))}function i(e){var t=this.$$touchObj;if(t.currentX=ao(e),t.currentY=so(e),t.touchMoved){if(!t.swipeOutBounded){var r=t.options.swipeTolerance;t.swipeOutBounded=Math.abs(t.startX-t.currentX)>r&&Math.abs(t.startY-t.currentY)>r}}else{var n=t.options.tapTolerance;t.touchMoved=Math.abs(t.startX-t.currentX)>n||Math.abs(t.startY-t.currentY)>n,t.touchMoved&&(h(t),c(e,this,"moved"))}t.touchMoved&&c(e,this,"moving")}function l(){var e=this.$$touchObj;h(e),p(this),e.touchStarted=e.touchMoved=!1,e.startX=e.startY=0}function o(e){var t=this.$$touchObj,r=e.type.indexOf("touch")>=0,n=e.type.indexOf("mouse")>=0;r&&(t.lastTouchEndTime=e.timeStamp);var i=r&&!t.touchHoldTimer;if(h(t),t.touchStarted=!1,p(this),!(n&&t.lastTouchEndTime&&e.timeStamp-t.lastTouchEndTime<350))if(c(e,this,"end"),t.touchMoved){if(!t.swipeOutBounded){var l,o=t.options.swipeTolerance,a=Math.abs(t.startY-t.currentY),s=Math.abs(t.startX-t.currentX);(a>o||s>o)&&(l=a>o?t.startY>t.currentY?"top":"bottom":t.startX>t.currentX?"left":"right",t.callbacks["swipe."+l]?c(e,this,"swipe."+l,l):c(e,this,"swipe",l))}}else if(t.callbacks.longtap&&e.timeStamp-t.touchStartTime>t.options.longTapTimeInterval)e.cancelable&&e.preventDefault(),c(e,this,"longtap");else{if(t.callbacks.touchhold&&i)return void(e.cancelable&&e.preventDefault());c(e,this,"tap")}}function a(){u(this)}function s(){p(this)}function c(e,t,r,n){var i=t.$$touchObj,l=i.callbacks[r]||[];if(0===l.length)return null;for(var o=0;o<l.length;o++){var a=l[o];a.modifiers.stop&&e.stopPropagation(),a.modifiers.prevent&&e.preventDefault(),a.modifiers.self&&e.target!==e.currentTarget||"function"===typeof a.value&&(n?a.value(n,e):a.value(e))}}function u(e){var t=e.$$touchObj.options.touchClass;t&&e.classList.add(t)}function p(e){var t=e.$$touchObj.options.touchClass;t&&e.classList.remove(t)}function h(e){e.touchHoldTimer&&(clearTimeout(e.touchHoldTimer),e.touchHoldTimer=null)}function d(e,t){var n=e.$$touchObj||{callbacks:{},hasBindTouchEvents:!1,options:r};return t&&(n.options=Object.assign({},n.options,t)),e.$$touchObj=n,e.$$touchObj}e.directive("touch",{beforeMount:function(e,t){var r=d(e),c=!!co&&{passive:!0},u=t.arg||"tap";switch(u){case"swipe":var p=t.modifiers;if(p.left||p.right||p.top||p.bottom){for(var h in t.modifiers)if(["left","right","top","bottom"].indexOf(h)>=0){var f="swipe."+h;r.callbacks[f]=r.callbacks[f]||[],r.callbacks[f].push(t)}}else r.callbacks.swipe=r.callbacks.swipe||[],r.callbacks.swipe.push(t);break;case"start":case"moving":t.modifiers.disablePassive&&(c=!1);default:r.callbacks[u]=r.callbacks[u]||[],r.callbacks[u].push(t)}r.hasBindTouchEvents||(e.addEventListener("touchstart",n,c),e.addEventListener("touchmove",i,c),e.addEventListener("touchcancel",l),e.addEventListener("touchend",o),r.options.disableClick||(e.addEventListener("mousedown",n),e.addEventListener("mousemove",i),e.addEventListener("mouseup",o),e.addEventListener("mouseenter",a),e.addEventListener("mouseleave",s)),r.hasBindTouchEvents=!0)},unmounted:function(e){e.removeEventListener("touchstart",n),e.removeEventListener("touchmove",i),e.removeEventListener("touchcancel",l),e.removeEventListener("touchend",o),e.$$touchObj&&!e.$$touchObj.options.disableClick&&(e.removeEventListener("mousedown",n),e.removeEventListener("mousemove",i),e.removeEventListener("mouseup",o),e.removeEventListener("mouseenter",a),e.removeEventListener("mouseleave",s)),delete e.$$touchObj}}),e.directive("touch-class",{beforeMount:function(e,t){d(e,{touchClass:t.value})}}),e.directive("touch-options",{beforeMount:function(e,t){d(e,t.value)}})}},po=uo,ho=(e=>(e["LOADING"]="loading",e["LOADED"]="loaded",e["ERROR"]="error",e))(ho||{});const fo="undefined"!==typeof window&&null!==window,go=_o(),vo=Object.prototype.propertyIsEnumerable,mo=Object.getOwnPropertySymbols;function Ao(e){return"function"===typeof e||"[object Object]"===toString.call(e)}function yo(e){return"object"===typeof e?null===e:"function"!==typeof e}function wo(e){return"__proto__"!==e&&"constructor"!==e&&"prototype"!==e}function _o(){return!!(fo&&"IntersectionObserver"in window&&"IntersectionObserverEntry"in window&&"intersectionRatio"in window.IntersectionObserverEntry.prototype)&&("isIntersecting"in window.IntersectionObserverEntry.prototype||Object.defineProperty(window.IntersectionObserverEntry.prototype,"isIntersecting",{get(){return this.intersectionRatio>0}}),!0)}function xo(e,...t){if(!Ao(e))throw new TypeError("expected the first argument to be an object");if(0===t.length||"function"!==typeof Symbol||"function"!==typeof mo)return e;for(const r of t){const t=mo(r);for(const n of t)vo.call(r,n)&&(e[n]=r[n])}return e}function To(e,...t){let r=0;for(yo(e)&&(e=t[r++]),e||(e={});r<t.length;r++)if(Ao(t[r])){for(const n of Object.keys(t[r]))wo(n)&&(Ao(e[n])&&Ao(t[r][n])?To(e[n],t[r][n]):e[n]=t[r][n]);xo(e,t[r])}return e}const bo="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",Eo="",So={rootMargin:"0px",threshold:0},Po="data-lazy-timeout-id";class Ro{constructor(e){this.options={loading:bo,error:Eo,observerOptions:So,log:!0,lifecycle:{},logLevel:"error"},this._images=new WeakMap,this.config(e)}config(e={}){To(this.options,e)}mount(e,t){if(!e)return;const{src:r,loading:n,error:i,lifecycle:l,delay:o}=this._valueFormatter("string"===typeof t?t:t.value);this._lifecycle(ho.LOADING,l,e),e.setAttribute("src",n||bo),go||(this.loadImages(e,r,i,l),this._log((()=>{this._logger("Not support IntersectionObserver!")}))),this._initIntersectionObserver(e,r,i,l,o)}update(e,t){if(!e)return;this._realObserver(e)?.unobserve(e);const{src:r,error:n,lifecycle:i,delay:l}=this._valueFormatter("string"===typeof t?t:t.value);this._initIntersectionObserver(e,r,n,i,l)}unmount(e){e&&(this._realObserver(e)?.unobserve(e),this._images.delete(e))}loadImages(e,t,r,n){this._setImageSrc(e,t,r,n)}_setImageSrc(e,t,r,n){if("img"===e.tagName.toLowerCase()){if(t){const r=e.getAttribute("src");r!==t&&e.setAttribute("src",t)}this._listenImageStatus(e,(()=>{this._lifecycle(ho.LOADED,n,e)}),(()=>{if(e.onload=null,this._lifecycle(ho.ERROR,n,e),this._realObserver(e)?.disconnect(),r){const t=e.getAttribute("src");t!==r&&e.setAttribute("src",r)}this._log((()=>{this._logger(`Image failed to load!And failed src was: ${t} `)}))}))}else e.style.backgroundImage=`url('${t}')`}_initIntersectionObserver(e,t,r,n,i){const l=this.options.observerOptions;this._images.set(e,new IntersectionObserver((l=>{Array.prototype.forEach.call(l,(l=>{i&&i>0?this._delayedIntersectionCallback(e,l,i,t,r,n):this._intersectionCallback(e,l,t,r,n)}))}),l)),this._realObserver(e)?.observe(e)}_intersectionCallback(e,t,r,n,i){t.isIntersecting&&(this._realObserver(e)?.unobserve(t.target),this._setImageSrc(e,r,n,i))}_delayedIntersectionCallback(e,t,r,n,i,l){if(t.isIntersecting){if(t.target.hasAttribute(Po))return;const o=setTimeout((()=>{this._intersectionCallback(e,t,n,i,l),t.target.removeAttribute(Po)}),r);t.target.setAttribute(Po,String(o))}else t.target.hasAttribute(Po)&&(clearTimeout(Number(t.target.getAttribute(Po))),t.target.removeAttribute(Po))}_listenImageStatus(e,t,r){e.onload=t,e.onerror=r}_valueFormatter(e){let t=e,r=this.options.loading,n=this.options.error,i=this.options.lifecycle,l=this.options.delay;return Ao(e)&&(t=e.src,r=e.loading||this.options.loading,n=e.error||this.options.error,i=e.lifecycle||this.options.lifecycle,l=e.delay||this.options.delay),{src:t,loading:r,error:n,lifecycle:i,delay:l}}_log(e){this.options.log&&e()}_lifecycle(e,t,r){switch(e){case ho.LOADING:r?.setAttribute("lazy",ho.LOADING),t?.loading&&t.loading(r);break;case ho.LOADED:r?.setAttribute("lazy",ho.LOADED),t?.loaded&&t.loaded(r);break;case ho.ERROR:r?.setAttribute("lazy",ho.ERROR),t?.error&&t.error(r);break}}_realObserver(e){return this._images.get(e)}_logger(e,...t){let r=console.error;switch(this.options.logLevel){case"error":r=console.error;break;case"warn":r=console.warn;break;case"info":r=console.info;break;case"debug":r=console.debug;break}r(e,t)}}const Co={install(e,t){const r=new Ro(t);e.config.globalProperties.$Lazyload=r,e.provide("Lazyload",r),e.directive("lazy",{mounted:r.mount.bind(r),updated:r.update.bind(r),unmounted:r.unmount.bind(r)})}};function Oo(e,t,r,n,i,l){const o=Mr("osdVw");return vi(),xi(o)}const Do={id:"head"},Io={id:"search_area"},ko={role:"search"},Fo={for:"search_box"},No={id:"msg"},Bo={id:"page_area"},Lo=["value"],Mo={id:"side"},zo={id:"tmb_area"},Ho=["onClick","onKeyup","id"],jo=["alt"],Uo={id:"result_area"},Vo=["id"],Wo=["onClick","onKeyup"],Go={id:"viewer-image",ref:"image"},qo=["disabled"],Zo=["disabled"],$o={id:"foot"},Xo={id:"operation_buttons"};function Yo(e,t,r,n,i,l){const o=Hr("lazy"),a=Hr("touch");return vi(),_i(ui,null,[Pi("div",Do,[Pi("div",Io,[Pi("form",ko,[Pi("label",Fo,[t[14]||(t[14]=Pi("span",null,"検索",-1)),or(Pi("input",{id:"search_box",type:"text",placeholder:"キーワード","onUpdate:modelValue":t[0]||(t[0]=t=>e.searchKw=t),onKeyup:t[1]||(t[1]=eo((t=>e.isSearch()),["enter"]))},null,544),[[Xl,e.searchKw]]),Pi("button",{id:"search_btn",onClick:t[2]||(t[2]=Jl((t=>e.isSearch()),["prevent"]))},"検索")]),Pi("span",No,K(e.msg),1)])]),Pi("div",Bo,[Pi("input",{id:"page_box",type:"text",value:e.selectedPage,onInput:t[3]||(t[3]=(...t)=>e.setPage&&e.setPage(...t)),onKeyup:t[4]||(t[4]=eo(((...t)=>e.toSelectedPage&&e.toSelectedPage(...t)),["enter"]))},null,40,Lo),t[15]||(t[15]=Pi("span",null,"／",-1)),Pi("span",null,K(e.totalPage),1),Pi("button",{id:"to_page","aria-label":"ページ遷移",onClick:t[5]||(t[5]=Jl(((...t)=>e.toSelectedPage&&e.toSelectedPage(...t)),["prevent"]))})])]),Pi("div",{id:"wrap",class:q({result_opn:"result"===e.sideFlg})},[Pi("div",Mo,[Pi("div",zo,[Pi("dl",null,[(vi(!0),_i(ui,null,Vr(e.tileSourcesArray,((t,r)=>(vi(),_i("div",{onClick:t=>e.toPage(r),onKeyup:eo((t=>e.toPage(r)),["enter"]),key:r,class:q({current_img:"./data/"+e.currentImg===t.url}),tabindex:"0",role:"button",id:"p"+(r+1)},[Pi("dt",null,[or(Pi("img",{alt:r+1+"ページ"},null,8,jo),[[o,{src:t.url,loading:"./images/loading.png"}]])]),Pi("dd",null,K(r+1),1)],42,Ho)))),128))])]),Pi("div",Uo,[t[16]||(t[16]=Pi("div",{id:"txt0"},null,-1)),(vi(!0),_i(ui,null,Vr(e.filteredData,((t,r)=>(vi(),_i("div",{key:r,id:"txt"+(r+1)},[(vi(!0),_i(ui,null,Vr(t,((t,n)=>(vi(),_i("div",{key:n},[Pi("span",{class:q({selected:e.selectedFlg===r+"_"+n}),onClick:n=>e.toPage(r,t["@_X"],t["@_Y"],t["@_WIDTH"],t["@_HEIGHT"]),onKeyup:eo((n=>e.toPage(r,t["@_X"],t["@_Y"],t["@_WIDTH"],t["@_HEIGHT"])),["enter"]),role:"button",tabIndex:"0"}," 【"+K(r+1)+"】【"+K(t["@_STRING"])+"】 ",43,Wo)])))),128))],8,Vo)))),128))])]),or(Pi("div",Go,null,512),[[a,e.toNextPage,"swipe",{left:!0}],[a,e.toPreviousPage,"swipe",{right:!0}]]),Pi("button",{id:"left_arrow","aria-label":"前頁",onClick:t[6]||(t[6]=t=>e.toNextPage()),onKeyup:t[7]||(t[7]=eo((t=>e.toNextPage()),["enter"])),disabled:"last"==e.inactive},null,40,qo),Pi("button",{id:"right_arrow","aria-label":"次頁",onClick:t[8]||(t[8]=t=>e.toPreviousPage()),onKeyup:t[9]||(t[9]=eo((t=>e.toPreviousPage()),["enter"])),disabled:"first"==e.inactive},null,40,Zo)],2),Pi("div",$o,[Pi("div",Xo,[Pi("button",{id:"next",onClick:t[10]||(t[10]=t=>{e.getPage(),e.execRemoveOverlay()}),"aria-label":"前頁"}),Pi("button",{id:"previous",onClick:t[11]||(t[11]=t=>{e.getPage(),e.execRemoveOverlay()}),"aria-label":"次頁"}),t[17]||(t[17]=Pi("button",{id:"fullscreen","aria-label":"全画面表示"},null,-1)),Pi("button",{id:"reset","aria-label":"リセット",onClick:t[12]||(t[12]=t=>e.isReset()),onKeyup:t[13]||(t[13]=eo((t=>e.isReset()),["enter"]))},null,32),t[18]||(t[18]=Pi("button",{id:"zoom-in","aria-label":"拡大"},null,-1)),t[19]||(t[19]=Pi("button",{id:"zoom-out","aria-label":"縮小"},null,-1)),t[20]||(t[20]=Pi("button",{id:"rotate-left","aria-label":"左回転"},null,-1)),t[21]||(t[21]=Pi("button",{id:"rotate-right","aria-label":"右回転"},null,-1))])])],64)}r(4603),r(7566),r(8721),r(6573),r(8100),r(7936),r(7467),r(4732),r(9577),r(9848);function Ko(e,t){return function(){return e.apply(t,arguments)}}const{toString:Jo}=Object.prototype,{getPrototypeOf:Qo}=Object,ea=(e=>t=>{const r=Jo.call(t);return e[r]||(e[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),ta=e=>(e=e.toLowerCase(),t=>ea(t)===e),ra=e=>t=>typeof t===e,{isArray:na}=Array,ia=ra("undefined");function la(e){return null!==e&&!ia(e)&&null!==e.constructor&&!ia(e.constructor)&&ca(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const oa=ta("ArrayBuffer");function aa(e){let t;return t="undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&oa(e.buffer),t}const sa=ra("string"),ca=ra("function"),ua=ra("number"),pa=e=>null!==e&&"object"===typeof e,ha=e=>!0===e||!1===e,da=e=>{if("object"!==ea(e))return!1;const t=Qo(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},fa=ta("Date"),ga=ta("File"),va=ta("Blob"),ma=ta("FileList"),Aa=e=>pa(e)&&ca(e.pipe),ya=e=>{let t;return e&&("function"===typeof FormData&&e instanceof FormData||ca(e.append)&&("formdata"===(t=ea(e))||"object"===t&&ca(e.toString)&&"[object FormData]"===e.toString()))},wa=ta("URLSearchParams"),[_a,xa,Ta,ba]=["ReadableStream","Request","Response","Headers"].map(ta),Ea=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Sa(e,t,{allOwnKeys:r=!1}={}){if(null===e||"undefined"===typeof e)return;let n,i;if("object"!==typeof e&&(e=[e]),na(e))for(n=0,i=e.length;n<i;n++)t.call(null,e[n],n,e);else{const i=r?Object.getOwnPropertyNames(e):Object.keys(e),l=i.length;let o;for(n=0;n<l;n++)o=i[n],t.call(null,e[o],o,e)}}function Pa(e,t){t=t.toLowerCase();const r=Object.keys(e);let n,i=r.length;while(i-- >0)if(n=r[i],t===n.toLowerCase())return n;return null}const Ra=(()=>"undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self?self:"undefined"!==typeof window?window:global)(),Ca=e=>!ia(e)&&e!==Ra;function Oa(){const{caseless:e}=Ca(this)&&this||{},t={},r=(r,n)=>{const i=e&&Pa(t,n)||n;da(t[i])&&da(r)?t[i]=Oa(t[i],r):da(r)?t[i]=Oa({},r):na(r)?t[i]=r.slice():t[i]=r};for(let n=0,i=arguments.length;n<i;n++)arguments[n]&&Sa(arguments[n],r);return t}const Da=(e,t,r,{allOwnKeys:n}={})=>(Sa(t,((t,n)=>{r&&ca(t)?e[n]=Ko(t,r):e[n]=t}),{allOwnKeys:n}),e),Ia=e=>(65279===e.charCodeAt(0)&&(e=e.slice(1)),e),ka=(e,t,r,n)=>{e.prototype=Object.create(t.prototype,n),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),r&&Object.assign(e.prototype,r)},Fa=(e,t,r,n)=>{let i,l,o;const a={};if(t=t||{},null==e)return t;do{i=Object.getOwnPropertyNames(e),l=i.length;while(l-- >0)o=i[l],n&&!n(o,e,t)||a[o]||(t[o]=e[o],a[o]=!0);e=!1!==r&&Qo(e)}while(e&&(!r||r(e,t))&&e!==Object.prototype);return t},Na=(e,t,r)=>{e=String(e),(void 0===r||r>e.length)&&(r=e.length),r-=t.length;const n=e.indexOf(t,r);return-1!==n&&n===r},Ba=e=>{if(!e)return null;if(na(e))return e;let t=e.length;if(!ua(t))return null;const r=new Array(t);while(t-- >0)r[t]=e[t];return r},La=(e=>t=>e&&t instanceof e)("undefined"!==typeof Uint8Array&&Qo(Uint8Array)),Ma=(e,t)=>{const r=e&&e[Symbol.iterator],n=r.call(e);let i;while((i=n.next())&&!i.done){const r=i.value;t.call(e,r[0],r[1])}},za=(e,t)=>{let r;const n=[];while(null!==(r=e.exec(t)))n.push(r);return n},Ha=ta("HTMLFormElement"),ja=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,(function(e,t,r){return t.toUpperCase()+r})),Ua=(({hasOwnProperty:e})=>(t,r)=>e.call(t,r))(Object.prototype),Va=ta("RegExp"),Wa=(e,t)=>{const r=Object.getOwnPropertyDescriptors(e),n={};Sa(r,((r,i)=>{let l;!1!==(l=t(r,i,e))&&(n[i]=l||r)})),Object.defineProperties(e,n)},Ga=e=>{Wa(e,((t,r)=>{if(ca(e)&&-1!==["arguments","caller","callee"].indexOf(r))return!1;const n=e[r];ca(n)&&(t.enumerable=!1,"writable"in t?t.writable=!1:t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")}))}))},qa=(e,t)=>{const r={},n=e=>{e.forEach((e=>{r[e]=!0}))};return na(e)?n(e):n(String(e).split(t)),r},Za=()=>{},$a=(e,t)=>null!=e&&Number.isFinite(e=+e)?e:t;function Xa(e){return!!(e&&ca(e.append)&&"FormData"===e[Symbol.toStringTag]&&e[Symbol.iterator])}const Ya=e=>{const t=new Array(10),r=(e,n)=>{if(pa(e)){if(t.indexOf(e)>=0)return;if(!("toJSON"in e)){t[n]=e;const i=na(e)?[]:{};return Sa(e,((e,t)=>{const l=r(e,n+1);!ia(l)&&(i[t]=l)})),t[n]=void 0,i}}return e};return r(e,0)},Ka=ta("AsyncFunction"),Ja=e=>e&&(pa(e)||ca(e))&&ca(e.then)&&ca(e.catch),Qa=((e,t)=>e?setImmediate:t?((e,t)=>(Ra.addEventListener("message",(({source:r,data:n})=>{r===Ra&&n===e&&t.length&&t.shift()()}),!1),r=>{t.push(r),Ra.postMessage(e,"*")}))(`axios@${Math.random()}`,[]):e=>setTimeout(e))("function"===typeof setImmediate,ca(Ra.postMessage)),es="undefined"!==typeof queueMicrotask?queueMicrotask.bind(Ra):"undefined"!==typeof process&&process.nextTick||Qa;var ts={isArray:na,isArrayBuffer:oa,isBuffer:la,isFormData:ya,isArrayBufferView:aa,isString:sa,isNumber:ua,isBoolean:ha,isObject:pa,isPlainObject:da,isReadableStream:_a,isRequest:xa,isResponse:Ta,isHeaders:ba,isUndefined:ia,isDate:fa,isFile:ga,isBlob:va,isRegExp:Va,isFunction:ca,isStream:Aa,isURLSearchParams:wa,isTypedArray:La,isFileList:ma,forEach:Sa,merge:Oa,extend:Da,trim:Ea,stripBOM:Ia,inherits:ka,toFlatObject:Fa,kindOf:ea,kindOfTest:ta,endsWith:Na,toArray:Ba,forEachEntry:Ma,matchAll:za,isHTMLForm:Ha,hasOwnProperty:Ua,hasOwnProp:Ua,reduceDescriptors:Wa,freezeMethods:Ga,toObjectSet:qa,toCamelCase:ja,noop:Za,toFiniteNumber:$a,findKey:Pa,global:Ra,isContextDefined:Ca,isSpecCompliantForm:Xa,toJSONObject:Ya,isAsyncFn:Ka,isThenable:Ja,setImmediate:Qa,asap:es};r(1806);function rs(e,t,r,n,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=e,this.name="AxiosError",t&&(this.code=t),r&&(this.config=r),n&&(this.request=n),i&&(this.response=i,this.status=i.status?i.status:null)}ts.inherits(rs,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:ts.toJSONObject(this.config),code:this.code,status:this.status}}});const ns=rs.prototype,is={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach((e=>{is[e]={value:e}})),Object.defineProperties(rs,is),Object.defineProperty(ns,"isAxiosError",{value:!0}),rs.from=(e,t,r,n,i,l)=>{const o=Object.create(ns);return ts.toFlatObject(e,o,(function(e){return e!==Error.prototype}),(e=>"isAxiosError"!==e)),rs.call(o,e.message,t,r,n,i),o.cause=e,o.name=e.name,l&&Object.assign(o,l),o};var ls=rs,os=null;function as(e){return ts.isPlainObject(e)||ts.isArray(e)}function ss(e){return ts.endsWith(e,"[]")?e.slice(0,-2):e}function cs(e,t,r){return e?e.concat(t).map((function(e,t){return e=ss(e),!r&&t?"["+e+"]":e})).join(r?".":""):t}function us(e){return ts.isArray(e)&&!e.some(as)}const ps=ts.toFlatObject(ts,{},null,(function(e){return/^is[A-Z]/.test(e)}));function hs(e,t,r){if(!ts.isObject(e))throw new TypeError("target must be an object");t=t||new(os||FormData),r=ts.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,(function(e,t){return!ts.isUndefined(t[e])}));const n=r.metaTokens,i=r.visitor||u,l=r.dots,o=r.indexes,a=r.Blob||"undefined"!==typeof Blob&&Blob,s=a&&ts.isSpecCompliantForm(t);if(!ts.isFunction(i))throw new TypeError("visitor must be a function");function c(e){if(null===e)return"";if(ts.isDate(e))return e.toISOString();if(!s&&ts.isBlob(e))throw new ls("Blob is not supported. Use a Buffer instead.");return ts.isArrayBuffer(e)||ts.isTypedArray(e)?s&&"function"===typeof Blob?new Blob([e]):Buffer.from(e):e}function u(e,r,i){let a=e;if(e&&!i&&"object"===typeof e)if(ts.endsWith(r,"{}"))r=n?r:r.slice(0,-2),e=JSON.stringify(e);else if(ts.isArray(e)&&us(e)||(ts.isFileList(e)||ts.endsWith(r,"[]"))&&(a=ts.toArray(e)))return r=ss(r),a.forEach((function(e,n){!ts.isUndefined(e)&&null!==e&&t.append(!0===o?cs([r],n,l):null===o?r:r+"[]",c(e))})),!1;return!!as(e)||(t.append(cs(i,r,l),c(e)),!1)}const p=[],h=Object.assign(ps,{defaultVisitor:u,convertValue:c,isVisitable:as});function d(e,r){if(!ts.isUndefined(e)){if(-1!==p.indexOf(e))throw Error("Circular reference detected in "+r.join("."));p.push(e),ts.forEach(e,(function(e,n){const l=!(ts.isUndefined(e)||null===e)&&i.call(t,e,ts.isString(n)?n.trim():n,r,h);!0===l&&d(e,r?r.concat(n):[n])})),p.pop()}}if(!ts.isObject(e))throw new TypeError("data must be an object");return d(e),t}var ds=hs;function fs(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,(function(e){return t[e]}))}function gs(e,t){this._pairs=[],e&&ds(e,this,t)}const vs=gs.prototype;vs.append=function(e,t){this._pairs.push([e,t])},vs.toString=function(e){const t=e?function(t){return e.call(this,t,fs)}:fs;return this._pairs.map((function(e){return t(e[0])+"="+t(e[1])}),"").join("&")};var ms=gs;function As(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function ys(e,t,r){if(!t)return e;const n=r&&r.encode||As;ts.isFunction(r)&&(r={serialize:r});const i=r&&r.serialize;let l;if(l=i?i(t,r):ts.isURLSearchParams(t)?t.toString():new ms(t,r).toString(n),l){const t=e.indexOf("#");-1!==t&&(e=e.slice(0,t)),e+=(-1===e.indexOf("?")?"?":"&")+l}return e}class ws{constructor(){this.handlers=[]}use(e,t,r){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!r&&r.synchronous,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){ts.forEach(this.handlers,(function(t){null!==t&&e(t)}))}}var _s=ws,xs={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Ts="undefined"!==typeof URLSearchParams?URLSearchParams:ms,bs="undefined"!==typeof FormData?FormData:null,Es="undefined"!==typeof Blob?Blob:null,Ss={isBrowser:!0,classes:{URLSearchParams:Ts,FormData:bs,Blob:Es},protocols:["http","https","file","blob","url","data"]};const Ps="undefined"!==typeof window&&"undefined"!==typeof document,Rs="object"===typeof navigator&&navigator||void 0,Cs=Ps&&(!Rs||["ReactNative","NativeScript","NS"].indexOf(Rs.product)<0),Os=(()=>"undefined"!==typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"===typeof self.importScripts)(),Ds=Ps&&window.location.href||"http://localhost";var Is={...e,...Ss};function ks(e,t){return ds(e,new Is.classes.URLSearchParams,Object.assign({visitor:function(e,t,r,n){return Is.isNode&&ts.isBuffer(e)?(this.append(t,e.toString("base64")),!1):n.defaultVisitor.apply(this,arguments)}},t))}function Fs(e){return ts.matchAll(/\w+|\[(\w*)]/g,e).map((e=>"[]"===e[0]?"":e[1]||e[0]))}function Ns(e){const t={},r=Object.keys(e);let n;const i=r.length;let l;for(n=0;n<i;n++)l=r[n],t[l]=e[l];return t}function Bs(e){function t(e,r,n,i){let l=e[i++];if("__proto__"===l)return!0;const o=Number.isFinite(+l),a=i>=e.length;if(l=!l&&ts.isArray(n)?n.length:l,a)return ts.hasOwnProp(n,l)?n[l]=[n[l],r]:n[l]=r,!o;n[l]&&ts.isObject(n[l])||(n[l]=[]);const s=t(e,r,n[l],i);return s&&ts.isArray(n[l])&&(n[l]=Ns(n[l])),!o}if(ts.isFormData(e)&&ts.isFunction(e.entries)){const r={};return ts.forEachEntry(e,((e,n)=>{t(Fs(e),n,r,0)})),r}return null}var Ls=Bs;function Ms(e,t,r){if(ts.isString(e))try{return(t||JSON.parse)(e),ts.trim(e)}catch(Up){if("SyntaxError"!==Up.name)throw Up}return(r||JSON.stringify)(e)}const zs={transitional:xs,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const r=t.getContentType()||"",n=r.indexOf("application/json")>-1,i=ts.isObject(e);i&&ts.isHTMLForm(e)&&(e=new FormData(e));const l=ts.isFormData(e);if(l)return n?JSON.stringify(Ls(e)):e;if(ts.isArrayBuffer(e)||ts.isBuffer(e)||ts.isStream(e)||ts.isFile(e)||ts.isBlob(e)||ts.isReadableStream(e))return e;if(ts.isArrayBufferView(e))return e.buffer;if(ts.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let o;if(i){if(r.indexOf("application/x-www-form-urlencoded")>-1)return ks(e,this.formSerializer).toString();if((o=ts.isFileList(e))||r.indexOf("multipart/form-data")>-1){const t=this.env&&this.env.FormData;return ds(o?{"files[]":e}:e,t&&new t,this.formSerializer)}}return i||n?(t.setContentType("application/json",!1),Ms(e)):e}],transformResponse:[function(e){const t=this.transitional||zs.transitional,r=t&&t.forcedJSONParsing,n="json"===this.responseType;if(ts.isResponse(e)||ts.isReadableStream(e))return e;if(e&&ts.isString(e)&&(r&&!this.responseType||n)){const r=t&&t.silentJSONParsing,i=!r&&n;try{return JSON.parse(e)}catch(Up){if(i){if("SyntaxError"===Up.name)throw ls.from(Up,ls.ERR_BAD_RESPONSE,this,null,this.response);throw Up}}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Is.classes.FormData,Blob:Is.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};ts.forEach(["delete","get","head","post","put","patch"],(e=>{zs.headers[e]={}}));var Hs=zs;const js=ts.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]);var Us=e=>{const t={};let r,n,i;return e&&e.split("\n").forEach((function(e){i=e.indexOf(":"),r=e.substring(0,i).trim().toLowerCase(),n=e.substring(i+1).trim(),!r||t[r]&&js[r]||("set-cookie"===r?t[r]?t[r].push(n):t[r]=[n]:t[r]=t[r]?t[r]+", "+n:n)})),t};const Vs=Symbol("internals");function Ws(e){return e&&String(e).trim().toLowerCase()}function Gs(e){return!1===e||null==e?e:ts.isArray(e)?e.map(Gs):String(e)}function qs(e){const t=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;while(n=r.exec(e))t[n[1]]=n[2];return t}const Zs=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function $s(e,t,r,n,i){return ts.isFunction(n)?n.call(this,t,r):(i&&(t=r),ts.isString(t)?ts.isString(n)?-1!==t.indexOf(n):ts.isRegExp(n)?n.test(t):void 0:void 0)}function Xs(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,((e,t,r)=>t.toUpperCase()+r))}function Ys(e,t){const r=ts.toCamelCase(" "+t);["get","set","has"].forEach((n=>{Object.defineProperty(e,n+r,{value:function(e,r,i){return this[n].call(this,t,e,r,i)},configurable:!0})}))}class Ks{constructor(e){e&&this.set(e)}set(e,t,r){const n=this;function i(e,t,r){const i=Ws(t);if(!i)throw new Error("header name must be a non-empty string");const l=ts.findKey(n,i);(!l||void 0===n[l]||!0===r||void 0===r&&!1!==n[l])&&(n[l||t]=Gs(e))}const l=(e,t)=>ts.forEach(e,((e,r)=>i(e,r,t)));if(ts.isPlainObject(e)||e instanceof this.constructor)l(e,t);else if(ts.isString(e)&&(e=e.trim())&&!Zs(e))l(Us(e),t);else if(ts.isHeaders(e))for(const[o,a]of e.entries())i(a,o,r);else null!=e&&i(t,e,r);return this}get(e,t){if(e=Ws(e),e){const r=ts.findKey(this,e);if(r){const e=this[r];if(!t)return e;if(!0===t)return qs(e);if(ts.isFunction(t))return t.call(this,e,r);if(ts.isRegExp(t))return t.exec(e);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=Ws(e),e){const r=ts.findKey(this,e);return!(!r||void 0===this[r]||t&&!$s(this,this[r],r,t))}return!1}delete(e,t){const r=this;let n=!1;function i(e){if(e=Ws(e),e){const i=ts.findKey(r,e);!i||t&&!$s(r,r[i],i,t)||(delete r[i],n=!0)}}return ts.isArray(e)?e.forEach(i):i(e),n}clear(e){const t=Object.keys(this);let r=t.length,n=!1;while(r--){const i=t[r];e&&!$s(this,this[i],i,e,!0)||(delete this[i],n=!0)}return n}normalize(e){const t=this,r={};return ts.forEach(this,((n,i)=>{const l=ts.findKey(r,i);if(l)return t[l]=Gs(n),void delete t[i];const o=e?Xs(i):String(i).trim();o!==i&&delete t[i],t[o]=Gs(n),r[o]=!0})),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const t=Object.create(null);return ts.forEach(this,((r,n)=>{null!=r&&!1!==r&&(t[n]=e&&ts.isArray(r)?r.join(", "):r)})),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map((([e,t])=>e+": "+t)).join("\n")}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...t){const r=new this(e);return t.forEach((e=>r.set(e))),r}static accessor(e){const t=this[Vs]=this[Vs]={accessors:{}},r=t.accessors,n=this.prototype;function i(e){const t=Ws(e);r[t]||(Ys(n,e),r[t]=!0)}return ts.isArray(e)?e.forEach(i):i(e),this}}Ks.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),ts.reduceDescriptors(Ks.prototype,(({value:e},t)=>{let r=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(e){this[r]=e}}})),ts.freezeMethods(Ks);var Js=Ks;function Qs(e,t){const r=this||Hs,n=t||r,i=Js.from(n.headers);let l=n.data;return ts.forEach(e,(function(e){l=e.call(r,l,i.normalize(),t?t.status:void 0)})),i.normalize(),l}function ec(e){return!(!e||!e.__CANCEL__)}function tc(e,t,r){ls.call(this,null==e?"canceled":e,ls.ERR_CANCELED,t,r),this.name="CanceledError"}ts.inherits(tc,ls,{__CANCEL__:!0});var rc=tc;function nc(e,t,r){const n=r.config.validateStatus;r.status&&n&&!n(r.status)?t(new ls("Request failed with status code "+r.status,[ls.ERR_BAD_REQUEST,ls.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r)):e(r)}function ic(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function lc(e,t){e=e||10;const r=new Array(e),n=new Array(e);let i,l=0,o=0;return t=void 0!==t?t:1e3,function(a){const s=Date.now(),c=n[o];i||(i=s),r[l]=a,n[l]=s;let u=o,p=0;while(u!==l)p+=r[u++],u%=e;if(l=(l+1)%e,l===o&&(o=(o+1)%e),s-i<t)return;const h=c&&s-c;return h?Math.round(1e3*p/h):void 0}}var oc=lc;function ac(e,t){let r,n,i=0,l=1e3/t;const o=(t,l=Date.now())=>{i=l,r=null,n&&(clearTimeout(n),n=null),e.apply(null,t)},a=(...e)=>{const t=Date.now(),a=t-i;a>=l?o(e,t):(r=e,n||(n=setTimeout((()=>{n=null,o(r)}),l-a)))},s=()=>r&&o(r);return[a,s]}var sc=ac;const cc=(e,t,r=3)=>{let n=0;const i=oc(50,250);return sc((r=>{const l=r.loaded,o=r.lengthComputable?r.total:void 0,a=l-n,s=i(a),c=l<=o;n=l;const u={loaded:l,total:o,progress:o?l/o:void 0,bytes:a,rate:s||void 0,estimated:s&&o&&c?(o-l)/s:void 0,event:r,lengthComputable:null!=o,[t?"download":"upload"]:!0};e(u)}),r)},uc=(e,t)=>{const r=null!=e;return[n=>t[0]({lengthComputable:r,total:e,loaded:n}),t[1]]},pc=e=>(...t)=>ts.asap((()=>e(...t)));r(4979);var hc=Is.hasStandardBrowserEnv?((e,t)=>r=>(r=new URL(r,Is.origin),e.protocol===r.protocol&&e.host===r.host&&(t||e.port===r.port)))(new URL(Is.origin),Is.navigator&&/(msie|trident)/i.test(Is.navigator.userAgent)):()=>!0,dc=Is.hasStandardBrowserEnv?{write(e,t,r,n,i,l){const o=[e+"="+encodeURIComponent(t)];ts.isNumber(r)&&o.push("expires="+new Date(r).toGMTString()),ts.isString(n)&&o.push("path="+n),ts.isString(i)&&o.push("domain="+i),!0===l&&o.push("secure"),document.cookie=o.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function fc(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function gc(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function vc(e,t,r){let n=!fc(t);return e&&(n||0==r)?gc(e,t):t}const mc=e=>e instanceof Js?{...e}:e;function Ac(e,t){t=t||{};const r={};function n(e,t,r,n){return ts.isPlainObject(e)&&ts.isPlainObject(t)?ts.merge.call({caseless:n},e,t):ts.isPlainObject(t)?ts.merge({},t):ts.isArray(t)?t.slice():t}function i(e,t,r,i){return ts.isUndefined(t)?ts.isUndefined(e)?void 0:n(void 0,e,r,i):n(e,t,r,i)}function l(e,t){if(!ts.isUndefined(t))return n(void 0,t)}function o(e,t){return ts.isUndefined(t)?ts.isUndefined(e)?void 0:n(void 0,e):n(void 0,t)}function a(r,i,l){return l in t?n(r,i):l in e?n(void 0,r):void 0}const s={url:l,method:l,data:l,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:a,headers:(e,t,r)=>i(mc(e),mc(t),r,!0)};return ts.forEach(Object.keys(Object.assign({},e,t)),(function(n){const l=s[n]||i,o=l(e[n],t[n],n);ts.isUndefined(o)&&l!==a||(r[n]=o)})),r}var yc=e=>{const t=Ac({},e);let r,{data:n,withXSRFToken:i,xsrfHeaderName:l,xsrfCookieName:o,headers:a,auth:s}=t;if(t.headers=a=Js.from(a),t.url=ys(vc(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),s&&a.set("Authorization","Basic "+btoa((s.username||"")+":"+(s.password?unescape(encodeURIComponent(s.password)):""))),ts.isFormData(n))if(Is.hasStandardBrowserEnv||Is.hasStandardBrowserWebWorkerEnv)a.setContentType(void 0);else if(!1!==(r=a.getContentType())){const[e,...t]=r?r.split(";").map((e=>e.trim())).filter(Boolean):[];a.setContentType([e||"multipart/form-data",...t].join("; "))}if(Is.hasStandardBrowserEnv&&(i&&ts.isFunction(i)&&(i=i(t)),i||!1!==i&&hc(t.url))){const e=l&&o&&dc.read(o);e&&a.set(l,e)}return t};const wc="undefined"!==typeof XMLHttpRequest;var _c=wc&&function(e){return new Promise((function(t,r){const n=yc(e);let i=n.data;const l=Js.from(n.headers).normalize();let o,a,s,c,u,{responseType:p,onUploadProgress:h,onDownloadProgress:d}=n;function f(){c&&c(),u&&u(),n.cancelToken&&n.cancelToken.unsubscribe(o),n.signal&&n.signal.removeEventListener("abort",o)}let g=new XMLHttpRequest;function v(){if(!g)return;const n=Js.from("getAllResponseHeaders"in g&&g.getAllResponseHeaders()),i=p&&"text"!==p&&"json"!==p?g.response:g.responseText,l={data:i,status:g.status,statusText:g.statusText,headers:n,config:e,request:g};nc((function(e){t(e),f()}),(function(e){r(e),f()}),l),g=null}g.open(n.method.toUpperCase(),n.url,!0),g.timeout=n.timeout,"onloadend"in g?g.onloadend=v:g.onreadystatechange=function(){g&&4===g.readyState&&(0!==g.status||g.responseURL&&0===g.responseURL.indexOf("file:"))&&setTimeout(v)},g.onabort=function(){g&&(r(new ls("Request aborted",ls.ECONNABORTED,e,g)),g=null)},g.onerror=function(){r(new ls("Network Error",ls.ERR_NETWORK,e,g)),g=null},g.ontimeout=function(){let t=n.timeout?"timeout of "+n.timeout+"ms exceeded":"timeout exceeded";const i=n.transitional||xs;n.timeoutErrorMessage&&(t=n.timeoutErrorMessage),r(new ls(t,i.clarifyTimeoutError?ls.ETIMEDOUT:ls.ECONNABORTED,e,g)),g=null},void 0===i&&l.setContentType(null),"setRequestHeader"in g&&ts.forEach(l.toJSON(),(function(e,t){g.setRequestHeader(t,e)})),ts.isUndefined(n.withCredentials)||(g.withCredentials=!!n.withCredentials),p&&"json"!==p&&(g.responseType=n.responseType),d&&([s,u]=cc(d,!0),g.addEventListener("progress",s)),h&&g.upload&&([a,c]=cc(h),g.upload.addEventListener("progress",a),g.upload.addEventListener("loadend",c)),(n.cancelToken||n.signal)&&(o=t=>{g&&(r(!t||t.type?new rc(null,e,g):t),g.abort(),g=null)},n.cancelToken&&n.cancelToken.subscribe(o),n.signal&&(n.signal.aborted?o():n.signal.addEventListener("abort",o)));const m=ic(n.url);m&&-1===Is.protocols.indexOf(m)?r(new ls("Unsupported protocol "+m+":",ls.ERR_BAD_REQUEST,e)):g.send(i||null)}))};const xc=(e,t)=>{const{length:r}=e=e?e.filter(Boolean):[];if(t||r){let r,n=new AbortController;const i=function(e){if(!r){r=!0,o();const t=e instanceof Error?e:this.reason;n.abort(t instanceof ls?t:new rc(t instanceof Error?t.message:t))}};let l=t&&setTimeout((()=>{l=null,i(new ls(`timeout ${t} of ms exceeded`,ls.ETIMEDOUT))}),t);const o=()=>{e&&(l&&clearTimeout(l),l=null,e.forEach((e=>{e.unsubscribe?e.unsubscribe(i):e.removeEventListener("abort",i)})),e=null)};e.forEach((e=>e.addEventListener("abort",i)));const{signal:a}=n;return a.unsubscribe=()=>ts.asap(o),a}};var Tc=xc;const bc=function*(e,t){let r=e.byteLength;if(!t||r<t)return void(yield e);let n,i=0;while(i<r)n=i+t,yield e.slice(i,n),i=n},Ec=async function*(e,t){for await(const r of Sc(e))yield*bc(r,t)},Sc=async function*(e){if(e[Symbol.asyncIterator])return void(yield*e);const t=e.getReader();try{for(;;){const{done:e,value:r}=await t.read();if(e)break;yield r}}finally{await t.cancel()}},Pc=(e,t,r,n)=>{const i=Ec(e,t);let l,o=0,a=e=>{l||(l=!0,n&&n(e))};return new ReadableStream({async pull(e){try{const{done:t,value:n}=await i.next();if(t)return a(),void e.close();let l=n.byteLength;if(r){let e=o+=l;r(e)}e.enqueue(new Uint8Array(n))}catch(t){throw a(t),t}},cancel(e){return a(e),i.return()}},{highWaterMark:2})},Rc="function"===typeof fetch&&"function"===typeof Request&&"function"===typeof Response,Cc=Rc&&"function"===typeof ReadableStream,Oc=Rc&&("function"===typeof TextEncoder?(e=>t=>e.encode(t))(new TextEncoder):async e=>new Uint8Array(await new Response(e).arrayBuffer())),Dc=(e,...t)=>{try{return!!e(...t)}catch(Up){return!1}},Ic=Cc&&Dc((()=>{let e=!1;const t=new Request(Is.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t})),kc=65536,Fc=Cc&&Dc((()=>ts.isReadableStream(new Response("").body))),Nc={stream:Fc&&(e=>e.body)};Rc&&(e=>{["text","arrayBuffer","blob","formData","stream"].forEach((t=>{!Nc[t]&&(Nc[t]=ts.isFunction(e[t])?e=>e[t]():(e,r)=>{throw new ls(`Response type '${t}' is not supported`,ls.ERR_NOT_SUPPORT,r)})}))})(new Response);const Bc=async e=>{if(null==e)return 0;if(ts.isBlob(e))return e.size;if(ts.isSpecCompliantForm(e)){const t=new Request(Is.origin,{method:"POST",body:e});return(await t.arrayBuffer()).byteLength}return ts.isArrayBufferView(e)||ts.isArrayBuffer(e)?e.byteLength:(ts.isURLSearchParams(e)&&(e+=""),ts.isString(e)?(await Oc(e)).byteLength:void 0)},Lc=async(e,t)=>{const r=ts.toFiniteNumber(e.getContentLength());return null==r?Bc(t):r};var Mc=Rc&&(async e=>{let{url:t,method:r,data:n,signal:i,cancelToken:l,timeout:o,onDownloadProgress:a,onUploadProgress:s,responseType:c,headers:u,withCredentials:p="same-origin",fetchOptions:h}=yc(e);c=c?(c+"").toLowerCase():"text";let d,f=Tc([i,l&&l.toAbortSignal()],o);const g=f&&f.unsubscribe&&(()=>{f.unsubscribe()});let v;try{if(s&&Ic&&"get"!==r&&"head"!==r&&0!==(v=await Lc(u,n))){let e,r=new Request(t,{method:"POST",body:n,duplex:"half"});if(ts.isFormData(n)&&(e=r.headers.get("content-type"))&&u.setContentType(e),r.body){const[e,t]=uc(v,cc(pc(s)));n=Pc(r.body,kc,e,t)}}ts.isString(p)||(p=p?"include":"omit");const i="credentials"in Request.prototype;d=new Request(t,{...h,signal:f,method:r.toUpperCase(),headers:u.normalize().toJSON(),body:n,duplex:"half",credentials:i?p:void 0});let l=await fetch(d);const o=Fc&&("stream"===c||"response"===c);if(Fc&&(a||o&&g)){const e={};["status","statusText","headers"].forEach((t=>{e[t]=l[t]}));const t=ts.toFiniteNumber(l.headers.get("content-length")),[r,n]=a&&uc(t,cc(pc(a),!0))||[];l=new Response(Pc(l.body,kc,r,(()=>{n&&n(),g&&g()})),e)}c=c||"text";let m=await Nc[ts.findKey(Nc,c)||"text"](l,e);return!o&&g&&g(),await new Promise(((t,r)=>{nc(t,r,{data:m,headers:Js.from(l.headers),status:l.status,statusText:l.statusText,config:e,request:d})}))}catch(m){if(g&&g(),m&&"TypeError"===m.name&&/fetch/i.test(m.message))throw Object.assign(new ls("Network Error",ls.ERR_NETWORK,e,d),{cause:m.cause||m});throw ls.from(m,m&&m.code,e,d)}});const zc={http:os,xhr:_c,fetch:Mc};ts.forEach(zc,((e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch(Up){}Object.defineProperty(e,"adapterName",{value:t})}}));const Hc=e=>`- ${e}`,jc=e=>ts.isFunction(e)||null===e||!1===e;var Uc={getAdapter:e=>{e=ts.isArray(e)?e:[e];const{length:t}=e;let r,n;const i={};for(let l=0;l<t;l++){let t;if(r=e[l],n=r,!jc(r)&&(n=zc[(t=String(r)).toLowerCase()],void 0===n))throw new ls(`Unknown adapter '${t}'`);if(n)break;i[t||"#"+l]=n}if(!n){const e=Object.entries(i).map((([e,t])=>`adapter ${e} `+(!1===t?"is not supported by the environment":"is not available in the build")));let r=t?e.length>1?"since :\n"+e.map(Hc).join("\n"):" "+Hc(e[0]):"as no adapter specified";throw new ls("There is no suitable adapter to dispatch the request "+r,"ERR_NOT_SUPPORT")}return n},adapters:zc};function Vc(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new rc(null,e)}function Wc(e){Vc(e),e.headers=Js.from(e.headers),e.data=Qs.call(e,e.transformRequest),-1!==["post","put","patch"].indexOf(e.method)&&e.headers.setContentType("application/x-www-form-urlencoded",!1);const t=Uc.getAdapter(e.adapter||Hs.adapter);return t(e).then((function(t){return Vc(e),t.data=Qs.call(e,e.transformResponse,t),t.headers=Js.from(t.headers),t}),(function(t){return ec(t)||(Vc(e),t&&t.response&&(t.response.data=Qs.call(e,e.transformResponse,t.response),t.response.headers=Js.from(t.response.headers))),Promise.reject(t)}))}const Gc="1.8.4",qc={};["object","boolean","number","function","string","symbol"].forEach(((e,t)=>{qc[e]=function(r){return typeof r===e||"a"+(t<1?"n ":" ")+e}}));const Zc={};function $c(e,t,r){if("object"!==typeof e)throw new ls("options must be an object",ls.ERR_BAD_OPTION_VALUE);const n=Object.keys(e);let i=n.length;while(i-- >0){const l=n[i],o=t[l];if(o){const t=e[l],r=void 0===t||o(t,l,e);if(!0!==r)throw new ls("option "+l+" must be "+r,ls.ERR_BAD_OPTION_VALUE)}else if(!0!==r)throw new ls("Unknown option "+l,ls.ERR_BAD_OPTION)}}qc.transitional=function(e,t,r){function n(e,t){return"[Axios v"+Gc+"] Transitional option '"+e+"'"+t+(r?". "+r:"")}return(r,i,l)=>{if(!1===e)throw new ls(n(i," has been removed"+(t?" in "+t:"")),ls.ERR_DEPRECATED);return t&&!Zc[i]&&(Zc[i]=!0,console.warn(n(i," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(r,i,l)}},qc.spelling=function(e){return(t,r)=>(console.warn(`${r} is likely a misspelling of ${e}`),!0)};var Xc={assertOptions:$c,validators:qc};const Yc=Xc.validators;class Kc{constructor(e){this.defaults=e,this.interceptors={request:new _s,response:new _s}}async request(e,t){try{return await this._request(e,t)}catch(r){if(r instanceof Error){let e={};Error.captureStackTrace?Error.captureStackTrace(e):e=new Error;const t=e.stack?e.stack.replace(/^.+\n/,""):"";try{r.stack?t&&!String(r.stack).endsWith(t.replace(/^.+\n.+\n/,""))&&(r.stack+="\n"+t):r.stack=t}catch(Up){}}throw r}}_request(e,t){"string"===typeof e?(t=t||{},t.url=e):t=e||{},t=Ac(this.defaults,t);const{transitional:r,paramsSerializer:n,headers:i}=t;void 0!==r&&Xc.assertOptions(r,{silentJSONParsing:Yc.transitional(Yc.boolean),forcedJSONParsing:Yc.transitional(Yc.boolean),clarifyTimeoutError:Yc.transitional(Yc.boolean)},!1),null!=n&&(ts.isFunction(n)?t.paramsSerializer={serialize:n}:Xc.assertOptions(n,{encode:Yc.function,serialize:Yc.function},!0)),void 0!==t.allowAbsoluteUrls||(void 0!==this.defaults.allowAbsoluteUrls?t.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:t.allowAbsoluteUrls=!0),Xc.assertOptions(t,{baseUrl:Yc.spelling("baseURL"),withXsrfToken:Yc.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let l=i&&ts.merge(i.common,i[t.method]);i&&ts.forEach(["delete","get","head","post","put","patch","common"],(e=>{delete i[e]})),t.headers=Js.concat(l,i);const o=[];let a=!0;this.interceptors.request.forEach((function(e){"function"===typeof e.runWhen&&!1===e.runWhen(t)||(a=a&&e.synchronous,o.unshift(e.fulfilled,e.rejected))}));const s=[];let c;this.interceptors.response.forEach((function(e){s.push(e.fulfilled,e.rejected)}));let u,p=0;if(!a){const e=[Wc.bind(this),void 0];e.unshift.apply(e,o),e.push.apply(e,s),u=e.length,c=Promise.resolve(t);while(p<u)c=c.then(e[p++],e[p++]);return c}u=o.length;let h=t;p=0;while(p<u){const e=o[p++],t=o[p++];try{h=e(h)}catch(d){t.call(this,d);break}}try{c=Wc.call(this,h)}catch(d){return Promise.reject(d)}p=0,u=s.length;while(p<u)c=c.then(s[p++],s[p++]);return c}getUri(e){e=Ac(this.defaults,e);const t=vc(e.baseURL,e.url,e.allowAbsoluteUrls);return ys(t,e.params,e.paramsSerializer)}}ts.forEach(["delete","get","head","options"],(function(e){Kc.prototype[e]=function(t,r){return this.request(Ac(r||{},{method:e,url:t,data:(r||{}).data}))}})),ts.forEach(["post","put","patch"],(function(e){function t(t){return function(r,n,i){return this.request(Ac(i||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:r,data:n}))}}Kc.prototype[e]=t(),Kc.prototype[e+"Form"]=t(!0)}));var Jc=Kc;class Qc{constructor(e){if("function"!==typeof e)throw new TypeError("executor must be a function.");let t;this.promise=new Promise((function(e){t=e}));const r=this;this.promise.then((e=>{if(!r._listeners)return;let t=r._listeners.length;while(t-- >0)r._listeners[t](e);r._listeners=null})),this.promise.then=e=>{let t;const n=new Promise((e=>{r.subscribe(e),t=e})).then(e);return n.cancel=function(){r.unsubscribe(t)},n},e((function(e,n,i){r.reason||(r.reason=new rc(e,n,i),t(r.reason))}))}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=t=>{e.abort(t)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;const t=new Qc((function(t){e=t}));return{token:t,cancel:e}}}var eu=Qc;function tu(e){return function(t){return e.apply(null,t)}}function ru(e){return ts.isObject(e)&&!0===e.isAxiosError}const nu={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(nu).forEach((([e,t])=>{nu[t]=e}));var iu=nu;function lu(e){const t=new Jc(e),r=Ko(Jc.prototype.request,t);return ts.extend(r,Jc.prototype,t,{allOwnKeys:!0}),ts.extend(r,t,null,{allOwnKeys:!0}),r.create=function(t){return lu(Ac(e,t))},r}const ou=lu(Hs);ou.Axios=Jc,ou.CanceledError=rc,ou.CancelToken=eu,ou.isCancel=ec,ou.VERSION=Gc,ou.toFormData=ds,ou.AxiosError=ls,ou.Cancel=ou.CanceledError,ou.all=function(e){return Promise.all(e)},ou.spread=tu,ou.isAxiosError=ru,ou.mergeConfig=Ac,ou.AxiosHeaders=Js,ou.formToJSON=e=>Ls(ts.isHTMLForm(e)?new FormData(e):e),ou.getAdapter=Uc.getAdapter,ou.HttpStatusCode=iu,ou.default=ou;var au=ou,su=r(8626),cu=r.n(su);const uu=":A-Za-z_\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD",pu=uu+"\\-.\\d\\u00B7\\u0300-\\u036F\\u203F-\\u2040",hu="["+uu+"]["+pu+"]*",du=new RegExp("^"+hu+"$");function fu(e,t){const r=[];let n=t.exec(e);while(n){const i=[];i.startIndex=t.lastIndex-n[0].length;const l=n.length;for(let e=0;e<l;e++)i.push(n[e]);r.push(i),n=t.exec(e)}return r}const gu=function(e){const t=du.exec(e);return!(null===t||"undefined"===typeof t)};function vu(e){return"undefined"!==typeof e}const mu={allowBooleanAttributes:!1,unpairedTags:[]};function Au(e,t){t=Object.assign({},mu,t);const r=[];let n=!1,i=!1;"\ufeff"===e[0]&&(e=e.substr(1));for(let l=0;l<e.length;l++)if("<"===e[l]&&"?"===e[l+1]){if(l+=2,l=wu(e,l),l.err)return l}else{if("<"!==e[l]){if(yu(e[l]))continue;return Cu("InvalidChar","char '"+e[l]+"' is not expected.",Iu(e,l))}{let o=l;if(l++,"!"===e[l]){l=_u(e,l);continue}{let a=!1;"/"===e[l]&&(a=!0,l++);let s="";for(;l<e.length&&">"!==e[l]&&" "!==e[l]&&"\t"!==e[l]&&"\n"!==e[l]&&"\r"!==e[l];l++)s+=e[l];if(s=s.trim(),"/"===s[s.length-1]&&(s=s.substring(0,s.length-1),l--),!Du(s)){let t;return t=0===s.trim().length?"Invalid space after '<'.":"Tag '"+s+"' is an invalid name.",Cu("InvalidTag",t,Iu(e,l))}const c=bu(e,l);if(!1===c)return Cu("InvalidAttr","Attributes for '"+s+"' have open quote.",Iu(e,l));let u=c.value;if(l=c.index,"/"===u[u.length-1]){const r=l-u.length;u=u.substring(0,u.length-1);const i=Su(u,t);if(!0!==i)return Cu(i.err.code,i.err.msg,Iu(e,r+i.err.line));n=!0}else if(a){if(!c.tagClosed)return Cu("InvalidTag","Closing tag '"+s+"' doesn't have proper closing.",Iu(e,l));if(u.trim().length>0)return Cu("InvalidTag","Closing tag '"+s+"' can't have attributes or invalid starting.",Iu(e,o));if(0===r.length)return Cu("InvalidTag","Closing tag '"+s+"' has not been opened.",Iu(e,o));{const t=r.pop();if(s!==t.tagName){let r=Iu(e,t.tagStartPos);return Cu("InvalidTag","Expected closing tag '"+t.tagName+"' (opened in line "+r.line+", col "+r.col+") instead of closing tag '"+s+"'.",Iu(e,o))}0==r.length&&(i=!0)}}else{const a=Su(u,t);if(!0!==a)return Cu(a.err.code,a.err.msg,Iu(e,l-u.length+a.err.line));if(!0===i)return Cu("InvalidXml","Multiple possible root nodes found.",Iu(e,l));-1!==t.unpairedTags.indexOf(s)||r.push({tagName:s,tagStartPos:o}),n=!0}for(l++;l<e.length;l++)if("<"===e[l]){if("!"===e[l+1]){l++,l=_u(e,l);continue}if("?"!==e[l+1])break;if(l=wu(e,++l),l.err)return l}else if("&"===e[l]){const t=Ru(e,l);if(-1==t)return Cu("InvalidChar","char '&' is not expected.",Iu(e,l));l=t}else if(!0===i&&!yu(e[l]))return Cu("InvalidXml","Extra text at the end",Iu(e,l));"<"===e[l]&&l--}}}return n?1==r.length?Cu("InvalidTag","Unclosed tag '"+r[0].tagName+"'.",Iu(e,r[0].tagStartPos)):!(r.length>0)||Cu("InvalidXml","Invalid '"+JSON.stringify(r.map((e=>e.tagName)),null,4).replace(/\r?\n/g,"")+"' found.",{line:1,col:1}):Cu("InvalidXml","Start tag expected.",1)}function yu(e){return" "===e||"\t"===e||"\n"===e||"\r"===e}function wu(e,t){const r=t;for(;t<e.length;t++)if("?"!=e[t]&&" "!=e[t]);else{const n=e.substr(r,t-r);if(t>5&&"xml"===n)return Cu("InvalidXml","XML declaration allowed only at the start of the document.",Iu(e,t));if("?"==e[t]&&">"==e[t+1]){t++;break}}return t}function _u(e,t){if(e.length>t+5&&"-"===e[t+1]&&"-"===e[t+2]){for(t+=3;t<e.length;t++)if("-"===e[t]&&"-"===e[t+1]&&">"===e[t+2]){t+=2;break}}else if(e.length>t+8&&"D"===e[t+1]&&"O"===e[t+2]&&"C"===e[t+3]&&"T"===e[t+4]&&"Y"===e[t+5]&&"P"===e[t+6]&&"E"===e[t+7]){let r=1;for(t+=8;t<e.length;t++)if("<"===e[t])r++;else if(">"===e[t]&&(r--,0===r))break}else if(e.length>t+9&&"["===e[t+1]&&"C"===e[t+2]&&"D"===e[t+3]&&"A"===e[t+4]&&"T"===e[t+5]&&"A"===e[t+6]&&"["===e[t+7])for(t+=8;t<e.length;t++)if("]"===e[t]&&"]"===e[t+1]&&">"===e[t+2]){t+=2;break}return t}const xu='"',Tu="'";function bu(e,t){let r="",n="",i=!1;for(;t<e.length;t++){if(e[t]===xu||e[t]===Tu)""===n?n=e[t]:n!==e[t]||(n="");else if(">"===e[t]&&""===n){i=!0;break}r+=e[t]}return""===n&&{value:r,index:t,tagClosed:i}}const Eu=new RegExp("(\\s*)([^\\s=]+)(\\s*=)?(\\s*(['\"])(([\\s\\S])*?)\\5)?","g");function Su(e,t){const r=fu(e,Eu),n={};for(let i=0;i<r.length;i++){if(0===r[i][1].length)return Cu("InvalidAttr","Attribute '"+r[i][2]+"' has no space in starting.",ku(r[i]));if(void 0!==r[i][3]&&void 0===r[i][4])return Cu("InvalidAttr","Attribute '"+r[i][2]+"' is without value.",ku(r[i]));if(void 0===r[i][3]&&!t.allowBooleanAttributes)return Cu("InvalidAttr","boolean attribute '"+r[i][2]+"' is not allowed.",ku(r[i]));const e=r[i][2];if(!Ou(e))return Cu("InvalidAttr","Attribute '"+e+"' is an invalid name.",ku(r[i]));if(n.hasOwnProperty(e))return Cu("InvalidAttr","Attribute '"+e+"' is repeated.",ku(r[i]));n[e]=1}return!0}function Pu(e,t){let r=/\d/;for("x"===e[t]&&(t++,r=/[\da-fA-F]/);t<e.length;t++){if(";"===e[t])return t;if(!e[t].match(r))break}return-1}function Ru(e,t){if(t++,";"===e[t])return-1;if("#"===e[t])return t++,Pu(e,t);let r=0;for(;t<e.length;t++,r++)if(!(e[t].match(/\w/)&&r<20)){if(";"===e[t])break;return-1}return t}function Cu(e,t,r){return{err:{code:e,msg:t,line:r.line||r,col:r.col}}}function Ou(e){return gu(e)}function Du(e){return gu(e)}function Iu(e,t){const r=e.substring(0,t).split(/\r?\n/);return{line:r.length,col:r[r.length-1].length+1}}function ku(e){return e.startIndex+e[1].length}const Fu={preserveOrder:!1,attributeNamePrefix:"@_",attributesGroupName:!1,textNodeName:"#text",ignoreAttributes:!0,removeNSPrefix:!1,allowBooleanAttributes:!1,parseTagValue:!0,parseAttributeValue:!1,trimValues:!0,cdataPropName:!1,numberParseOptions:{hex:!0,leadingZeros:!0,eNotation:!0},tagValueProcessor:function(e,t){return t},attributeValueProcessor:function(e,t){return t},stopNodes:[],alwaysCreateTextNode:!1,isArray:()=>!1,commentPropName:!1,unpairedTags:[],processEntities:!0,htmlEntities:!1,ignoreDeclaration:!1,ignorePiTags:!1,transformTagName:!1,transformAttributeName:!1,updateTag:function(e,t,r){return e}},Nu=function(e){return Object.assign({},Fu,e)};class Bu{constructor(e){this.tagname=e,this.child=[],this[":@"]={}}add(e,t){"__proto__"===e&&(e="#__proto__"),this.child.push({[e]:t})}addChild(e){"__proto__"===e.tagname&&(e.tagname="#__proto__"),e[":@"]&&Object.keys(e[":@"]).length>0?this.child.push({[e.tagname]:e.child,[":@"]:e[":@"]}):this.child.push({[e.tagname]:e.child})}}function Lu(e,t){const r={};if("O"!==e[t+3]||"C"!==e[t+4]||"T"!==e[t+5]||"Y"!==e[t+6]||"P"!==e[t+7]||"E"!==e[t+8])throw new Error("Invalid Tag instead of DOCTYPE");{t+=9;let n=1,i=!1,l=!1,o="";for(;t<e.length;t++)if("<"!==e[t]||l)if(">"===e[t]){if(l?"-"===e[t-1]&&"-"===e[t-2]&&(l=!1,n--):n--,0===n)break}else"["===e[t]?i=!0:o+=e[t];else{if(i&&Hu(e,t)){let n,i;t+=7,[n,i,t]=Mu(e,t+1),-1===i.indexOf("&")&&(r[Wu(n)]={regx:RegExp(`&${n};`,"g"),val:i})}else if(i&&ju(e,t))t+=8;else if(i&&Uu(e,t))t+=8;else if(i&&Vu(e,t))t+=9;else{if(!zu)throw new Error("Invalid DOCTYPE");l=!0}n++,o=""}if(0!==n)throw new Error("Unclosed DOCTYPE")}return{entities:r,i:t}}function Mu(e,t){let r="";for(;t<e.length&&"'"!==e[t]&&'"'!==e[t];t++)r+=e[t];if(r=r.trim(),-1!==r.indexOf(" "))throw new Error("External entites are not supported");const n=e[t++];let i="";for(;t<e.length&&e[t]!==n;t++)i+=e[t];return[r,i,t]}function zu(e,t){return"!"===e[t+1]&&"-"===e[t+2]&&"-"===e[t+3]}function Hu(e,t){return"!"===e[t+1]&&"E"===e[t+2]&&"N"===e[t+3]&&"T"===e[t+4]&&"I"===e[t+5]&&"T"===e[t+6]&&"Y"===e[t+7]}function ju(e,t){return"!"===e[t+1]&&"E"===e[t+2]&&"L"===e[t+3]&&"E"===e[t+4]&&"M"===e[t+5]&&"E"===e[t+6]&&"N"===e[t+7]&&"T"===e[t+8]}function Uu(e,t){return"!"===e[t+1]&&"A"===e[t+2]&&"T"===e[t+3]&&"T"===e[t+4]&&"L"===e[t+5]&&"I"===e[t+6]&&"S"===e[t+7]&&"T"===e[t+8]}function Vu(e,t){return"!"===e[t+1]&&"N"===e[t+2]&&"O"===e[t+3]&&"T"===e[t+4]&&"A"===e[t+5]&&"T"===e[t+6]&&"I"===e[t+7]&&"O"===e[t+8]&&"N"===e[t+9]}function Wu(e){if(gu(e))return e;throw new Error(`Invalid entity name ${e}`)}const Gu=/^[-+]?0x[a-fA-F0-9]+$/,qu=/^([\-\+])?(0*)([0-9]*(\.[0-9]*)?)$/,Zu={hex:!0,leadingZeros:!0,decimalPoint:".",eNotation:!0};function $u(e,t={}){if(t=Object.assign({},Zu,t),!e||"string"!==typeof e)return e;let r=e.trim();if(void 0!==t.skipLike&&t.skipLike.test(r))return e;if("0"===e)return 0;if(t.hex&&Gu.test(r))return Yu(r,16);if(-1!==r.search(/[eE]/)){const n=r.match(/^([-\+])?(0*)([0-9]*(\.[0-9]*)?[eE][-\+]?[0-9]+)$/);if(n){if(t.leadingZeros)r=(n[1]||"")+n[3];else if("0"!==n[2]||"."!==n[3][0])return e;return t.eNotation?Number(r):e}return e}{const n=qu.exec(r);if(n){const i=n[1],l=n[2];let o=Xu(n[3]);if(!t.leadingZeros&&l.length>0&&i&&"."!==r[2])return e;if(!t.leadingZeros&&l.length>0&&!i&&"."!==r[1])return e;if(t.leadingZeros&&l===e)return 0;{const n=Number(r),a=""+n;return-1!==a.search(/[eE]/)?t.eNotation?n:e:-1!==r.indexOf(".")?"0"===a&&""===o||a===o||i&&a==="-"+o?n:e:l?o===a||i+o===a?n:e:r===a||r===i+a?n:e}}return e}}function Xu(e){return e&&-1!==e.indexOf(".")?(e=e.replace(/0+$/,""),"."===e?e="0":"."===e[0]?e="0"+e:"."===e[e.length-1]&&(e=e.substr(0,e.length-1)),e):e}function Yu(e,t){if(parseInt)return parseInt(e,t);if(Number.parseInt)return Number.parseInt(e,t);if(window&&window.parseInt)return window.parseInt(e,t);throw new Error("parseInt, Number.parseInt, window.parseInt are not supported")}function Ku(e){return"function"===typeof e?e:Array.isArray(e)?t=>{for(const r of e){if("string"===typeof r&&t===r)return!0;if(r instanceof RegExp&&r.test(t))return!0}}:()=>!1}class Ju{constructor(e){this.options=e,this.currentNode=null,this.tagsNodeStack=[],this.docTypeEntities={},this.lastEntities={apos:{regex:/&(apos|#39|#x27);/g,val:"'"},gt:{regex:/&(gt|#62|#x3E);/g,val:">"},lt:{regex:/&(lt|#60|#x3C);/g,val:"<"},quot:{regex:/&(quot|#34|#x22);/g,val:'"'}},this.ampEntity={regex:/&(amp|#38|#x26);/g,val:"&"},this.htmlEntities={space:{regex:/&(nbsp|#160);/g,val:" "},cent:{regex:/&(cent|#162);/g,val:"¢"},pound:{regex:/&(pound|#163);/g,val:"£"},yen:{regex:/&(yen|#165);/g,val:"¥"},euro:{regex:/&(euro|#8364);/g,val:"€"},copyright:{regex:/&(copy|#169);/g,val:"©"},reg:{regex:/&(reg|#174);/g,val:"®"},inr:{regex:/&(inr|#8377);/g,val:"₹"},num_dec:{regex:/&#([0-9]{1,7});/g,val:(e,t)=>String.fromCodePoint(Number.parseInt(t,10))},num_hex:{regex:/&#x([0-9a-fA-F]{1,6});/g,val:(e,t)=>String.fromCodePoint(Number.parseInt(t,16))}},this.addExternalEntities=Qu,this.parseXml=ip,this.parseTextData=ep,this.resolveNameSpace=tp,this.buildAttributesMap=np,this.isItStopNode=sp,this.replaceEntitiesValue=op,this.readStopNodeData=hp,this.saveTextToParentTag=ap,this.addChild=lp,this.ignoreAttributesFn=Ku(this.options.ignoreAttributes)}}function Qu(e){const t=Object.keys(e);for(let r=0;r<t.length;r++){const n=t[r];this.lastEntities[n]={regex:new RegExp("&"+n+";","g"),val:e[n]}}}function ep(e,t,r,n,i,l,o){if(void 0!==e&&(this.options.trimValues&&!n&&(e=e.trim()),e.length>0)){o||(e=this.replaceEntitiesValue(e));const n=this.options.tagValueProcessor(t,e,r,i,l);if(null===n||void 0===n)return e;if(typeof n!==typeof e||n!==e)return n;if(this.options.trimValues)return dp(e,this.options.parseTagValue,this.options.numberParseOptions);{const t=e.trim();return t===e?dp(e,this.options.parseTagValue,this.options.numberParseOptions):e}}}function tp(e){if(this.options.removeNSPrefix){const t=e.split(":"),r="/"===e.charAt(0)?"/":"";if("xmlns"===t[0])return"";2===t.length&&(e=r+t[1])}return e}const rp=new RegExp("([^\\s=]+)\\s*(=\\s*(['\"])([\\s\\S]*?)\\3)?","gm");function np(e,t,r){if(!0!==this.options.ignoreAttributes&&"string"===typeof e){const r=fu(e,rp),n=r.length,i={};for(let e=0;e<n;e++){const n=this.resolveNameSpace(r[e][1]);if(this.ignoreAttributesFn(n,t))continue;let l=r[e][4],o=this.options.attributeNamePrefix+n;if(n.length)if(this.options.transformAttributeName&&(o=this.options.transformAttributeName(o)),"__proto__"===o&&(o="#__proto__"),void 0!==l){this.options.trimValues&&(l=l.trim()),l=this.replaceEntitiesValue(l);const e=this.options.attributeValueProcessor(n,l,t);i[o]=null===e||void 0===e?l:typeof e!==typeof l||e!==l?e:dp(l,this.options.parseAttributeValue,this.options.numberParseOptions)}else this.options.allowBooleanAttributes&&(i[o]=!0)}if(!Object.keys(i).length)return;if(this.options.attributesGroupName){const e={};return e[this.options.attributesGroupName]=i,e}return i}}const ip=function(e){e=e.replace(/\r\n?/g,"\n");const t=new Bu("!xml");let r=t,n="",i="";for(let l=0;l<e.length;l++){const o=e[l];if("<"===o)if("/"===e[l+1]){const t=up(e,">",l,"Closing Tag is not closed.");let o=e.substring(l+2,t).trim();if(this.options.removeNSPrefix){const e=o.indexOf(":");-1!==e&&(o=o.substr(e+1))}this.options.transformTagName&&(o=this.options.transformTagName(o)),r&&(n=this.saveTextToParentTag(n,r,i));const a=i.substring(i.lastIndexOf(".")+1);if(o&&-1!==this.options.unpairedTags.indexOf(o))throw new Error(`Unpaired tag can not be used as closing tag: </${o}>`);let s=0;a&&-1!==this.options.unpairedTags.indexOf(a)?(s=i.lastIndexOf(".",i.lastIndexOf(".")-1),this.tagsNodeStack.pop()):s=i.lastIndexOf("."),i=i.substring(0,s),r=this.tagsNodeStack.pop(),n="",l=t}else if("?"===e[l+1]){let t=pp(e,l,!1,"?>");if(!t)throw new Error("Pi Tag is not closed.");if(n=this.saveTextToParentTag(n,r,i),this.options.ignoreDeclaration&&"?xml"===t.tagName||this.options.ignorePiTags);else{const e=new Bu(t.tagName);e.add(this.options.textNodeName,""),t.tagName!==t.tagExp&&t.attrExpPresent&&(e[":@"]=this.buildAttributesMap(t.tagExp,i,t.tagName)),this.addChild(r,e,i)}l=t.closeIndex+1}else if("!--"===e.substr(l+1,3)){const t=up(e,"--\x3e",l+4,"Comment is not closed.");if(this.options.commentPropName){const o=e.substring(l+4,t-2);n=this.saveTextToParentTag(n,r,i),r.add(this.options.commentPropName,[{[this.options.textNodeName]:o}])}l=t}else if("!D"===e.substr(l+1,2)){const t=Lu(e,l);this.docTypeEntities=t.entities,l=t.i}else if("!["===e.substr(l+1,2)){const t=up(e,"]]>",l,"CDATA is not closed.")-2,o=e.substring(l+9,t);n=this.saveTextToParentTag(n,r,i);let a=this.parseTextData(o,r.tagname,i,!0,!1,!0,!0);void 0==a&&(a=""),this.options.cdataPropName?r.add(this.options.cdataPropName,[{[this.options.textNodeName]:o}]):r.add(this.options.textNodeName,a),l=t+2}else{let o=pp(e,l,this.options.removeNSPrefix),a=o.tagName;const s=o.rawTagName;let c=o.tagExp,u=o.attrExpPresent,p=o.closeIndex;this.options.transformTagName&&(a=this.options.transformTagName(a)),r&&n&&"!xml"!==r.tagname&&(n=this.saveTextToParentTag(n,r,i,!1));const h=r;if(h&&-1!==this.options.unpairedTags.indexOf(h.tagname)&&(r=this.tagsNodeStack.pop(),i=i.substring(0,i.lastIndexOf("."))),a!==t.tagname&&(i+=i?"."+a:a),this.isItStopNode(this.options.stopNodes,i,a)){let t="";if(c.length>0&&c.lastIndexOf("/")===c.length-1)"/"===a[a.length-1]?(a=a.substr(0,a.length-1),i=i.substr(0,i.length-1),c=a):c=c.substr(0,c.length-1),l=o.closeIndex;else if(-1!==this.options.unpairedTags.indexOf(a))l=o.closeIndex;else{const r=this.readStopNodeData(e,s,p+1);if(!r)throw new Error(`Unexpected end of ${s}`);l=r.i,t=r.tagContent}const n=new Bu(a);a!==c&&u&&(n[":@"]=this.buildAttributesMap(c,i,a)),t&&(t=this.parseTextData(t,a,i,!0,u,!0,!0)),i=i.substr(0,i.lastIndexOf(".")),n.add(this.options.textNodeName,t),this.addChild(r,n,i)}else{if(c.length>0&&c.lastIndexOf("/")===c.length-1){"/"===a[a.length-1]?(a=a.substr(0,a.length-1),i=i.substr(0,i.length-1),c=a):c=c.substr(0,c.length-1),this.options.transformTagName&&(a=this.options.transformTagName(a));const e=new Bu(a);a!==c&&u&&(e[":@"]=this.buildAttributesMap(c,i,a)),this.addChild(r,e,i),i=i.substr(0,i.lastIndexOf("."))}else{const e=new Bu(a);this.tagsNodeStack.push(r),a!==c&&u&&(e[":@"]=this.buildAttributesMap(c,i,a)),this.addChild(r,e,i),r=e}n="",l=p}}else n+=e[l]}return t.child};function lp(e,t,r){const n=this.options.updateTag(t.tagname,r,t[":@"]);!1===n||("string"===typeof n?(t.tagname=n,e.addChild(t)):e.addChild(t))}const op=function(e){if(this.options.processEntities){for(let t in this.docTypeEntities){const r=this.docTypeEntities[t];e=e.replace(r.regx,r.val)}for(let t in this.lastEntities){const r=this.lastEntities[t];e=e.replace(r.regex,r.val)}if(this.options.htmlEntities)for(let t in this.htmlEntities){const r=this.htmlEntities[t];e=e.replace(r.regex,r.val)}e=e.replace(this.ampEntity.regex,this.ampEntity.val)}return e};function ap(e,t,r,n){return e&&(void 0===n&&(n=0===t.child.length),e=this.parseTextData(e,t.tagname,r,!1,!!t[":@"]&&0!==Object.keys(t[":@"]).length,n),void 0!==e&&""!==e&&t.add(this.options.textNodeName,e),e=""),e}function sp(e,t,r){const n="*."+r;for(const i in e){const r=e[i];if(n===r||t===r)return!0}return!1}function cp(e,t,r=">"){let n,i="";for(let l=t;l<e.length;l++){let t=e[l];if(n)t===n&&(n="");else if('"'===t||"'"===t)n=t;else if(t===r[0]){if(!r[1])return{data:i,index:l};if(e[l+1]===r[1])return{data:i,index:l}}else"\t"===t&&(t=" ");i+=t}}function up(e,t,r,n){const i=e.indexOf(t,r);if(-1===i)throw new Error(n);return i+t.length-1}function pp(e,t,r,n=">"){const i=cp(e,t+1,n);if(!i)return;let l=i.data;const o=i.index,a=l.search(/\s/);let s=l,c=!0;-1!==a&&(s=l.substring(0,a),l=l.substring(a+1).trimStart());const u=s;if(r){const e=s.indexOf(":");-1!==e&&(s=s.substr(e+1),c=s!==i.data.substr(e+1))}return{tagName:s,tagExp:l,closeIndex:o,attrExpPresent:c,rawTagName:u}}function hp(e,t,r){const n=r;let i=1;for(;r<e.length;r++)if("<"===e[r])if("/"===e[r+1]){const l=up(e,">",r,`${t} is not closed`);let o=e.substring(r+2,l).trim();if(o===t&&(i--,0===i))return{tagContent:e.substring(n,r),i:l};r=l}else if("?"===e[r+1]){const t=up(e,"?>",r+1,"StopNode is not closed.");r=t}else if("!--"===e.substr(r+1,3)){const t=up(e,"--\x3e",r+3,"StopNode is not closed.");r=t}else if("!["===e.substr(r+1,2)){const t=up(e,"]]>",r,"StopNode is not closed.")-2;r=t}else{const n=pp(e,r,">");if(n){const e=n&&n.tagName;e===t&&"/"!==n.tagExp[n.tagExp.length-1]&&i++,r=n.closeIndex}}}function dp(e,t,r){if(t&&"string"===typeof e){const t=e.trim();return"true"===t||"false"!==t&&$u(e,r)}return vu(e)?e:""}function fp(e,t){return gp(e,t)}function gp(e,t,r){let n;const i={};for(let l=0;l<e.length;l++){const o=e[l],a=vp(o);let s="";if(s=void 0===r?a:r+"."+a,a===t.textNodeName)void 0===n?n=o[a]:n+=""+o[a];else{if(void 0===a)continue;if(o[a]){let e=gp(o[a],t,s);const r=Ap(e,t);o[":@"]?mp(e,o[":@"],s,t):1!==Object.keys(e).length||void 0===e[t.textNodeName]||t.alwaysCreateTextNode?0===Object.keys(e).length&&(t.alwaysCreateTextNode?e[t.textNodeName]="":e=""):e=e[t.textNodeName],void 0!==i[a]&&i.hasOwnProperty(a)?(Array.isArray(i[a])||(i[a]=[i[a]]),i[a].push(e)):t.isArray(a,s,r)?i[a]=[e]:i[a]=e}}}return"string"===typeof n?n.length>0&&(i[t.textNodeName]=n):void 0!==n&&(i[t.textNodeName]=n),i}function vp(e){const t=Object.keys(e);for(let r=0;r<t.length;r++){const e=t[r];if(":@"!==e)return e}}function mp(e,t,r,n){if(t){const i=Object.keys(t),l=i.length;for(let o=0;o<l;o++){const l=i[o];n.isArray(l,r+"."+l,!0,!0)?e[l]=[t[l]]:e[l]=t[l]}}}function Ap(e,t){const{textNodeName:r}=t,n=Object.keys(e).length;return 0===n||!(1!==n||!e[r]&&"boolean"!==typeof e[r]&&0!==e[r])}class yp{constructor(e){this.externalEntities={},this.options=Nu(e)}parse(e,t){if("string"===typeof e);else{if(!e.toString)throw new Error("XML data is accepted in String or Bytes[] form.");e=e.toString()}if(t){!0===t&&(t={});const r=Au(e,t);if(!0!==r)throw Error(`${r.err.msg}:${r.err.line}:${r.err.col}`)}const r=new Ju(this.options);r.addExternalEntities(this.externalEntities);const n=r.parseXml(e);return this.options.preserveOrder||void 0===n?n:fp(n,this.options)}addEntity(e,t){if(-1!==t.indexOf("&"))throw new Error("Entity value can't have '&'");if(-1!==e.indexOf("&")||-1!==e.indexOf(";"))throw new Error("An entity must be set without '&' and ';'. Eg. use '#xD' for '&#xD;'");if("&"===t)throw new Error("An entity with value '&' is not permitted");this.externalEntities[e]=t}}const wp="\n";function _p(e,t){let r="";return t.format&&t.indentBy.length>0&&(r=wp),xp(e,t,"",r)}function xp(e,t,r,n){let i="",l=!1;for(let o=0;o<e.length;o++){const a=e[o],s=Tp(a);if(void 0===s)continue;let c="";if(c=0===r.length?s:`${r}.${s}`,s===t.textNodeName){let e=a[s];Ep(c,t)||(e=t.tagValueProcessor(s,e),e=Sp(e,t)),l&&(i+=n),i+=e,l=!1;continue}if(s===t.cdataPropName){l&&(i+=n),i+=`<![CDATA[${a[s][0][t.textNodeName]}]]>`,l=!1;continue}if(s===t.commentPropName){i+=n+`\x3c!--${a[s][0][t.textNodeName]}--\x3e`,l=!0;continue}if("?"===s[0]){const e=bp(a[":@"],t),r="?xml"===s?"":n;let o=a[s][0][t.textNodeName];o=0!==o.length?" "+o:"",i+=r+`<${s}${o}${e}?>`,l=!0;continue}let u=n;""!==u&&(u+=t.indentBy);const p=bp(a[":@"],t),h=n+`<${s}${p}`,d=xp(a[s],t,c,u);-1!==t.unpairedTags.indexOf(s)?t.suppressUnpairedNode?i+=h+">":i+=h+"/>":d&&0!==d.length||!t.suppressEmptyNode?d&&d.endsWith(">")?i+=h+`>${d}${n}</${s}>`:(i+=h+">",d&&""!==n&&(d.includes("/>")||d.includes("</"))?i+=n+t.indentBy+d+n:i+=d,i+=`</${s}>`):i+=h+"/>",l=!0}return i}function Tp(e){const t=Object.keys(e);for(let r=0;r<t.length;r++){const n=t[r];if(e.hasOwnProperty(n)&&":@"!==n)return n}}function bp(e,t){let r="";if(e&&!t.ignoreAttributes)for(let n in e){if(!e.hasOwnProperty(n))continue;let i=t.attributeValueProcessor(n,e[n]);i=Sp(i,t),!0===i&&t.suppressBooleanAttributes?r+=` ${n.substr(t.attributeNamePrefix.length)}`:r+=` ${n.substr(t.attributeNamePrefix.length)}="${i}"`}return r}function Ep(e,t){e=e.substr(0,e.length-t.textNodeName.length-1);let r=e.substr(e.lastIndexOf(".")+1);for(let n in t.stopNodes)if(t.stopNodes[n]===e||t.stopNodes[n]==="*."+r)return!0;return!1}function Sp(e,t){if(e&&e.length>0&&t.processEntities)for(let r=0;r<t.entities.length;r++){const n=t.entities[r];e=e.replace(n.regex,n.val)}return e}const Pp={attributeNamePrefix:"@_",attributesGroupName:!1,textNodeName:"#text",ignoreAttributes:!0,cdataPropName:!1,format:!1,indentBy:"  ",suppressEmptyNode:!1,suppressUnpairedNode:!0,suppressBooleanAttributes:!0,tagValueProcessor:function(e,t){return t},attributeValueProcessor:function(e,t){return t},preserveOrder:!1,commentPropName:!1,unpairedTags:[],entities:[{regex:new RegExp("&","g"),val:"&amp;"},{regex:new RegExp(">","g"),val:"&gt;"},{regex:new RegExp("<","g"),val:"&lt;"},{regex:new RegExp("'","g"),val:"&apos;"},{regex:new RegExp('"',"g"),val:"&quot;"}],processEntities:!0,stopNodes:[],oneListGroup:!1};function Rp(e){this.options=Object.assign({},Pp,e),!0===this.options.ignoreAttributes||this.options.attributesGroupName?this.isAttribute=function(){return!1}:(this.ignoreAttributesFn=Ku(this.options.ignoreAttributes),this.attrPrefixLen=this.options.attributeNamePrefix.length,this.isAttribute=Dp),this.processTextOrObjNode=Cp,this.options.format?(this.indentate=Op,this.tagEndChar=">\n",this.newLine="\n"):(this.indentate=function(){return""},this.tagEndChar=">",this.newLine="")}function Cp(e,t,r,n){const i=this.j2x(e,r+1,n.concat(t));return void 0!==e[this.options.textNodeName]&&1===Object.keys(e).length?this.buildTextValNode(e[this.options.textNodeName],t,i.attrStr,r):this.buildObjectNode(i.val,t,i.attrStr,r)}function Op(e){return this.options.indentBy.repeat(e)}function Dp(e){return!(!e.startsWith(this.options.attributeNamePrefix)||e===this.options.textNodeName)&&e.substr(this.attrPrefixLen)}Rp.prototype.build=function(e){return this.options.preserveOrder?_p(e,this.options):(Array.isArray(e)&&this.options.arrayNodeName&&this.options.arrayNodeName.length>1&&(e={[this.options.arrayNodeName]:e}),this.j2x(e,0,[]).val)},Rp.prototype.j2x=function(e,t,r){let n="",i="";const l=r.join(".");for(let o in e)if(Object.prototype.hasOwnProperty.call(e,o))if("undefined"===typeof e[o])this.isAttribute(o)&&(i+="");else if(null===e[o])this.isAttribute(o)||o===this.options.cdataPropName?i+="":"?"===o[0]?i+=this.indentate(t)+"<"+o+"?"+this.tagEndChar:i+=this.indentate(t)+"<"+o+"/"+this.tagEndChar;else if(e[o]instanceof Date)i+=this.buildTextValNode(e[o],o,"",t);else if("object"!==typeof e[o]){const r=this.isAttribute(o);if(r&&!this.ignoreAttributesFn(r,l))n+=this.buildAttrPairStr(r,""+e[o]);else if(!r)if(o===this.options.textNodeName){let t=this.options.tagValueProcessor(o,""+e[o]);i+=this.replaceEntitiesValue(t)}else i+=this.buildTextValNode(e[o],o,"",t)}else if(Array.isArray(e[o])){const n=e[o].length;let l="",a="";for(let s=0;s<n;s++){const n=e[o][s];if("undefined"===typeof n);else if(null===n)"?"===o[0]?i+=this.indentate(t)+"<"+o+"?"+this.tagEndChar:i+=this.indentate(t)+"<"+o+"/"+this.tagEndChar;else if("object"===typeof n)if(this.options.oneListGroup){const e=this.j2x(n,t+1,r.concat(o));l+=e.val,this.options.attributesGroupName&&n.hasOwnProperty(this.options.attributesGroupName)&&(a+=e.attrStr)}else l+=this.processTextOrObjNode(n,o,t,r);else if(this.options.oneListGroup){let e=this.options.tagValueProcessor(o,n);e=this.replaceEntitiesValue(e),l+=e}else l+=this.buildTextValNode(n,o,"",t)}this.options.oneListGroup&&(l=this.buildObjectNode(l,o,a,t)),i+=l}else if(this.options.attributesGroupName&&o===this.options.attributesGroupName){const t=Object.keys(e[o]),r=t.length;for(let i=0;i<r;i++)n+=this.buildAttrPairStr(t[i],""+e[o][t[i]])}else i+=this.processTextOrObjNode(e[o],o,t,r);return{attrStr:n,val:i}},Rp.prototype.buildAttrPairStr=function(e,t){return t=this.options.attributeValueProcessor(e,""+t),t=this.replaceEntitiesValue(t),this.options.suppressBooleanAttributes&&"true"===t?" "+e:" "+e+'="'+t+'"'},Rp.prototype.buildObjectNode=function(e,t,r,n){if(""===e)return"?"===t[0]?this.indentate(n)+"<"+t+r+"?"+this.tagEndChar:this.indentate(n)+"<"+t+r+this.closeTag(t)+this.tagEndChar;{let i="</"+t+this.tagEndChar,l="";return"?"===t[0]&&(l="?",i=""),!r&&""!==r||-1!==e.indexOf("<")?!1!==this.options.commentPropName&&t===this.options.commentPropName&&0===l.length?this.indentate(n)+`\x3c!--${e}--\x3e`+this.newLine:this.indentate(n)+"<"+t+r+l+this.tagEndChar+e+this.indentate(n)+i:this.indentate(n)+"<"+t+r+l+">"+e+i}},Rp.prototype.closeTag=function(e){let t="";return-1!==this.options.unpairedTags.indexOf(e)?this.options.suppressUnpairedNode||(t="/"):t=this.options.suppressEmptyNode?"/":`></${e}`,t},Rp.prototype.buildTextValNode=function(e,t,r,n){if(!1!==this.options.cdataPropName&&t===this.options.cdataPropName)return this.indentate(n)+`<![CDATA[${e}]]>`+this.newLine;if(!1!==this.options.commentPropName&&t===this.options.commentPropName)return this.indentate(n)+`\x3c!--${e}--\x3e`+this.newLine;if("?"===t[0])return this.indentate(n)+"<"+t+r+"?"+this.tagEndChar;{let i=this.options.tagValueProcessor(t,e);return i=this.replaceEntitiesValue(i),""===i?this.indentate(n)+"<"+t+r+this.closeTag(t)+this.tagEndChar:this.indentate(n)+"<"+t+r+">"+i+"</"+t+this.tagEndChar}},Rp.prototype.replaceEntitiesValue=function(e){if(e&&e.length>0&&this.options.processEntities)for(let t=0;t<this.options.entities.length;t++){const r=this.options.entities[t];e=e.replace(r.regex,r.val)}return e};var Ip=r(7934),kp=r.n(Ip);window.OpenSeadragon=kp();var Fp=hr({name:"osdVw",data:function(){return{xmlFile:"./xml/samp.xml",allData:[],filteredData:[],searchKw:"",tileSourcesArray:[],totalPage:0,currentImg:"",currentPage:0,selectedPage:1,inactive:"first",sideFlg:"",selectedFlg:"",msg:"",viewer:null}},async mounted(){window.addEventListener("keydown",this.handleKeydown),await this.initialize(),this.initViewer(),this.getPage(),this.toFocus(),await this.paramsCheck()},methods:{async initialize(){console.log("処理開始"),this.msg="データを読み込み中です";try{const e=await au.get(this.xmlFile),t=new yp({ignoreAttributes:!1}),r=t.parse(e.data);this.allData=r.OCRDATASET.PAGE,console.log("データ取得完了"),this.msg="",this.totalPage=r.OCRDATASET.PAGE.length,this.tileSourcesArray=this.allData.map((e=>({type:"image",url:"./data/"+e["@_IMAGENAME"]})))}catch(e){console.error("データ取得エラー:",e instanceof Error?e.message:e),this.msg="データの取得に失敗しました"}},initViewer:function(){this.viewer=kp()({id:"viewer-image",prefixUrl:"./images/",tileSources:this.tileSourcesArray,showRotationControl:!0,sequenceMode:!0,showNavigator:!0,fullPageButton:"fullscreen",rotateLeftButton:"rotate-left",rotateRightButton:"rotate-right",zoomInButton:"zoom-in",zoomOutButton:"zoom-out",homeButton:"reset",nextButton:"next",previousButton:"previous"})},isSearch:function(e){let t=this.allData,r=this.searchKw.trim();if(this.msg="",void 0!==e&&null!==e&&(r=e),!r)return this.msg="キーワードを入力して下さい",void(this.sideFlg="");r=r.replace(/[<>'&"/\u3000]/g," ");let n=r.split(" ").filter(Boolean);n=n.map((e=>this.laceAllByConvertTable(e)));const i=e=>n.every((t=>cu().includes(this.laceAllByConvertTable(e["@_STRING"]),t)));this.filteredData=cu().map(t,(e=>cu().filter(e.LINE,i)));const l=cu().flatten(this.filteredData).length;0===l&&(this.msg="該当ワードはありません"),this.sideFlg=0===l?"":"result",this.execRemoveOverlay(),this.toPage(0);const o=document.getElementById("txt0");o&&o.scrollIntoView({behavior:"smooth",block:"start"})},toPage(e,t,r,n,i,l){this.viewer.goToPage(e);const o=this.allData[e]["@_WIDTH"],a=(t??0)/o,s=(r??0)/o,c=(n??0)/o,u=(i??0)/o;this.viewer.getOverlayById("runtime-overlay")&&this.viewer.removeOverlay("runtime-overlay");const p=document.createElement("div");p.id="runtime-overlay",p.className="current-ocr",this.viewer.addOverlay({element:p,location:new(kp().Rect)(a,s,c,u)}),this.selectedFlg=`${e}_${l}`,this.getPage()},getPage:function(){const e=this.viewer.currentPage();this.currentPage=e,this.selectedPage=this.currentPage+1,this.currentImg=this.allData[e]["@_IMAGENAME"],0===e?this.inactive="first":e===this.totalPage-1?this.inactive="last":this.inactive=""},setPage:function(e){const t=e.target;t&&(this.selectedPage=Number(t.value))},toSelectedPage:function(){this.msg="";const e=this.selectedPage,t=`1～${this.totalPage}の間の数字を入力して下さい`;isNaN(e)?this.msg=t:e>=1&&e<=this.totalPage?this.toPage(e-1):this.msg=t},execRemoveOverlay:function(){this.selectedFlg="",this.viewer.removeOverlay("runtime-overlay")},toNextPage:function(){const e=this.currentPage+1;this.toPage(e)},toPreviousPage:function(){const e=this.currentPage-1;this.toPage(e)},exeZoomIn:function(){this.viewer.zoomInButton(!0)},isReset:function(){this.viewer.goToPage(0),this.searchKw="",this.sideFlg="",this.msg="",this.execRemoveOverlay(),this.getPage()},toFocus:function(){const e=this.msg;e&&this.$refs.msg},paramsCheck:function(){let e=0,t=new URLSearchParams(window.location.search),r=t.has("pagecode")&&parseInt(t.get("pagecode")??"",10)||null,n=t.has("p")&&parseInt(t.get("p")??"",10)||null,i=t.get("word")??null;r||n?(n?e=n:r&&(e=r),e--,e>=0&&e<this.totalPage||(e=0)):e=0,i&&this.isSearch(i),this.toPage(e)},handleKeydown(e){if(!this.viewer)return;e.preventDefault();const t=this.viewer.currentPage();"ArrowRight"===e.key?t<this.totalPage-1&&this.toPage(t+1):"ArrowLeft"===e.key&&t>0&&this.toPage(t-1)},laceAllByConvertTable:function(e){let t=e||"";return t=t.toUpperCase(),t=t.trim(),t=t.replaceAll("&nbsp;"," "),t=t.replaceAll("&ensp;"," "),t=t.replaceAll("&emsp;"," "),t=t.replaceAll("&thinsp;"," "),t=t.replaceAll("!"," "),t=t.replaceAll('"'," "),t=t.replaceAll("#"," "),t=t.replaceAll("$"," "),t=t.replaceAll("%"," "),t=t.replaceAll("&"," "),t=t.replaceAll("'"," "),t=t.replaceAll("("," "),t=t.replaceAll(")"," "),t=t.replaceAll("*"," "),t=t.replaceAll("+"," "),t=t.replaceAll(","," "),t=t.replaceAll("-"," "),t=t.replaceAll("/"," "),t=t.replaceAll("["," "),t=t.replaceAll("\\"," "),t=t.replaceAll("]"," "),t=t.replaceAll("^"," "),t=t.replaceAll("_"," "),t=t.replaceAll("`"," "),t=t.replaceAll(":"," "),t=t.replaceAll(";"," "),t=t.replaceAll("<"," "),t=t.replaceAll("="," "),t=t.replaceAll(">"," "),t=t.replaceAll("?"," "),t=t.replaceAll("@"," "),t=t.replaceAll("{"," "),t=t.replaceAll("|"," "),t=t.replaceAll("}"," "),t=t.replaceAll("~"," "),t=t.replaceAll("¡"," "),t=t.replaceAll("¢"," "),t=t.replaceAll("£"," "),t=t.replaceAll("¤"," "),t=t.replaceAll("¥"," "),t=t.replaceAll("¦"," "),t=t.replaceAll("§"," "),t=t.replaceAll("¨"," "),t=t.replaceAll("©"," "),t=t.replaceAll("«"," "),t=t.replaceAll("¬"," "),t=t.replaceAll("®"," "),t=t.replaceAll("°"," "),t=t.replaceAll("±"," "),t=t.replaceAll("´"," "),t=t.replaceAll("μ"," "),t=t.replaceAll("¶"," "),t=t.replaceAll("»"," "),t=t.replaceAll("¿"," "),t=t.replaceAll("×"," "),t=t.replaceAll("÷"," "),t=t.replaceAll("̀"," "),t=t.replaceAll("́"," "),t=t.replaceAll("̂"," "),t=t.replaceAll("̃"," "),t=t.replaceAll("̄"," "),t=t.replaceAll("̇"," "),t=t.replaceAll("̈"," "),t=t.replaceAll("̌"," "),t=t.replaceAll("Ъ"," "),t=t.replaceAll("Ь"," "),t=t.replaceAll("ъ"," "),t=t.replaceAll("ь"," "),t=t.replaceAll("‐"," "),t=t.replaceAll("—"," "),t=t.replaceAll("―"," "),t=t.replaceAll("‖"," "),t=t.replaceAll("‘"," "),t=t.replaceAll("’"," "),t=t.replaceAll("‚"," "),t=t.replaceAll("‛"," "),t=t.replaceAll("“"," "),t=t.replaceAll("”"," "),t=t.replaceAll("„"," "),t=t.replaceAll("‟"," "),t=t.replaceAll("†"," "),t=t.replaceAll("‡"," "),t=t.replaceAll("‥"," "),t=t.replaceAll("…"," "),t=t.replaceAll("‰"," "),t=t.replaceAll("′"," "),t=t.replaceAll("″"," "),t=t.replaceAll("‵"," "),t=t.replaceAll("‶"," "),t=t.replaceAll("※"," "),t=t.replaceAll("‾"," "),t=t.replaceAll("℃"," "),t=t.replaceAll("℉"," "),t=t.replaceAll("№"," "),t=t.replaceAll("℡"," "),t=t.replaceAll("Å"," "),t=t.replaceAll("←"," "),t=t.replaceAll("↑"," "),t=t.replaceAll("→"," "),t=t.replaceAll("↓"," "),t=t.replaceAll("↔"," "),t=t.replaceAll("⇄"," "),t=t.replaceAll("⇒"," "),t=t.replaceAll("⇔"," "),t=t.replaceAll("⇨"," "),t=t.replaceAll("∀"," "),t=t.replaceAll("∂"," "),t=t.replaceAll("∃"," "),t=t.replaceAll("∇"," "),t=t.replaceAll("∈"," "),t=t.replaceAll("∋"," "),t=t.replaceAll("∑"," "),t=t.replaceAll("−"," "),t=t.replaceAll("√"," "),t=t.replaceAll("∝"," "),t=t.replaceAll("∞"," "),t=t.replaceAll("∟"," "),t=t.replaceAll("∠"," "),t=t.replaceAll("∥"," "),t=t.replaceAll("∧"," "),t=t.replaceAll("∨"," "),t=t.replaceAll("∩"," "),t=t.replaceAll("∪"," "),t=t.replaceAll("∫"," "),t=t.replaceAll("∬"," "),t=t.replaceAll("∮"," "),t=t.replaceAll("∴"," "),t=t.replaceAll("∵"," "),t=t.replaceAll("∽"," "),t=t.replaceAll("≒"," "),t=t.replaceAll("≠"," "),t=t.replaceAll("≡"," "),t=t.replaceAll("≦"," "),t=t.replaceAll("≧"," "),t=t.replaceAll("≪"," "),t=t.replaceAll("≫"," "),t=t.replaceAll("⊂"," "),t=t.replaceAll("⊃"," "),t=t.replaceAll("⊆"," "),t=t.replaceAll("⊇"," "),t=t.replaceAll("⊥"," "),t=t.replaceAll("⊿"," "),t=t.replaceAll("⌒"," "),t=t.replaceAll("■"," "),t=t.replaceAll("□"," "),t=t.replaceAll("▲"," "),t=t.replaceAll("△"," "),t=t.replaceAll("▷"," "),t=t.replaceAll("▼"," "),t=t.replaceAll("▽"," "),t=t.replaceAll("◆"," "),t=t.replaceAll("◇"," "),t=t.replaceAll("○"," "),t=t.replaceAll("◎"," "),t=t.replaceAll("●"," "),t=t.replaceAll("◯"," "),t=t.replaceAll("★"," "),t=t.replaceAll("☆"," "),t=t.replaceAll("♀"," "),t=t.replaceAll("♂"," "),t=t.replaceAll("♠"," "),t=t.replaceAll("♡"," "),t=t.replaceAll("♣"," "),t=t.replaceAll("♥"," "),t=t.replaceAll("♦"," "),t=t.replaceAll("♪"," "),t=t.replaceAll("♭"," "),t=t.replaceAll("♯"," "),t=t.replaceAll("　"," "),t=t.replaceAll("、"," "),t=t.replaceAll("。"," "),t=t.replaceAll("〃"," "),t=t.replaceAll("〆"," "),t=t.replaceAll("〇"," "),t=t.replaceAll("〈"," "),t=t.replaceAll("〉"," "),t=t.replaceAll("《"," "),t=t.replaceAll("》"," "),t=t.replaceAll("「"," "),t=t.replaceAll("」"," "),t=t.replaceAll("『"," "),t=t.replaceAll("』"," "),t=t.replaceAll("【"," "),t=t.replaceAll("】"," "),t=t.replaceAll("〒"," "),t=t.replaceAll("〔"," "),t=t.replaceAll("〕"," "),t=t.replaceAll("〖"," "),t=t.replaceAll("〗"," "),t=t.replaceAll("〘"," "),t=t.replaceAll("〙"," "),t=t.replaceAll("〚"," "),t=t.replaceAll("〛"," "),t=t.replaceAll("〜"," "),t=t.replaceAll("〝"," "),t=t.replaceAll("〞"," "),t=t.replaceAll("〟"," "),t=t.replaceAll("゛"," "),t=t.replaceAll("゜"," "),t=t.replaceAll("・"," "),t=t.replaceAll("！"," "),t=t.replaceAll("＂"," "),t=t.replaceAll("＃"," "),t=t.replaceAll("＄"," "),t=t.replaceAll("％"," "),t=t.replaceAll("＆"," "),t=t.replaceAll("＇"," "),t=t.replaceAll("（"," "),t=t.replaceAll("）"," "),t=t.replaceAll("＊"," "),t=t.replaceAll("＋"," "),t=t.replaceAll("，"," "),t=t.replaceAll("－"," "),t=t.replaceAll("／"," "),t=t.replaceAll("："," "),t=t.replaceAll("；"," "),t=t.replaceAll("＜"," "),t=t.replaceAll("＝"," "),t=t.replaceAll("＞"," "),t=t.replaceAll("？"," "),t=t.replaceAll("＠"," "),t=t.replaceAll("［"," "),t=t.replaceAll("＼"," "),t=t.replaceAll("］"," "),t=t.replaceAll("＾"," "),t=t.replaceAll("＿"," "),t=t.replaceAll("｀"," "),t=t.replaceAll("｛"," "),t=t.replaceAll("｜"," "),t=t.replaceAll("｝"," "),t=t.replaceAll("～"," "),t=t.replaceAll("｟"," "),t=t.replaceAll("｠"," "),t=t.replaceAll("｡"," "),t=t.replaceAll("｢"," "),t=t.replaceAll("｣"," "),t=t.replaceAll("､"," "),t=t.replaceAll("･"," "),t=t.replaceAll("￠"," "),t=t.replaceAll("￡"," "),t=t.replaceAll("￣"," "),t=t.replaceAll("￥"," "),t=t.replaceAll("亞","亜"),t=t.replaceAll("啞","唖"),t=t.replaceAll("龝","穐"),t=t.replaceAll("惡","悪"),t=t.replaceAll("蘆","芦"),t=t.replaceAll("鰺","鯵"),t=t.replaceAll("杍","梓"),t=t.replaceAll("壓","圧"),t=t.replaceAll("蝱","虻"),t=t.replaceAll("菴","庵"),t=t.replaceAll("葊","庵"),t=t.replaceAll("盦","庵"),t=t.replaceAll("桉","案"),t=t.replaceAll("㠯","以"),t=t.replaceAll("圍","囲"),t=t.replaceAll("爲","為"),t=t.replaceAll("醫","医"),t=t.replaceAll("毉","医"),t=t.replaceAll("毓","育"),t=t.replaceAll("壹","壱"),t=t.replaceAll("逸","逸"),t=t.replaceAll("稻","稲"),t=t.replaceAll("飮","飲"),t=t.replaceAll("婬","淫"),t=t.replaceAll("𦹥","蔭"),t=t.replaceAll("䕃","蔭"),t=t.replaceAll("𨼲","蔭"),t=t.replaceAll("阴","陰"),t=t.replaceAll("隂","陰"),t=t.replaceAll("侌","陰"),t=t.replaceAll("阥","陰"),t=t.replaceAll("隱","隠"),t=t.replaceAll("乚","隠"),t=t.replaceAll("韵","韻"),t=t.replaceAll("𡧃","宇"),t=t.replaceAll("㝢","宇"),t=t.replaceAll("夘","卯"),t=t.replaceAll("闚","窺"),t=t.replaceAll("丒","丑"),t=t.replaceAll("噓","嘘"),t=t.replaceAll("鬱","欝"),t=t.replaceAll("廐","厩"),t=t.replaceAll("廏","厩"),t=t.replaceAll("閠","閏"),t=t.replaceAll("睿","叡"),t=t.replaceAll("壡","叡"),t=t.replaceAll("營","営"),t=t.replaceAll("暎","映"),t=t.replaceAll("曵","曳"),t=t.replaceAll("榮","栄"),t=t.replaceAll("荣","栄"),t=t.replaceAll("偀","英"),t=t.replaceAll("衞","衛"),t=t.replaceAll("咏","詠"),t=t.replaceAll("驛","駅"),t=t.replaceAll("謁","謁"),t=t.replaceAll("猒","厭"),t=t.replaceAll("圓","円"),t=t.replaceAll("焱","炎"),t=t.replaceAll("焰","焔"),t=t.replaceAll("燄","焔"),t=t.replaceAll("㷔","焔"),t=t.replaceAll("熖","焔"),t=t.replaceAll("烟","煙"),t=t.replaceAll("𤇆","煙"),t=t.replaceAll("猨","猿"),t=t.replaceAll("緣","縁"),t=t.replaceAll("艷","艶"),t=t.replaceAll("豔","艶"),t=t.replaceAll("鹽","塩"),t=t.replaceAll("𦣪","塩"),t=t.replaceAll("汙","汚"),t=t.replaceAll("奧","奥"),t=t.replaceAll("徃","往"),t=t.replaceAll("應","応"),t=t.replaceAll("橫","横"),t=t.replaceAll("歐","欧"),t=t.replaceAll("毆","殴"),t=t.replaceAll("鶯","鴬"),t=t.replaceAll("鸎","鴬"),t=t.replaceAll("鷗","鴎"),t=t.replaceAll("黃","黄"),t=t.replaceAll("崗","岡"),t=t.replaceAll("冲","沖"),t=t.replaceAll("藡","荻"),t=t.replaceAll("溫","温"),t=t.replaceAll("穩","穏"),t=t.replaceAll("假","仮"),t=t.replaceAll("價","価"),t=t.replaceAll("禍","禍"),t=t.replaceAll("芲","花"),t=t.replaceAll("蘤","花"),t=t.replaceAll("譁","嘩"),t=t.replaceAll("𠵅","嘩"),t=t.replaceAll("蚉","蚊"),t=t.replaceAll("蟁","蚊"),t=t.replaceAll("峩","峨"),t=t.replaceAll("畫","画"),t=t.replaceAll("卧","臥"),t=t.replaceAll("䖸","蛾"),t=t.replaceAll("會","会"),t=t.replaceAll("觧","解"),t=t.replaceAll("囘","回"),t=t.replaceAll("壞","壊"),t=t.replaceAll("𢌞","廻"),t=t.replaceAll("廽","廻"),t=t.replaceAll("恠","怪"),t=t.replaceAll("悔","悔"),t=t.replaceAll("懷","懐"),t=t.replaceAll("海","海"),t=t.replaceAll("畍","界"),t=t.replaceAll("繪","絵"),t=t.replaceAll("蠏","蟹"),t=t.replaceAll("蛽","貝"),t=t.replaceAll("崕","崖"),t=t.replaceAll("慨","慨"),t=t.replaceAll("槩","概"),t=t.replaceAll("槪","概"),t=t.replaceAll("礙","碍"),t=t.replaceAll("盖","蓋"),t=t.replaceAll("葢","蓋"),t=t.replaceAll("䵷","蛙"),t=t.replaceAll("鼃","蛙"),t=t.replaceAll("柹","柿"),t=t.replaceAll("𣏕","柿"),t=t.replaceAll("蠣","蛎"),t=t.replaceAll("鉤","鈎"),t=t.replaceAll("擴","拡"),t=t.replaceAll("攪","撹"),t=t.replaceAll("殼","殻"),t=t.replaceAll("壳","殻"),t=t.replaceAll("碻","確"),t=t.replaceAll("覺","覚"),t=t.replaceAll("覐","覚"),t=t.replaceAll("爀","赫"),t=t.replaceAll("學","学"),t=t.replaceAll("斈","学"),t=t.replaceAll("斅","学"),t=t.replaceAll("嶽","岳"),t=t.replaceAll("樂","楽"),t=t.replaceAll("喝","喝"),t=t.replaceAll("渴","渇"),t=t.replaceAll("褐","褐"),t=t.replaceAll("鎋","轄"),t=t.replaceAll("兠","兜"),t=t.replaceAll("竈","竃"),t=t.replaceAll("𥧄","竃"),t=t.replaceAll("灶","竃"),t=t.replaceAll("䆴","竃"),t=t.replaceAll("釡","釜"),t=t.replaceAll("嚙","噛"),t=t.replaceAll("蘐","萱"),t=t.replaceAll("蕿","萱"),t=t.replaceAll("藼","萱"),t=t.replaceAll("鬻","粥"),t=t.replaceAll("刋","刊"),t=t.replaceAll("勸","勧"),t=t.replaceAll("卷","巻"),t=t.replaceAll("奸","姦"),t=t.replaceAll("姧","姦"),t=t.replaceAll("寬","寛"),t=t.replaceAll("榦","幹"),t=t.replaceAll("欵","款"),t=t.replaceAll("歡","歓"),t=t.replaceAll("漢","漢"),t=t.replaceAll("礀","澗"),t=t.replaceAll("灌","潅"),t=t.replaceAll("罐","缶"),t=t.replaceAll("缻","缶"),t=t.replaceAll("觀","観"),t=t.replaceAll("鑒","鑑"),t=t.replaceAll("鍳","鑑"),t=t.replaceAll("關","関"),t=t.replaceAll("陷","陥"),t=t.replaceAll("㟁","岸"),t=t.replaceAll("𡶜","岸"),t=t.replaceAll("巖","巌"),t=t.replaceAll("巗","巌"),t=t.replaceAll("鴈","雁"),t=t.replaceAll("鳫","雁"),t=t.replaceAll("顏","顔"),t=t.replaceAll("㐂","喜"),t=t.replaceAll("歖","喜"),t=t.replaceAll("噐","器"),t=t.replaceAll("器","器"),t=t.replaceAll("竒","奇"),t=t.replaceAll("既","既"),t=t.replaceAll("餼","既"),t=t.replaceAll("旣","既"),t=t.replaceAll("朞","期"),t=t.replaceAll("棊","棋"),t=t.replaceAll("弃","棄"),t=t.replaceAll("歸","帰"),t=t.replaceAll("皈","帰"),t=t.replaceAll("氣","気"),t=t.replaceAll("炁","気"),t=t.replaceAll("祈","祈"),t=t.replaceAll("䂓","規"),t=t.replaceAll("𧪄","記"),t=t.replaceAll("䡄","軌"),t=t.replaceAll("龜","亀"),t=t.replaceAll("僞","偽"),t=t.replaceAll("冝","宜"),t=t.replaceAll("宐","宜"),t=t.replaceAll("戲","戯"),t=t.replaceAll("犧","犠"),t=t.replaceAll("匊","掬"),t=t.replaceAll("毱","鞠"),t=t.replaceAll("卻","却"),t=t.replaceAll("屰","逆"),t=t.replaceAll("坵","丘"),t=t.replaceAll("镹","久"),t=t.replaceAll("糺","糾"),t=t.replaceAll("舊","旧"),t=t.replaceAll("𦾔","旧"),t=t.replaceAll("據","拠"),t=t.replaceAll("擧","挙"),t=t.replaceAll("舉","挙"),t=t.replaceAll("虗","虚"),t=t.replaceAll("虛","虚"),t=t.replaceAll("譃","虚"),t=t.replaceAll("亰","京"),t=t.replaceAll("俠","侠"),t=t.replaceAll("竸","競"),t=t.replaceAll("峽","峡"),t=t.replaceAll("挾","挟"),t=t.replaceAll("𣘺","橋"),t=t.replaceAll("槗","橋"),t=t.replaceAll("况","況"),t=t.replaceAll("狹","狭"),t=t.replaceAll("鄕","郷"),t=t.replaceAll("響","響"),t=t.replaceAll("响","響"),t=t.replaceAll("堯","尭"),t=t.replaceAll("曉","暁"),t=t.replaceAll("勤","勤"),t=t.replaceAll("珡","琴"),t=t.replaceAll("琹","琴"),t=t.replaceAll("荕","筋"),t=t.replaceAll("觔","筋"),t=t.replaceAll("竻","筋"),t=t.replaceAll("謹","謹"),t=t.replaceAll("訡","吟"),t=t.replaceAll("俱","倶"),t=t.replaceAll("區","区"),t=t.replaceAll("㺃","狗"),t=t.replaceAll("榘","矩"),t=t.replaceAll("軀","躯"),t=t.replaceAll("驅","駆"),t=t.replaceAll("敺","駆"),t=t.replaceAll("鞾","靴"),t=t.replaceAll("漥","窪"),t=t.replaceAll("桒","桑"),t=t.replaceAll("枽","桑"),t=t.replaceAll("鍫","鍬"),t=t.replaceAll("勳","勲"),t=t.replaceAll("勛","勲"),t=t.replaceAll("薰","薫"),t=t.replaceAll("羣","群"),t=t.replaceAll("徑","径"),t=t.replaceAll("逕","径"),t=t.replaceAll("惠","恵"),t=t.replaceAll("僡","恵"),t=t.replaceAll("憇","憩"),t=t.replaceAll("揭","掲"),t=t.replaceAll("搩","掲"),t=t.replaceAll("攜","携"),t=t.replaceAll("擕","携"),t=t.replaceAll("溪","渓"),t=t.replaceAll("谿","渓"),t=t.replaceAll("磎","渓"),t=t.replaceAll("𧮾","渓"),t=t.replaceAll("經","経"),t=t.replaceAll("巠","経"),t=t.replaceAll("繼","継"),t=t.replaceAll("繫","繋"),t=t.replaceAll("莖","茎"),t=t.replaceAll("螢","蛍"),t=t.replaceAll("輕","軽"),t=t.replaceAll("頸","頚"),t=t.replaceAll("鷄","鶏"),t=t.replaceAll("雞","鶏"),t=t.replaceAll("𨿸","鶏"),t=t.replaceAll("藝","芸"),t=t.replaceAll("蓺","芸"),t=t.replaceAll("秇","芸"),t=t.replaceAll("擊","撃"),t=t.replaceAll("杰","傑"),t=t.replaceAll("缺","欠"),t=t.replaceAll("𡙇","欠"),t=t.replaceAll("缼","欠"),t=t.replaceAll("决","決"),t=t.replaceAll("洯","潔"),t=t.replaceAll("儉","倹"),t=t.replaceAll("勌","倦"),t=t.replaceAll("徤","健"),t=t.replaceAll("劍","剣"),t=t.replaceAll("劔","剣"),t=t.replaceAll("劒","剣"),t=t.replaceAll("剱","剣"),t=t.replaceAll("釼","剣"),t=t.replaceAll("𠝏","剣"),t=t.replaceAll("圈","圏"),t=t.replaceAll("檢","検"),t=t.replaceAll("權","権"),t=t.replaceAll("獻","献"),t=t.replaceAll("硏","研"),t=t.replaceAll("縣","県"),t=t.replaceAll("贒","賢"),t=t.replaceAll("臤","賢"),t=t.replaceAll("險","険"),t=t.replaceAll("顯","顕"),t=t.replaceAll("㬎","顕"),t=t.replaceAll("驗","験"),t=t.replaceAll("騐","験"),t=t.replaceAll("鹼","鹸"),t=t.replaceAll("鹻","鹸"),t=t.replaceAll("碱","鹸"),t=t.replaceAll("嚴","厳"),t=t.replaceAll("褲","袴"),t=t.replaceAll("絝","袴"),t=t.replaceAll("苽","菰"),t=t.replaceAll("乕","虎"),t=t.replaceAll("虝","虎"),t=t.replaceAll("皷","鼓"),t=t.replaceAll("忢","悟"),t=t.replaceAll("矦","侯"),t=t.replaceAll("炗","光"),t=t.replaceAll("灮","光"),t=t.replaceAll("㓛","功"),t=t.replaceAll("效","効"),t=t.replaceAll("㫗","厚"),t=t.replaceAll("垕","厚"),t=t.replaceAll("阬","坑"),t=t.replaceAll("廣","広"),t=t.replaceAll("恆","恒"),t=t.replaceAll("抅","拘"),t=t.replaceAll("晄","晃"),t=t.replaceAll("熀","晃"),t=t.replaceAll("挍","校"),t=t.replaceAll("澔","浩"),t=t.replaceAll("稾","稿"),t=t.replaceAll("藳","稿"),t=t.replaceAll("綋","紘"),t=t.replaceAll("畊","耕"),t=t.replaceAll("厷","肱"),t=t.replaceAll("礦","鉱"),t=t.replaceAll("鑛","鉱"),t=t.replaceAll("磺","鉱"),t=t.replaceAll("夅","降"),t=t.replaceAll("刧","劫"),t=t.replaceAll("刼","劫"),t=t.replaceAll("號","号"),t=t.replaceAll("軣","轟"),t=t.replaceAll("輷","轟"),t=t.replaceAll("麯","麹"),t=t.replaceAll("麴","麹"),t=t.replaceAll("國","国"),t=t.replaceAll("囶","国"),t=t.replaceAll("圀","国"),t=t.replaceAll("穀","穀"),t=t.replaceAll("黑","黒"),t=t.replaceAll("嵳","嵯"),t=t.replaceAll("鏁","鎖"),t=t.replaceAll("冣","最"),t=t.replaceAll("㝡","最"),t=t.replaceAll("濟","済"),t=t.replaceAll("灾","災"),t=t.replaceAll("烖","災"),t=t.replaceAll("碎","砕"),t=t.replaceAll("齋","斎"),t=t.replaceAll("劑","剤"),t=t.replaceAll("戝","財"),t=t.replaceAll("冱","冴"),t=t.replaceAll("沍","冴"),t=t.replaceAll("餚","肴"),t=t.replaceAll("嵜","崎"),t=t.replaceAll("㟢","崎"),t=t.replaceAll("﨑","崎"),t=t.replaceAll("𥔎","碕"),t=t.replaceAll("萗","策"),t=t.replaceAll("櫻","桜"),t=t.replaceAll("册","冊"),t=t.replaceAll("殺","殺"),t=t.replaceAll("煞","殺"),t=t.replaceAll("蕯","薩"),t=t.replaceAll("雜","雑"),t=t.replaceAll("襍","雑"),t=t.replaceAll("皋","皐"),t=t.replaceAll("曬","晒"),t=t.replaceAll("參","参"),t=t.replaceAll("叅","参"),t=t.replaceAll("慘","惨"),t=t.replaceAll("棧","桟"),t=t.replaceAll("筭","算"),t=t.replaceAll("祘","算"),t=t.replaceAll("蠶","蚕"),t=t.replaceAll("蝅","蚕"),t=t.replaceAll("贊","賛"),t=t.replaceAll("讃","賛"),t=t.replaceAll("讚","賛"),t=t.replaceAll("湌","餐"),t=t.replaceAll("殘","残"),t=t.replaceAll("㫖","旨"),t=t.replaceAll("祉","祉"),t=t.replaceAll("絲","糸"),t=t.replaceAll("帋","紙"),t=t.replaceAll("視","視"),t=t.replaceAll("䳄","雌"),t=t.replaceAll("齒","歯"),t=t.replaceAll("亊","事"),t=t.replaceAll("㕝","事"),t=t.replaceAll("兒","児"),t=t.replaceAll("旹","時"),t=t.replaceAll("𦱳","滋"),t=t.replaceAll("尓","爾"),t=t.replaceAll("尒","爾"),t=t.replaceAll("儞","爾"),t=t.replaceAll("辭","辞"),t=t.replaceAll("辤","辞"),t=t.replaceAll("𠮟","叱"),t=t.replaceAll("濕","湿"),t=t.replaceAll("㯃","漆"),t=t.replaceAll("柒","漆"),t=t.replaceAll("桼","漆"),t=t.replaceAll("貭","質"),t=t.replaceAll("實","実"),t=t.replaceAll("筱","篠"),t=t.replaceAll("筿","篠"),t=t.replaceAll("屢","屡"),t=t.replaceAll("蘂","蕊"),t=t.replaceAll("蕋","蕊"),t=t.replaceAll("舍","舎"),t=t.replaceAll("冩","写"),t=t.replaceAll("寫","写"),t=t.replaceAll("煑","煮"),t=t.replaceAll("煮","煮"),t=t.replaceAll("社","社"),t=t.replaceAll("者","者"),t=t.replaceAll("虵","蛇"),t=t.replaceAll("𣏐","杓"),t=t.replaceAll("𣝣","爵"),t=t.replaceAll("釋","釈"),t=t.replaceAll("垨","守"),t=t.replaceAll("咒","呪"),t=t.replaceAll("壽","寿"),t=t.replaceAll("收","収"),t=t.replaceAll("綉","繍"),t=t.replaceAll("繡","繍"),t=t.replaceAll("臭","臭"),t=t.replaceAll("讎","讐"),t=t.replaceAll("亼","集"),t=t.replaceAll("𠍱","集"),t=t.replaceAll("從","従"),t=t.replaceAll("从","従"),t=t.replaceAll("澁","渋"),t=t.replaceAll("澀","渋"),t=t.replaceAll("獸","獣"),t=t.replaceAll("縱","縦"),t=t.replaceAll("祝","祝"),t=t.replaceAll("肅","粛"),t=t.replaceAll("凖","準"),t=t.replaceAll("處","処"),t=t.replaceAll("暑","暑"),t=t.replaceAll("渚","渚"),t=t.replaceAll("緖","緒"),t=t.replaceAll("署","署"),t=t.replaceAll("諸","諸"),t=t.replaceAll("敍","叙"),t=t.replaceAll("敘","叙"),t=t.replaceAll("甞","嘗"),t=t.replaceAll("奬","奨"),t=t.replaceAll("獎","奨"),t=t.replaceAll("將","将"),t=t.replaceAll("厰","廠"),t=t.replaceAll("曻","昇"),t=t.replaceAll("𣇵","晶"),t=t.replaceAll("枩","松"),t=t.replaceAll("柗","松"),t=t.replaceAll("梥","松"),t=t.replaceAll("㮤","松"),t=t.replaceAll("涉","渉"),t=t.replaceAll("燒","焼"),t=t.replaceAll("祥","祥"),t=t.replaceAll("稱","称"),t=t.replaceAll("穪","称"),t=t.replaceAll("偁","称"),t=t.replaceAll("蔣","蒋"),t=t.replaceAll("證","証"),t=t.replaceAll("醬","醤"),t=t.replaceAll("𠀋","丈"),t=t.replaceAll("乘","乗"),t=t.replaceAll("椉","乗"),t=t.replaceAll("剩","剰"),t=t.replaceAll("塲","場"),t=t.replaceAll("壤","壌"),t=t.replaceAll("孃","嬢"),t=t.replaceAll("條","条"),t=t.replaceAll("淨","浄"),t=t.replaceAll("狀","状"),t=t.replaceAll("疊","畳"),t=t.replaceAll("疉","畳"),t=t.replaceAll("疂","畳"),t=t.replaceAll("叠","畳"),t=t.replaceAll("穰","穣"),t=t.replaceAll("讓","譲"),t=t.replaceAll("釀","醸"),t=t.replaceAll("囑","嘱"),t=t.replaceAll("餝","飾"),t=t.replaceAll("㯰","植"),t=t.replaceAll("𦀗","織"),t=t.replaceAll("觸","触"),t=t.replaceAll("觕","触"),t=t.replaceAll("脣","唇"),t=t.replaceAll("寢","寝"),t=t.replaceAll("愼","慎"),t=t.replaceAll("晉","晋"),t=t.replaceAll("㬜","晋"),t=t.replaceAll("寖","浸"),t=t.replaceAll("濅","浸"),t=t.replaceAll("𤺋","疹"),t=t.replaceAll("眞","真"),t=t.replaceAll("神","神"),t=t.replaceAll("𨐌","辛"),t=t.replaceAll("亻","人"),t=t.replaceAll("𠆢","人"),t=t.replaceAll("刄","刃"),t=t.replaceAll("盡","尽"),t=t.replaceAll("靫","靭"),t=t.replaceAll("靱","靭"),t=t.replaceAll("韌","靭"),t=t.replaceAll("醋","酢"),t=t.replaceAll("圖","図"),t=t.replaceAll("啚","図"),t=t.replaceAll("廚","厨"),t=t.replaceAll("橱","厨"),t=t.replaceAll("埀","垂"),t=t.replaceAll("粹","粋"),t=t.replaceAll("翆","翠"),t=t.replaceAll("醉","酔"),t=t.replaceAll("隨","随"),t=t.replaceAll("膸","髄"),t=t.replaceAll("髓","髄"),t=t.replaceAll("數","数"),t=t.replaceAll("樞","枢"),t=t.replaceAll("鶵","雛"),t=t.replaceAll("杦","杉"),t=t.replaceAll("澂","澄"),t=t.replaceAll("丗","世"),t=t.replaceAll("卋","世"),t=t.replaceAll("瀨","瀬"),t=t.replaceAll("畆","畝"),t=t.replaceAll("㽗","畝"),t=t.replaceAll("𤰖","畝"),t=t.replaceAll("畒","畝"),t=t.replaceAll("畞","畝"),t=t.replaceAll("昰","是"),t=t.replaceAll("淒","凄"),t=t.replaceAll("㔟","勢"),t=t.replaceAll("皨","星"),t=t.replaceAll("暒","晴"),t=t.replaceAll("晴","晴"),t=t.replaceAll("聲","声"),t=t.replaceAll("靜","静"),t=t.replaceAll("齊","斉"),t=t.replaceAll("亝","斉"),t=t.replaceAll("斊","斉"),t=t.replaceAll("攝","摂"),t=t.replaceAll("竊","窃"),t=t.replaceAll("節","節"),t=t.replaceAll("蟬","蝉"),t=t.replaceAll("專","専"),t=t.replaceAll("巛","川"),t=t.replaceAll("戰","戦"),t=t.replaceAll("洤","泉"),t=t.replaceAll("淺","浅"),t=t.replaceAll("潛","潜"),t=t.replaceAll("濳","潜"),t=t.replaceAll("綫","線"),t=t.replaceAll("纖","繊"),t=t.replaceAll("纎","繊"),t=t.replaceAll("舩","船"),t=t.replaceAll("賤","賎"),t=t.replaceAll("踐","践"),t=t.replaceAll("迁","遷"),t=t.replaceAll("錢","銭"),t=t.replaceAll("偂","前"),t=t.replaceAll("歬","前"),t=t.replaceAll("譱","善"),t=t.replaceAll("禪","禅"),t=t.replaceAll("饍","膳"),t=t.replaceAll("𡏄","塑"),t=t.replaceAll("䟽","疏"),t=t.replaceAll("踈","疎"),t=t.replaceAll("祖","祖"),t=t.replaceAll("蘓","蘇"),t=t.replaceAll("穌","蘇"),t=t.replaceAll("溯","遡"),t=t.replaceAll("㴑","遡"),t=t.replaceAll("鼡","鼠"),t=t.replaceAll("僧","僧"),t=t.replaceAll("雙","双"),t=t.replaceAll("壯","壮"),t=t.replaceAll("層","層"),t=t.replaceAll("帀","匝"),t=t.replaceAll("迊","匝"),t=t.replaceAll("搜","捜"),t=t.replaceAll("插","挿"),t=t.replaceAll("揷","挿"),t=t.replaceAll("搔","掻"),t=t.replaceAll("曺","曹"),t=t.replaceAll("巢","巣"),t=t.replaceAll("爭","争"),t=t.replaceAll("瘦","痩"),t=t.replaceAll("膄","痩"),t=t.replaceAll("𥄢","相"),t=t.replaceAll("窗","窓"),t=t.replaceAll("牕","窓"),t=t.replaceAll("窻","窓"),t=t.replaceAll("總","総"),t=t.replaceAll("摠","総"),t=t.replaceAll("揔","総"),t=t.replaceAll("緫","総"),t=t.replaceAll("聰","聡"),t=t.replaceAll("聦","聡"),t=t.replaceAll("莊","荘"),t=t.replaceAll("㽵","荘"),t=t.replaceAll("裝","装"),t=t.replaceAll("赱","走"),t=t.replaceAll("騷","騒"),t=t.replaceAll("增","増"),t=t.replaceAll("憎","憎"),t=t.replaceAll("臟","臓"),t=t.replaceAll("藏","蔵"),t=t.replaceAll("匨","蔵"),t=t.replaceAll("贈","贈"),t=t.replaceAll("卽","即"),t=t.replaceAll("皍","即"),t=t.replaceAll("𧾷","足"),t=t.replaceAll("屬","属"),t=t.replaceAll("續","続"),t=t.replaceAll("賡","続"),t=t.replaceAll("卆","卒"),t=t.replaceAll("邨","村"),t=t.replaceAll("夛","多"),t=t.replaceAll("冭","太"),t=t.replaceAll("墮","堕"),t=t.replaceAll("橢","楕"),t=t.replaceAll("驒","騨"),t=t.replaceAll("躰","体"),t=t.replaceAll("軆","体"),t=t.replaceAll("體","体"),t=t.replaceAll("𠂤","堆"),t=t.replaceAll("對","対"),t=t.replaceAll("帶","帯"),t=t.replaceAll("𣳾","泰"),t=t.replaceAll("㤗","泰"),t=t.replaceAll("滯","滞"),t=t.replaceAll("帒","袋"),t=t.replaceAll("臺","台"),t=t.replaceAll("䑓","台"),t=t.replaceAll("坮","台"),t=t.replaceAll("桌","卓"),t=t.replaceAll("擇","択"),t=t.replaceAll("澤","沢"),t=t.replaceAll("琢","琢"),t=t.replaceAll("鈬","鐸"),t=t.replaceAll("逹","達"),t=t.replaceAll("达","達"),t=t.replaceAll("豎","竪"),t=t.replaceAll("貍","狸"),t=t.replaceAll("墫","樽"),t=t.replaceAll("罇","樽"),t=t.replaceAll("單","単"),t=t.replaceAll("嘆","嘆"),t=t.replaceAll("擔","担"),t=t.replaceAll("耑","端"),t=t.replaceAll("簞","箪"),t=t.replaceAll("膽","胆"),t=t.replaceAll("團","団"),t=t.replaceAll("彈","弾"),t=t.replaceAll("斷","断"),t=t.replaceAll("耻","恥"),t=t.replaceAll("癡","痴"),t=t.replaceAll("穉","稚"),t=t.replaceAll("遲","遅"),t=t.replaceAll("稸","蓄"),t=t.replaceAll("𢭆","抽"),t=t.replaceAll("晝","昼"),t=t.replaceAll("蟲","虫"),t=t.replaceAll("䖝","虫"),t=t.replaceAll("鑄","鋳"),t=t.replaceAll("潴","瀦"),t=t.replaceAll("豬","猪"),t=t.replaceAll("猪","猪"),t=t.replaceAll("䐗","猪"),t=t.replaceAll("著","著"),t=t.replaceAll("廳","庁"),t=t.replaceAll("廰","庁"),t=t.replaceAll("徵","徴"),t=t.replaceAll("懲","懲"),t=t.replaceAll("甼","町"),t=t.replaceAll("聽","聴"),t=t.replaceAll("膓","腸"),t=t.replaceAll("镸","長"),t=t.replaceAll("敕","勅"),t=t.replaceAll("沉","沈"),t=t.replaceAll("珎","珍"),t=t.replaceAll("鎭","鎮"),t=t.replaceAll("塚","塚"),t=t.replaceAll("冢","塚"),t=t.replaceAll("摑","掴"),t=t.replaceAll("壺","壷"),t=t.replaceAll("寉","鶴"),t=t.replaceAll("靍","鶴"),t=t.replaceAll("靎","鶴"),t=t.replaceAll("靏","鶴"),t=t.replaceAll("隺","鶴"),t=t.replaceAll("埞","堤"),t=t.replaceAll("矴","碇"),t=t.replaceAll("椗","碇"),t=t.replaceAll("禎","禎"),t=t.replaceAll("遞","逓"),t=t.replaceAll("𣇄","鼎"),t=t.replaceAll("鼑","鼎"),t=t.replaceAll("埿","泥"),t=t.replaceAll("喆","哲"),t=t.replaceAll("嚞","哲"),t=t.replaceAll("啠","哲"),t=t.replaceAll("悊","哲"),t=t.replaceAll("銕","鉄"),t=t.replaceAll("鐵","鉄"),t=t.replaceAll("鐡","鉄"),t=t.replaceAll("塡","填"),t=t.replaceAll("沗","添"),t=t.replaceAll("𣷹","添"),t=t.replaceAll("纒","纏"),t=t.replaceAll("轉","転"),t=t.replaceAll("顚","顛"),t=t.replaceAll("點","点"),t=t.replaceAll("傳","伝"),t=t.replaceAll("兔","兎"),t=t.replaceAll("莵","兎"),t=t.replaceAll("菟","兎"),t=t.replaceAll("妒","妬"),t=t.replaceAll("都","都"),t=t.replaceAll("礪","砺"),t=t.replaceAll("𡈽","土"),t=t.replaceAll("圡","土"),t=t.replaceAll("黨","党"),t=t.replaceAll("嶌","島"),t=t.replaceAll("隝","島"),t=t.replaceAll("㠀","島"),t=t.replaceAll("嶹","島"),t=t.replaceAll("嶋","島"),t=t.replaceAll("檮","梼"),t=t.replaceAll("盜","盗"),t=t.replaceAll("濤","涛"),t=t.replaceAll("當","当"),t=t.replaceAll("禱","祷"),t=t.replaceAll("筩","筒"),t=t.replaceAll("𥹥","糖"),t=t.replaceAll("迯","逃"),t=t.replaceAll("鬪","闘"),t=t.replaceAll("鬭","闘"),t=t.replaceAll("鬦","闘"),t=t.replaceAll("仂","働"),t=t.replaceAll("衟","道"),t=t.replaceAll("㝵","得"),t=t.replaceAll("悳","徳"),t=t.replaceAll("德","徳"),t=t.replaceAll("𢛳","徳"),t=t.replaceAll("瀆","涜"),t=t.replaceAll("䔍","篤"),t=t.replaceAll("獨","独"),t=t.replaceAll("讀","読"),t=t.replaceAll("杤","栃"),t=t.replaceAll("𣜜","栃"),t=t.replaceAll("突","突"),t=t.replaceAll("屆","届"),t=t.replaceAll("㹠","豚"),t=t.replaceAll("吞","呑"),t=t.replaceAll("柰","奈"),t=t.replaceAll("繩","縄"),t=t.replaceAll("輭","軟"),t=t.replaceAll("難","難"),t=t.replaceAll("貳","弐"),t=t.replaceAll("貮","弐"),t=t.replaceAll("邇","迩"),t=t.replaceAll("韭","韮"),t=t.replaceAll("姙","妊"),t=t.replaceAll("甯","寧"),t=t.replaceAll("寍","寧"),t=t.replaceAll("蔥","葱"),t=t.replaceAll("貓","猫"),t=t.replaceAll("秊","年"),t=t.replaceAll("黏","粘"),t=t.replaceAll("迺","廼"),t=t.replaceAll("𡌛","埜"),t=t.replaceAll("囊","嚢"),t=t.replaceAll("惱","悩"),t=t.replaceAll("腦","脳"),t=t.replaceAll("霸","覇"),t=t.replaceAll("廢","廃"),t=t.replaceAll("拜","拝"),t=t.replaceAll("桮","杯"),t=t.replaceAll("盃","杯"),t=t.replaceAll("梅","梅"),t=t.replaceAll("坆","梅"),t=t.replaceAll("槑","梅"),t=t.replaceAll("賣","売"),t=t.replaceAll("蠅","蝿"),t=t.replaceAll("矤","矧"),t=t.replaceAll("剝","剥"),t=t.replaceAll("愽","博"),t=t.replaceAll("廹","迫"),t=t.replaceAll("麥","麦"),t=t.replaceAll("凾","函"),t=t.replaceAll("枦","櫨"),t=t.replaceAll("𥁊","鉢"),t=t.replaceAll("缽","鉢"),t=t.replaceAll("潑","溌"),t=t.replaceAll("發","発"),t=t.replaceAll("醱","醗"),t=t.replaceAll("髮","髪"),t=t.replaceAll("罸","罰"),t=t.replaceAll("拔","抜"),t=t.replaceAll("㠶","帆"),t=t.replaceAll("䑺","帆"),t=t.replaceAll("繁","繁"),t=t.replaceAll("飰","飯"),t=t.replaceAll("晚","晩"),t=t.replaceAll("𣆶","晩"),t=t.replaceAll("蠻","蛮"),t=t.replaceAll("卑","卑"),t=t.replaceAll("碑","碑"),t=t.replaceAll("祕","秘"),t=t.replaceAll("毗","毘"),t=t.replaceAll("蔆","菱"),t=t.replaceAll("檜","桧"),t=t.replaceAll("冰","氷"),t=t.replaceAll("庿","廟"),t=t.replaceAll("濱","浜"),t=t.replaceAll("濵","浜"),t=t.replaceAll("賓","賓"),t=t.replaceAll("頻","頻"),t=t.replaceAll("敏","敏"),t=t.replaceAll("勄","敏"),t=t.replaceAll("甁","瓶"),t=t.replaceAll("缾","瓶"),t=t.replaceAll("旉","敷"),t=t.replaceAll("𨨞","斧"),t=t.replaceAll("肤","膚"),t=t.replaceAll("侮","侮"),t=t.replaceAll("儛","舞"),t=t.replaceAll("郶","部"),t=t.replaceAll("凮","風"),t=t.replaceAll("福","福"),t=t.replaceAll("渕","淵"),t=t.replaceAll("渊","淵"),t=t.replaceAll("囦","淵"),t=t.replaceAll("拂","払"),t=t.replaceAll("佛","仏"),t=t.replaceAll("燓","焚"),t=t.replaceAll("𥹢","聞"),t=t.replaceAll("倂","併"),t=t.replaceAll("塀","塀"),t=t.replaceAll("幤","幣"),t=t.replaceAll("棅","柄"),t=t.replaceAll("竝","並"),t=t.replaceAll("閇","閉"),t=t.replaceAll("篦","箆"),t=t.replaceAll("變","変"),t=t.replaceAll("邊","辺"),t=t.replaceAll("邉","辺"),t=t.replaceAll("徧","遍"),t=t.replaceAll("勉","勉"),t=t.replaceAll("辨","弁"),t=t.replaceAll("辧","弁"),t=t.replaceAll("瓣","弁"),t=t.replaceAll("辯","弁"),t=t.replaceAll("舖","舗"),t=t.replaceAll("步","歩"),t=t.replaceAll("穗","穂"),t=t.replaceAll("寶","宝"),t=t.replaceAll("寳","宝"),t=t.replaceAll("寚","宝"),t=t.replaceAll("㳒","法"),t=t.replaceAll("灋","法"),t=t.replaceAll("佱","法"),t=t.replaceAll("礮","砲"),t=t.replaceAll("炮","砲"),t=t.replaceAll("萠","萌"),t=t.replaceAll("襃","褒"),t=t.replaceAll("豐","豊"),t=t.replaceAll("冃","帽"),t=t.replaceAll("冐","冒"),t=t.replaceAll("皃","貌"),t=t.replaceAll("㒵","貌"),t=t.replaceAll("頰","頬"),t=t.replaceAll("㒒","僕"),t=t.replaceAll("墨","墨"),t=t.replaceAll("沒","没"),t=t.replaceAll("夲","本"),t=t.replaceAll("飜","翻"),t=t.replaceAll("凢","凡"),t=t.replaceAll("蔴","麻"),t=t.replaceAll("每","毎"),t=t.replaceAll("槇","槙"),t=t.replaceAll("枡","桝"),t=t.replaceAll("枒","桝"),t=t.replaceAll("儘","侭"),t=t.replaceAll("萬","万"),t=t.replaceAll("滿","満"),t=t.replaceAll("鬽","魅"),t=t.replaceAll("簑","蓑"),t=t.replaceAll("簔","蓑"),t=t.replaceAll("脉","脈"),t=t.replaceAll("玅","妙"),t=t.replaceAll("梦","夢"),t=t.replaceAll("夣","夢"),t=t.replaceAll("壻","婿"),t=t.replaceAll("聟","婿"),t=t.replaceAll("朙","明"),t=t.replaceAll("免","免"),t=t.replaceAll("緜","綿"),t=t.replaceAll("麪","麺"),t=t.replaceAll("麵","麺"),t=t.replaceAll("摹","摸"),t=t.replaceAll("橅","模"),t=t.replaceAll("默","黙"),t=t.replaceAll("餠","餅"),t=t.replaceAll("戾","戻"),t=t.replaceAll("彌","弥"),t=t.replaceAll("藥","薬"),t=t.replaceAll("譯","訳"),t=t.replaceAll("竫","靖"),t=t.replaceAll("靖","靖"),t=t.replaceAll("栁","柳"),t=t.replaceAll("桺","柳"),t=t.replaceAll("籔","薮"),t=t.replaceAll("藪","薮"),t=t.replaceAll("䉤","薮"),t=t.replaceAll("𨯯","鑓"),t=t.replaceAll("瘉","癒"),t=t.replaceAll("勈","勇"),t=t.replaceAll("恿","勇"),t=t.replaceAll("祐","祐"),t=t.replaceAll("䧺","雄"),t=t.replaceAll("豫","予"),t=t.replaceAll("餘","余"),t=t.replaceAll("與","与"),t=t.replaceAll("譽","誉"),t=t.replaceAll("搖","揺"),t=t.replaceAll("樣","様"),t=t.replaceAll("窰","窯"),t=t.replaceAll("窑","窯"),t=t.replaceAll("𦍌","羊"),t=t.replaceAll("燿","耀"),t=t.replaceAll("謠","謡"),t=t.replaceAll("踴","踊"),t=t.replaceAll("遙","遥"),t=t.replaceAll("阳","陽"),t=t.replaceAll("昜","陽"),t=t.replaceAll("阦","陽"),t=t.replaceAll("养","養"),t=t.replaceAll("𦐂","翼"),t=t.replaceAll("躶","裸"),t=t.replaceAll("來","来"),t=t.replaceAll("徠","来"),t=t.replaceAll("萊","莱"),t=t.replaceAll("賴","頼"),t=t.replaceAll("靁","雷"),t=t.replaceAll("亂","乱"),t=t.replaceAll("欄","欄"),t=t.replaceAll("覽","覧"),t=t.replaceAll("棃","梨"),t=t.replaceAll("瓈","璃"),t=t.replaceAll("畧","略"),t=t.replaceAll("澑","溜"),t=t.replaceAll("畄","留"),t=t.replaceAll("畱","留"),t=t.replaceAll("隆","隆"),t=t.replaceAll("虜","虜"),t=t.replaceAll("兩","両"),t=t.replaceAll("两","両"),t=t.replaceAll("樑","梁"),t=t.replaceAll("凉","涼"),t=t.replaceAll("獵","猟"),t=t.replaceAll("暸","瞭"),t=t.replaceAll("粮","糧"),t=t.replaceAll("綠","緑"),t=t.replaceAll("鄰","隣"),t=t.replaceAll("厸","隣"),t=t.replaceAll("璢","瑠"),t=t.replaceAll("壘","塁"),t=t.replaceAll("泪","涙"),t=t.replaceAll("淚","涙"),t=t.replaceAll("纍","累"),t=t.replaceAll("類","類"),t=t.replaceAll("勵","励"),t=t.replaceAll("禮","礼"),t=t.replaceAll("隸","隷"),t=t.replaceAll("靈","霊"),t=t.replaceAll("灵","霊"),t=t.replaceAll("㚑","霊"),t=t.replaceAll("䨩","霊"),t=t.replaceAll("霛","霊"),t=t.replaceAll("齡","齢"),t=t.replaceAll("曆","暦"),t=t.replaceAll("厤","暦"),t=t.replaceAll("歷","歴"),t=t.replaceAll("戀","恋"),t=t.replaceAll("練","練"),t=t.replaceAll("聨","聯"),t=t.replaceAll("鍊","錬"),t=t.replaceAll("爐","炉"),t=t.replaceAll("勞","労"),t=t.replaceAll("憥","労"),t=t.replaceAll("廊","廊"),t=t.replaceAll("挊","弄"),t=t.replaceAll("挵","弄"),t=t.replaceAll("朖","朗"),t=t.replaceAll("朗","朗"),t=t.replaceAll("樓","楼"),t=t.replaceAll("窂","牢"),t=t.replaceAll("籠","篭"),t=t.replaceAll("蠟","蝋"),t=t.replaceAll("郞","郎"),t=t.replaceAll("祿","禄"),t=t.replaceAll("錄","録"),t=t.replaceAll("龢","和"),t=t.replaceAll("咊","和"),t=t.replaceAll("𦚰","脇"),t=t.replaceAll("䏮","脇"),t=t.replaceAll("鱷","鰐"),t=t.replaceAll("灣","湾"),t=t.replaceAll("盌","碗"),t=t.replaceAll("𢪸","腕"),t=t.replaceAll("焏","亟"),t=t.replaceAll("仭","仞"),t=t.replaceAll("爼","俎"),t=t.replaceAll("伜","倅"),t=t.replaceAll("𠈓","倆"),t=t.replaceAll("俲","傚"),t=t.replaceAll("慠","傲"),t=t.replaceAll("僲","僊"),t=t.replaceAll("僣","僭"),t=t.replaceAll("㑪","儕"),t=t.replaceAll("俦","儔"),t=t.replaceAll("𠑊","儼"),t=t.replaceAll("兊","兌"),t=t.replaceAll("冋","冂"),t=t.replaceAll("寃","冤"),t=t.replaceAll("寇","冦"),t=t.replaceAll("羃","冪"),t=t.replaceAll("洌","冽"),t=t.replaceAll("涸","凅"),t=t.replaceAll("凜","凛"),t=t.replaceAll("澟","凛"),t=t.replaceAll("𠘨","几"),t=t.replaceAll("凴","凭"),t=t.replaceAll("尅","剋"),t=t.replaceAll("勊","剋"),t=t.replaceAll("箚","剳"),t=t.replaceAll("劄","剳"),t=t.replaceAll("劤","勁"),t=t.replaceAll("勖","勗"),t=t.replaceAll("匇","匆"),t=t.replaceAll("滙","匯"),t=t.replaceAll("奩","匳"),t=t.replaceAll("匲","匳"),t=t.replaceAll("巵","卮"),t=t.replaceAll("庬","厖"),t=t.replaceAll("廁","厠"),t=t.replaceAll("廈","厦"),t=t.replaceAll("廝","厮"),t=t.replaceAll("爕","燮"),t=t.replaceAll("呍","吽"),t=t.replaceAll("吒","咤"),t=t.replaceAll("咜","咤"),t=t.replaceAll("噉","啖"),t=t.replaceAll("咯","喀"),t=t.replaceAll("齅","嗅"),t=t.replaceAll("呕","嘔"),t=t.replaceAll("嘨","嘯"),t=t.replaceAll("譟","噪"),t=t.replaceAll("嚏","嚔"),t=t.replaceAll("齧","囓"),t=t.replaceAll("𪘂","囓"),t=t.replaceAll("阯","址"),t=t.replaceAll("坯","坏"),t=t.replaceAll("确","埆"),t=t.replaceAll("礐","埆"),t=t.replaceAll("埓","埒"),t=t.replaceAll("𡉻","埣"),t=t.replaceAll("壍","塹"),t=t.replaceAll("牆","墻"),t=t.replaceAll("𡋤","壗"),t=t.replaceAll("罎","壜"),t=t.replaceAll("壠","壟"),t=t.replaceAll("弉","奘"),t=t.replaceAll("𡝂","妝"),t=t.replaceAll("侫","佞"),t=t.replaceAll("姸","妍"),t=t.replaceAll("姮","嫦"),t=t.replaceAll("嫰","嫩"),t=t.replaceAll("嫻","嫺"),t=t.replaceAll("嫐","嬲"),t=t.replaceAll("尣","尢"),t=t.replaceAll("𥧔","屁"),t=t.replaceAll("屛","屏"),t=t.replaceAll("崫","崛"),t=t.replaceAll("崐","崑"),t=t.replaceAll("崘","崙"),t=t.replaceAll("篏","嵌"),t=t.replaceAll("嵓","嵒"),t=t.replaceAll("㟴","嵬"),t=t.replaceAll("嶤","嶢"),t=t.replaceAll("𡸳","嶢"),t=t.replaceAll("𡸴","嶮"),t=t.replaceAll("菷","帚"),t=t.replaceAll("伖","帑"),t=t.replaceAll("帮","幇"),t=t.replaceAll("幫","幇"),t=t.replaceAll("幷","并"),t=t.replaceAll("么","幺"),t=t.replaceAll("麽","麼"),t=t.replaceAll("鄽","廛"),t=t.replaceAll("壥","廛"),t=t.replaceAll("迪","廸"),t=t.replaceAll("彜","彝"),t=t.replaceAll("彛","彝"),t=t.replaceAll("弯","彎"),t=t.replaceAll("髴","彿"),t=t.replaceAll("傜","徭"),t=t.replaceAll("忩","怱"),t=t.replaceAll("悤","怱"),t=t.replaceAll("愙","恪"),t=t.replaceAll("䘏","恤"),t=t.replaceAll("卹","恤"),t=t.replaceAll("忰","悴"),t=t.replaceAll("諐","愆"),t=t.replaceAll("媿","愧"),t=t.replaceAll("忼","慷"),t=t.replaceAll("慚","慙"),t=t.replaceAll("憘","憙"),t=t.replaceAll("憗","憖"),t=t.replaceAll("惮","憚"),t=t.replaceAll("愞","懦"),t=t.replaceAll("懧","懦"),t=t.replaceAll("𢡛","懣"),t=t.replaceAll("懴","懺"),t=t.replaceAll("戞","戛"),t=t.replaceAll("扨","扠"),t=t.replaceAll("𢰤","掎"),t=t.replaceAll("𢭐","撈"),t=t.replaceAll("抬","擡"),t=t.replaceAll("𢭏","擣"),t=t.replaceAll("擥","攬"),t=t.replaceAll("攢","攅"),t=t.replaceAll("爴","攫"),t=t.replaceAll("攵","攴"),t=t.replaceAll("搞","敲"),t=t.replaceAll("酙","斟"),t=t.replaceAll("㐬","旒"),t=t.replaceAll("旙","旛"),t=t.replaceAll("暱","昵"),t=t.replaceAll("皓","晧"),t=t.replaceAll("皜","晧"),t=t.replaceAll("晣","晢"),t=t.replaceAll("晳","晰"),t=t.replaceAll("煊","暄"),t=t.replaceAll("昿","曠"),t=t.replaceAll("㬢","曦"),t=t.replaceAll("䒳","朶"),t=t.replaceAll("桿","杆"),t=t.replaceAll("𣑥","栲"),t=t.replaceAll("檔","档"),t=t.replaceAll("檳","梹"),t=t.replaceAll("皁","梍"),t=t.replaceAll("槨","椁"),t=t.replaceAll("槶","椢"),t=t.replaceAll("棬","椦"),t=t.replaceAll("椶","棕"),t=t.replaceAll("檝","楫"),t=t.replaceAll("槀","槁"),t=t.replaceAll("柈","槃"),t=t.replaceAll("櫳","槞"),t=t.replaceAll("櫁","樒"),t=t.replaceAll("𣓤","橈"),t=t.replaceAll("蘗","檗"),t=t.replaceAll("檪","櫟"),t=t.replaceAll("﨔","欅"),t=t.replaceAll("櫱","蘖"),t=t.replaceAll("欞","櫺"),t=t.replaceAll("栾","欒"),t=t.replaceAll("𣠤","欟"),t=t.replaceAll("歺","歹"),t=t.replaceAll("殁","歿"),t=t.replaceAll("歾","歿"),t=t.replaceAll("殱","殲"),t=t.replaceAll("毮","毟"),t=t.replaceAll("氊","氈"),t=t.replaceAll("毡","氈"),t=t.replaceAll("汴","汳"),t=t.replaceAll("淛","浙"),t=t.replaceAll("𣵀","涅"),t=t.replaceAll("㳃","淬"),t=t.replaceAll("㴞","滔"),t=t.replaceAll("霶","滂"),t=t.replaceAll("涁","滲"),t=t.replaceAll("渗","滲"),t=t.replaceAll("澘","潸"),t=t.replaceAll("泻","瀉"),t=t.replaceAll("沪","濾"),t=t.replaceAll("烱","炯"),t=t.replaceAll("熢","烽"),t=t.replaceAll("熈","煕"),t=t.replaceAll("凞","煕"),t=t.replaceAll("凞","煕"),t=t.replaceAll("焈","煕"),t=t.replaceAll("巸","煕"),t=t.replaceAll("熙","煕"),t=t.replaceAll("㷀","煢"),t=t.replaceAll("焭","煢"),t=t.replaceAll("燻","熏"),t=t.replaceAll("烬","燼"),t=t.replaceAll("丬","爿"),t=t.replaceAll("箋","牋"),t=t.replaceAll("㮍","牋"),t=t.replaceAll("䇳","牋"),t=t.replaceAll("犁","犂"),t=t.replaceAll("㸿","犢"),t=t.replaceAll("豺","犲"),t=t.replaceAll("貉","狢"),t=t.replaceAll("倐","倏"),t=t.replaceAll("儵","倏"),t=t.replaceAll("貎","猊"),t=t.replaceAll("貒","猯"),t=t.replaceAll("貘","獏"),t=t.replaceAll("瑇","玳"),t=t.replaceAll("瑯","琅"),t=t.replaceAll("碯","瑙"),t=t.replaceAll("瑤","瑶"),t=t.replaceAll("琁","瓊"),t=t.replaceAll("珱","瓔"),t=t.replaceAll("瓯","甌"),t=t.replaceAll("畬","畭"),t=t.replaceAll("畲","畭"),t=t.replaceAll("壃","疆"),t=t.replaceAll("畺","疆"),t=t.replaceAll("疅","疆"),t=t.replaceAll("畴","疇"),t=t.replaceAll("肬","疣"),t=t.replaceAll("瘘","瘻"),t=t.replaceAll("癕","癰"),t=t.replaceAll("臃","癰"),t=t.replaceAll("晈","皎"),t=t.replaceAll("晥","皖"),t=t.replaceAll("皹","皸"),t=t.replaceAll("蘯","盪"),t=t.replaceAll("眦","眥"),t=t.replaceAll("𥆩","睨"),t=t.replaceAll("瞪","瞠"),t=t.replaceAll("𥈞","瞞"),t=t.replaceAll("𥇥","瞼"),t=t.replaceAll("瞩","矚"),t=t.replaceAll("墝","磽"),t=t.replaceAll("禩","祀"),t=t.replaceAll("禀","稟"),t=t.replaceAll("㝫","窿"),t=t.replaceAll("𨗉","邃"),t=t.replaceAll("筺","筐"),t=t.replaceAll("笋","筍"),t=t.replaceAll("筝","箏"),t=t.replaceAll("籭","篩"),t=t.replaceAll("𥱋","簗"),t=t.replaceAll("筹","籌"),t=t.replaceAll("簱","籏"),t=t.replaceAll("籘","籐"),t=t.replaceAll("籖","籤"),t=t.replaceAll("秔","粳"),t=t.replaceAll("稉","粳"),t=t.replaceAll("糝","糂"),t=t.replaceAll("纊","絋"),t=t.replaceAll("縧","絛"),t=t.replaceAll("縉","縉"),t=t.replaceAll("緕","纃"),t=t.replaceAll("纘","纉"),t=t.replaceAll("䋝","纓"),t=t.replaceAll("䌫","纜"),t=t.replaceAll("䈇","罩"),t=t.replaceAll("羇","羈"),t=t.replaceAll("覊","羈"),t=t.replaceAll("覉","羈"),t=t.replaceAll("羗","羌"),t=t.replaceAll("羮","羹"),t=t.replaceAll("耊","耋"),t=t.replaceAll("伷","胄"),t=t.replaceAll("肧","胚"),t=t.replaceAll("𦙾","脛"),t=t.replaceAll("腟","膣"),t=t.replaceAll("𧸐","膩"),t=t.replaceAll("脍","膾"),t=t.replaceAll("𦜝","臍"),t=t.replaceAll("臈","臘"),t=t.replaceAll("﨟","臘"),t=t.replaceAll("㫪","舂"),t=t.replaceAll("𣇃","舂"),t=t.replaceAll("䑛","舐"),t=t.replaceAll("艣","艪"),t=t.replaceAll("舮","艫"),t=t.replaceAll("𦫿","艾"),t=t.replaceAll("蒭","芻"),t=t.replaceAll("苢","苡"),t=t.replaceAll("莓","苺"),t=t.replaceAll("荔","茘"),t=t.replaceAll("蒞","莅"),t=t.replaceAll("涖","莅"),t=t.replaceAll("蓱","萍"),t=t.replaceAll("茰","萸"),t=t.replaceAll("蕚","萼"),t=t.replaceAll("蔕","蒂"),t=t.replaceAll("薓","蔘"),t=t.replaceAll("䔥","蕭"),t=t.replaceAll("萕","薺"),t=t.replaceAll("蝨","虱"),t=t.replaceAll("螾","蚓"),t=t.replaceAll("蜙","蚣"),t=t.replaceAll("蚘","蛔"),t=t.replaceAll("蛕","蛔"),t=t.replaceAll("猬","蝟"),t=t.replaceAll("蜋","螂"),t=t.replaceAll("蟆","蟇"),t=t.replaceAll("蝼","螻"),t=t.replaceAll("蟒","蠎"),t=t.replaceAll("蠧","蠹"),t=t.replaceAll("螙","蠹"),t=t.replaceAll("衂","衄"),t=t.replaceAll("袵","衽"),t=t.replaceAll("褁","裹"),t=t.replaceAll("裵","裴"),t=t.replaceAll("㐮","襄"),t=t.replaceAll("褝","襌"),t=t.replaceAll("𧜎","襷"),t=t.replaceAll("覔","覓"),t=t.replaceAll("譌","訛"),t=t.replaceAll("諡","謚"),t=t.replaceAll("𧦅","謳"),t=t.replaceAll("讁","謫"),t=t.replaceAll("譛","譖"),t=t.replaceAll("醼","讌"),t=t.replaceAll("岈","谺"),t=t.replaceAll("豼","貔"),t=t.replaceAll("賍","贓"),t=t.replaceAll("𨂻","蹈"),t=t.replaceAll("𠌫","蹕"),t=t.replaceAll("踌","躊"),t=t.replaceAll("躪","躙"),t=t.replaceAll("躳","躬"),t=t.replaceAll("輙","輒"),t=t.replaceAll("輌","輛"),t=t.replaceAll("輀","轜"),t=t.replaceAll("䡎","轤"),t=t.replaceAll("逈","迥"),t=t.replaceAll("逷","逖"),t=t.replaceAll("逎","遒"),t=t.replaceAll("郄","郤"),t=t.replaceAll("𨥫","鉚"),t=t.replaceAll("𨦇","鋏"),t=t.replaceAll("鏥","銹"),t=t.replaceAll("鏽","銹"),t=t.replaceAll("𨪙","鏘"),t=t.replaceAll("鈩","鑪"),t=t.replaceAll("𨫝","鑵"),t=t.replaceAll("鑚","鑽"),t=t.replaceAll("鬧","閙"),t=t.replaceAll("閆","閻"),t=t.replaceAll("濶","闊"),t=t.replaceAll("𤄃","闊"),t=t.replaceAll("閴","闃"),t=t.replaceAll("徏","陟"),t=t.replaceAll("隯","陦"),t=t.replaceAll("騭","隲"),t=t.replaceAll("𨻫","隴"),t=t.replaceAll("隽","雋"),t=t.replaceAll("雝","雍"),t=t.replaceAll("鵰","雕"),t=t.replaceAll("鞱","韜"),t=t.replaceAll("韲","齏"),t=t.replaceAll("虀","齏"),t=t.replaceAll("𦣝","頤"),t=t.replaceAll("頥","頤"),t=t.replaceAll("飃","飄"),t=t.replaceAll("飈","飆"),t=t.replaceAll("颷","飆"),t=t.replaceAll("飇","飆"),t=t.replaceAll("颮","飆"),t=t.replaceAll("饟","餉"),t=t.replaceAll("䬻","餞"),t=t.replaceAll("𩜙","饒"),t=t.replaceAll("駞","駝"),t=t.replaceAll("驘","騾"),t=t.replaceAll("馿","驢"),t=t.replaceAll("髥","髯"),t=t.replaceAll("鬂","鬢"),t=t.replaceAll("髩","鬢"),t=t.replaceAll("䦰","鬮"),t=t.replaceAll("䰗","鬮"),t=t.replaceAll("魦","鯊"),t=t.replaceAll("鰛","鰮"),t=t.replaceAll("𩻄","鰥"),t=t.replaceAll("鼇","鰲"),t=t.replaceAll("魲","鱸"),t=t.replaceAll("鳬","鳧"),t=t.replaceAll("鵶","鴉"),t=t.replaceAll("鴂","鴃"),t=t.replaceAll("鵄","鴟"),t=t.replaceAll("鵞","鵝"),t=t.replaceAll("鶫","鶇"),t=t.replaceAll("鵾","鶤"),t=t.replaceAll("雚","鸛"),t=t.replaceAll("醎","鹹"),t=t.replaceAll("麤","麁"),t=t.replaceAll("麄","麁"),t=t.replaceAll("麸","麩"),t=t.replaceAll("麬","麩"),t=t.replaceAll("鱉","鼈"),t=t.replaceAll("齓","齔"),t=t.replaceAll("𪗱","齟"),t=t.replaceAll("𪘚","齬"),t=t.replaceAll("腭","齶"),t=t.replaceAll("涂","凃"),t=t.replaceAll("匀","勻"),t=t.replaceAll("壎","塤"),t=t.replaceAll("墪","墩"),t=t.replaceAll("𡉴","壚"),t=t.replaceAll("夔","虁"),t=t.replaceAll("孼","孽"),t=t.replaceAll("尩","尫"),t=t.replaceAll("𡶒","岪"),t=t.replaceAll("岭","岺"),t=t.replaceAll("嵇","嵆"),t=t.replaceAll("𡵸","嶧"),t=t.replaceAll("韘","弽"),t=t.replaceAll("𦿶","彅"),t=t.replaceAll("扡","拖"),t=t.replaceAll("拕","拖"),t=t.replaceAll("𢮦","撿"),t=t.replaceAll("昺","昞"),t=t.replaceAll("𣏓","杇"),t=t.replaceAll("梙","槵"),t=t.replaceAll("槖","橐"),t=t.replaceAll("篙","㰏"),t=t.replaceAll("濚","滎"),t=t.replaceAll("𤂖","灝"),t=t.replaceAll("㶚","灞"),t=t.replaceAll("灔","灎"),t=t.replaceAll("灩","灎"),t=t.replaceAll("牗","牖"),t=t.replaceAll("麞","獐"),t=t.replaceAll("珉","玟"),t=t.replaceAll("玨","珏"),t=t.replaceAll("璿","璇"),t=t.replaceAll("瓚","瓉"),t=t.replaceAll("暭","皞"),t=t.replaceAll("皡","皞"),t=t.replaceAll("碊","𥒎"),t=t.replaceAll("秭","𥝱"),t=t.replaceAll("筇","笻"),t=t.replaceAll("籰","篗"),t=t.replaceAll("㝬","簠"),t=t.replaceAll("𥻘","粼"),t=t.replaceAll("餻","糕"),t=t.replaceAll("綷","紣"),t=t.replaceAll("羐","羑"),t=t.replaceAll("聃","耼"),t=t.replaceAll("髕","臏"),t=t.replaceAll("莕","荇"),t=t.replaceAll("虯","虬"),t=t.replaceAll("彲","螭"),t=t.replaceAll("迆","迤"),t=t.replaceAll("䢵","鄖"),t=t.replaceAll("銿","鏞"),t=t.replaceAll("𨩱","鏟"),t=t.replaceAll("囟","顖"),t=t.replaceAll("飡","飧"),t=t.replaceAll("飱","飧"),t=t.replaceAll("鱔","鱓"),t=t.replaceAll("鸜","鴝"),t=t.replaceAll("鶿","鷀"),t=t.replaceAll("𡑭","𡋗"),t=t.replaceAll("掔","孯"),t=t.replaceAll("䆿","寱"),t=t.replaceAll("幮","㡡"),t=t.replaceAll("捙","拽"),t=t.replaceAll("斵","斲"),t=t.replaceAll("㯍","槳"),t=t.replaceAll("櫽","檃"),t=t.replaceAll("簋","𣪘"),t=t.replaceAll("灇","潨"),t=t.replaceAll("爫","爫"),t=t.replaceAll("豭","猳"),t=t.replaceAll("砆","玞"),t=t.replaceAll("瓺","𤭖"),t=t.replaceAll("畎","甽"),t=t.replaceAll("𤹪","痀"),t=t.replaceAll("㿗","㿉"),t=t.replaceAll("籅","𥫣"),t=t.replaceAll("𩝐","糍"),t=t.replaceAll("饎","糦"),t=t.replaceAll("纑","䋆"),t=t.replaceAll("罡","𦊆"),t=t.replaceAll("艹","艹"),t=t.replaceAll("𧑉","蛗"),t=t.replaceAll("覷","覰"),t=t.replaceAll("觿","觽"),t=t.replaceAll("豅","𧯇"),t=t.replaceAll("頳","赬"),t=t.replaceAll("䠖","趦"),t=t.replaceAll("辶","辶"),t=t.replaceAll("酆","鄷"),t=t.replaceAll("銲","釬"),t=t.replaceAll("𨯁","𨫤"),t=t.replaceAll("𩙿","飠"),t=t.replaceAll("鯘","鮾"),t=t.replaceAll("鱰","鱪"),t=t.replaceAll("㑨","俣"),t=t.replaceAll("㘅","銜"),t=t.replaceAll("啣","銜"),t=t.replaceAll("衘","銜"),t=t.replaceAll("亙","亘"),t=t.replaceAll("亯","享"),t=t.replaceAll("仐","傘"),t=t.replaceAll("僃","備"),t=t.replaceAll("兦","亡"),t=t.replaceAll("冨","富"),t=t.replaceAll("劵","券"),t=t.replaceAll("匜","也"),t=t.replaceAll("厡","原"),t=t.replaceAll("嗜","呩"),t=t.replaceAll("嘊","啀"),t=t.replaceAll("囧","冏"),t=t.replaceAll("夓","夏"),t=t.replaceAll("姊","姉"),t=t.replaceAll("嬝","嫋"),t=t.replaceAll("庽","寓"),t=t.replaceAll("彴","仢"),t=t.replaceAll("徰","征"),t=t.replaceAll("忈","仁"),t=t.replaceAll("怘","固"),t=t.replaceAll("恖","思"),t=t.replaceAll("恧","忸"),t=t.replaceAll("悧","俐"),t=t.replaceAll("憁","愡"),t=t.replaceAll("戧","創"),t=t.replaceAll("抉","刔"),t=t.replaceAll("挐","拏"),t=t.replaceAll("拿","拏"),t=t.replaceAll("揑","捏"),t=t.replaceAll("撘","搭"),t=t.replaceAll("擵","摩"),t=t.replaceAll("昦","昊"),t=t.replaceAll("昬","昏"),t=t.replaceAll("昻","昂"),t=t.replaceAll("晘","旱"),t=t.replaceAll("暻","景"),t=t.replaceAll("曾","曽"),t=t.replaceAll("枖","夭"),t=t.replaceAll("柂","柁"),t=t.replaceAll("柺","枴"),t=t.replaceAll("栅","柵"),t=t.replaceAll("榨","搾"),t=t.replaceAll("樃","榔"),t=t.replaceAll("樷","叢"),t=t.replaceAll("欉","叢"),t=t.replaceAll("藂","叢"),t=t.replaceAll("橊","榴"),t=t.replaceAll("欛","杷"),t=t.replaceAll("𣠽","杷"),t=t.replaceAll("氐","柢"),t=t.replaceAll("沲","沱"),t=t.replaceAll("溂","剌"),t=t.replaceAll("瀧","滝"),t=t.replaceAll("灕","漓"),t=t.replaceAll("熯","暵"),t=t.replaceAll("燈","灯"),t=t.replaceAll("爤","爛"),t=t.replaceAll("猂","悍"),t=t.replaceAll("獘","弊"),t=t.replaceAll("瓌","瑰"),t=t.replaceAll("甆","瓷"),t=t.replaceAll("癅","瘤"),t=t.replaceAll("矙","瞰"),t=t.replaceAll("秌","秋"),t=t.replaceAll("窶","寠"),t=t.replaceAll("竆","窮"),t=t.replaceAll("箟","箘"),t=t.replaceAll("箲","筅"),t=t.replaceAll("篇","編"),t=t.replaceAll("籒","籀"),t=t.replaceAll("糉","粽"),t=t.replaceAll("綂","統"),t=t.replaceAll("綗","絅"),t=t.replaceAll("繿","襤"),t=t.replaceAll("罓","网"),t=t.replaceAll("翦","剪"),t=t.replaceAll("脗","吻"),t=t.replaceAll("艢","檣"),t=t.replaceAll("芔","卉"),t=t.replaceAll("苅","刈"),t=t.replaceAll("荆","荊"),t=t.replaceAll("莾","莽"),t=t.replaceAll("蔞","縷"),t=t.replaceAll("蕐","華"),t=t.replaceAll("薶","埋"),t=t.replaceAll("蜄","蜃"),t=t.replaceAll("蜯","蚌"),t=t.replaceAll("蜹","蚋"),t=t.replaceAll("蠭","蜂"),t=t.replaceAll("衖","巷"),t=t.replaceAll("覩","睹"),t=t.replaceAll("訫","信"),t=t.replaceAll("詆","呧"),t=t.replaceAll("誡","戒"),t=t.replaceAll("諌","諫"),t=t.replaceAll("諵","喃"),t=t.replaceAll("謌","歌"),t=t.replaceAll("譼","監"),t=t.replaceAll("賬","帳"),t=t.replaceAll("贁","敗"),t=t.replaceAll("贗","贋"),t=t.replaceAll("趂","趁"),t=t.replaceAll("蹏","蹄"),t=t.replaceAll("蹯","籵"),t=t.replaceAll("躭","耽"),t=t.replaceAll("輺","輜"),t=t.replaceAll("轝","輿"),t=t.replaceAll("逬","迸"),t=t.replaceAll("逯","逮"),t=t.replaceAll("醆","盞"),t=t.replaceAll("鈾","宙"),t=t.replaceAll("錯","厝"),t=t.replaceAll("鍿","錙"),t=t.replaceAll("阱","穽"),t=t.replaceAll("陗","峭"),t=t.replaceAll("隁","堰"),t=t.replaceAll("隖","塢"),t=t.replaceAll("隟","隙"),t=t.replaceAll("隮","躋"),t=t.replaceAll("靃","霍"),t=t.replaceAll("靣","面"),t=t.replaceAll("鞵","鞋"),t=t.replaceAll("韤","襪"),t=t.replaceAll("餧","餒"),t=t.replaceAll("髗","顱"),t=t.replaceAll("髳","髦"),t=t.replaceAll("鬀","剃"),t=t.replaceAll("鬄","髢"),t=t.replaceAll("鰀","鯇"),t=t.replaceAll("鶪","鵙"),t=t.replaceAll("鷏","鷆"),t=t.replaceAll("龍","竜"),t=t.replaceAll("𢈘","鹿"),t=t.replaceAll("𦥑","臼"),t=t.replaceAll("蘒","萩"),t=t.replaceAll("祢","禰"),t=t.replaceAll("薗","園"),t=t.replaceAll("峯","峰"),t=t.replaceAll("羽","羽"),t=t.replaceAll("銳","鋭"),t=t.replaceAll("益","益"),t=t.replaceAll("悅","悦"),t=t.replaceAll("閱","閲"),t=t.replaceAll("閒","間"),t=t.replaceAll("館","館"),t=t.replaceAll("强","強"),t=t.replaceAll("敎","教"),t=t.replaceAll("契","契"),t=t.replaceAll("戶","戸"),t=t.replaceAll("吳","呉"),t=t.replaceAll("娛","娯"),t=t.replaceAll("歲","歳"),t=t.replaceAll("產","産"),t=t.replaceAll("飼","飼"),t=t.replaceAll("尙","尚"),t=t.replaceAll("淸","清"),t=t.replaceAll("精","精"),t=t.replaceAll("靑","青"),t=t.replaceAll("稅","税"),t=t.replaceAll("說","説"),t=t.replaceAll("絕","絶"),t=t.replaceAll("脫","脱"),t=t.replaceAll("彥","彦"),t=t.replaceAll("姬","姫"),t=t.replaceAll("廉","廉"),t=t.replaceAll("髙","高"),t=t.replaceAll("ｰ","ー"),t=t.replaceAll("0","０"),t=t.replaceAll("1","１"),t=t.replaceAll("1.","１"),t=t.replaceAll("2","２"),t=t.replaceAll("2.","２"),t=t.replaceAll("3","３"),t=t.replaceAll("3.","３"),t=t.replaceAll("4","４"),t=t.replaceAll("4.","４"),t=t.replaceAll("5","５"),t=t.replaceAll("5.","５"),t=t.replaceAll("6","６"),t=t.replaceAll("6.","６"),t=t.replaceAll("7","７"),t=t.replaceAll("7.","７"),t=t.replaceAll("8","８"),t=t.replaceAll("8.","８"),t=t.replaceAll("9","９"),t=t.replaceAll("9.","９"),t=t.replaceAll("A","Ａ"),t=t.replaceAll("B","Ｂ"),t=t.replaceAll("C","Ｃ"),t=t.replaceAll("D","Ｄ"),t=t.replaceAll("E","Ｅ"),t=t.replaceAll("F","Ｆ"),t=t.replaceAll("G","Ｇ"),t=t.replaceAll("H","Ｈ"),t=t.replaceAll("I","Ｉ"),t=t.replaceAll("J","Ｊ"),t=t.replaceAll("K","Ｋ"),t=t.replaceAll("L","Ｌ"),t=t.replaceAll("M","Ｍ"),t=t.replaceAll("N","Ｎ"),t=t.replaceAll("O","Ｏ"),t=t.replaceAll("P","Ｐ"),t=t.replaceAll("Q","Ｑ"),t=t.replaceAll("R","Ｒ"),t=t.replaceAll("S","Ｓ"),t=t.replaceAll("T","Ｔ"),t=t.replaceAll("U","Ｕ"),t=t.replaceAll("V","Ｖ"),t=t.replaceAll("W","Ｗ"),t=t.replaceAll("X","Ｘ"),t=t.replaceAll("Y","Ｙ"),t=t.replaceAll("Z","Ｚ"),t=t.replaceAll("a","Ａ"),t=t.replaceAll("b","Ｂ"),t=t.replaceAll("c","Ｃ"),t=t.replaceAll("d","Ｄ"),t=t.replaceAll("e","Ｅ"),t=t.replaceAll("f","Ｆ"),t=t.replaceAll("g","Ｇ"),t=t.replaceAll("h","Ｈ"),t=t.replaceAll("i","Ｉ"),t=t.replaceAll("j","Ｊ"),t=t.replaceAll("k","Ｋ"),t=t.replaceAll("l","Ｌ"),t=t.replaceAll("m","Ｍ"),t=t.replaceAll("n","Ｎ"),t=t.replaceAll("o","Ｏ"),t=t.replaceAll("p","Ｐ"),t=t.replaceAll("q","Ｑ"),t=t.replaceAll("r","Ｒ"),t=t.replaceAll("s","Ｓ"),t=t.replaceAll("t","Ｔ"),t=t.replaceAll("u","Ｕ"),t=t.replaceAll("v","Ｖ"),t=t.replaceAll("w","Ｗ"),t=t.replaceAll("x","Ｘ"),t=t.replaceAll("y","Ｙ"),t=t.replaceAll("z","Ｚ"),t=t.replaceAll("À","Ａ"),t=t.replaceAll("Á","Ａ"),t=t.replaceAll("Â","Ａ"),t=t.replaceAll("Ã","Ａ"),t=t.replaceAll("Ä","Ａ"),t=t.replaceAll("Å","Ａ"),t=t.replaceAll("Æ","ＡＥ"),t=t.replaceAll("Ç","Ｃ"),t=t.replaceAll("È","Ｅ"),t=t.replaceAll("É","Ｅ"),t=t.replaceAll("Ê","Ｅ"),t=t.replaceAll("Ì","Ｉ"),t=t.replaceAll("Í","Ｉ"),t=t.replaceAll("Î","Ｉ"),t=t.replaceAll("Ï","Ｉ"),t=t.replaceAll("Ñ","Ｎ"),t=t.replaceAll("Ò","Ｏ"),t=t.replaceAll("Ó","Ｏ"),t=t.replaceAll("Ô","Ｏ"),t=t.replaceAll("Õ","Ｏ"),t=t.replaceAll("Ö","Ｏ"),t=t.replaceAll("Ø","Ｏ"),t=t.replaceAll("Ù","Ｕ"),t=t.replaceAll("Ú","Ｕ"),t=t.replaceAll("Û","Ｕ"),t=t.replaceAll("Ü","Ｕ"),t=t.replaceAll("Ý","Ｙ"),t=t.replaceAll("ß","ＳＳ"),t=t.replaceAll("à","Ａ"),t=t.replaceAll("á","Ａ"),t=t.replaceAll("â","Ａ"),t=t.replaceAll("ã","Ａ"),t=t.replaceAll("ä","Ａ"),t=t.replaceAll("å","Ａ"),t=t.replaceAll("æ","ＡＥ"),t=t.replaceAll("ç","Ｃ"),t=t.replaceAll("è","Ｅ"),t=t.replaceAll("é","Ｅ"),t=t.replaceAll("ê","Ｅ"),t=t.replaceAll("ì","Ｉ"),t=t.replaceAll("í","Ｉ"),t=t.replaceAll("î","Ｉ"),t=t.replaceAll("ï","Ｉ"),t=t.replaceAll("ñ","Ｎ"),t=t.replaceAll("ò","Ｏ"),t=t.replaceAll("ó","Ｏ"),t=t.replaceAll("ô","Ｏ"),t=t.replaceAll("õ","Ｏ"),t=t.replaceAll("ö","Ｏ"),t=t.replaceAll("ø","Ｏ"),t=t.replaceAll("ù","Ｕ"),t=t.replaceAll("ú","Ｕ"),t=t.replaceAll("û","Ｕ"),t=t.replaceAll("ü","Ｕ"),t=t.replaceAll("ý","Ｙ"),t=t.replaceAll("ÿ","Ｙ"),t=t.replaceAll("Ā","Ａ"),t=t.replaceAll("ā","Ａ"),t=t.replaceAll("Ă","Ａ"),t=t.replaceAll("ă","Ａ"),t=t.replaceAll("Ć","Ｃ"),t=t.replaceAll("ć","Ｃ"),t=t.replaceAll("Ĉ","Ｃ"),t=t.replaceAll("ĉ","Ｃ"),t=t.replaceAll("Ċ","Ｃ"),t=t.replaceAll("ċ","Ｃ"),t=t.replaceAll("Č","Ｃ"),t=t.replaceAll("č","Ｃ"),t=t.replaceAll("Ď","Ｄ"),t=t.replaceAll("ď","Ｄ"),t=t.replaceAll("Ē","Ｅ"),t=t.replaceAll("ē","Ｅ"),t=t.replaceAll("ĕ","Ｅ"),t=t.replaceAll("Ė","Ｅ"),t=t.replaceAll("ė","Ｅ"),t=t.replaceAll("ę","Ｅ"),t=t.replaceAll("Ě","Ｅ"),t=t.replaceAll("ě","Ｅ"),t=t.replaceAll("Ĝ","Ｇ"),t=t.replaceAll("ĝ","Ｇ"),t=t.replaceAll("Ğ","Ｇ"),t=t.replaceAll("ğ","Ｇ"),t=t.replaceAll("Ġ","Ｇ"),t=t.replaceAll("ġ","Ｇ"),t=t.replaceAll("Ĥ","Ｈ"),t=t.replaceAll("ĥ","Ｈ"),t=t.replaceAll("Ĩ","Ｉ"),t=t.replaceAll("ĩ","Ｉ"),t=t.replaceAll("Ī","Ｉ"),t=t.replaceAll("ī","Ｉ"),t=t.replaceAll("Ĭ","Ｉ"),t=t.replaceAll("ĭ","Ｉ"),t=t.replaceAll("İ","Ｉ"),t=t.replaceAll("ı","Ｉ"),t=t.replaceAll("Ĵ","Ｊ"),t=t.replaceAll("ĵ","Ｊ"),t=t.replaceAll("Ĺ","Ｌ"),t=t.replaceAll("ĺ","Ｌ"),t=t.replaceAll("Ľ","Ｌ"),t=t.replaceAll("ľ","Ｌ"),t=t.replaceAll("ł","Ｌ"),t=t.replaceAll("Ń","Ｎ"),t=t.replaceAll("ń","Ｎ"),t=t.replaceAll("Ň","Ｎ"),t=t.replaceAll("ň","Ｎ"),t=t.replaceAll("Ō","Ｏ"),t=t.replaceAll("ō","Ｏ"),t=t.replaceAll("Ŏ","Ｏ"),t=t.replaceAll("ŏ","Ｏ"),t=t.replaceAll("Œ","ＯＥ"),t=t.replaceAll("œ","ＯＥ"),t=t.replaceAll("Ŕ","Ｒ"),t=t.replaceAll("ŕ","Ｒ"),t=t.replaceAll("Ř","Ｒ"),t=t.replaceAll("ř","Ｒ"),t=t.replaceAll("Ś","Ｓ"),t=t.replaceAll("ś","Ｓ"),t=t.replaceAll("Ŝ","Ｓ"),t=t.replaceAll("ŝ","Ｓ"),t=t.replaceAll("ş","Ｓ"),t=t.replaceAll("Š","Ｓ"),t=t.replaceAll("š","Ｓ"),t=t.replaceAll("Ť","Ｔ"),t=t.replaceAll("ť","Ｔ"),t=t.replaceAll("Ũ","Ｕ"),t=t.replaceAll("ũ","Ｕ"),t=t.replaceAll("Ū","Ｕ"),t=t.replaceAll("ū","Ｕ"),t=t.replaceAll("Ŭ","Ｕ"),t=t.replaceAll("ŭ","Ｕ"),t=t.replaceAll("ů","Ｕ"),t=t.replaceAll("Ŵ","Ｗ"),t=t.replaceAll("ŵ","Ｗ"),t=t.replaceAll("Ŷ","Ｙ"),t=t.replaceAll("ŷ","Ｙ"),t=t.replaceAll("Ÿ","Ｙ"),t=t.replaceAll("Ź","Ｚ"),t=t.replaceAll("ź","Ｚ"),t=t.replaceAll("Ż","Ｚ"),t=t.replaceAll("ż","Ｚ"),t=t.replaceAll("Ž","Ｚ"),t=t.replaceAll("ž","Ｚ"),t=t.replaceAll("ǧ","Ｇ"),t=t.replaceAll("Ǵ","Ｇ"),t=t.replaceAll("ǵ","Ｇ"),t=t.replaceAll("Ё","Ｅ"),t=t.replaceAll("А","Ａ"),t=t.replaceAll("Б","Ｂ"),t=t.replaceAll("В","Ｖ"),t=t.replaceAll("Г","Ｇ"),t=t.replaceAll("Д","Ｄ"),t=t.replaceAll("Е","Ｅ"),t=t.replaceAll("Ж","ＺＨ"),t=t.replaceAll("З","Ｚ"),t=t.replaceAll("И","Ｉ"),t=t.replaceAll("Й","Ｉ"),t=t.replaceAll("К","Ｋ"),t=t.replaceAll("Л","Ｌ"),t=t.replaceAll("М","Ｍ"),t=t.replaceAll("Н","Ｎ"),t=t.replaceAll("О","Ｏ"),t=t.replaceAll("П","Ｐ"),t=t.replaceAll("Р","Ｒ"),t=t.replaceAll("С","Ｓ"),t=t.replaceAll("Т","Ｔ"),t=t.replaceAll("У","Ｕ"),t=t.replaceAll("Ф","Ｆ"),t=t.replaceAll("Х","ＫＨ"),t=t.replaceAll("Ц","ＴＳ"),t=t.replaceAll("Ч","ＣＨ"),t=t.replaceAll("Ш","ＳＨ"),t=t.replaceAll("Щ","ＳＨＣＨ"),t=t.replaceAll("Ы","Ｙ"),t=t.replaceAll("Э","Ｅ"),t=t.replaceAll("Ю","ＩＵ"),t=t.replaceAll("Я","ＩＡ"),t=t.replaceAll("а","Ａ"),t=t.replaceAll("б","Ｂ"),t=t.replaceAll("в","Ｖ"),t=t.replaceAll("г","Ｇ"),t=t.replaceAll("д","Ｄ"),t=t.replaceAll("е","Ｅ"),t=t.replaceAll("ж","ＺＨ"),t=t.replaceAll("з","Ｚ"),t=t.replaceAll("и","Ｉ"),t=t.replaceAll("й","Ｉ"),t=t.replaceAll("к","Ｋ"),t=t.replaceAll("л","Ｌ"),t=t.replaceAll("м","Ｍ"),t=t.replaceAll("н","Ｎ"),t=t.replaceAll("о","Ｏ"),t=t.replaceAll("п","Ｐ"),t=t.replaceAll("р","Ｒ"),t=t.replaceAll("с","Ｓ"),t=t.replaceAll("т","Ｔ"),t=t.replaceAll("у","ｕ"),t=t.replaceAll("ф","Ｆ"),t=t.replaceAll("х","ＫＨ"),t=t.replaceAll("ц","ＴＳ"),t=t.replaceAll("ч","ＣＨ"),t=t.replaceAll("ш","ＳＨ"),t=t.replaceAll("щ","ＳＨＣＨ"),t=t.replaceAll("ы","ｙ"),t=t.replaceAll("э","Ｅ"),t=t.replaceAll("ю","ＩＵ"),t=t.replaceAll("я","ＩＡ"),t=t.replaceAll("ё","Ｅ"),t=t.replaceAll("Ḃ","Ｂ"),t=t.replaceAll("ḃ","Ｂ"),t=t.replaceAll("Ḋ","Ｄ"),t=t.replaceAll("ḋ","Ｄ"),t=t.replaceAll("Ḟ","Ｆ"),t=t.replaceAll("ḟ","Ｆ"),t=t.replaceAll("Ḡ","Ｇ"),t=t.replaceAll("ḡ","Ｇ"),t=t.replaceAll("Ḣ","Ｈ"),t=t.replaceAll("ḣ","Ｈ"),t=t.replaceAll("ḥ","Ｈ"),t=t.replaceAll("Ḧ","Ｈ"),t=t.replaceAll("ḧ","Ｈ"),t=t.replaceAll("Ḱ","Ｋ"),t=t.replaceAll("ḱ","Ｋ"),t=t.replaceAll("Ḿ","Ｍ"),t=t.replaceAll("ḿ","Ｍ"),t=t.replaceAll("Ṁ","Ｍ"),t=t.replaceAll("ṁ","Ｍ"),t=t.replaceAll("Ṅ","Ｎ"),t=t.replaceAll("ṅ","Ｎ"),t=t.replaceAll("ṇ","Ｎ"),t=t.replaceAll("Ṕ","Ｐ"),t=t.replaceAll("ṕ","Ｐ"),t=t.replaceAll("Ṗ","Ｐ"),t=t.replaceAll("ṗ","Ｐ"),t=t.replaceAll("Ṙ","Ｒ"),t=t.replaceAll("ṙ","Ｒ"),t=t.replaceAll("ṛ","Ｒ"),t=t.replaceAll("Ṡ","Ｓ"),t=t.replaceAll("ṡ","Ｓ"),t=t.replaceAll("ṣ","Ｓ"),t=t.replaceAll("Ṫ","Ｔ"),t=t.replaceAll("ṫ","Ｔ"),t=t.replaceAll("ṭ","Ｔ"),t=t.replaceAll("Ṽ","Ｖ"),t=t.replaceAll("ṽ","Ｖ"),t=t.replaceAll("Ẁ","Ｗ"),t=t.replaceAll("ẁ","Ｗ"),t=t.replaceAll("Ẃ","Ｗ"),t=t.replaceAll("ẃ","Ｗ"),t=t.replaceAll("Ẅ","Ｗ"),t=t.replaceAll("ẅ","Ｗ"),t=t.replaceAll("Ẇ","Ｗ"),t=t.replaceAll("ẇ","Ｗ"),t=t.replaceAll("Ẋ","Ｘ"),t=t.replaceAll("ẋ","Ｘ"),t=t.replaceAll("Ẍ","Ｘ"),t=t.replaceAll("ẍ","Ｘ"),t=t.replaceAll("Ẏ","Ｙ"),t=t.replaceAll("ẏ","Ｙ"),t=t.replaceAll("Ẑ","Ｚ"),t=t.replaceAll("ẑ","Ｚ"),t=t.replaceAll("ẓ","Ｚ"),t=t.replaceAll("ẗ","Ｔ"),t=t.replaceAll("Ẽ","Ｅ"),t=t.replaceAll("ẽ","Ｅ"),t=t.replaceAll("Ỳ","Ｙ"),t=t.replaceAll("ỳ","Ｙ"),t=t.replaceAll("Ỹ","Ｙ"),t=t.replaceAll("ỹ","Ｙ"),t=t.replaceAll("№","ＮＯ"),t=t.replaceAll("Ⅰ","１"),t=t.replaceAll("Ⅱ","２"),t=t.replaceAll("Ⅲ","３"),t=t.replaceAll("Ⅳ","４"),t=t.replaceAll("Ⅴ","５"),t=t.replaceAll("Ⅵ","６"),t=t.replaceAll("Ⅶ","７"),t=t.replaceAll("Ⅷ","８"),t=t.replaceAll("Ⅸ","９"),t=t.replaceAll("Ⅹ","１０"),t=t.replaceAll("ⅰ","１"),t=t.replaceAll("ⅱ","２"),t=t.replaceAll("ⅲ","３"),t=t.replaceAll("ⅳ","４"),t=t.replaceAll("ⅴ","５"),t=t.replaceAll("ⅵ","６"),t=t.replaceAll("ⅶ","７"),t=t.replaceAll("ⅷ","８"),t=t.replaceAll("ⅸ","９"),t=t.replaceAll("ⅹ","１０"),t=t.replaceAll("①","１"),t=t.replaceAll("②","２"),t=t.replaceAll("③","３"),t=t.replaceAll("④","４"),t=t.replaceAll("⑤","５"),t=t.replaceAll("⑥","６"),t=t.replaceAll("⑦","７"),t=t.replaceAll("⑧","８"),t=t.replaceAll("⑨","９"),t=t.replaceAll("⑩","１０"),t=t.replaceAll("⑪","１１"),t=t.replaceAll("⑫","１２"),t=t.replaceAll("⑬","１３"),t=t.replaceAll("⑭","１４"),t=t.replaceAll("⑮","１５"),t=t.replaceAll("⑯","１６"),t=t.replaceAll("⑰","１７"),t=t.replaceAll("⑱","１８"),t=t.replaceAll("⑲","１９"),t=t.replaceAll("⑳","２０"),t=t.replaceAll("Ⓟ","Ｐ"),t=t.replaceAll("ぁ","ア"),t=t.replaceAll("ぃ","イ"),t=t.replaceAll("ぅ","ウ"),t=t.replaceAll("ぇ","エ"),t=t.replaceAll("ぉ","オ"),t=t.replaceAll("っ","ツ"),t=t.replaceAll("ゃ","ヤ"),t=t.replaceAll("ゅ","ユ"),t=t.replaceAll("ょ","ヨ"),t=t.replaceAll("ゎ","ワ"),t=t.replaceAll("ゐ","イ"),t=t.replaceAll("ゑ","エ"),t=t.replaceAll("ァ","ア"),t=t.replaceAll("ィ","イ"),t=t.replaceAll("ゥ","ウ"),t=t.replaceAll("ェ","エ"),t=t.replaceAll("ォ","オ"),t=t.replaceAll("ヂ","ジ"),t=t.replaceAll("ッ","ツ"),t=t.replaceAll("ヅ","ズ"),t=t.replaceAll("ャ","ヤ"),t=t.replaceAll("ュ","ユ"),t=t.replaceAll("ョ","ヨ"),t=t.replaceAll("ヰ","イ"),t=t.replaceAll("ヱ","エ"),t=t.replaceAll("ヴ","ブ"),t=t.replaceAll("ヴァ","バ"),t=t.replaceAll("ヴィ","ビ"),t=t.replaceAll("ヴゥ","ブ"),t=t.replaceAll("ヴェ","ベ"),t=t.replaceAll("ヴォ","ボ"),t=t.replaceAll("ヵ","カ"),t=t.replaceAll("ヶ","ケ"),t=t.replaceAll("㈱","株"),t=t.replaceAll("㊙","秘"),t=t.replaceAll("㎏","ＫＧ"),t=t.replaceAll("㎝","ＣＭ"),t=t.replaceAll("㎞","ＫＭ"),t=t.replaceAll("㎡","Ｍ２"),t=t.replaceAll("ａ","Ａ"),t=t.replaceAll("ｂ","Ｂ"),t=t.replaceAll("ｃ","Ｃ"),t=t.replaceAll("ｄ","Ｄ"),t=t.replaceAll("ｅ","Ｅ"),t=t.replaceAll("ｆ","Ｆ"),t=t.replaceAll("ｇ","Ｇ"),t=t.replaceAll("ｈ","Ｈ"),t=t.replaceAll("ｉ","Ｉ"),t=t.replaceAll("ｊ","Ｊ"),t=t.replaceAll("ｋ","Ｋ"),t=t.replaceAll("ｌ","Ｌ"),t=t.replaceAll("ｍ","Ｍ"),t=t.replaceAll("ｎ","Ｎ"),t=t.replaceAll("ｏ","Ｏ"),t=t.replaceAll("ｐ","Ｐ"),t=t.replaceAll("ｑ","Ｑ"),t=t.replaceAll("ｒ","Ｒ"),t=t.replaceAll("ｓ","Ｓ"),t=t.replaceAll("ｔ","Ｔ"),t=t.replaceAll("ｕ","Ｕ"),t=t.replaceAll("ｖ","Ｖ"),t=t.replaceAll("ｗ","Ｗ"),t=t.replaceAll("ｘ","Ｘ"),t=t.replaceAll("ｙ","Ｙ"),t=t.replaceAll("ｚ","Ｚ"),t=t.replaceAll("ｦ","ヲ"),t=t.replaceAll("ｧ","ア"),t=t.replaceAll("ｨ","イ"),t=t.replaceAll("ｩ","ウ"),t=t.replaceAll("ｪ","エ"),t=t.replaceAll("ｫ","オ"),t=t.replaceAll("ｬ","ヤ"),t=t.replaceAll("ｭ","ユ"),t=t.replaceAll("ｮ","ヨ"),t=t.replaceAll("ｯ","ツ"),t=t.replaceAll("ｱ","ア"),t=t.replaceAll("ｲ","イ"),t=t.replaceAll("ｳ","ウ"),t=t.replaceAll("ｳﾞ","ブ"),t=t.replaceAll("ｳﾞｧ","バ"),t=t.replaceAll("ｳﾞｨ","ビ"),t=t.replaceAll("ｳﾞｩ","ブ"),t=t.replaceAll("ｳﾞｪ","ベ"),t=t.replaceAll("ｳﾞｫ","ボ"),t=t.replaceAll("ｴ","エ"),t=t.replaceAll("ｵ","オ"),t=t.replaceAll("ｶ","カ"),t=t.replaceAll("ｶﾞ","ガ"),t=t.replaceAll("ｷ","キ"),t=t.replaceAll("ｷﾞ","ギ"),t=t.replaceAll("ｸ","ク"),t=t.replaceAll("ｸﾞ","グ"),t=t.replaceAll("ｹ","ケ"),t=t.replaceAll("ｹﾞ","ゲ"),t=t.replaceAll("ｺ","コ"),t=t.replaceAll("ｺﾞ","ゴ"),t=t.replaceAll("ｻ","サ"),t=t.replaceAll("ｻﾞ","ザ"),t=t.replaceAll("ｼ","シ"),t=t.replaceAll("ｼﾞ","ジ"),t=t.replaceAll("ｽ","ス"),t=t.replaceAll("ｽﾞ","ズ"),t=t.replaceAll("ｾ","セ"),t=t.replaceAll("ｾﾞ","ゼ"),t=t.replaceAll("ｿ","ソ"),t=t.replaceAll("ｿﾞ","ゾ"),t=t.replaceAll("ﾀ","タ"),t=t.replaceAll("ﾀﾞ","ダ"),t=t.replaceAll("ﾁ","チ"),t=t.replaceAll("ﾁﾞ","ジ"),t=t.replaceAll("ﾂ","ツ"),t=t.replaceAll("ﾂﾞ","ズ"),t=t.replaceAll("ﾃ","テ"),t=t.replaceAll("ﾃﾞ","デ"),t=t.replaceAll("ﾄ","ト"),t=t.replaceAll("ﾄﾞ","ド"),t=t.replaceAll("ﾅ","ナ"),t=t.replaceAll("ﾆ","ニ"),t=t.replaceAll("ﾇ","ヌ"),t=t.replaceAll("ﾈ","ネ"),t=t.replaceAll("ﾉ","ノ"),t=t.replaceAll("ﾊ","ハ"),t=t.replaceAll("ﾊﾞ","バ"),t=t.replaceAll("ﾊﾟ","パ"),t=t.replaceAll("ﾋ","ヒ"),t=t.replaceAll("ﾋﾞ","ビ"),t=t.replaceAll("ﾋﾟ","ピ"),t=t.replaceAll("ﾌ","フ"),t=t.replaceAll("ﾌﾞ","ブ"),t=t.replaceAll("ﾌﾟ","プ"),t=t.replaceAll("ﾍ","ヘ"),t=t.replaceAll("ﾍﾞ","ベ"),t=t.replaceAll("ﾍﾟ","ペ"),t=t.replaceAll("ﾎ","ホ"),t=t.replaceAll("ﾎﾞ","ボ"),t=t.replaceAll("ﾎﾟ","ポ"),t=t.replaceAll("ﾏ","マ"),t=t.replaceAll("ﾐ","ミ"),t=t.replaceAll("ﾑ","ム"),t=t.replaceAll("ﾒ","メ"),t=t.replaceAll("ﾓ","モ"),t=t.replaceAll("ﾔ","ヤ"),t=t.replaceAll("ﾕ","ユ"),t=t.replaceAll("ﾖ","ヨ"),t=t.replaceAll("ﾗ","ラ"),t=t.replaceAll("ﾘ","リ"),t=t.replaceAll("ﾙ","ル"),t=t.replaceAll("ﾚ","レ"),t=t.replaceAll("ﾛ","ロ"),t=t.replaceAll("ﾜ","ワ"),t=t.replaceAll("ﾝ","ン"),t=t.replaceAll("新撰組","新選組"),t=t.replaceAll("Ⅺ","１１"),t=t.replaceAll("Ⅻ","１２"),t=t.replaceAll("㋿","令和"),t=t.replaceAll("ⅺ","１１"),t=t.replaceAll("ⅻ","１２"),t=t.replaceAll("あ","ア"),t=t.replaceAll("い","イ"),t=t.replaceAll("う","ウ"),t=t.replaceAll("え","エ"),t=t.replaceAll("お","オ"),t=t.replaceAll("か","カ"),t=t.replaceAll("が","ガ"),t=t.replaceAll("き","キ"),t=t.replaceAll("ぎ","ギ"),t=t.replaceAll("く","ク"),t=t.replaceAll("ぐ","グ"),t=t.replaceAll("け","ケ"),t=t.replaceAll("げ","ゲ"),t=t.replaceAll("こ","コ"),t=t.replaceAll("ご","ゴ"),t=t.replaceAll("さ","サ"),t=t.replaceAll("ざ","ザ"),t=t.replaceAll("し","シ"),t=t.replaceAll("じ","ジ"),t=t.replaceAll("す","ス"),t=t.replaceAll("ず","ズ"),t=t.replaceAll("せ","セ"),t=t.replaceAll("ぜ","ゼ"),t=t.replaceAll("そ","ソ"),t=t.replaceAll("ぞ","ゾ"),t=t.replaceAll("た","タ"),t=t.replaceAll("だ","ダ"),t=t.replaceAll("ち","チ"),t=t.replaceAll("ぢ","ジ"),t=t.replaceAll("つ","ツ"),t=t.replaceAll("づ","ズ"),t=t.replaceAll("て","テ"),t=t.replaceAll("で","デ"),t=t.replaceAll("と","ト"),t=t.replaceAll("ど","ド"),t=t.replaceAll("な","ナ"),t=t.replaceAll("に","ニ"),t=t.replaceAll("ぬ","ヌ"),t=t.replaceAll("ね","ネ"),t=t.replaceAll("の","ノ"),t=t.replaceAll("は","ハ"),t=t.replaceAll("ば","バ"),t=t.replaceAll("ぱ","パ"),t=t.replaceAll("ひ","ヒ"),t=t.replaceAll("び","ビ"),t=t.replaceAll("ぴ","ピ"),t=t.replaceAll("ふ","フ"),t=t.replaceAll("ぶ","ブ"),t=t.replaceAll("ぷ","プ"),t=t.replaceAll("へ","ヘ"),t=t.replaceAll("べ","ベ"),t=t.replaceAll("ぺ","ペ"),t=t.replaceAll("ほ","ホ"),t=t.replaceAll("ぼ","ボ"),t=t.replaceAll("ぽ","ポ"),t=t.replaceAll("ま","マ"),t=t.replaceAll("み","ミ"),t=t.replaceAll("む","ム"),t=t.replaceAll("め","メ"),t=t.replaceAll("も","モ"),t=t.replaceAll("や","ヤ"),t=t.replaceAll("ゆ","ユ"),t=t.replaceAll("よ","ヨ"),t=t.replaceAll("ら","ラ"),t=t.replaceAll("り","リ"),t=t.replaceAll("る","ル"),t=t.replaceAll("れ","レ"),t=t.replaceAll("ろ","ロ"),t=t.replaceAll("わ","ワ"),t=t.replaceAll("を","ヲ"),t=t.replaceAll("ん","ン"),t=t.replaceAll("ゔ","ブ"),t=t.replaceAll("ゕ","カ"),t=t.replaceAll("ゖ","ケ"),t=t.replaceAll("ヷ","ワ"),t=t.replaceAll("ヸ","イ"),t=t.replaceAll("ヹ","エ"),t=t.replaceAll("ヺ","ヲ"),t=t.replaceAll("ㇰ","ク"),t=t.replaceAll("ㇱ","シ"),t=t.replaceAll("ㇲ","ス"),t=t.replaceAll("ㇳ","ト"),t=t.replaceAll("ㇴ","ヌ"),t=t.replaceAll("ㇵ","ハ"),t=t.replaceAll("ㇶ","ヒ"),t=t.replaceAll("ㇷ","フ"),t=t.replaceAll("ㇸ","ヘ"),t=t.replaceAll("ㇹ","ホ"),t=t.replaceAll("ㇺ","ム"),t=t.replaceAll("ㇻ","ラ"),t=t.replaceAll("ㇼ","リ"),t=t.replaceAll("ㇽ","ル"),t=t.replaceAll("ㇾ","レ"),t=t.replaceAll("ㇿ","ロ"),t=t.replaceAll("ゔぁ","バ"),t=t.replaceAll("ゔぃ","ビ"),t=t.replaceAll("ゔぅ","ブ"),t=t.replaceAll("ゔぇ","ベ"),t=t.replaceAll("ゔぉ","ボ"),t=t.replaceAll("　"," "),t=t.replace(/ +/g," "),t=t.trim(),t}}}),Np=r(1241);const Bp=(0,Np.A)(Fp,[["render",Yo]]);var Lp=Bp,Mp=hr({name:"App",components:{osdVw:Lp}});const zp=(0,Np.A)(Mp,[["render",Oo]]);var Hp=zp;const jp=io(Hp);jp.use(po),jp.use(Co,{}),jp.mount("#app")}()})();
//# sourceMappingURL=app.js.map